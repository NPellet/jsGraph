{"version":3,"file":null,"sources":["/Users/normanpellet/Documents/Web/graph/src/graph.position.js","/Users/normanpellet/Documents/Web/graph/src/graph.util.js","/Users/normanpellet/Documents/Web/graph/src/dependencies/eventEmitter/EventEmitter.js","/Users/normanpellet/Documents/Web/graph/src/util/fit_lm.js","/Users/normanpellet/Documents/Web/graph/src/util/waveform.js","/Users/normanpellet/Documents/Web/graph/src/graph.core.js","/Users/normanpellet/Documents/Web/graph/src/graph.legend.js","/Users/normanpellet/Documents/Web/graph/src/graph.axis.js","/Users/normanpellet/Documents/Web/graph/src/graph.axis.x.js","/Users/normanpellet/Documents/Web/graph/src/graph.axis.y.js","/Users/normanpellet/Documents/Web/graph/src/graph.axis.x.bar.js","/Users/normanpellet/Documents/Web/graph/src/graph.axis.x.time.js","/Users/normanpellet/Documents/Web/graph/src/mixins/graph.mixin.errorbars.js","/Users/normanpellet/Documents/Web/graph/src/series/graph.serie.js","/Users/normanpellet/Documents/Web/graph/src/series/graph.serie.line.js","/Users/normanpellet/Documents/Web/graph/src/mixins/graph.mixin.serie3d.js","/Users/normanpellet/Documents/Web/graph/src/series/graph.serie.line.3d.js","/Users/normanpellet/Documents/Web/graph/src/series/graph.serie.bar.js","/Users/normanpellet/Documents/Web/graph/src/series/graph.serie.box.js","/Users/normanpellet/Documents/Web/graph/src/series/graph.serie.line.colored.js","/Users/normanpellet/Documents/Web/graph/src/series/graph.serie.scatter.js","/Users/normanpellet/Documents/Web/graph/src/series/graph.serie.zone.js","/Users/normanpellet/Documents/Web/graph/src/series/graph.serie.zone.3d.js","/Users/normanpellet/Documents/Web/graph/src/series/graph.serie.densitymap.js","/Users/normanpellet/Documents/Web/graph/src/series/graph.serie.contour.js","/Users/normanpellet/Documents/Web/graph/src/shapes/graph.shape.js","/Users/normanpellet/Documents/Web/graph/src/shapes/graph.shape.areaundercurve.js","/Users/normanpellet/Documents/Web/graph/src/shapes/graph.shape.line.js","/Users/normanpellet/Documents/Web/graph/src/shapes/graph.shape.arrow.js","/Users/normanpellet/Documents/Web/graph/src/shapes/graph.shape.ellipse.js","/Users/normanpellet/Documents/Web/graph/src/shapes/graph.shape.label.js","/Users/normanpellet/Documents/Web/graph/src/shapes/graph.shape.polyline.js","/Users/normanpellet/Documents/Web/graph/src/shapes/graph.shape.nmrintegral.js","/Users/normanpellet/Documents/Web/graph/src/shapes/graph.shape.rect.js","/Users/normanpellet/Documents/Web/graph/src/shapes/graph.shape.peakintegration2d.js","/Users/normanpellet/Documents/Web/graph/src/shapes/graph.shape.cross.js","/Users/normanpellet/Documents/Web/graph/src/shapes/graph.shape.peakboundariescenter.js","/Users/normanpellet/Documents/Web/graph/src/shapes/graph.shape.html.js","/Users/normanpellet/Documents/Web/graph/src/plugins/graph.plugin.js","/Users/normanpellet/Documents/Web/graph/src/plugins/graph.plugin.drag.js","/Users/normanpellet/Documents/Web/graph/src/plugins/graph.plugin.shape.js","/Users/normanpellet/Documents/Web/graph/src/plugins/graph.plugin.selectScatter.js","/Users/normanpellet/Documents/Web/graph/src/plugins/graph.plugin.zoom.js","/Users/normanpellet/Documents/Web/graph/src/graph.lru.js","/Users/normanpellet/Documents/Web/graph/src/plugins/graph.plugin.timeseriemanager.js","/Users/normanpellet/Documents/Web/graph/src/plugins/graph.plugin.serielinedifference.js","/Users/normanpellet/Documents/Web/graph/src/plugins/graph.plugin.axissplitting.js","/Users/normanpellet/Documents/Web/graph/src/plugins/graph.plugin.makeTracesDifferent.js","/Users/normanpellet/Documents/Web/graph/src/plugins/graph.plugin.peakpicking.js","/Users/normanpellet/Documents/Web/graph/src/graph.js"],"sourcesContent":["function _parsePx( px ) {\n  if ( px && px.indexOf && px.indexOf( 'px' ) > -1 ) {\n    return parseInt( px.replace( 'px', '' ) );\n  }\n  return false;\n}\n\nfunction isNumeric( n ) {\n  return !isNaN( parseFloat( n ) ) && isFinite( n );\n}\n\n/**\n * Utility class to compute positioning\n * @class\n */\nclass Position {\n\n  constructor( x, y, dx, dy ) {\n\n    if ( typeof x == 'object' ) {\n      this.x = x.x;\n      this.y = x.y;\n      this.dx = x.dx;\n      this.dy = x.dy;\n    } else {\n      this.x = x;\n      this.y = y;\n      this.dx = dx;\n      this.dy = dy;\n    }\n  }\n\n  duplicate() {\n    return new Position( this.x, this.y, this.dx, this.dy );\n  }\n\n  /**\n   *  Computes the position of the position\n   *  @param {Graph} graph - The graph for which the position has to be computed\n   *  @param {AxisX} xAxis - The x axis to consider (has to belong to the graph)\n   *  @param {AxisY} yAxis - The y axis to consider (has to belong to the graph)\n   *  @param {Serie} [serie] - For non-existing y value, use a serie to compute it automatically from the serie data\n   *  @return {Object} An object in the format ```{x: xPx, y: yPx}``` containing the position in pixels of the position\n   */\n  compute( graph, xAxis, yAxis, serie ) {\n\n    if ( !graph || !xAxis || !yAxis || !graph.hasXAxis || !graph.hasYAxis ) {\n      graph.throw();\n    }\n\n    if ( !graph.hasXAxis( xAxis ) ) {\n      throw ( 'Graph does not contain the x axis that was used as a parameter' );\n    }\n\n    if ( !graph.hasYAxis( yAxis ) ) {\n      throw ( 'Graph does not contain the x axis that was used as a parameter' );\n    }\n\n    return this._compute( graph, xAxis, yAxis, serie );\n  }\n\n  _compute( graph, xAxis, yAxis, serie ) {\n\n    var relativeTo = this._relativeTo;\n    if ( relativeTo ) {\n      var relativeToComputed = relativeTo._compute( graph, xAxis, yAxis, serie );\n    }\n\n    var parsed,\n      pos = {\n        x: false,\n        y: false\n      };\n\n    if ( !xAxis ) {\n      xAxis = graph.getXAxis();\n    }\n\n    if ( !yAxis ) {\n      yAxis = graph.getYAxis();\n    }\n\n    for ( var i in pos ) {\n\n      var axis = i == 'x' ? xAxis : yAxis;\n      var val = this[ i ];\n      var dval = this[ `d${ i}` ];\n\n      if ( val === undefined && ( ( dval !== undefined && relativeTo === undefined ) || relativeTo === undefined ) ) {\n\n        if ( i == 'x' ) {\n\n          if ( dval === undefined ) {\n            continue;\n          }\n\n          pos[ i ] = relativeTo ? relativeTo[ i ] : 0;\n\n        } else if ( this.x !== undefined && serie ) {\n\n          if ( _parsePx( this.x ) !== false ) {\n            console.warn( 'You have defined x in px and not y. Makes no sense. Returning 0 for y' );\n            pos[ i ] = 0;\n          } else {\n\n            try {\n\n              var closest = serie.searchClosestValue( this.x );\n\n              if ( !closest ) {\n                throw new Error( `Could not find y position for x = ${ this.x } on serie \"${ serie.getName() }\". Returning 0 for y.` );\n              }\n\n              pos[ i ] = serie.getY( closest.yClosest );\n\n            } catch ( error ) {\n              console.error( error );\n              pos[ i ] = 0;\n            }\n          }\n        }\n\n      } else if ( val !== undefined ) {\n\n        pos[ i ] = this.getPx( val, axis );\n      }\n\n      if ( dval !== undefined ) {\n\n        var def = ( val !== undefined || relativeToComputed == undefined || relativeToComputed[ i ] == undefined ) ? pos[ i ] : ( relativeToComputed[ i ] );\n\n        if ( i == 'y' && relativeToComputed && relativeToComputed.x !== undefined && relativeToComputed.y == undefined ) {\n\n          if ( !serie ) {\n            throw new Error( 'Error. No serie exists. Cannot find y value' );\n            return;\n          }\n\n          var closest = serie.searchClosestValue( relativeTo.x );\n          if ( closest ) {\n            def = serie.getY( closest.yMin );\n          }\n\n          //console.log( relativeTo.x, closest, serie.getY( closest.yMin ), def );\n        }\n\n        if ( !def ) {\n          def = 0;\n        }\n\n        if ( ( parsed = _parsePx( dval ) ) !== false ) { // dx in px => val + 10px\n\n          pos[ i ] = def + parsed; // return integer (will be interpreted as px)\n\n        } else if ( ( parsed = this._parsePercent( dval ) ) !== false ) {\n\n          pos[ i ] = def + this._getPositionPx( parsed, true, axis, graph ); // returns xx%\n\n        } else if ( axis ) {\n\n          pos[ i ] = def + axis.getRelPx( dval ); // px + unittopx\n\n        }\n      }\n    }\n\n    return pos;\n  }\n\n  _getPositionPx( value, x, axis, graph ) {\n\n    var parsed;\n\n    if ( ( parsed = _parsePx( value ) ) !== false ) {\n      return parsed; // return integer (will be interpreted as px)\n    }\n\n    if ( ( parsed = this._parsePercent( value ) ) !== false ) {\n      return parsed / 100 * ( x ? graph.getDrawingWidth() : graph.getDrawingHeight() );\n    } else if ( axis ) {\n      return axis.getPos( value );\n    }\n  }\n\n  _parsePercent( percent ) {\n    if ( percent && percent.indexOf && percent.indexOf( '%' ) > -1 ) {\n      return percent;\n    }\n    return false;\n  }\n\n  /**\n   *  Computes the value in pixels of an amplitude (or a distance) for a certain axis\n   *  @param {Number} value - The value in axis unit\n   *  @param {Axis} Axis - The x axis to consider (has to belong to the graph)\n   *  @return {String} The value in pixels, e.g. \"20px\"\n   */\n  getDeltaPx( value, axis ) {\n    var v;\n    if ( ( v = _parsePx( value ) ) !== false ) {\n      return `${v }px`;\n    } else {\n\n      return `${axis.getRelPx( value ) }px`;\n    }\n  }\n\n  deltaPosition( mode, delta, axis ) {\n\n    mode = mode == 'y' ? 'y' : 'x';\n    var ref = this[ mode ],\n      refd = this[ `d${ mode}` ],\n      refPx,\n      deltaPx;\n\n    if ( ref !== undefined ) {\n      if ( ( refPx = _parsePx( ref ) ) !== false ) {\n\n        if ( ( deltaPx = _parsePx( delta ) ) !== false ) {\n          this[ mode ] = `${refPx + deltaPx }px`;\n        } else {\n          this[ mode ] = `${refPx + axis.getRelPx( delta ) }px`;\n        }\n      } else {\n\n        ref = this.getValPosition( ref, axis );\n\n        if ( ( deltaPx = _parsePx( delta ) ) !== false ) {\n          this[ mode ] = ( ref + axis.getRelVal( deltaPx ) );\n        } else {\n          this[ mode ] = ( ref + delta );\n        }\n      }\n    } else if ( refd !== undefined ) {\n\n      if ( mode == 'y' && ref === undefined && !this._relativeTo ) { // This means that the shape is placed by the x value. Therefore, the dy is only a stand-off.\n        // Therefore, we do nothing\n        return;\n      }\n\n      if ( ( refPx = _parsePx( refd ) ) !== false ) {\n\n        if ( ( deltaPx = _parsePx( delta ) ) !== false ) {\n          this[ `d${ mode}` ] = `${refPx + deltaPx }px`;\n        } else {\n          this[ `d${ mode}` ] = `${refPx + axis.getRelPx( delta ) }px`;\n        }\n      } else {\n\n        refd = this.getValPosition( refd, axis );\n\n        if ( ( deltaPx = _parsePx( delta ) ) !== false ) {\n          this[ `d${ mode}` ] = ( refd + axis.getRelVal( deltaPx ) );\n        } else {\n          this[ `d${ mode}` ] = ( refd + delta );\n        }\n      }\n\n    }\n  }\n\n  getValPosition( rel, axis ) {\n\n    if ( rel == 'max' ) {\n      return axis.getMaxValue();\n    }\n\n    if ( rel == 'min' ) {\n      return axis.getMinValue();\n    }\n\n    return rel;\n  }\n\n  /**\n   *  Computes a value in pixels\n   *  @param {Number} value - The value in axis unit\n   *  @param {Axis} axis - The x or y axis to consider (has to belong to the graph)\n   *  @param {Boolean} rel - Whether or not the value is a distance\n   *  @return {(Number|String)} The computed value\n   */\n  getPx( value, axis, rel ) {\n\n    var parsed;\n\n    if ( typeof value == 'function' ) {\n\n      return value( axis, rel );\n\n    } else if ( ( parsed = _parsePx( value ) ) !== false ) {\n\n      return parsed; // return integer (will be interpreted as px)\n\n    } else if ( ( parsed = this._parsePercent( value ) ) !== false ) {\n\n      return parsed; // returns xx%\n\n    } else if ( axis ) {\n\n      if ( value == 'min' ) {\n\n        return axis.getMinPx();\n\n      } else if ( value == 'max' ) {\n\n        return axis.getMaxPx();\n\n      } else if ( rel ) {\n\n        return axis.getRelPx( value );\n\n      } else if ( isNumeric( value ) ) {\n\n        return axis.getPos( value );\n      }\n    }\n  }\n\n  getPxRel( value, axis ) {\n    return this.getPx( value, axis, true );\n  }\n\n  /**\n   *  Assigns the current position as relative to another. This is used when a position is used with \"dx\" or \"dy\" and not \"x\" or \"y\"\n   *  @param {Position} pos - The reference position\n   *  @return {Position} The current position\n   */\n  relativeTo( pos ) {\n    this._relativeTo = Position.check( pos );\n    return this;\n  }\n\n  /**\n   *  Checks if an object is a position. If not, creates a new Position instance with the ```pos``` object. If a new position is created, ```callback``` is fired with the position as a unique parameter. The return of the function, if not false, should be a ```Position``` instance which serves as the reference position.\n   *  @example Position.check( { x: 1, y: 2 }, function() { return someOtherPosition; } );\n   *  @param {(Object|Position)} pos - The position object or the object fed into the constructor\n   *  @param {Function} callback - The callback fired if a new position is created\n   *  @return {Position} The resulting position object\n   */\n  static check( pos, callback ) {\n    if ( pos instanceof Position ) {\n      return pos;\n    }\n\n    var posObject = new Position( pos );\n\n    if ( pos && pos.relativeTo ) {\n      const position = callback( pos.relativeTo );\n      if ( position ) {\n        posObject.relativeTo( position );\n      }\n    }\n\n    return posObject;\n  }\n}\n\nexport default Position;","/**\n * Easy set attribute method to apply to a SVG Element the attributes listed. Optional namespacing\n * @param {SVGElement} to - The SVG element to apply the attributes to\n * @param {Object<String,Any>} attr - A key/value hashmap of attributes\n * @param {String} [ ns = undefined ] - The namespace to use (with <code>setAttributeNS</code>). Default if without namespacing\n */\nexport function setAttributeTo( to, params, ns ) {\n  var i;\n\n  if ( ns ) {\n    for ( i in params ) {\n      to.setAttributeNS( ns, i, params[ i ] );\n    }\n  } else {\n    for ( i in params ) {\n      to.setAttribute( i, params[ i ] );\n    }\n  }\n}\n\n/**\n * Maps old-style events defined within the creation (i.e. <code>{ onMouseOver: function() }</code>) to modern event listening <code>.on(\"mouseover\")</code>\n * The function will read any object and select the ones starting with \"on\"\n * @params {Object} options - An option object to read the events from\n * @param {Object} source - The source object to which the options belong\n * @example util.mapEventEmission( this.options, this );\n */\nexport function mapEventEmission( options, source ) {\n\n  if ( !source ) {\n    source = this;\n  }\n\n  var eventName;\n\n  for ( var i in options ) {\n\n    // Starts with onXXX\n    if ( i.indexOf( 'on' ) == 0 && typeof options[ i ] == 'function' ) {\n      eventName = i.substring( 2 );\n      eventName = eventName.substring( 0, 1 ).toLowerCase() + eventName.substring( 1 );\n\n      if ( source.on ) {\n\n        ( function( j ) {\n\n          source.on( eventName, function() {\n            options[ j ].apply( source, arguments );\n          } );\n\n        } )( i );\n\n      }\n    }\n  }\n}\n\n/**\n * @link http://stackoverflow.com/questions/105034/create-guid-uuid-in-javascript\n * @return {String} a random id\n */\nexport function guid() {\n  //\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace( /[xy]/g, function( c ) {\n    var r = Math.random() * 16 | 0,\n      v = c == 'x' ? r : ( r & 0x3 | 0x8 );\n    return v.toString( 16 );\n  } );\n\n}\n\nexport function throwError( message ) {\n  console.error( message );\n}\n\nexport function warn( message ) {\n  console.warn( message );\n}\n\n/**\n * Checks if a variable is a numeric or not\n * @return {Boolean} <code>true</code> for a numeric value, false otherwise\n */\nexport function isNumeric( obj ) {\n  return !Array.isArray( obj ) && ( obj - parseFloat( obj ) + 1 ) >= 0;\n}\n\n/**\n * @see http://stackoverflow.com/questions/2353211/hsl-to-rgb-color-conversion\n * Converts an HSL color value to RGB. Conversion formula\n * adapted from http://en.wikipedia.org/wiki/HSL_color_space.\n * Assumes h, s, and l are contained in the set [0, 1] and\n * returns r, g, and b in the set [0, 255].\n *\n * @param   Number  h       The hue\n * @param   Number  s       The saturation\n * @param   Number  l       The lightness\n * @return  Array           The RGB representation\n */\nexport function hue2rgb( p, q, t ) {\n  if ( t < 0 ) t += 1;\n  if ( t > 1 ) t -= 1;\n  if ( t < 1 / 6 ) return p + ( q - p ) * 6 * t;\n  if ( t < 1 / 2 ) return q;\n  if ( t < 2 / 3 ) return p + ( q - p ) * ( 2 / 3 - t ) * 6;\n  return p;\n}\n\nexport function hslToRgb( h, s, l ) {\n  var r, g, b;\n\n  if ( s == 0 ) {\n    r = g = b = l; // achromatic\n  } else {\n\n    var q = l < 0.5 ? l * ( 1 + s ) : l + s - l * s;\n    var p = 2 * l - q;\n    r = hue2rgb( p, q, h + 1 / 3 );\n    g = hue2rgb( p, q, h );\n    b = hue2rgb( p, q, h - 1 / 3 );\n  }\n\n  return [ Math.round( r * 255 ), Math.round( g * 255 ), Math.round( b * 255 ) ];\n}\n\nexport function saveDomAttributes( to, attributes, identification ) {\n\n  if ( !to ) return;\n\n  to._savedAttributesIds = to._savedAttributesIds || [];\n\n  if ( to._savedAttributesIds.indexOf( identification ) > -1 ) {\n    restoreDomAttributes( to, identification );\n  }\n\n  to._savedAttributes = to._savedAttributes || {};\n  to._attributes = to._attributes || {};\n  to._attributes[ identification ] = attributes;\n\n  to._savedAttributesIds.push( identification );\n\n  for ( var i in attributes ) {\n\n    if ( !to._savedAttributes[ i ] ) {\n      to._savedAttributes[ i ] = to.getAttribute( i );\n    }\n\n    to.setAttribute( i, attributes[ i ] );\n  }\n\n}\n\nexport function hasSavedAttribute( dom, attr ) {\n  return dom._savedAttributes && dom._savedAttributes[ attr ] !== undefined;\n}\n\nexport function overwriteDomAttribute( dom, attribute, newValue ) {\n  if ( hasSavedAttribute( dom, attribute ) ) {\n    dom._savedAttributes[ attribute ] = newValue;\n  }\n}\n\nexport function restoreDomAttributes( to, identification ) {\n\n  if ( !to || !to._savedAttributesIds ) {\n    return;\n  }\n\n  to._savedAttributesIds.splice( to._savedAttributesIds.indexOf( identification ), 1 );\n  delete to._attributes[ identification ];\n\n  var attrs = {};\n\n  for ( var i in to._savedAttributes ) {\n    attrs[ i ] = to._savedAttributes[ i ];\n  }\n\n  for ( var i = 0, l = to._savedAttributesIds.length; i < l; i++ ) {\n\n    for ( var j in to._attributes[ to._savedAttributesIds[ i ] ] ) {\n      attrs[ j ] = to._attributes[ to._savedAttributesIds[ i ] ][ j ];\n    }\n  }\n\n  for ( var j in attrs ) {\n    to.setAttribute( j, attrs[ j ] );\n  }\n\n}\n\n// https://davidwalsh.name/function-debounce\nexport function debounce( func, wait, immediate ) {\n  var timeout;\n  return function() {\n    var context = this,\n      args = arguments;\n    var later = function() {\n      timeout = null;\n      if ( !immediate ) func.apply( context, args );\n    };\n    var callNow = immediate && !timeout;\n    clearTimeout( timeout );\n    timeout = setTimeout( later, wait );\n    if ( callNow ) func.apply( context, args );\n  };\n}\n\nexport function SVGParser( svgString ) {\n\n  var parser = new DOMParser();\n  var doc = parser.parseFromString( svgString, 'image/svg+xml' );\n  // returns a SVGDocument, which also is a Document.\n\n  return doc;\n\n}\n\n// http://stackoverflow.com/questions/5276953/what-is-the-most-efficient-way-to-reverse-an-array-in-javascript\nexport function reverseArray( array ) {\n  var left = null;\n  var right = null;\n  var length = array.length;\n  for ( left = 0, right = length - 1; left < right; left += 1, right -= 1 ) {\n    var temporary = array[ left ];\n    array[ left ] = array[ right ];\n    array[ right ] = temporary;\n  }\n  return array;\n}\n\n// jQuery.fn.offset\nexport function getOffset( el ) {\n  var rect = el.getBoundingClientRect();\n  return {\n    top: rect.top,\n    left: rect.left\n  };\n}\n\n// jQuery.fn.css\nexport function setCSS( element, values ) {\n  var style = element.style;\n  for ( var i in values ) {\n    style[ i ] = values[ i ];\n  }\n}\n\nexport function ajaxGet( options ) {\n  return new Promise( function( resolve, reject ) {\n    var request = new XMLHttpRequest();\n    request.open( options.type || 'GET', options.url, true );\n    if ( options.json ) request.setRequestHeader( 'Accept', 'application/json' );\n    request.onload = function() {\n      if ( request.status === 200 ) {\n        var response = request.responseText;\n        if ( options.json ) response = JSON.parse( response );\n        resolve( response );\n      } else {\n        reject( new Error( `Request error: ${ request.status}` ) );\n      }\n    };\n    request.onerror = function() {\n      reject( new Error( `Network error: ${ request.status}` ) );\n    };\n    request.send();\n  } );\n}\n\n// https://raw.githubusercontent.com/justmoon/node-extend/888f153645115d1c6aa9a7e346e8e9cd9a83de9b/index.js\n// Copyright (c) 2014 Stefan Thomas\nvar hasOwn = Object.prototype.hasOwnProperty;\nvar toStr = Object.prototype.toString;\n\nvar isArray = function isArray( arr ) {\n  if ( typeof Array.isArray === 'function' ) {\n    return Array.isArray( arr );\n  }\n\n  return toStr.call( arr ) === '[object Array]';\n};\n\nvar isPlainObject = function isPlainObject( obj ) {\n  if ( !obj || toStr.call( obj ) !== '[object Object]' ) {\n    return false;\n  }\n\n  var hasOwnConstructor = hasOwn.call( obj, 'constructor' );\n  var hasIsPrototypeOf = obj.constructor && obj.constructor.prototype && hasOwn.call( obj.constructor.prototype, 'isPrototypeOf' );\n  // Not own constructor property must be Object\n  if ( obj.constructor && !hasOwnConstructor && !hasIsPrototypeOf ) {\n    return false;\n  }\n\n  // Own properties are enumerated firstly, so to speed up,\n  // if last one is own, then all properties are own.\n  var key;\n  for ( key in obj ) { /**/ }\n\n  return typeof key === 'undefined' || hasOwn.call( obj, key );\n};\n\nexport function extend() {\n  var options, name, src, copy, copyIsArray, clone;\n  var target = arguments[ 0 ];\n  var i = 1;\n  var length = arguments.length;\n  var deep = false;\n\n  // Handle a deep copy situation\n  if ( typeof target === 'boolean' ) {\n    deep = target;\n    target = arguments[ 1 ] || {};\n    // skip the boolean and the target\n    i = 2;\n  } else if ( ( typeof target !== 'object' && typeof target !== 'function' ) || target == null ) {\n    target = {};\n  }\n\n  for ( ; i < length; ++i ) {\n    options = arguments[ i ];\n    // Only deal with non-null/undefined values\n    if ( options != null ) {\n      // Extend the base object\n      for ( name in options ) {\n        src = target[ name ];\n        copy = options[ name ];\n\n        // Prevent never-ending loop\n        if ( target !== copy ) {\n          // Recurse if we're merging plain objects or arrays\n          if ( deep && copy && ( isPlainObject( copy ) || ( copyIsArray = isArray( copy ) ) ) ) {\n            if ( copyIsArray ) {\n              copyIsArray = false;\n              clone = src && isArray( src ) ? src : [];\n            } else {\n              clone = src && isPlainObject( src ) ? src : {};\n            }\n\n            // Never move original objects, clone them\n            target[ name ] = extend( deep, clone, copy );\n\n            // Don't bring in undefined values\n          } else if ( typeof copy !== 'undefined' ) {\n            target[ name ] = copy;\n          }\n        }\n      }\n    }\n  }\n\n  // Return the modified object\n  return target;\n}\n\nexport default {};\n\nexport {\n  isArray\n};\nexport {\n  isPlainObject\n};\n\nexport function mix( baseClass, mixin ) {\n\n  for ( let prop in mixin ) {\n\n    if ( mixin.hasOwnProperty( prop ) ) {\n      baseClass.prototype[ prop ] = mixin[ prop ];\n    }\n  }\n}\n\nexport function emptyDom( dom ) {\n  while ( dom.firstChild ) {\n    dom.removeChild( dom.firstChild );\n  }\n}","/*!\n * EventEmitter v4.2.9 - git.io/ee\n * Oliver Caldwell\n * MIT license\n * @preserve\n */\n\n'use strict';\n\n/**\n * Class for managing events.\n * Can be extended to provide event functionality in other classes.\n *\n * @class EventEmitter Manages event registering and emitting.\n */\nfunction EventEmitter() {}\n\n// Shortcuts to improve speed and size\nvar proto = EventEmitter.prototype;\n\n/**\n * Finds the index of the listener for the event in its storage array.\n *\n * @param {Function[]} listeners Array of listeners to search through.\n * @param {Function} listener Method to look for.\n * @return {Number} Index of the specified listener, -1 if not found\n * @api private\n */\nfunction indexOfListener( listeners, listener ) {\n  var i = listeners.length;\n  while ( i-- ) {\n    if ( listeners[ i ].listener === listener ) {\n      return i;\n    }\n  }\n\n  return -1;\n}\n\n/**\n * Alias a method while keeping the context correct, to allow for overwriting of target method.\n *\n * @param {String} name The name of the target method.\n * @return {Function} The aliased method\n * @api private\n */\nfunction alias( name ) {\n  return function aliasClosure() {\n    return this[ name ].apply( this, arguments );\n  };\n}\n\n/**\n * Returns the listener array for the specified event.\n * Will initialise the event object and listener arrays if required.\n * Will return an object if you use a regex search. The object contains keys for each matched event. So /ba[rz]/ might return an object containing bar and baz. But only if you have either defined them with defineEvent or added some listeners to them.\n * Each property in the object response is an array of listener functions.\n *\n * @param {String|RegExp} evt Name of the event to return the listeners from.\n * @return {Function[]|Object} All listener functions for the event.\n */\nproto.getListeners = function getListeners( evt ) {\n  var events = this._getEvents();\n  var response;\n  var key;\n\n  // Return a concatenated array of all matching events if\n  // the selector is a regular expression.\n  if ( evt instanceof RegExp ) {\n    response = {};\n    for ( key in events ) {\n      if ( events.hasOwnProperty( key ) && evt.test( key ) ) {\n        response[ key ] = events[ key ];\n      }\n    }\n  } else {\n    response = events[ evt ] || ( events[ evt ] = [] );\n  }\n\n  return response;\n};\n\n/**\n * Takes a list of listener objects and flattens it into a list of listener functions.\n *\n * @param {Object[]} listeners Raw listener objects.\n * @return {Function[]} Just the listener functions.\n */\nproto.flattenListeners = function flattenListeners( listeners ) {\n  var flatListeners = [];\n  var i;\n\n  for ( i = 0; i < listeners.length; i += 1 ) {\n    flatListeners.push( listeners[ i ].listener );\n  }\n\n  return flatListeners;\n};\n\n/**\n * Fetches the requested listeners via getListeners but will always return the results inside an object. This is mainly for internal use but others may find it useful.\n *\n * @param {String|RegExp} evt Name of the event to return the listeners from.\n * @return {Object} All listener functions for an event in an object.\n */\nproto.getListenersAsObject = function getListenersAsObject( evt ) {\n  var listeners = this.getListeners( evt );\n  var response;\n\n  if ( listeners instanceof Array ) {\n    response = {};\n    response[ evt ] = listeners;\n  }\n\n  return response || listeners;\n};\n\n/**\n * Adds a listener function to the specified event.\n * The listener will not be added if it is a duplicate.\n * If the listener returns true then it will be removed after it is called.\n * If you pass a regular expression as the event name then the listener will be added to all events that match it.\n *\n * @param {String|RegExp} evt Name of the event to attach the listener to.\n * @param {Function} listener Method to be called when the event is emitted. If the function returns true then it will be removed after calling.\n * @return {Object} Current instance of EventEmitter for chaining.\n */\nproto.addListener = function addListener( evt, listener ) {\n  var listeners = this.getListenersAsObject( evt );\n  var listenerIsWrapped = typeof listener === 'object';\n  var key;\n\n  for ( key in listeners ) {\n    if ( listeners.hasOwnProperty( key ) && indexOfListener( listeners[ key ], listener ) === -1 ) {\n      listeners[ key ].push( listenerIsWrapped ? listener : {\n        listener: listener,\n        once: false\n      } );\n    }\n  }\n\n  return this;\n};\n\n/**\n * Alias of addListener\n */\nproto.on = alias( 'addListener' );\n\n/**\n * Semi-alias of addListener. It will add a listener that will be\n * automatically removed after its first execution.\n *\n * @param {String|RegExp} evt Name of the event to attach the listener to.\n * @param {Function} listener Method to be called when the event is emitted. If the function returns true then it will be removed after calling.\n * @return {Object} Current instance of EventEmitter for chaining.\n */\nproto.addOnceListener = function addOnceListener( evt, listener ) {\n  return this.addListener( evt, {\n    listener: listener,\n    once: true\n  } );\n};\n\n/**\n * Alias of addOnceListener.\n */\nproto.once = alias( 'addOnceListener' );\n\n/**\n * Defines an event name. This is required if you want to use a regex to add a listener to multiple events at once. If you don't do this then how do you expect it to know what event to add to? Should it just add to every possible match for a regex? No. That is scary and bad.\n * You need to tell it what event names should be matched by a regex.\n *\n * @param {String} evt Name of the event to create.\n * @return {Object} Current instance of EventEmitter for chaining.\n */\nproto.defineEvent = function defineEvent( evt ) {\n  this.getListeners( evt );\n  return this;\n};\n\n/**\n * Uses defineEvent to define multiple events.\n *\n * @param {String[]} evts An array of event names to define.\n * @return {Object} Current instance of EventEmitter for chaining.\n */\nproto.defineEvents = function defineEvents( evts ) {\n  for ( var i = 0; i < evts.length; i += 1 ) {\n    this.defineEvent( evts[ i ] );\n  }\n  return this;\n};\n\n/**\n * Removes a listener function from the specified event.\n * When passed a regular expression as the event name, it will remove the listener from all events that match it.\n *\n * @param {String|RegExp} evt Name of the event to remove the listener from.\n * @param {Function} listener Method to remove from the event.\n * @return {Object} Current instance of EventEmitter for chaining.\n */\nproto.removeListener = function removeListener( evt, listener ) {\n  var listeners = this.getListenersAsObject( evt );\n  var index;\n  var key;\n\n  for ( key in listeners ) {\n    if ( listeners.hasOwnProperty( key ) ) {\n      index = indexOfListener( listeners[ key ], listener );\n\n      if ( index !== -1 ) {\n        listeners[ key ].splice( index, 1 );\n      }\n    }\n  }\n\n  return this;\n};\n\n/**\n * Alias of removeListener\n */\nproto.off = alias( 'removeListener' );\n\n/**\n * Adds listeners in bulk using the manipulateListeners method.\n * If you pass an object as the second argument you can add to multiple events at once. The object should contain key value pairs of events and listeners or listener arrays. You can also pass it an event name and an array of listeners to be added.\n * You can also pass it a regular expression to add the array of listeners to all events that match it.\n * Yeah, this function does quite a bit. That's probably a bad thing.\n *\n * @param {String|Object|RegExp} evt An event name if you will pass an array of listeners next. An object if you wish to add to multiple events at once.\n * @param {Function[]} [listeners] An optional array of listener functions to add.\n * @return {Object} Current instance of EventEmitter for chaining.\n */\nproto.addListeners = function addListeners( evt, listeners ) {\n  // Pass through to manipulateListeners\n  return this.manipulateListeners( false, evt, listeners );\n};\n\n/**\n * Removes listeners in bulk using the manipulateListeners method.\n * If you pass an object as the second argument you can remove from multiple events at once. The object should contain key value pairs of events and listeners or listener arrays.\n * You can also pass it an event name and an array of listeners to be removed.\n * You can also pass it a regular expression to remove the listeners from all events that match it.\n *\n * @param {String|Object|RegExp} evt An event name if you will pass an array of listeners next. An object if you wish to remove from multiple events at once.\n * @param {Function[]} [listeners] An optional array of listener functions to remove.\n * @return {Object} Current instance of EventEmitter for chaining.\n */\nproto.removeListeners = function removeListeners( evt, listeners ) {\n  // Pass through to manipulateListeners\n  return this.manipulateListeners( true, evt, listeners );\n};\n\n/**\n * Edits listeners in bulk. The addListeners and removeListeners methods both use this to do their job. You should really use those instead, this is a little lower level.\n * The first argument will determine if the listeners are removed (true) or added (false).\n * If you pass an object as the second argument you can add/remove from multiple events at once. The object should contain key value pairs of events and listeners or listener arrays.\n * You can also pass it an event name and an array of listeners to be added/removed.\n * You can also pass it a regular expression to manipulate the listeners of all events that match it.\n *\n * @param {Boolean} remove True if you want to remove listeners, false if you want to add.\n * @param {String|Object|RegExp} evt An event name if you will pass an array of listeners next. An object if you wish to add/remove from multiple events at once.\n * @param {Function[]} [listeners] An optional array of listener functions to add/remove.\n * @return {Object} Current instance of EventEmitter for chaining.\n */\nproto.manipulateListeners = function manipulateListeners( remove, evt, listeners ) {\n  var i;\n  var value;\n  var single = remove ? this.removeListener : this.addListener;\n  var multiple = remove ? this.removeListeners : this.addListeners;\n\n  // If evt is an object then pass each of its properties to this method\n  if ( typeof evt === 'object' && !( evt instanceof RegExp ) ) {\n    for ( i in evt ) {\n      if ( evt.hasOwnProperty( i ) && ( value = evt[ i ] ) ) {\n        // Pass the single listener straight through to the singular method\n        if ( typeof value === 'function' ) {\n          single.call( this, i, value );\n        } else {\n          // Otherwise pass back to the multiple function\n          multiple.call( this, i, value );\n        }\n      }\n    }\n  } else {\n    // So evt must be a string\n    // And listeners must be an array of listeners\n    // Loop over it and pass each one to the multiple method\n    i = listeners.length;\n    while ( i-- ) {\n      single.call( this, evt, listeners[ i ] );\n    }\n  }\n\n  return this;\n};\n\n/**\n * Removes all listeners from a specified event.\n * If you do not specify an event then all listeners will be removed.\n * That means every event will be emptied.\n * You can also pass a regex to remove all events that match it.\n *\n * @param {String|RegExp} [evt] Optional name of the event to remove all listeners for. Will remove from every event if not passed.\n * @return {Object} Current instance of EventEmitter for chaining.\n */\nproto.removeEvent = function removeEvent( evt ) {\n  var type = typeof evt;\n  var events = this._getEvents();\n  var key;\n\n  // Remove different things depending on the state of evt\n  if ( type === 'string' ) {\n    // Remove all listeners for the specified event\n    delete events[ evt ];\n  } else if ( evt instanceof RegExp ) {\n    // Remove all events matching the regex.\n    for ( key in events ) {\n      if ( events.hasOwnProperty( key ) && evt.test( key ) ) {\n        delete events[ key ];\n      }\n    }\n  } else {\n    // Remove all listeners in all events\n    delete this._events;\n  }\n\n  return this;\n};\n\n/**\n * Alias of removeEvent.\n *\n * Added to mirror the node API.\n */\nproto.removeAllListeners = alias( 'removeEvent' );\n\n/**\n * Emits an event of your choice.\n * When emitted, every listener attached to that event will be executed.\n * If you pass the optional argument array then those arguments will be passed to every listener upon execution.\n * Because it uses `apply`, your array of arguments will be passed as if you wrote them out separately.\n * So they will not arrive within the array on the other side, they will be separate.\n * You can also pass a regular expression to emit to all events that match it.\n *\n * @param {String|RegExp} evt Name of the event to emit and execute listeners for.\n * @param {Array} [args] Optional array of arguments to be passed to each listener.\n * @return {Object} Current instance of EventEmitter for chaining.\n */\nproto.emitEvent = function emitEvent( evt, args ) {\n  var listeners = this.getListenersAsObject( evt );\n  var listener;\n  var i;\n  var key;\n  var response;\n\n  for ( key in listeners ) {\n    if ( listeners.hasOwnProperty( key ) ) {\n      i = listeners[ key ].length;\n\n      while ( i-- ) {\n        // If the listener returns true then it shall be removed from the event\n        // The function is executed either with a basic call or an apply if there is an args array\n        listener = listeners[ key ][ i ];\n\n        if ( listener.once === true ) {\n          this.removeListener( evt, listener.listener );\n        }\n\n        response = listener.listener.apply( this, args || [] );\n\n        if ( response === this._getOnceReturnValue() ) {\n          this.removeListener( evt, listener.listener );\n        }\n      }\n    }\n  }\n\n  return this;\n};\n\n/**\n * Alias of emitEvent\n */\nproto.trigger = alias( 'emitEvent' );\n\n/**\n * Subtly different from emitEvent in that it will pass its arguments on to the listeners, as opposed to taking a single array of arguments to pass on.\n * As with emitEvent, you can pass a regex in place of the event name to emit to all events that match it.\n *\n * @param {String|RegExp} evt Name of the event to emit and execute listeners for.\n * @param {...*} Optional additional arguments to be passed to each listener.\n * @return {Object} Current instance of EventEmitter for chaining.\n */\nproto.emit = function emit( evt ) {\n  var args = Array.prototype.slice.call( arguments, 1 );\n  return this.emitEvent( evt, args );\n};\n\n/**\n * Sets the current value to check against when executing listeners. If a\n * listeners return value matches the one set here then it will be removed\n * after execution. This value defaults to true.\n *\n * @param {*} value The new value to check for when executing listeners.\n * @return {Object} Current instance of EventEmitter for chaining.\n */\nproto.setOnceReturnValue = function setOnceReturnValue( value ) {\n  this._onceReturnValue = value;\n  return this;\n};\n\n/**\n * Fetches the current value to check against when executing listeners. If\n * the listeners return value matches this one then it should be removed\n * automatically. It will return true by default.\n *\n * @return {*|Boolean} The current value to check for or the default, true.\n * @api private\n */\nproto._getOnceReturnValue = function _getOnceReturnValue() {\n  if ( this.hasOwnProperty( '_onceReturnValue' ) ) {\n    return this._onceReturnValue;\n  } else {\n    return true;\n  }\n};\n\n/**\n * Fetches the events object and creates one if required.\n *\n * @return {Object} The events storage object.\n * @api private\n */\nproto._getEvents = function _getEvents() {\n  return this._events || ( this._events = {} );\n};\n\nexport default EventEmitter;","class FitHost {\n\n  constructor( options ) {\n\n    this.DELTAP = 1e-6;\n    this.BIGVAL = 9e99;\n    this.WEIGHT = 1.0;\n\n    this.setYData( options.dataY );\n    this.setXData( options.dataX );\n    this.setWeight( options.weight );\n    this.setInitialParams( options.params );\n\n    if ( options.subsetIndex ) {\n      this.setSubset( ...options.subsetIndex );\n    }\n\n    this.setFunction( options.function );\n\n    if ( options.progress ) {\n      this.hookIteration( options.progress );\n    }\n\n    this.options = options;\n  }\n\n  //[ [ x1, y1 ], [ x2, y2 ] ]\n  setYData( data ) { // Waveform instance\n    this.data = data;\n  }\n\n  setXData( data ) { // Waveform instance\n    this.dataX = data;\n  }\n\n  setWeight( weight ) { // Waveform instance\n    this.weight = weight;\n  }\n\n  setInitialParams( params ) {\n    this.parms = params;\n\n    this.parms = this.parms.map( ( el ) => {\n      if ( typeof el == 'function' ) {\n        return el( this.data, this.dataX );\n      } else {\n        return el;\n      }\n    } );\n    this.NPARMS = params.length;\n  }\n\n  setSubset( fromIndex, toIndex ) {\n    if ( fromIndex !== undefined && toIndex !== undefined ) {\n      this._from = fromIndex;\n      this._to = toIndex;\n    }\n  }\n\n  hookIteration( f ) {\n    this._hookIteration = ( params ) => {\n      let data = this.buildFit( params, 200 );\n      f( data );\n    };\n  }\n\n  setFunction( func ) {\n    this._func = func;\n  }\n\n  init() {\n\n    // Get data length\n    if ( this._from !== undefined && this._to !== undefined ) {\n\n      if ( this._from >= this._to ) {\n        throw 'Impossible to fit negative subranges. The starting index must be lower than the ending index';\n      }\n\n      this.NPTS = this._to - this._from + 1;\n\n      if ( this.data && this.data.getLength() <= this._to ) {\n        throw `Wave Y has not enough point to be fitted to subrange [${ this._from }, ${ this._to }]`;\n      }\n\n      if ( this._from < 0 ) {\n        throw 'Impossible to fit a subrange with negative indices';\n      }\n\n    } else {\n\n      this.NPTS = this.data.getLength();\n      this._from = 0;\n      this._to = this.data.getLength() - 1;\n    }\n\n    if ( this.dataX && this.dataX.getLength() <= this._to ) {\n      throw `Wave X has not enough point to be fitted to subrange [${ this._from }, ${ this._to }]`;\n    }\n\n    this.arrY = this.data.getDataY();\n\n    if ( this.dataX ) {\n      this.arrX = this.dataX.getDataY();\n    } else {\n      this.arrX = this.data.getDataX();\n    }\n\n    this.resid = new Array( this.NPTS ).fill( 0 );\n    this.jac = new Array( this.NPTS ).fill( 0 );\n    this.jac = this.jac.map( ( el ) => new Array( this.NPARMS ) );\n  }\n\n  fit() {\n\n    this.log( `Starting the fit with initial parameter list {${ this.parms.join() }};` );\n    new LM( this, this.NPARMS, this.NPTS, this._hookIteration );\n    this.log( `Fit successful. Output parameters {${ this.parms.join() }};` );\n\n    this._result = this.buildFit( this.parms, 200 );\n\n    if ( this.options.done ) {\n      this.options.done( this.parms, this._result );\n    }\n\n    return this._result;\n  }\n\n  func( x, param ) {\n    return this._func( x, param );\n  }\n\n  computeResiduals() {\n    var sumsq = 0;\n    for ( var i = 0; i < this.NPTS; i++ ) {\n      this.resid[ i ] = ( this.func( this.arrX[ i + this._from ], this.parms ) - this.arrY[ i + this._from ] ) * ( this.WEIGHT );\n      sumsq += this.resid[ i ] * this.resid[ i ];\n    }\n\n    return sumsq;\n  }\n\n  log( message ) {\n    if ( this.options.log ) {\n      console.log( message );\n    }\n  }\n\n  //------the four mandated interface methods------------\n  nudge( dp ) {\n\n    for ( var j = 0; j < this.NPARMS; j++ ) {\n      this.parms[ j ] += dp[ j ];\n    }\n    return this.computeResiduals();\n  }\n\n  buildJacobian() {\n    // Allows LM to compute a new Jacobian.\n    // Uses current parms[] and two-sided finite difference.\n    // If current parms[] is bad, returns false.\n    var delta = new Array( this.NPARMS );\n    var FACTOR = 0.5 / this.DELTAP;\n    var d = 0;\n\n    for ( var j = 0; j < this.NPARMS; j++ ) {\n      for ( var k = 0; k < this.NPARMS; k++ )\n        delta[ k ] = ( k == j ) ? this.DELTAP : 0.0;\n\n      d = this.nudge( delta ); // resid at pplus\n      if ( d == this.BIGVAL ) {\n        throw 'Bad dBuildJacobian() exit 2';\n      }\n\n      for ( var i = 0; i < this.NPTS; i++ ) {\n        this.jac[ i ][ j ] = this.getResidualElement( i );\n      }\n\n      for ( var k = 0; k < this.NPARMS; k++ ) {\n        delta[ k ] = ( k == j ) ? -2 * this.DELTAP : 0.0;\n      }\n\n      d = this.nudge( delta ); // resid at pminus\n      if ( d == this.BIGVAL ) {\n        throw 'Bad dBuildJacobian(). exit 3';\n      }\n\n      for ( var i = 0; i < this.NPTS; i++ )\n        this.jac[ i ][ j ] -= this.getResidualElement( i ); // fetches resid[]\n\n      for ( var i = 0; i < this.NPTS; i++ )\n        this.jac[ i ][ j ] *= FACTOR;\n\n      for ( var k = 0; k < this.NPARMS; k++ )\n        delta[ k ] = ( k == j ) ? this.DELTAP : 0.0;\n\n      d = this.nudge( delta );\n      if ( d == this.BIGVAL ) {\n        throw 'Bad dBuildJacobian(). exit 4';\n      }\n    }\n    return true;\n  }\n\n  getResidualElement( i ) {\n    // Allows LM to see one element of the resid[] vector.\n    return this.resid[ i ];\n  }\n\n  getJacobianElement( i, j ) {\n    // Allows LM to see one element of the Jacobian matrix.\n    return this.jac[ i ][ j ];\n  }\n\n  buildFit( parms, length ) {\n    let x;\n\n    if ( !length ) {\n      x = this.arrX;\n    } else {\n\n      const xmin = ( this.dataX ).getMin( this._from, this._to );\n      const xmax = ( this.dataX ).getMax( this._from, this._to );\n\n      x = new Array( length ).fill( 0 ).map( ( el, index ) => index * ( xmax - xmin ) / ( length - 1 ) + xmin );\n    }\n\n    var fit = new Array( x.length );\n    for ( var i = 0, l = x.length; i < l; i++ ) {\n      fit[ i ] = this.func( x[ i ], this.parms );\n    }\n\n    let waveformResult = this.options.waveform;\n    waveformResult.setData( fit, x );\n    //waveformResult.setXWaveform( x );\n\n    return waveformResult;\n  }\n}\n\nclass LM {\n\n  constructor( gH, gnadj, gnpnts, hook ) {\n\n    this.LMITER = 100; // max number of L-M iterations\n    this.LMBOOST = 2.0; // damping increase per failed step\n    this.LMSHRINK = 0.10; // damping decrease per successful step\n    this.LAMBDAZERO = 0.001; // initial damping\n    this.LAMBDAMAX = 1E9; // max damping\n    this.LMTOL = 1E-12; // exit tolerance\n    this.BIGVAL = 9e99; // trouble flag\n\n    this.sos;\n    this.sosprev;\n    this.lambda;\n\n    this.myH = null; // overwritten by constructor\n    this.nadj = 0; // overwritten by constructor\n    this.npts = 0; // overwritten by constructor\n\n    this.delta; // local parm change\n    this.beta;\n    this.alpha;\n    this.amatrix;\n\n    // Constructor sets up fields and drives iterations.\n    this.myH = gH;\n    this.nadj = gnadj;\n    this.npts = gnpnts;\n\n    this.delta = new Array( this.nadj ).fill( 0 );\n    this.beta = new Array( this.nadj ).fill( 0 );\n\n    this.alpha = new Array( this.nadj ).fill( 0 );\n    this.amatrix = new Array( this.nadj ).fill( 0 );\n\n    this.alpha = this.alpha.map( () => new Array( this.nadj ) );\n    this.amatrix = this.amatrix.map( () => new Array( this.nadj ) );\n\n    this.lambda = this.LAMBDAZERO;\n\n    var niter = 0;\n    var done = false;\n    do {\n      done = this.bLMiter();\n\n      if ( hook ) {\n        hook( this.myH.params );\n      }\n\n      niter++;\n    }\n    while ( !done && ( niter < this.LMITER ) );\n  }\n\n  bLMiter() {\n    // Each call performs one LM iteration.\n    // Returns true if done with iterations; false=wants more.\n    // Global nadj, npts; needs nadj, myH to be preset.\n    // Ref: M.Lampton, Computers in Physics v.11 pp.110-115 1997.\n    for ( var k = 0; k < this.nadj; k++ )\n      this.delta[ k ] = 0.0;\n    this.sos = this.myH.nudge( this.delta );\n    if ( this.sos == this.BIGVAL ) {\n      console.error( '  bLMiter finds faulty initial nudge()' );\n      return false;\n    }\n    this.sosprev = this.sos;\n\n    this.myH.log( `  bLMiter..SumOfSquares= ${ this.sos}` );\n    if ( !this.myH.buildJacobian() ) {\n      console.error( '  bLMiter finds buildJacobian()=false' );\n      return false;\n    }\n\n    for ( var k = 0; k < this.nadj; k++ ) // get downhill gradient beta\n    {\n      this.beta[ k ] = 0.0;\n      for ( var i = 0; i < this.npts; i++ ) {\n        this.beta[ k ] -= this.myH.getResidualElement( i ) * this.myH.getJacobianElement( i, k );\n      }\n    }\n\n    for ( var k = 0; k < this.nadj; k++ ) // get curvature matrix alpha\n      for ( var j = 0; j < this.nadj; j++ ) {\n        this.alpha[ j ][ k ] = 0.0;\n        for ( var i = 0; i < this.npts; i++ ) {\n          this.alpha[ j ][ k ] += this.myH.getJacobianElement( i, j ) * this.myH.getJacobianElement( i, k );\n        }\n      }\n    var rrise = 0;\n    do // inner damping loop searches for one downhill step\n    {\n      for ( var k = 0; k < this.nadj; k++ ) { // copy and damp it\n        for ( var j = 0; j < this.nadj; j++ ) {\n          this.amatrix[ j ][ k ] = this.alpha[ j ][ k ] + ( ( j == k ) ? this.lambda : 0.0 );\n        }\n      }\n\n      this.gaussj( this.amatrix, this.nadj ); // invert\n\n      for ( var k = 0; k < this.nadj; k++ ) // compute delta[]\n      {\n        this.delta[ k ] = 0.0;\n        for ( var j = 0; j < this.nadj; j++ )\n          this.delta[ k ] += this.amatrix[ j ][ k ] * this.beta[ j ];\n      }\n      this.sos = this.myH.nudge( this.delta ); // try it out.\n      if ( this.sos == this.BIGVAL ) {\n        console.error( '  LMinner failed SOS step' );\n        return false;\n      }\n      rrise = ( this.sos - this.sosprev ) / ( 1 + this.sos );\n      if ( rrise <= 0.0 ) // good step!\n      {\n        this.lambda *= this.LMSHRINK; // shrink lambda\n        break; // leave lmInner.\n      }\n      for ( var q = 0; q < this.nadj; q++ ) { // reverse course!\n        this.delta[ q ] *= -1.0;\n      }\n      this.myH.nudge( this.delta ); // sosprev should still be OK\n      if ( rrise < this.LMTOL ) { // finished but keep prev parms\n        break; // leave inner loop\n      }\n      this.lambda *= this.LMBOOST; // else try more damping.\n    } while ( this.lambda < this.LAMBDAMAX );\n    return ( rrise > -this.LMTOL ) || ( this.lambda > this.LAMBDAMAX );\n  }\n\n  gaussj( a, N ) {\n    // Inverts the double array a[N][N] by Gauss-Jordan method\n    // M.Lampton UCB SSL (c)2003, 2005\n\n    var det = 1.0,\n      big, save;\n    var i, j, k, L;\n    var ik = new Array( 100 );\n    var jk = new Array( 100 );\n\n    for ( k = 0; k < N; k++ ) {\n      big = 0.0;\n      for ( i = k; i < N; i++ )\n        for ( j = k; j < N; j++ ) // find biggest element\n          if ( Math.abs( big ) <= Math.abs( a[ i ][ j ] ) ) {\n            big = a[ i ][ j ];\n            ik[ k ] = i;\n            jk[ k ] = j;\n          }\n      if ( big == 0.0 ) return 0.0;\n      i = ik[ k ];\n      if ( i > k )\n        for ( j = 0; j < N; j++ ) // exchange rows\n      {\n        save = a[ k ][ j ];\n        a[ k ][ j ] = a[ i ][ j ];\n        a[ i ][ j ] = -save;\n      }\n      j = jk[ k ];\n      if ( j > k )\n        for ( i = 0; i < N; i++ ) {\n          save = a[ i ][ k ];\n          a[ i ][ k ] = a[ i ][ j ];\n          a[ i ][ j ] = -save;\n        }\n      for ( i = 0; i < N; i++ ) // build the inverse\n        if ( i != k )\n          a[ i ][ k ] = -a[ i ][ k ] / big;\n      for ( i = 0; i < N; i++ )\n        for ( j = 0; j < N; j++ )\n          if ( ( i != k ) && ( j != k ) )\n            a[ i ][ j ] += a[ i ][ k ] * a[ k ][ j ];\n      for ( j = 0; j < N; j++ )\n        if ( j != k )\n          a[ k ][ j ] /= big;\n      a[ k ][ k ] = 1.0 / big;\n      det *= big; // bomb point\n    } // end k loop\n    for ( L = 0; L < N; L++ ) {\n      k = N - L - 1;\n      j = ik[ k ];\n      if ( j > k )\n        for ( i = 0; i < N; i++ ) {\n          save = a[ i ][ k ];\n          a[ i ][ k ] = -a[ i ][ j ];\n          a[ i ][ j ] = save;\n        }\n      i = jk[ k ];\n      if ( i > k )\n        for ( j = 0; j < N; j++ ) {\n          save = a[ k ][ j ];\n          a[ k ][ j ] = -a[ i ][ j ];\n          a[ i ][ j ] = save;\n        }\n    }\n    return det;\n  }\n}\n\nexport default FitHost;\n//module.export = FitHost","import * as util from '../graph.util.js';\n\nimport FitLM from './fit_lm.js';\n\nclass Waveform {\n\n  constructor( data = [], xOffset = 0, xScale = 1 ) {\n\n    this.xOffset = xOffset;\n    this.xScale = xScale;\n\n    // Error bar handling\n    this.errors = {\n\n      nb: 0,\n\n      bars: {\n        above: null,\n        below: null\n      },\n\n      boxes: {\n        above: null,\n        below: null\n      }\n    };\n\n    this.BELOW = Waveform.BELOW;\n    this.ABOVE = Waveform.ABOVE;\n    this.BOX = Waveform.BOX;\n    this.BAR = Waveform.BAR;\n\n    this.setData( data );\n\n  }\n\n  /** [ [ x1, y1 ], [ x2, y2 ] ] */\n\n  /*\n  setDataXY( data ) {\n\n    let newData = [ this._makeArray( data.length ), this._makeArray( data.length ) ],\n      warnNaN = false;\n    const nanable = this.isNaNAllowed();\n\n    data.map( ( el, index ) => {\n\n      if ( !nanable && ( el[ 0 ] !== el[ 0 ] || el[ 1 ] !== el[ 1 ] ) ) {\n        warnNaN = true;\n      }\n\n      newData[ 0 ][ index ] = el[ 0 ];\n      newData[ 1 ][ index ] = el[ 1 ];\n    } );\n\n    if ( warnNaN ) {\n      this.warn( \"Trying to assign NaN values to a typed array that does not support NaNs. 0's will be used instead\" );\n    }\n\n    this._setData( ...newData );\n    return this;\n  }\n*/\n  setData( data, dataX = null ) {\n\n    /* First, we must treat the case of the array of array for backward compatibility */\n    if ( Array.isArray( data[ 0 ] ) ) {\n      let x = [];\n      let y = [];\n      data.forEach( ( el ) => {\n        x.push( el[ 0 ] );\n        y.push( el[ 1 ] );\n      } );\n\n      this.setXWaveform( x );\n      data = y;\n    }\n\n    let newData = this._makeArray( data.length ),\n      warnNaN = false;\n\n    const nanable = this.isNaNAllowed();\n\n    data.map( ( el, index ) => {\n\n      if ( !nanable && ( el[ 0 ] !== el[ 0 ] || el[ 1 ] !== el[ 1 ] ) ) {\n        warnNaN = true;\n      }\n\n      newData[ index ] = el;\n    } );\n\n    if ( warnNaN ) {\n      this.warn( \"Trying to assign NaN values to a typed array that does not support NaNs. 0's will be used instead\" );\n    }\n\n    this._setData( newData );\n\n    if ( dataX ) {\n      this.setXWaveform( dataX );\n    }\n    return this;\n  }\n\n  getY( index, optimized ) {\n\n    if ( optimized && this.dataInUse ) {\n      return this.dataInUse.y[ index ] * this.getScale() + this.getShift();\n    }\n\n    return this.data[ index ] * this.getScale() + this.getShift();\n  }\n\n  /*\n    flipXY() {\n      let temp;\n      temp = this.data.x;\n      this.data.x = this.data.y;\n      this.data.y = temp;\n\n      this._setData( this.data.x, this.data.y );\n    }*/\n\n  setXWaveform( waveform ) {\n\n    if ( !( waveform instanceof Waveform ) ) {\n\n      if ( Array.isArray( waveform ) ) {\n        waveform = new Waveform( waveform );\n      } else {\n        throw 'Cannot set X waveform. Data is not a valid array.';\n      }\n    }\n\n    this.xdata = waveform;\n    this.computeXMinMax();\n    return this;\n  }\n\n  hasXWaveform() {\n    return !!this.xdata;\n  }\n\n  getXWaveform() {\n    if ( this.xdata ) {\n      return this.xdata;\n    }\n\n    var wave = new Waveform();\n    for ( var i = 0; i < this.getLength(); i += 1 ) {\n      wave.append( this.getX( i ) );\n    }\n    return wave;\n  }\n\n  rescaleX( offset, scale ) {\n    this.xScale = scale;\n    this.xOffset = offset;\n    this.computeXMinMax();\n    return this;\n  }\n\n  getTypedArrayClass() {\n    return this._typedArrayClass || false;\n  }\n\n  setTypedArrayClass( constructor ) {\n\n    if ( this.getTypedArrayClass() && this.isNaNAllowed() && !this.isNaNAllowed( constructor ) ) {\n      this.warn( `NaN values are not allowed by the new constructor (${ constructor.name }) while it was allowed by the previous one (${ this._typedArrayClass.name })` );\n    }\n\n    if ( this.getTypedArrayClass() && this.isUnsigned() && !this.isUnsigned( constructor ) ) {\n      this.warn( 'You are switching from signed values to unsigned values. You may experience data corruption if there were some negative values.' );\n    }\n\n    this._typedArrayClass = constructor;\n\n    if ( this.data ) {\n      this._setData( ( constructor ).from( this.data ) );\n    }\n\n    if ( this.hasXWaveform() ) {\n      this.getXWaveform().setTypedArrayClass( constructor );\n    }\n\n  }\n\n  isNaNAllowed( constructor = this._typedArrayClass ) {\n\n    // The following types accept NaNs\n    return constructor == Array ||\n      constructor == Float32Array ||\n      constructor == Float64Array;\n  }\n\n  isUnsigned( constructor = this._typedArrayClass ) {\n\n    // The following types accept NaNs\n    return constructor == Uint8Array ||\n      constructor == Uint8ClampedArray ||\n      constructor == Uint16Array ||\n      constructor == Uint32Array;\n  }\n\n  recalculateMinMaxNewPoint( x, y ) {\n    if ( x < this.minX || this.minX === undefined ) {\n      this.minX = x;\n    }\n\n    if ( x > this.maxX || this.maxX === undefined ) {\n      this.maxX = x;\n    }\n\n    if ( y < this.minY || this.minY === undefined ) {\n      this.minY = y;\n    }\n\n    if ( y > this.maxY || this.maxY === undefined ) {\n      this.maxY = y;\n    }\n\n  }\n\n  prepend( x, y ) {\n\n    if ( typeof x == 'function' ) {\n      x = x( this );\n    }\n\n    if ( typeof y == 'function' ) {\n      y = y( this );\n    }\n\n    if ( this.xdata ) {\n      this.xdata.prepend( null, x );\n    } else if ( x !== null ) {\n      this.xdata = this.getXWaveform();\n      this.xdata.prepend( null, x );\n    } else {\n      this.xOffset -= this.xScale;\n    }\n\n    this.data.unshift( y );\n    this.recalculateMinMaxNewPoint( x, y );\n    return this;\n  }\n\n  append( x, y ) {\n\n    if ( typeof x == 'function' ) {\n      x = x( this );\n    }\n\n    if ( typeof y == 'function' ) {\n      y = y( this );\n    }\n\n    if ( this.xdata ) {\n      this.xdata.append( null, x );\n    } else if ( x !== null ) {\n      this.xdata = this.getXWaveform();\n      this.xdata.append( null, x );\n    }\n\n    if ( this.monotoneous ) {\n      if ( y > this.data[ this.data.y ] && this.getMonotoneousAscending() === false ) {\n        this.monotoneous = false;\n      } else if ( y < this.data[ this.data.y ] && this.getMonotoneousAscending() === true ) {\n        this.monotoneous = false;\n      }\n    }\n\n    if ( this.data.length == 1 || this._monotoneousAscending === undefined ) {\n\n      this.monotoneous = true;\n\n      if ( y == this.data[ 0 ] ) {\n        this._monotoneousAscending = undefined;\n      } else {\n        this._monotoneousAscending = y > this.data[ 0 ];\n      }\n    }\n\n    this.data.push( y );\n    this.recalculateMinMaxNewPoint( x, y );\n\n    return this;\n  }\n\n  _makeArray( length ) {\n\n    const constructor = this.getTypedArrayClass();\n    if ( constructor ) {\n      return new( constructor )( length );\n    }\n    return new Array( length );\n  }\n\n  _setData( dataY ) {\n    const l = dataY.length;\n    let i = 1,\n      monoDir = dataY[ 1 ] > dataY[ 0 ],\n      minY = dataY[ 0 ],\n      maxY = dataY[ 0 ];\n\n    if ( isNaN( minY ) ) {\n      minY = Number.MAX_VALUE;\n    }\n\n    if ( isNaN( maxY ) ) {\n      maxY = -Number.MAX_VALUE;\n    }\n\n    this._monotoneous = true;\n\n    for ( ; i < l; i++ ) {\n      if ( dataY[ i ] !== dataY[ i - 1 ] && monoDir !== ( dataY[ i ] > dataY[ i - 1 ] ) ) {\n        this._monotoneous = false;\n      }\n\n      if ( dataY[ i ] === dataY[ i ] ) { // NaN support\n        minY = Math.min( dataY[ i ], minY );\n        maxY = Math.max( dataY[ i ], maxY );\n      }\n    }\n\n    if ( this._monotoneous ) {\n      this._monotoneousAscending = dataY[ 1 ] > dataY[ 0 ];\n    }\n\n    if ( this.hasErrorBars() ) { // If prefer to loop again here\n\n      for ( i = 0; i < l; i++ ) {\n\n        if ( dataY[ i ] === dataY[ i ] ) { // NaN support\n\n          minY = Math.min( minY, dataY[ i ] - this.getMaxError( i, 'below' ) );\n          maxY = Math.max( maxY, dataY[ i ] + this.getMaxError( i, 'above' ) );\n        }\n      }\n\n      this.minY = minY;\n      this.maxY = maxY;\n\n    } else {\n      this.minY = minY;\n      this.maxY = maxY;\n    }\n\n    this.data = dataY;\n\n    this.computeXMinMax();\n\n  }\n\n  computeXMinMax() {\n\n    if ( !this.data ) {\n\n      return;\n    }\n\n    if ( this.xdata ) {\n\n      this.minX = this.xdata.getMin();\n      this.maxX = this.xdata.getMax();\n\n    } else {\n\n      const b1 = this.xOffset + this.xScale * this.getLength(),\n        b2 = this.xOffset;\n\n      this.minX = Math.min( b1, b2 );\n      this.maxX = Math.max( b1, b2 );\n    }\n  }\n\n  getDataInUse() {\n    return this.dataInUse || this.data;\n  }\n\n  getIndexFromVal( val, useDataToUse = false, roundingMethod = Math.round ) {\n\n    let data;\n\n    if ( useDataToUse && this.dataInUse ) {\n      data = this.dataInUse.y;\n    } else {\n      data = this.data;\n    }\n\n    let position;\n\n    position = this.getIndexFromData( val, data, this.data.getMonotoneousAscending(), roundingMethod );\n\n    if ( useDataToUse && this.dataInUse && this.dataInUseType == 'aggregateY' ) { // In case of aggregation, round to the closest element of 4.\n      return position - ( position % 4 );\n    }\n\n    return position;\n  }\n\n  getIndexFromX( xval, useDataToUse = false, roundingMethod = Math.round ) {\n\n    let xdata;\n\n    if ( useDataToUse && this.dataInUse ) {\n      xdata = this.dataInUse.x;\n    } else if ( this.xdata ) {\n      xdata = this.xdata.getData();\n    }\n\n    let position;\n\n    if ( this.hasXWaveform() ) {\n      position = this.xdata.getIndexFromData( xval, xdata, this.xdata.getMonotoneousAscending(), roundingMethod );\n    } else {\n      position = Math.max( 0, Math.min( this.getLength() - 1, roundingMethod( ( xval - this.xOffset ) / ( this.xScale ) ) ) );\n    }\n\n    if ( useDataToUse && this.dataInUse && this.dataInUseType == 'aggregateX' ) { // In case of aggregation, round to the closest element of 4.\n      return position - ( position % 4 );\n    }\n\n    return position;\n  }\n\n  getIndexFromXY( xval, yval, useDataToUse = false, roundingMethod = Math.round, scaleX, scaleY ) {\n\n    let xdata, ydata;\n\n    if ( useDataToUse && this.dataInUse ) {\n\n      xdata = this.dataInUse.x;\n      ydata = this.dataInUse.y;\n\n    } else if ( this.xdata ) {\n\n      xdata = this.xdata.data;\n      ydata = this.data;\n    }\n\n    let position;\n\n    if ( this.isXMonotoneous() ) { // X lookup only\n\n      if ( this.getXMin() > xval || this.getXMax() < xval ) {\n        return false;\n      }\n\n      if ( this.hasXWaveform() ) { // The x value HAS to be rescaled\n        position = this.xdata.getIndexFromData( xval, xdata, this.xdata.getMonotoneousAscending(), roundingMethod );\n\n      } else {\n        position = Math.max( 0, Math.min( this.getLength() - 1, roundingMethod( ( xval - this.xOffset ) / ( this.xScale ) ) ) );\n      }\n    } else if ( !isNaN( yval ) ) {\n\n      position = this.getIndexFromDataXY( xval, xdata, yval, ydata, scaleX, scaleY );\n\n    } else {\n      return;\n    }\n\n    if ( useDataToUse && this.dataInUse && this.dataInUseType == 'aggregateX' ) { // In case of aggregation, round to the closest element of 4.\n      return position - ( position % 4 );\n    }\n\n    return position;\n  }\n\n  getIndexFromDataXY( valX, dataX, valY, dataY, scaleX = 1, scaleY = 1 ) {\n\n    let data, position;\n\n    valX -= this.getXShift();\n    valX /= this.getXScale();\n\n    valY -= this.getShift();\n    valY /= this.getScale();\n\n    return euclidianSearch( valX, valY, dataX, dataY, scaleX, scaleY );\n  }\n\n  getIndexFromData( val, valCollection, isAscending, roundingMethod ) {\n\n    if ( !this.isMonotoneous() ) {\n      console.trace();\n      throw 'Impossible to get the index from a non-monotoneous wave !';\n    }\n\n    let data, position;\n\n    val -= this.getShift();\n    val /= this.getScale();\n\n    return binarySearch( val, valCollection, !isAscending );\n\n  }\n\n  getReductionType() {\n    return this.dataInUseType;\n  }\n\n  getXMin() {\n    return this.minX * this.getXScale() + this.getXShift();\n  }\n\n  getXMax() {\n    return this.maxX * this.getXScale() + this.getXShift();\n  }\n\n  getYMin() {\n    return this.minY * this.getScale() + this.getShift();\n  }\n\n  getYMax() {\n    return this.maxY * this.getScale() + this.getShift();\n  }\n\n  getMin() {\n    return this.minY * this.getScale() + this.getShift();\n  }\n\n  getMax() {\n    return this.maxY * this.getScale() + this.getShift();\n  }\n\n  getMinX() {\n\n    return this.minX * this.getXScale() + this.getXShift();\n  }\n\n  getMaxX() {\n    return this.maxX * this.getXScale() + this.getXShift();\n  }\n\n  getMinY() {\n    return this.minY * this.getScale() + this.getShift();\n  }\n\n  getMaxY() {\n    return this.maxY * this.getScale() + this.getShift();\n  }\n\n  getDataMaxX() {\n    return this.maxX;\n  }\n\n  getDataMinX() {\n    return this.minX;\n  }\n\n  getDataMaxY() {\n    return this.maxY;\n  }\n\n  getDataMaxY() {\n    return this.minY;\n  }\n\n  getDataY() {\n    return this.data;\n  }\n\n  getData( optimized ) {\n    if ( !optimized || !this.dataInUse ) {\n      return this.data;\n    }\n    return this.dataInUse.y;\n  }\n\n  setShift( shift = 0 ) {\n\n    // We must update the min and the max of the y data\n    //this.minY += ( shift - this.getShift() );\n    //this.maxY += ( shift - this.getShift() );\n    this.shift = shift;\n    return this;\n  }\n\n  getShift() {\n    return this.shift || 0;\n  }\n\n  getScale() {\n    return this.scale || 1;\n  }\n\n  setScale( scale = 1 ) {\n\n    // this.minY = ( this.minY - this.getShift() ) * scale;\n    // this.maxY = ( this.maxY - this.getShift() ) * scale;\n    this.scale = scale;\n    return this;\n  }\n\n  setXShift( shift = 0 ) {\n\n    if ( !this.hasXWaveform ) {\n      return this;\n    }\n\n    // We must update the min and the max of the x data\n    // That's important for when the data has already been set\n    //  this.minX += ( shift - this.getXShift() );\n    //    this.maxX += ( shift - this.getXShift() );\n    this.getXWaveform().setShift( shift );\n    return this;\n  }\n\n  getXShift( shift = 0 ) {\n\n    if ( !this.hasXWaveform ) {\n      return 0;\n    }\n\n    return this.getXWaveform().getShift();\n  }\n\n  setXScale( scale = 1 ) {\n\n    if ( !this.hasXWaveform ) {\n      return this;\n    }\n\n    this.getXWaveform().setScale( scale );\n    return this;\n  }\n\n  getXScale() {\n\n    if ( !this.hasXWaveform ) {\n      return 1;\n    }\n\n    return this.getXWaveform().getScale();\n  }\n\n  getLength() {\n    return this.data.length;\n  }\n\n  getDataToUseFlat() {\n\n    let l;\n    let j = 0;\n    let arr;\n\n    if ( this.dataInUse ) {\n\n      l = this.dataInUse.x.length;\n      arr = new Array( l * 2 ).fill( 0 );\n\n      for ( var i = 0; i < l; i += 1 ) {\n        arr[ j ] = this.dataInUse.x[ i ];\n        arr[ j + 1 ] = this.dataInUse.y[ i ];\n        j += 2;\n      }\n\n    } else {\n\n      l = this.getLength();\n      arr = new Array( l * 2 ).fill( 0 );\n      for ( var i = 0; i < l; i += 1 ) {\n        arr[ j + 1 ] = this.data[ i ];\n        arr[ j ] = this.getX( i );\n        j += 2;\n      }\n    }\n\n    return arr;\n  }\n\n  fit( options ) {\n\n    var self = this;\n\n    return new Promise( function( resolver, rejector ) {\n\n      var fit = new FitLM( util.extend( {}, {\n\n        dataY: self,\n        dataX: self.getXWaveform(),\n        done: function( results ) {\n          resolver( results );\n        },\n        waveform: new Waveform()\n\n      }, options ) );\n\n      fit.init();\n      fit.fit();\n    } );\n  }\n\n  getX( index, optimized ) {\n\n    if ( optimized && this.dataInUse ) {\n      return this.dataInUse.x[ index ] * this.getXScale() + this.getXShift();\n    }\n\n    if ( this.xdata ) {\n      return this.xdata.data[ index ] * this.getXScale() + this.getXShift();\n    } else {\n      return this.xOffset + index * this.xScale;\n    }\n  }\n\n  getXRaw( index, optimized ) {\n\n    if ( optimized && this.dataInUse ) {\n      return this.dataInUse.x[ index ];\n    }\n\n    if ( this.xdata ) {\n      return this.xdata.data[ index ];\n    } else {\n      return index;\n    }\n  }\n\n  _integrateP( from = 0, to = this.getLength() - 1 ) {\n\n    from = Math.round( from );\n    to = Math.round( to );\n\n    if ( from > to ) {\n      let temp = from;\n      from = to;\n      to = temp;\n    }\n\n    var l = to - from + 1;\n    var sum = 0,\n      delta;\n\n    let deltaTot = 0;\n    let diff;\n    var arrY = this.getData();\n\n    for ( ; from <= to; from++ ) {\n\n      if ( arrY.length - 1 > from ) {\n        diff = this.getX( from + 1 ) - this.getX( from );\n        deltaTot += diff;\n        sum += arrY[ from ] * diff;\n      }\n    }\n\n    return [ sum, l, deltaTot ];\n  }\n\n  integrateP( from, to ) {\n    var val = this._integrateP( from, to );\n    return val[ 0 ];\n  }\n\n  integrate( fromX, toX ) {\n    return this.integrateP( this.getIndexFromX( fromX ), this.getIndexFromX( toX ) );\n  }\n\n  average( p0 = 0, p1 = this.getLength() - 1 ) {\n    return this.getAverageP( p0, p1 );\n  }\n\n  mean() {\n    return this.average();\n  }\n\n  getAverageP( from, to ) {\n    var sum = this._integrateP( from, to );\n    return sum[ 0 ] / sum[ 2 ];\n  }\n\n  getAverageX( from, to ) {\n    var sum = this._integrateX( from, to );\n    return sum[ 0 ] / sum[ 2 ];\n  }\n\n  checkMonotonicity() {\n\n    let i = 1,\n      data = this.getData();\n    const l = this.data.length;\n    let dir = data[ 1 ] > data[ 0 ];\n\n    for ( ; i < l; i++ ) {\n      if ( data[ i ] !== data[ i - 1 ] && dir !== ( data[ i ] > data[ i - 1 ] ) ) {\n        return this._monotoneous = false;\n      }\n    }\n\n    this._monotoneousAscending = data[ 1 ] > data[ 0 ];\n    return this._monotoneous = true;\n  }\n\n  requireXMonotonicity() {\n    if ( this.xdata ) {\n      this.xdata.requireMonotonicity();\n    }\n  }\n\n  requireMonotonicity() {\n    if ( !this.isMonotoneous() ) {\n      throw 'The wave must be monotonic';\n    }\n  }\n\n  isMonotoneous() {\n    return !!this._monotoneous;\n  }\n\n  isXMonotoneous() {\n    if ( this.xdata ) {\n      return this.xdata.isMonotoneous();\n    }\n    // Offset and scale is always monotoneous\n    return true;\n  }\n\n  invert( data ) {\n\n    let d = dataY || this.data;\n    d.reverse();\n\n    if ( this.isMonotoneous() ) {\n      this._monotoneousAscending = !this._monotoneousAscending;\n    }\n\n    return d;\n  }\n\n  resampleForDisplay( options ) { // Serie redrawing\n\n    let i = 0;\n\n    this.requireXMonotonicity();\n\n    let inverting = false,\n      dataY = this.getDataY(),\n      data = {\n        x: [],\n        y: []\n      },\n      dataMinMax = [],\n      resampleSum, resampleMin, resampleMax, resampleNum, resample_x_start, resample_x_px_start,\n      x_px,\n      doing_mean = false,\n      firstPointIndex = 0,\n      xval;\n\n    const l = this.getLength();\n\n    if ( !options.xPosition ) {\n      throw 'No position calculation method provided';\n    }\n\n    if ( !options.resampleToPx ) {\n      throw 'No \"resampleToPx\" method was provided. Unit: px per point';\n    }\n\n    if ( options.minX > options.maxX ) {\n      let temp = options.minX;\n      options.minX = options.maxX;\n      options.maxX = temp;\n    }\n\n    if ( ( this.xdata && !this.xdata.getMonotoneousAscending() ) || ( !this.xdata && this.xScale < -0 ) ) {\n      inverting = true;\n      i = l;\n    }\n\n    for ( ; inverting ? i > 0 : i < l; inverting ? i-- : i++ ) {\n\n      xval = this.getX( i );\n\n      if ( options.minX > xval ) {\n\n        firstPointIndex = i;\n        continue;\n      }\n\n      x_px = options.xPosition( xval );\n\n      if ( !doing_mean ) {\n\n        if ( !firstPointIndex ) {\n\n          firstPointIndex = i;\n        } else {\n\n          data.x.push( xval );\n          data.y.push( dataY[ firstPointIndex ] );\n\n        }\n\n        while ( isNaN( dataY[ i ] ) ) {\n\n          if ( inverting ) {\n            i--;\n          } else {\n            i++;\n          }\n        }\n\n        resampleSum = resampleMin = resampleMax = dataY[ firstPointIndex ];\n        resampleNum = 1;\n        resample_x_px_start = x_px;\n        resample_x_start = xval;\n        firstPointIndex = 0;\n\n        doing_mean = true;\n\n        continue;\n      }\n\n      if ( Math.abs( x_px - resample_x_px_start ) > options.resampleToPx || i == l || i == 0 || isNaN( dataY[ i ] ) ) {\n\n        let xpos = ( resample_x_start + xval ) / 2;\n\n        data.x.push( xpos );\n        data.y.push( resampleSum / resampleNum );\n\n        dataMinMax.push( xpos, resampleMin, resampleMax );\n\n        if ( options.maxX !== undefined && xval > options.maxX ) {\n\n          break;\n        }\n\n        doing_mean = false;\n\n        continue;\n      }\n\n      resampleSum += dataY[ i ];\n      resampleNum++;\n\n      resampleMin = Math.min( resampleMin, dataY[ i ] );\n      resampleMax = Math.max( resampleMax, dataY[ i ] );\n    }\n\n    this.dataInUseType = 'resampled';\n    this.dataInUse = data;\n    return dataMinMax;\n  }\n\n  interpolate( x ) {\n\n    let yData = this.getDataY();\n    let xIndex;\n\n    if ( this.xdata ) {\n\n      let xData = this.xdata.getData();\n\n      try {\n        xIndex = binarySearch( x, xData, !this.xdata.getMonotoneousAscending() );\n      } catch ( e ) {\n        return NaN;\n      }\n\n      if ( xData[ xIndex ] == x ) {\n        return yData[ xIndex ];\n      }\n      return ( x - xData[ xIndex ] ) / ( xData[ xIndex + 1 ] - xData[ xIndex ] ) * ( yData[ xIndex + 1 ] - yData[ xIndex ] ) + yData[ xIndex ];\n\n    } else {\n      xIndex = ( x - this.xOffset ) / ( this.xScale );\n      let xIndexF = Math.floor( xIndex );\n      return ( xIndex - xIndexF ) * ( yData[ xIndexF + 1 ] - yData[ xIndexF ] ) + yData[ xIndexF ];\n    }\n\n  }\n\n  interpolateIndex_X( index ) {\n\n    let yData = this.getDataY();\n    if ( this.xdata ) {\n      let xData = this.xdata.getData();\n      let indexStart = Math.floor( index );\n\n      return ( index - indexStart ) * ( xData[ indexStart + 1 ] - xData[ indexStart ] ) + xData[ indexStart ];\n    }\n  }\n\n  getMonotoneousAscending() {\n\n    if ( !this.isMonotoneous() ) {\n      return 'The waveform is not monotoneous';\n    }\n\n    return this._monotoneousAscending;\n  }\n\n  getXMonotoneousAscending() {\n    if ( this.xdata ) {\n      return this.xdata.getMonotoneousAscending();\n    }\n\n    return this.xScale > 0;\n  }\n\n  isXMonotoneousAscending() {\n    return this.getXMonotoneousAscending( ...arguments );\n  }\n\n  divide( numberOrWave ) {\n    return this._arithmetic( numberOrWave, DIVIDE );\n  }\n\n  divideBy() {\n    return this.divide( ...arguments );\n  }\n\n  multiply( numberOrWave ) {\n    return this._arithmetic( numberOrWave, MULTIPLY );\n  }\n\n  multiplyBy() {\n    return this.multiply( ...arguments );\n  }\n\n  log() {\n    return this.logBase( 10 );\n  }\n\n  ln() {\n    return this.logBase( Math.E );\n  }\n\n  logBase( base ) {\n\n    let logBase = Math.log( base );\n    this.data.map( ( valY ) => {\n\n      return Math.log( valY ) / logBase;\n    } );\n  }\n\n  add( numberOrWave ) {\n    return this._arithmetic( numberOrWave, ADD );\n  }\n\n  addBy() {\n    return this.add( ...arguments );\n  }\n\n  subtract( numberOrWave ) {\n    return this._arithmetic( numberOrWave, SUBTRACT );\n  }\n\n  subtractBy() {\n    return this.subtract( ...arguments );\n  }\n\n  math( method ) {\n\n    for ( var i = 0; i < this.getLength(); i++ ) {\n      this.data[ i ] = method( this.getY( i ), this.getX( i ) );\n    }\n\n    this._setData( this.data );\n    return this;\n  }\n\n  _arithmetic( numberOrWave, operator ) {\n\n    if ( numberOrWave instanceof Waveform ) {\n      return this._waveArithmetic( numberOrWave, operator );\n    } else if ( typeof numberOrWave == 'number' ) {\n\n      return this._numberArithmetic( numberOrWave, operator );\n    }\n  }\n\n  _numberArithmetic( num, operation ) {\n\n    let i = 0,\n      l = this.getLength();\n\n    if ( operation == MULTIPLY ) {\n\n      for ( ; i < l; i++ ) {\n        this.data[ i ] *= num;\n      }\n\n      this.minY *= num;\n      this.maxY *= num;\n    } else if ( operation == DIVIDE ) {\n\n      for ( ; i < l; i++ ) {\n        this.data[ i ] /= num;\n      }\n\n      this.minY /= num;\n      this.maxY /= num;\n    } else if ( operation == ADD ) {\n\n      for ( ; i < l; i++ ) {\n        this.data[ i ] += num;\n      }\n\n      this.minY += num;\n      this.maxY += num;\n    } else if ( operation == SUBTRACT ) {\n\n      for ( ; i < l; i++ ) {\n        this.data[ i ] -= num;\n      }\n\n      this.minY -= num;\n      this.maxY -= num;\n    }\n\n    return this;\n  }\n\n  _waveArithmetic( wave, operation ) {\n\n    let yDataThis = this.getDataY(),\n\n      i = 0;\n    const l = this.getLength();\n    this.requireXMonotonicity();\n    wave.requireXMonotonicity();\n\n    if ( operation == MULTIPLY ) {\n\n      for ( ; i < l; i++ ) {\n        yDataThis[ i ] *= wave.interpolate( this.getX( i ) );\n      }\n    } else if ( operation == DIVIDE ) {\n\n      for ( ; i < l; i++ ) {\n        yDataThis[ i ] /= wave.interpolate( this.getX( i ) );\n      }\n    } else if ( operation == ADD ) {\n\n      for ( ; i < l; i++ ) {\n        yDataThis[ i ] += wave.interpolate( this.getX( i ) );\n      }\n    } else if ( operation == SUBTRACT ) {\n\n      for ( ; i < l; i++ ) {\n        yDataThis[ i ] -= wave.interpolate( this.getX( i ) );\n      }\n    }\n\n    this._setData( yDataThis );\n    return this;\n  }\n\n  aggregate( direction = 'x' ) {\n\n    this._dataAggregating = {};\n    this._dataAggregated = {};\n    this._dataAggregationDirection = direction.toUpperCase();\n\n    var pow2 = pow2floor( this.getLength() );\n\n    this._dataAggregating = aggregator( {\n\n      minX: this.minX,\n      maxX: this.maxX,\n      minY: this.minY,\n      maxY: this.maxY,\n      data: this.data,\n      xdata: this.xdata ? this.xdata.getData() : undefined,\n      xScale: this.xScale,\n      xOffset: this.xOffset,\n      numPoints: pow2,\n      direction: direction\n\n    } ).then( ( event ) => {\n\n      this._dataAggregated = event.aggregates;\n      this._dataAggregating = false;\n    } );\n\n  }\n\n  hasAggregation() {\n    return !!this._dataAggregated;\n  }\n\n  selectAggregatedData( pxWidth ) {\n\n    if ( pxWidth < 2 ) {\n      return false;\n    }\n    /*\n    console.log( direction, this._dataAggregationDirection );\n\n        if( direction !== this._dataAggregationDirection ) {\n          throw \"The data is not aggregated in that direction\";\n        }\n    */\n\n    var level = pow2ceil( pxWidth );\n\n    if ( this._dataAggregated[ level ] ) {\n\n      this.dataInUseType = `aggregate${ this._dataAggregationDirection}`;\n      this.dataInUse = this._dataAggregated[ level ];\n      return;\n    } else if ( this._dataAggregating ) {\n\n      return this._dataAggregating;\n    }\n\n    this.dataInUseType = 'none';\n    this.dataInUse = {\n      y: this.data,\n      x: this.getXWaveform().data\n    };\n  }\n\n  duplicate( alsoDuplicateXWave ) {\n    var newWaveform = new Waveform();\n    newWaveform._setData( this.getDataY().slice() );\n    newWaveform.rescaleX( this.xOffset, this.xShift );\n    newWaveform.setShift( this.getShift() );\n    newWaveform.setScale( this.getScale() );\n\n    if ( this.xdata ) {\n      if ( alsoDuplicateXWave ) {\n        newWaveform.setXWaveform( this.xdata.duplicate() );\n      } else {\n        newWaveform.setXWaveform( this.xdata );\n      }\n\n      newWaveform.setXShift( this.getXShift() );\n      newWaveform.setXScale( this.getXScale() );\n\n    } else {\n      newWaveform.xOffset = this.xOffset;\n      newWaveform.xScale = this.xScale;\n    }\n\n    return newWaveform;\n  }\n\n  subrangeX( fromX, toX ) {\n\n    if ( !this.xdata ) { // We can select the new range from there\n\n      let fromP = this.getIndexFromX( fromX ),\n        toP = this.getIndexFromX( toP );\n\n      return new Waveform()\n        .setData( this.data.slice( fromP, toP ) )\n        .rescaleX( this.xOffset, this.xScale );\n\n    } else {\n\n      var waveform = new Waveform();\n\n      for ( var i = 0, l = this.data.length; i < l; i++ ) {\n\n        if ( this.data[ i ] >= fromX && this.data[ i ] < toX ) {\n\n          waveform.append( this.dataX[ i ], this.data[ i ] );\n        }\n      }\n\n      return waveform;\n    }\n  }\n\n  findLocalMinMax( xRef, xWithin, type ) {\n\n    let index = this.getIndexFromX( xRef ),\n      indexPlus = this.getIndexFromX( xRef + xWithin ),\n      indexMinus = this.getIndexFromX( xRef - xWithin );\n\n    return this.findLocalMinMaxIndex( indexMinus, indexPlus, type );\n  }\n\n  findLocalMinMaxIndex( indexMinus, indexPlus, type ) {\n\n    let tmp;\n\n    if ( indexPlus < indexMinus ) {\n      tmp = indexPlus;\n      indexPlus = indexMinus;\n      indexMinus = tmp;\n    }\n\n    let curr, currI;\n\n    if ( type == 'max' ) {\n\n      curr = Number.NEGATIVE_INFINITY;\n\n      for ( var i = indexMinus; i <= indexPlus; i++ ) {\n\n        if ( this.getY( i ) > curr ) {\n          curr = this.getY( i );\n          currI = i;\n        }\n      }\n    } else {\n\n      curr = Number.POSITIVE_INFINITY;\n\n      for ( var i = indexMinus; i <= indexPlus; i++ ) {\n\n        if ( this.getY( i ) < curr ) {\n          curr = this.getY( i );\n          currI = i;\n        }\n      }\n    }\n\n    if ( currI == indexMinus || currI == indexPlus ) {\n      return false;\n    }\n\n    return this.getX( currI );\n  }\n\n  warn( text ) {\n    if ( console ) {\n      console.warn( text );\n    }\n  }\n\n  setUnit( unit ) {\n    this.unit = unit;\n    return this;\n  }\n\n  setXUnit( unit ) {\n    if ( this.hasXWaveform() ) {\n      this.xdata.setUnit( unit );\n    }\n\n    this.xunit = unit;\n    return this;\n  }\n\n  getUnit() {\n    return this.unit || '';\n  }\n\n  getXUnit() {\n    if ( this.hasXWaveform() ) {\n      return this.xdata.getUnit();\n    }\n\n    return this.xunit | '';\n  }\n\n  hasXUnit() {\n    return this.getXUnit().length > 0;\n  }\n\n  hasUnit() {\n    return this.getUnit().length > 0;\n  }\n\n  findLevels( level, options ) {\n\n    options = util.extend( {\n\n      box: 1,\n      edge: 'both',\n      rounding: 'before',\n      rangeP: [ 0, this.getLength() ],\n\n    }, options );\n\n    var lastLvlIndex = options.rangeP[ 0 ];\n    var lvlIndex;\n    var indices = [];\n    var i = 0;\n\n    while ( lvlIndex = this.findLevel( level, util.extend( true, {}, options, {\n        rangeP: [ lastLvlIndex, options.rangeP[ 1 ] ]\n      } ) ) ) {\n      indices.push( lvlIndex );\n      lastLvlIndex = Math.ceil( lvlIndex );\n\n      i++;\n      if ( i > 1000 ) {\n        return;\n      }\n    }\n\n    return indices;\n  }\n\n  // Find the first level in the specified range\n  findLevel( level, options ) {\n\n    options = util.extend( {\n\n      box: 1,\n      edge: 'both',\n      direction: 'ascending',\n      rounding: 'before',\n      rangeP: [ 0, this.getLength() ],\n\n    }, options );\n\n    if ( options.rangeX ) {\n      options.rangeP = options.rangeX.map( this.getIndexFromX );\n    }\n\n    var value,\n      below,\n      i,\n      j,\n      l,\n      increment;\n\n    var box = options.box;\n\n    if ( box % 2 == 0 ) {\n      box++;\n    }\n\n    if ( options.direction == 'descending' ) {\n      i = options.rangeP[ 1 ],\n        l = options.rangeP[ 0 ],\n        increment = -1;\n    } else {\n      i = options.rangeP[ 0 ],\n        l = options.rangeP[ 1 ],\n        increment = +1;\n    }\n\n    for ( ;; i += increment ) {\n\n      if ( options.direction == 'descending' ) {\n        if ( i < l ) {\n          break;\n        }\n      } else {\n        if ( i > l ) {\n          break;\n        }\n      }\n\n      if ( i < options.rangeP[ 0 ] + ( box - 1 ) / 2 ) {\n        continue;\n      }\n\n      if ( i > options.rangeP[ 1 ] - ( box - 1 ) / 2 ) {\n        break;\n      }\n\n      value = this.getAverageP( i - ( box - 1 ) / 2, i + ( box - 1 ) / 2 );\n\n      if ( below === undefined ) {\n        below = value < level;\n        continue;\n      }\n      // Crossing up\n      if ( value >= level && below ) {\n\n        below = false;\n\n        if ( options.edge == 'ascending' || options.edge == 'both' ) {\n          // Found something\n\n          for ( j = i + ( box - 1 ) / 2; j >= i - ( box - 1 ) / 2; j-- ) {\n\n            if ( this.data[ j ] >= level && this.data[ j - 1 ] <= level ) { // Find a crossing\n\n              switch ( options.rounding ) {\n                case 'before':\n                  return j - 1;\n                  break;\n\n                case 'after':\n                  return j;\n                  break;\n\n                case 'interpolate':\n                  return getIndexInterpolate( level, this.data[ j ], this.data[ j - 1 ], j, j - 1 );\n                  break;\n              }\n            }\n          }\n        }\n\n      } else if ( value <= level && !below ) {\n\n        below = true;\n\n        if ( options.edge == 'descending' || options.edge == 'both' ) {\n\n          for ( j = i + ( box - 1 ) / 2; j >= i - ( box - 1 ) / 2; j-- ) {\n\n            if ( this.data[ j ] <= level && this.data[ j - 1 ] >= level ) { // Find a crossing\n\n              switch ( options.rounding ) {\n                case 'before':\n                  return j - 1;\n                  break;\n\n                case 'after':\n                  return j;\n                  break;\n\n                case 'interpolate':\n                  return getIndexInterpolate( level, this.data[ j ], this.data[ j - 1 ], j, j - 1 );\n                  break;\n              }\n\n            }\n          }\n        }\n      }\n    }\n  }\n\n  normalize( mode ) {\n\n    let factor,\n      total,\n      minValue,\n      maxValue,\n      ratio,\n      i;\n\n    if ( mode == 'max1' || mode == 'max100' ) {\n\n      factor = 1;\n\n      if ( mode == 'max100' ) {\n        factor = 100;\n      }\n\n      maxValue = this.data[ 0 ];\n\n      for ( i = 1; i < this.getLength(); i++ ) {\n\n        if ( this.data[ i ] > maxValue ) {\n\n          maxValue = this.data[ i ];\n        }\n      }\n\n      for ( i = 0; i < this.getLength(); i++ ) {\n\n        this.data[ i ] /= maxValue / factor;\n      }\n\n    } else if ( mode == 'sum1' ) {\n\n      total = 0;\n\n      for ( i = 0; i < this.getLength(); i++ ) {\n        total += this.data[ i ];\n      }\n\n      for ( i = 0; i < this.getLength(); i++ ) {\n\n        this.data[ i ] /= total;\n      }\n\n    } else if ( mode == 'max1min0' ) {\n\n      maxValue = this.data[ 0 ],\n        minValue = this.data[ 0 ];\n\n      for ( i = 1; i < this.getLength(); i++ ) {\n        if ( this.data[ i ] > maxValue ) {\n\n          maxValue = this.data[ i ];\n\n        } else if ( this.data[ i ] < minValue ) {\n\n          minValue = this.data[ i ];\n\n        }\n      }\n\n      ratio = 1 / ( maxValue - minValue );\n\n      for ( i = 0; i < this.getLength(); i++ ) {\n\n        this.data[ i ] = ( this.data[ i ] - minValue ) * ratio;\n      }\n\n    }\n\n    this.setData( this.data );\n  }\n\n  ////////////////////////////////////////////////////////////\n  ///// HANDLING ERRORS   ////////////////////////////////////\n  ////////////////////////////////////////////////////////////\n\n  setErrorBarX( waveform ) {\n\n    if ( Array.isArray( waveform ) ) {\n      waveform = new Waveform( waveform );\n    }\n\n    var xWave = this.getXWaveform();\n    xWave.setErrorBar( waveform );\n    return this;\n  }\n\n  setErrorBarXBelow( waveform ) {\n\n    if ( Array.isArray( waveform ) ) {\n      waveform = new Waveform( waveform );\n    }\n\n    var xWave = this.getXWaveform();\n    xWave.setErrorBarBelow( waveform );\n    return this;\n  }\n\n  setErrorBarXAbove( waveform ) {\n\n    if ( Array.isArray( waveform ) ) {\n      waveform = new Waveform( waveform );\n    }\n\n    var xWave = this.getXWaveform();\n    xWave.setErrorBarAbove( waveform );\n    return this;\n  }\n\n  setErrorBoxX( waveform ) {\n\n    if ( Array.isArray( waveform ) ) {\n      waveform = new Waveform( waveform );\n    }\n\n    var xWave = this.getXWaveform();\n    xWave.setErrorBoxAbove( waveform );\n    xWave.setErrorBoxBelow( waveform );\n    return this;\n  }\n\n  setErrorBoxXBelow( waveform ) {\n\n    if ( Array.isArray( waveform ) ) {\n      waveform = new Waveform( waveform );\n    }\n\n    var xWave = this.getXWaveform();\n\n    xWave.setErrorBoxBelow( waveform );\n    return this;\n  }\n\n  setErrorBoxXAbove( waveform ) {\n\n    if ( Array.isArray( waveform ) ) {\n      waveform = new Waveform( waveform );\n    }\n\n    var xWave = this.getXWaveform();\n    xWave.setErrorBoxAbove( waveform );\n    return this;\n  }\n\n  setErrorBar( waveform, checkMinMax = true ) {\n\n    if ( Array.isArray( waveform ) ) {\n      waveform = new Waveform( waveform );\n    }\n    this.errors.nb++;\n    this.errors.nb++;\n    this.errors.bars.bottom = waveform;\n    this.errors.bars.top = waveform;\n\n    if ( checkMinMax ) {\n      this._setData();\n    }\n  }\n\n  setErrorBarBelow( waveform, checkMinMax = true ) {\n\n    if ( Array.isArray( waveform ) ) {\n      waveform = new Waveform( waveform );\n    }\n    this.errors.nb++;\n    this.errors.bars.below = waveform;\n\n    if ( checkMinMax ) {\n      this._setData();\n    }\n  }\n\n  setErrorBarAbove( waveform, checkMinMax = true ) {\n\n    if ( Array.isArray( waveform ) ) {\n      waveform = new Waveform( waveform );\n    }\n\n    this.errors.nb++;\n    this.errors.bars.above = waveform;\n\n    if ( checkMinMax ) {\n      this._setData();\n    }\n  }\n\n  setErrorBox( waveform, checkMinMax = true ) {\n\n    if ( Array.isArray( waveform ) ) {\n      waveform = new Waveform( waveform );\n    }\n    this.errors.nb++;\n    this.errors.nb++;\n    this.errors.boxes.above = waveform;\n    this.errors.boxes.below = waveform;\n\n    if ( checkMinMax ) {\n      this._setData();\n    }\n  }\n\n  setErrorBoxBelow( waveform, checkMinMax = true ) {\n\n    if ( Array.isArray( waveform ) ) {\n      waveform = new Waveform( waveform );\n    }\n    this.errors.nb++;\n    this.errors.boxes.below = waveform;\n\n    if ( checkMinMax ) {\n      this._setData();\n    }\n  }\n\n  setErrorBoxAbove( waveform, checkMinMax = true ) {\n\n    if ( Array.isArray( waveform ) ) {\n      waveform = new Waveform( waveform );\n    }\n\n    this.errors.boxes.above = waveform;\n    if ( checkMinMax ) {\n      this._setData();\n    }\n  }\n\n  getMaxError( i, side = Waveform.ABOVE ) {\n\n    return Math.max( this.getMaxErrorType( i, side, Waveform.BOX ), this.getMaxErrorType( i, side, Waveform.BAR ) );\n  }\n\n  getMaxErrorType( i, side = Waveform.ABOVE, type = Waveform.BOX ) {\n\n    let stack;\n    if ( type == Waveform.BOX ) {\n      stack = this.errors.boxes;\n    } else if ( type == Waveform.BAR ) {\n      stack = this.errors.bars;\n    } else {\n      throw 'Unknown type of error';\n    }\n\n    let waveform;\n    if ( !( waveform = stack[ side ] ) ) {\n      if ( side == Waveform.ABOVE ) {\n        if ( stack[ side ] == Waveform.BELOW ) {\n          waveform = stack.below;\n        }\n      } else {\n        if ( stack[ side ] == Waveform.ABOVE ) {\n          waveform = stack.above;\n        }\n      }\n    }\n\n    if ( !waveform ) {\n      return 0;\n    }\n\n    return waveform.getY( i );\n  }\n\n  getErrorBarXBelow( index ) {\n    return this.getErrorX( index, Waveform.BELOW, Waveform.BAR );\n  }\n  getErrorBarXAbove( index ) {\n    return this.getErrorX( index, Waveform.ABOVE, Waveform.BAR );\n  }\n  getErrorBoxXBelow( index ) {\n    return this.getErrorX( index, Waveform.BELOW, Waveform.BOX );\n  }\n  getErrorBoxXAbove( index ) {\n    return this.getErrorX( index, Waveform.ABOVE, Waveform.BOX );\n  }\n\n  getErrorBarYBelow( index ) {\n    return this.getError( index, Waveform.BELOW, Waveform.BAR );\n  }\n  getErrorBarYAbove( index ) {\n    return this.getError( index, Waveform.ABOVE, Waveform.BAR );\n  }\n  getErrorBoxYBelow( index ) {\n    return this.getError( index, Waveform.BELOW, Waveform.BOX );\n  }\n  getErrorBoxYAbove( index ) {\n    return this.getError( index, Waveform.ABOVE, Waveform.BOX );\n  }\n\n  getErrorX( index, side = Waveform.ABOVE, type = Waveform.BAR ) {\n\n    if ( !this.hasXWaveform() ) {\n      return false;\n    }\n\n    return this.xdata.getError( index, side, type );\n  }\n\n  getError( index, side = Waveform.ABOVE, type = Waveform.BAR ) {\n\n    let errors = type == Waveform.BAR ? this.errors.bars : this.errors.boxes;\n\n    if ( !errors ) {\n      return false;\n    }\n\n    let wave;\n    if ( ( wave = ( side == Waveform.ABOVE ? errors.above : errors.below ) ) ) {\n\n      if ( wave == Waveform.ABOVE && side == Waveform.BELOW ) {\n        wave = errors.above;\n      } else if ( wave == Waveform.BELOW && side == Waveform.ABOVE ) {\n        wave = errors.below;\n      }\n\n      if ( !wave ) {\n        return false;\n      }\n\n      return wave.getY( index );\n    }\n  }\n\n  hasErrorBars() {\n\n    return this.errors.nb > 0 || ( this.hasXWaveform() && this.xdata.errors.nb > 0 );\n  }\n\n}\n\nWaveform.BELOW = Symbol();\nWaveform.ABOVE = Symbol();\n\nWaveform.BOX = Symbol();\nWaveform.BAR = Symbol();\n\nconst MULTIPLY = Symbol();\nconst ADD = Symbol();\nconst SUBTRACT = Symbol();\nconst DIVIDE = Symbol();\n\n// http://stackoverflow.com/questions/26965171/fast-nearest-power-of-2-in-javascript\nfunction pow2ceil( v ) {\n  v--;\n  var p = 2;\n  while ( ( v >>= 1 ) ) {\n    p <<= 1;\n  }\n  return p;\n}\n\nfunction pow2floor( v ) {\n\n  var p = 1;\n\n  while ( ( v >>= 1 ) ) {\n    p <<= 1;\n\n  }\n  return p;\n}\n\nfunction getIndexInterpolate( value, valueBefore, valueAfter, indexBefore, indexAfter ) {\n  return ( value - valueBefore ) / ( valueAfter - valueBefore ) * ( indexAfter - indexBefore ) + indexBefore;\n}\n\nfunction euclidianSearch( targetX, targetY, haystackX, haystackY, scaleX = 1, scaleY = 1 ) {\n\n  let distance = Number.MAX_VALUE,\n    distance_i;\n\n  let index = -1;\n\n  for ( var i = 0, l = haystackX.length; i < l; i++ ) {\n\n    distance_i = ( ( ( ( targetX - haystackX[ i ] ) * scaleX ) ** 2 + ( ( targetY - haystackY[ i ] ) * scaleY ) ** 2 ) );\n\n    if ( distance_i < distance ) {\n\n      index = i;\n      distance = distance_i;\n    }\n  }\n\n  return index;\n}\n\nfunction binarySearch( target, haystack, reverse = haystack[ haystack.length - 1 ] < haystack[ 0 ] ) {\n\n  let seedA = 0,\n    length = haystack.length,\n    seedB = ( length - 1 ),\n    seedInt,\n    i = 0,\n    nanDirection = 1;\n\n  if ( ( !reverse && ( haystack[ 0 ] > target || haystack[ seedB ] < target ) ) || ( reverse && ( haystack[ 0 ] < target || haystack[ seedB ] > target ) ) ) {\n    throw new Error( `Target ${target} is not in the stack` );\n  }\n\n  if ( haystack[ seedA ] == target ) {\n    return seedA;\n  }\n\n  if ( haystack[ seedB ] == target ) {\n    return seedB;\n  }\n\n  while ( true ) {\n    i++;\n    if ( i > 100 ) {\n      throw new Error( 'Error loop' );\n    }\n\n    seedInt = Math.floor( ( seedA + seedB ) / 2 );\n\n    //  seedInt -= seedInt % 2; // Always looks for an x.\n\n    while ( isNaN( haystack[ seedInt ] ) ) {\n\n      if ( seedInt >= haystack.length - 1 ) {\n\n        return haystack.length - 1;\n\n      } else if ( seedInt <= 0 ) {\n\n        return 0;\n      }\n\n      seedInt += nanDirection;\n    }\n\n    if ( seedInt == seedA || haystack[ seedInt ] == target || seedInt == seedB ) {\n      return seedInt;\n    }\n\n    //    console.log(seedA, seedB, seedInt, haystack[seedInt]);\n    if ( haystack[ seedInt ] < target ) {\n      if ( reverse ) {\n        seedB = seedInt;\n      } else {\n        seedA = seedInt;\n      }\n    } else if ( haystack[ seedInt ] > target ) {\n      if ( reverse ) {\n        seedA = seedInt;\n      } else {\n        seedB = seedInt;\n      }\n    } else {\n      return false;\n    }\n\n    nanDirection *= -1;\n  }\n}\n\nexport default Waveform;","import GraphPosition from './graph.position.js';\nimport * as util from './graph.util.js';\nimport EventEmitter from './dependencies/eventEmitter/EventEmitter.js';\nimport Waveform from './util/waveform.js';\n\n/**\n * Default graph parameters\n * @name Graph~GraphOptionsDefault\n * @name GraphOptions\n * @object\n * @static\n * @memberof Graph\n * @prop {String} title - Title of the graph\n * @prop {Number} paddingTop - The top padding\n * @prop {Number} paddingLeft - The left padding\n * @prop {Number} paddingRight - The right padding\n * @prop {Number} paddingBottom - The bottom padding\n * @prop {(Number|Boolean)} padding - A common padding value for top, bottom, left and right\n * @prop {Number} fontSize - The basic text size of the graphs\n * @prop {Number} fontFamily - The basic font family. Should be installed on the computer of the user\n * @prop {Object.<String,Object>} plugins - A list of plugins to import with their options\n * @prop {Object.<String,Object>} pluginAction - The default key combination to access those actions\n * @prop {Object.<String,Object>} mouseActions - Alias of pluginActions\n * @prop {Object.<String,Object>} keyActions - Defines what happens when keys are pressed\n * @prop {Object} wheel - Define the mouse wheel action\n * @prop {Object} dblclick - Define the double click action\n * @prop {Boolean} shapesUniqueSelection - true to allow only one shape to be selected at the time\n * @prop {Boolean} shapesUnselectOnClick - true to unselect all shapes on click\n */\nconst GraphOptionsDefault = {\n\n  title: '',\n\n  paddingTop: 30,\n  paddingBottom: 5,\n  paddingLeft: 20,\n  paddingRight: 20,\n\n  close: {\n    left: true,\n    right: true,\n    top: true,\n    bottom: true\n  },\n\n  closeColor: 'black',\n\n  fontSize: 12,\n  fontFamily: 'Myriad Pro, Helvetica, Arial',\n\n  plugins: {},\n  pluginAction: {},\n  mouseActions: [],\n  keyActions: [],\n  wheel: {},\n  dblclick: {},\n\n  shapesUnselectOnClick: true,\n  shapesUniqueSelection: true\n};\n\nconst defaultScatterStyle = {\n  shape: 'circle',\n  r: 4\n};\n\nvar _constructors = new Map();\n\n/**\n * Entry class of jsGraph that creates a new graph.\n * @extends EventEmitter\n * @tutorial basic\n */\nclass Graph extends EventEmitter {\n\n  /**\n   * Graph constructor\n   * @param {(HTMLElement|String)} [wrapper ] - The DOM Wrapper element its ```id``` property. If you do not use the wrapper during the graph creation, use it with the @link{Graph.setWrapper} method\n   * @param {GraphOptions} [ options ] - The options of the graph\n   * @param {Object} [ axis ] - The list of axes\n   * @param {Array} axis.left - The list of left axes\n   * @param {Array} axis.bottom - The list of bottom axes\n   * @param {Array} axis.top - The list of top axes\n   * @param {Array} axis.right - The list of right axes\n   * @example var graph = new Graph(\"someDomID\");\n   * @example var graph = new Graph(\"someOtherDomID\", { title: 'Graph title', paddingRight: 100 } );\n   */\n  constructor( wrapper, options, axis ) {\n\n    super();\n\n    /*\n      The unique ID of the graph\n      @name Graph#uniqueid\n      @type String\n    */\n    this._creation = util.guid();\n    this._drawn = false;\n\n    if ( wrapper === Object( wrapper ) && !( wrapper instanceof HTMLElement ) ) { // Wrapper is options\n      axis = options;\n      options = wrapper;\n      wrapper = null;\n    } else if ( typeof wrapper == 'string' ) {\n      wrapper = document.getElementById( wrapper );\n    } else if ( typeof wrapper.length == 'number' ) {\n      wrapper = wrapper[ 0 ];\n    }\n\n    /**\n     * @object\n     * @memberof Graph\n     * @name Graph#options\n     * @type GraphOptions\n     * @default {@link GraphOptionsDefault}\n     * Access directly the options of the graph using this public object.\n     * @example graph.options.mouseActions.push( {  } );\n     */\n    this.options = util.extend( {}, GraphOptionsDefault, options );\n    // Options declaration must be placed before the doDom operation\n\n    // doDom is a private method. We bind it to this thanks to ES6 features\n    ( doDom.bind( this ) )();\n\n    if ( wrapper ) {\n      this.setWrapper( wrapper );\n    }\n\n    this.prevented = false;\n\n    this.axis = {\n      left: [],\n      top: [],\n      bottom: [],\n      right: []\n    };\n\n    this.shapes = [];\n    this.shapesLocked = false;\n    this.plugins = {};\n\n    for ( var i in this.options.pluginAction ) {\n      this.options.pluginAction.plugin = i;\n      this.options.mouseActions.push( this.options.pluginAction );\n    }\n\n    this.selectedShapes = [];\n\n    this.series = [];\n    //this._dom = wrapper;\n    this._axesHaveChanged = true;\n\n    if ( this.options.hasOwnProperty( 'padding' ) && util.isNumeric( this.options.padding ) ) {\n      this.options.paddingTop = this.options.paddingBottom = this.options.paddingLeft = this.options.paddingRight = this.options.padding;\n    }\n\n    this.currentAction = false;\n\n    this.ns = Graph.ns;\n    this.nsxlink = Graph.nsxlink;\n\n    // Load all axes\n    if ( axis ) {\n      for ( var i in axis ) {\n        for ( var j = 0, l = axis[ i ].length; j < l; j++ ) {\n\n          switch ( i ) {\n\n            case 'top':\n              this.getTopAxis( j, axis[ i ][ j ] );\n              break;\n            case 'left':\n              this.getLeftAxis( j, axis[ i ][ j ] );\n              break;\n            case 'right':\n              this.getRightAxis( j, axis[ i ][ j ] );\n              break;\n            case 'bottom':\n              this.getBottomAxis( j, axis[ i ][ j ] );\n              break;\n\n            default: // Do not do anything\n              break;\n          }\n        }\n      }\n    }\n\n    this._pluginsInit();\n\n  }\n\n  setWrapper( wrapper ) {\n\n    if ( !wrapper ) {\n      throw new Error( 'The wrapper DOM element was not found.' );\n    }\n\n    if ( !wrapper.appendChild ) {\n      throw new Error( 'The wrapper appears to be an invalid HTMLElement' );\n    }\n\n    wrapper.style[ '-webkit-user-select' ] = 'none';\n    wrapper.style[ '-moz-user-select' ] = 'none';\n    wrapper.style[ '-o-user-select' ] = 'none';\n    wrapper.style[ '-ms-user-select' ] = 'none';\n    wrapper.style[ 'user-select' ] = 'none';\n\n    wrapper.style.position = 'relative';\n    wrapper.style.outline = 'none';\n\n    // Why would that be necessary ?\n    // wrapper.setAttribute( 'tabindex', 1 );\n\n    this.wrapper = wrapper;\n\n    // DOM\n\n    if ( !this.height || !this.width ) {\n      var wrapperStyle = getComputedStyle( wrapper );\n      var w = parseInt( wrapperStyle.width, 10 );\n      var h = parseInt( wrapperStyle.height, 10 );\n      this.setSize( w, h );\n      this._resize();\n    }\n\n    wrapper.appendChild( this.dom );\n\n    _registerEvents( this );\n\n  }\n  /**\n   * Returns the graph SVG wrapper element\n   * @public\n   * @return {SVGElement} The DOM element wrapping the graph\n   */\n  getDom() {\n    return this.dom;\n  }\n\n  /**\n   * Returns the unique id representing the graph\n   * @public\n   * @return {String} The unique ID of the graph\n   */\n  getId() {\n    return this._creation;\n  }\n\n  /**\n   * Returns the graph wrapper element passed during the graph creation\n   * @public\n   * @return {HTMLElement} The DOM element wrapping the graph\n   */\n  getWrapper() {\n    return this.wrapper;\n  }\n\n  /**\n   * Sets an option of the graph\n   * @param {String} name - Option name\n   * @param value - New option value\n   * @returns {Graph} - Graph instance\n   */\n  setOption( name, val ) {\n    this.options[ name ] = val;\n    return this;\n  }\n\n  /**\n   *  Sets the title of the graph\n   */\n  setTitle( title ) {\n    this.options.title = title;\n    this.domTitle.textContent = title;\n  }\n\n  /**\n   *  Shows the title of the graph\n   */\n  displayTitle() {\n    this.domTitle.setAttribute( 'display', 'inline' );\n  }\n\n  /**\n   *  Hides the title of the graph\n   */\n  hideTitle() {\n    this.domTitle.setAttribute( 'display', 'none' );\n  }\n\n  hide() {\n    if ( this.dom.style.display !== 'none' ) {\n      this.dom.style.display = 'none';\n    }\n  }\n\n  show() {\n    if ( this.dom.style.display == 'none' ) {\n      this.dom.style.display = 'initial';\n    }\n  }\n\n  /**\n   * Calls a repaint of the container. Used internally when zooming on the graph, or when <code>.autoscaleAxes()</code> is called (see {@link Graph#autoscaleAxes}).<br />\n   * To be called after axes min/max are expected to have changed (e.g. after an <code>axis.zoom( from, to )</code>) has been called\n   * @param {Boolean} onlyIfAxesHaveChanged - Triggers a redraw only if min/max values of the axes have changed.\n   * @return {Boolean} if the redraw has been successful\n   */\n  redraw( onlyIfAxesHaveChanged, force ) {\n\n    if ( !this.width || !this.height ) {\n      return;\n    }\n\n    if ( !this.sizeSet ) {\n      this._resize();\n      this.executeRedrawSlaves();\n      return true;\n\n    } else {\n\n      if ( !onlyIfAxesHaveChanged || force || haveAxesChanged( this ) || hasSizeChanged( this ) ) {\n        this.executeRedrawSlaves();\n        refreshDrawingZone( this );\n        return true;\n      }\n    }\n\n    this.executeRedrawSlaves( true );\n    return false;\n  }\n\n  executeRedrawSlaves() {\n    this._pluginsExecute( 'preDraw' );\n\n  }\n\n  /**\n   * Draw the graph and the series. This method will only redraw what is necessary. You may trust its use when you have set new data to series, changed serie styles or called for a zoom on an axis.\n   */\n  draw( force ) {\n\n    this.drawn = true;\n    this.updateLegend( true );\n    this.drawSeries( this.redraw( true, force ) );\n\n    this._pluginsExecute( 'postDraw' );\n\n  }\n\n  /**\n   *  Prevents the graph, the series and the legend from redrawing automatically. Valid until {@link Graph#resumeUpdate} is called\n   *  @memberof Graph\n   *  @return {Graph} The current graph instance\n   *  @see {@link Graph#resumeUpdate}\n   *  @see {@link Graph#doUpdate}\n   *  @since 1.16.19\n   */\n  delayUpdate() {\n    this._lockUpdate = true;\n    return this;\n  }\n\n  /**\n   *  Forces legend and graph update, even is {@link Graph#delayUpdate} has been called before.\n   *  @memberof Graph\n   *  @return {Graph} The current graph instance\n   *  @see {@link Graph#delayUpdate}\n   *  @see {@link Graph#resumeUpdate}\n   *  @since 1.16.19\n   */\n  doUpdate() {\n    if ( this.legend ) {\n      this.legend.update();\n    }\n    this.draw();\n    if ( this.legend ) {\n      this.legend.update();\n    }\n    return this;\n  }\n\n  /**\n   *  Cancels the effect of {@link Graph#delayUpdate}, but does not redraw the graph automatically\n   *  @memberof Graph\n   *  @return {Graph} The current graph instance\n   *  @see {@link Graph#delayUpdate}\n   *  @see {@link Graph#doUpdate}\n   *  @since 1.16.19\n   */\n  resumeUpdate() {\n    this._lockUpdate = false;\n    return this;\n  }\n\n  isDelayedUpdate() {\n    return this._lockUpdate;\n  }\n\n  /**\n   * Sets the total width of the graph\n   * @param {Number} width - The new width of the graph\n   * @param {Boolean} skipResize - <code>true</code> to defer graph repaint. Use {@link Graph#resize} to force repain later on. (Useful if many graph sizing operations are done successively)\n   * @see Graph#setHeight\n   * @see Graph#resize\n   */\n  setWidth( width, skipResize ) {\n    this.width = width;\n    if ( !skipResize ) {\n      this._resize();\n    }\n  }\n\n  /**\n   * Sets the total height of the graph\n   * @param {Number} height - The new height of the graph\n   * @param {Boolean} skipResize - <code>true</code> to defer graph repaint. Use {@link Graph#resize} to force repain later on. (Useful if many graph sizing operations are done successively)\n   * @see Graph#setWidth\n   * @see Graph#resize\n   */\n  setHeight( height, skipResize ) {\n    this.height = height;\n    if ( !skipResize ) {\n      this._resize();\n    }\n  }\n\n  /**\n   * Sets the new dimension of the graph and repaints it. If width and height are omitted, a simple refresh is done.\n   * @param {Number} [ width ] - The new width of the graph\n   * @param {Number} [ height ] - The new height of the graph\n   * @see Graph#setWidth\n   * @see Graph#setHeight\n   * @return {Graph} The current graph\n   */\n  resize( w, h ) {\n    if ( w && h ) {\n      this.setSize( w, h );\n    }\n\n    this._resize();\n    return this;\n  }\n\n  /**\n   * Sets the new dimension of the graph without repainting it. Use {@link Graph#resize} to perform the actual resizing of the graph.\n   * @param {Number} [ width ] - The new width of the graph\n   * @param {Number} [ height ] - The new height of the graph\n   * @see Graph#setWidth\n   * @see Graph#setHeight\n   * @see Graph#resize\n   */\n  setSize( w, h ) {\n    this.setWidth( w, true );\n    this.setHeight( h, true );\n    this.getDrawingHeight();\n    this.getDrawingWidth();\n  }\n\n  /**\n   * Returns the width of the graph (set by setSize, setWidth or resize methods)\n   * @return {Number} Width of the graph\n   */\n  getWidth() {\n    return this.width;\n  }\n\n  /**\n   * Returns the height of the graph (set by setSize, setHeight or resize methods)\n   * @return {Number} Height of the graph\n   */\n  getHeight() {\n    return this.height;\n  }\n\n  /**\n   * Returns the top padding of the graph (space between the top of the svg container and the topmost axis)\n   * @return {Number} paddingTop\n   */\n  getPaddingTop() {\n    return this.options.paddingTop;\n  }\n\n  /**\n   * Returns the left padding of the graph (space between the left of the svg container and the leftmost axis)\n   * @return {Number} paddingTop\n   */\n  getPaddingLeft() {\n    return this.options.paddingLeft;\n  }\n\n  /**\n   * Returns the bottom padding of the graph (space between the bottom of the svg container and the bottommost axis)\n   * @return {Number} paddingTop\n   */\n  getPaddingBottom() {\n    return this.options.paddingBottom;\n  }\n\n  /**\n   * Returns the right padding of the graph (space between the right of the svg container and the rightmost axis)\n   * @return {Number} paddingRight\n   */\n  getPaddingRight() {\n    return this.options.paddingRight;\n  }\n\n  /**\n   * Returns the height of the drawable zone, including the space used by the axes\n   * @param {Boolean} useCache - Use cached value. Useful if one is sure the graph hasn't changed dimension. Automatically called after a Graph.resize();\n   * @returns {Number} Height of the graph\n   */\n  getDrawingHeight( useCache ) {\n    if ( useCache && this.innerHeight ) {\n      return this.innerHeight;\n    }\n    return ( this.innerHeight = ( this.height - this.options.paddingTop - this.options.paddingBottom ) );\n  }\n\n  /**\n   * Returns the width of the drawable zone, including the space used by the axes\n   * @param {Boolean} useCache - Use cached value. Useful if one is sure the graph hasn't changed dimension. Automatically called after a Graph.resize();\n   * @returns {Number} Width of the graph\n   */\n  getDrawingWidth( useCache ) {\n    if ( useCache && this.innerWidth ) {\n      return this.innerWidth;\n    }\n    return ( this.innerWidth = ( this.width - this.options.paddingLeft - this.options.paddingRight ) );\n  }\n\n  /**\n   * Caches the wrapper offset in the page.<br />\n   * The position of the wrapper is used when processing most of mouse events and it is fetched via the jQuery function .offset().\n   * If performance becomes a critical issue in your application, <code>cacheOffset()</code> should be used to store the offset position. It should be ensured that the graph doesn't move in the page. If one can know when the graph has moved, <code>cacheOffset()</code> should be called again to update the offset position.\n   * @see Graph#uncacheOffset\n   */\n  cacheOffset() {\n    this.offsetCached = util.getOffset( this.wrapper );\n  }\n\n  /**\n   * Un-caches the wrapper offset value\n   * @see Graph#cacheOffset\n   */\n  uncacheOffset() {\n    this.offsetCached = false;\n  }\n\n  /**\n   * Returns the x axis at a certain index. If any top axis exists and no bottom axis exists, returns or creates a top axis. Otherwise, creates or returns a bottom axis\n   * Caution ! The <code>options</code> parameter will only be effective if an axis is created\n   * @param {Number} [ index=0 ] - The index of the axis\n   * @param {Object} [ options={} ] - The options to pass to the axis constructor\n   */\n  getXAxis( index, options ) {\n    if ( this.axis.top.length > 0 && this.axis.bottom.length == 0 ) {\n      return this.getTopAxis( index, options );\n    }\n\n    return this.getBottomAxis( index, options );\n  }\n\n  /**\n   * Returns the y axis at a certain index. If any right axis exists and no left axis exists, returns or creates a right axis. Otherwise, creates or returns a left axis\n   * Caution ! The <code>options</code> parameter will only be effective if an axis is created\n   * @param {Number} [ index=0 ] - The index of the axis\n   * @param {Object} [ options={} ] - The options to pass to the axis constructor\n   */\n  getYAxis( index, options ) {\n\n    if ( this.axis.right.length > 0 && this.axis.left.length == 0 ) {\n      return this.getRightAxis( index, options );\n    }\n\n    return this.getLeftAxis( index, options );\n  }\n\n  /**\n   * Returns the top axis at a certain index. Creates it if non-existant\n   * @param {Number} [ index=0 ] - The index of the axis\n   * @param {Object} [ options={} ] - The options to pass to the axis constructor\n   */\n  getTopAxis( index, options ) {\n    return _getAxis( this, index, options, 'top' );\n  }\n\n  /**\n   * Returns the bottom axis at a certain index. Creates it if non-existant\n   * @param {Number} [ index=0 ] - The index of the axis\n   * @param {Object} [ options={} ] - The options to pass to the axis constructor\n   */\n  getBottomAxis( index, options ) {\n    return _getAxis( this, index, options, 'bottom' );\n  }\n\n  /**\n   * Returns the left axis at a certain index. Creates it if non-existant\n   * @param {Number} [ index=0 ] - The index of the axis\n   * @param {Object} [ options={} ] - The options to pass to the axis constructor\n   */\n  getLeftAxis( index, options ) {\n    return _getAxis( this, index, options, 'left' );\n  }\n\n  /**\n   * Returns the right axis at a certain index. Creates it if non-existant\n   * @param {Number} [ index=0 ] - The index of the axis\n   * @param {Object} [ options={} ] - The options to pass to the axis constructor\n   */\n  getRightAxis( index, options ) {\n    return _getAxis( this, index, options, 'right' );\n  }\n\n  /**\n   * Sets a bottom axis\n   * @param {Axis} axis - The axis instance to set\n   * @param {Number} [ index=0 ] - The index of the axis\n   */\n  setXAxis( axis, index ) {\n    this.setBottomAxis( axis, index );\n  }\n\n  /**\n   * Sets a left axis\n   * @param {Axis} axis - The axis instance to set\n   * @param {Number} [ index=0 ] - The index of the axis\n   */\n  setYAxis( axis, index ) {\n    this.setLeftAxis( axis, index );\n  }\n\n  /**\n   * Sets a left axis\n   * @param {Axis} axis - The axis instance to set\n   * @param {Number} [ index=0 ] - The index of the axis\n   * @see Graph#setBottomAxis\n   * @see Graph#setTopAxis\n   * @see Graph#setRightAxis\n   * @see Graph#getLeftAxis\n   * @see Graph#getYAxis\n   */\n  setLeftAxis( axis, index ) {\n    index = index || 0;\n\n    if ( this.axis.left[ index ] ) {\n      this.axis.left[ index ].kill();\n    }\n    this.axis.left[ index ] = axis;\n  }\n\n  /**\n   * Sets a right axis\n   * @param {Axis} axis - The axis instance to set\n   * @param {Number} [ index=0 ] - The index of the axis\n   * @see Graph#setBottomAxis\n   * @see Graph#setLeftAxis\n   * @see Graph#setTopAxis\n   * @see Graph#getRightAxis\n   * @see Graph#getYAxis\n   */\n  setRightAxis( axis, index ) {\n    index = index || 0;\n\n    if ( this.axis.right[ index ] ) {\n      this.axis.right[ index ].kill();\n    }\n    this.axis.right[ index ] = axis;\n  }\n\n  /**\n   * Sets a top axis\n   * @param {Axis} axis - The axis instance to set\n   * @param {Number} [ index=0 ] - The index of the axis\n   * @see Graph#setBottomAxis\n   * @see Graph#setLeftAxis\n   * @see Graph#setRightAxis\n   * @see Graph#getBottomAxis\n   * @see Graph#getXAxis\n   */\n  setTopAxis( axis, index ) {\n    index = index || 0;\n\n    if ( this.axis.top[ index ] ) {\n      this.axis.top[ index ].kill();\n    }\n    this.axis.top[ index ] = axis;\n  }\n\n  /**\n   * Sets a bottom axis\n   * @param {Axis} axis - The axis instance to set\n   * @param {Number} [ index=0 ] - The index of the axis\n   * @see Graph#setTopAxis\n   * @see Graph#setLeftAxis\n   * @see Graph#setRightAxis\n   * @see Graph#getTopAxis\n   * @see Graph#getXAxis\n   */\n  setBottomAxis( axis, index ) {\n    index = index || 0;\n\n    if ( this.axis.bottom[ index ] ) {\n      this.axis.bottom[ index ].kill();\n    }\n    this.axis.bottom[ index ] = axis;\n  }\n\n  killAxis( axis, noRedraw = false, noSerieKill = false ) {\n\n    var index;\n\n    if ( axis.isX() ) {\n\n      if ( ( index = this.axis.bottom.indexOf( axis ) ) > -1 ) {\n        this.axis.bottom.splice( index, 1 );\n      }\n\n      if ( ( index = this.axis.top.indexOf( axis ) ) > -1 ) {\n        this.axis.top.splice( index, 1 );\n      }\n\n      if ( !noSerieKill ) {\n        this.series.forEach( ( serie ) => {\n\n          if ( serie.getXAxis() == axis ) {\n            serie.kill();\n          }\n        } );\n      }\n    }\n\n    if ( axis.isY() ) {\n\n      if ( ( index = this.axis.left.indexOf( axis ) ) > -1 ) {\n        this.axis.left.splice( index, 1 );\n      }\n\n      if ( ( index = this.axis.right.indexOf( axis ) ) > -1 ) {\n        this.axis.right.splice( index, 1 );\n      }\n\n      if ( !noSerieKill ) {\n        this.series.forEach( ( serie ) => {\n\n          if ( serie.getYAxis() == axis ) {\n            serie.kill();\n          }\n        } );\n      }\n    }\n\n    this.axisGroup.removeChild( axis.group ); // Removes all DOM\n    this.groupPrimaryGrids.removeChild( axis.gridPrimary );\n    this.groupSecondaryGrids.removeChild( axis.gridSecondary );\n\n    if ( !noRedraw ) {\n      this.draw( true );\n    }\n  }\n\n  /**\n   * Determines if an x axis belongs to the graph\n   * @param {Axis} axis - The axis instance to check\n   */\n  hasXAxis( axis ) {\n    return this.hasTopAxis( axis ) || this.hasBottomAxis( axis );\n  }\n\n  /**\n   * Determines if an x axis belongs to the graph\n   * @param {Axis} axis - The axis instance to check\n   */\n  hasYAxis( axis ) {\n    return this.hasLeftAxis( axis ) || this.hasRightAxis( axis );\n  }\n\n  /**\n   * Determines if an x axis belongs to top axes list of the graph\n   * @param {Axis} axis - The axis instance to check\n   */\n  hasTopAxis( axis ) {\n    return this.hasAxis( axis, this.axis.top );\n  }\n\n  /**\n   * Determines if an x axis belongs to bottom axes list of the graph\n   * @param {Axis} axis - The axis instance to check\n   */\n  hasBottomAxis( axis ) {\n    return this.hasAxis( axis, this.axis.bottom );\n  }\n\n  /**\n   * Determines if a y axis belongs to left axes list of the graph\n   * @param {Axis} axis - The axis instance to check\n   */\n  hasLeftAxis( axis ) {\n    return this.hasAxis( axis, this.axis.left );\n  }\n\n  /**\n   * Determines if a y axis belongs to right axes list of the graph\n   * @param {Axis} axis - The axis instance to check\n   */\n  hasRightAxis( axis ) {\n    return this.hasAxis( axis, this.axis.right );\n  }\n\n  /**\n   * Determines if an axis belongs to a list of axes\n   * @param {Axis} axis - The axis instance to check\n   * @param {Array} axisList - The list of axes to check\n   * @private\n   */\n  hasAxis( axis, axisList ) {\n    for ( var i = 0, l = axisList.length; i < l; i++ ) {\n      if ( axisList[ i ] == axis ) {\n        return true;\n      }\n\n      if ( axisList[ i ].hasAxis( axis ) ) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  /**\n   * Autoscales the x and y axes of the graph.\n   * Does not repaint the canvas\n   * @return {Graph} The current graph instance\n   */\n  autoscaleAxes() {\n\n    this._applyToAxes( 'setMinMaxToFitSeries', null, true, true );\n\n    //this._applyToAxes( \"scaleToFitAxis\", [ this.getYAxis() ], false, true )\n    // X is not always ascending...\n    return this;\n  }\n\n  // See #138\n  /**\n   *  @alias Graph#autoscaleAxes\n   */\n  autoscale() {\n    return this.autoscaleAxes( ...arguments );\n  }\n\n  // See #138\n  /**\n   *  @alias Graph#autoscaleAxes\n   */\n  autoScale() {\n    return this.autoscaleAxes( ...arguments );\n  }\n\n  // See #138\n  /**\n   *  @alias Graph#autoscaleAxes\n   */\n  autoScaleAxes() {\n    return this.autoscaleAxes( ...arguments );\n  }\n\n  // See #138\n  /**\n   *  Autoscales a particular axis\n   *  @param {Axis} The axis to rescale\n   *  @return {Graph} The current graph instance\n   */\n  autoScaleAxis( axis ) {\n    if ( !axis ) {\n      return this;\n    }\n\n    axis.setMinMaxToFitSeries();\n    return this;\n  }\n\n  /**\n   * Sets the background color\n   * @param {String} color - An SVG accepted color for the background\n   * @return {Graph} The current graph instance\n   */\n  setBackgroundColor( color ) {\n\n    this.rectEvent.setAttribute( 'fill', color );\n    return this;\n  }\n\n  getAxisState() {\n\n    var state = {};\n    for ( var i in this.axis ) {\n      state[ i ] = this.axis[ i ].map( function( axis ) {\n        return [ axis.getCurrentMin(), axis.getCurrentMax() ];\n      } );\n    }\n    return state;\n  }\n\n  setAxisState( state ) {\n\n    var j, l;\n    for ( var i in state ) {\n\n      if ( !this.axis[ i ] ) {\n        continue;\n      }\n\n      for ( j = 0, l = state[ i ].length; j < l; j++ ) {\n\n        if ( !this.axis[ i ][ j ] ) {\n          continue;\n        }\n\n        this.axis[ i ][ j ].setCurrentMin( state[ i ][ j ][ 0 ] );\n        this.axis[ i ][ j ].setCurrentMax( state[ i ][ j ][ 1 ] );\n      }\n    }\n\n    this.draw();\n  }\n\n  saveAxisState( savedName ) {\n    this.savedAxisState = this.savedAxisState || {};\n    this.savedAxisState[ savedName ] = this.getAxisState();\n    return this;\n  }\n\n  recallAxisState( savedName ) {\n    if ( this.savedAxisState[ savedName ] ) {\n      this.recallAxisState( this.savedAxisState[ savedName ] );\n    }\n    return this;\n  }\n\n  _applyToAxis( type ) {\n\n    switch ( type ) {\n\n      case 'string':\n        return function( type, func, params ) {\n          //    params.splice(1, 0, type);\n\n          for ( var i = 0; i < this.axis[ type ].length; i++ ) {\n            this.axis[ type ][ i ][ func ].apply( this.axis[ type ][ i ], params );\n          }\n        };\n\n      case 'function':\n        return function( type, func, params ) {\n          for ( var i = 0; i < this.axis[ type ].length; i++ ) {\n            func.call( this, this.axis[ type ][ i ], type, params );\n          }\n        };\n\n      default:\n        throw new Error( 'You must either execute a function or provide a string that registers a function' );\n    }\n  }\n\n  /**\n   * Calculates the minimal or maximal value of the axis. Currently, alias of getBoudaryAxisFromSeries\n   */\n  getBoundaryAxis( axis, minmax, usingZValues ) {\n\n    var valSeries = this.getBoundaryAxisFromSeries( axis, minmax, usingZValues );\n    //  var valShapes = this.getBoundaryAxisFromShapes( axis, xy, minmax );\n    return valSeries;\n    //return Math[ minmax ]( valSeries, valShapes );\n\n  }\n\n  /**\n   * Calculates the minimal or maximal value of the axis, based on the series that belong to it. The value is computed so that all series just fit in the value.\n   * @memberof Graph.prototype\n   * @param {Axis} axis - The axis for which the value should be computed\n   * @param {minmax} minmax - The minimum or maximum to look for. \"min\" for the minimum, anything else for the maximum\n   * @returns {Number} The minimimum or maximum of the axis based on its series\n   */\n  getBoundaryAxisFromSeries( axis, minmax, usingZValues ) {\n\n    var min = minmax == 'min',\n      val,\n      func = axis.isX() ? [ 'getMinX', 'getMaxX' ] : [ 'getMinY', 'getMaxY' ],\n      func2use = func[ min ? 0 : 1 ],\n      infinity2use = min ? +Infinity : -Infinity,\n      serie,\n      series,\n      serieValue,\n      i,\n      l;\n\n    val = infinity2use;\n    series = this.getSeriesFromAxis( axis );\n\n    for ( i = 0, l = series.length; i < l; i++ ) {\n\n      serie = series[ i ];\n\n      if ( !serie.isShown() ) {\n        continue;\n      }\n\n      serieValue = serie[ func2use ]( usingZValues );\n      val = Math[ minmax ]( isNaN( val ) ? infinity2use : val, isNaN( serieValue ) ? infinity2use : serieValue );\n    }\n\n    return val;\n  }\n\n  /**\n   *  Returns all the series associated to an axis\n   *  @param {Axis} axis - The axis to which the series belong\n   *  @returns {Serie[]} An array containing the list of series that belong to the axis\n   */\n  getSeriesFromAxis( axis ) {\n    var series = [],\n      i = this.series.length - 1;\n\n    for ( ; i >= 0; i-- ) {\n      if ( this.series[ i ].getXAxis() == axis || this.series[ i ].getYAxis() == axis ) {\n        series.push( this.series[ i ] );\n      }\n    }\n\n    return series;\n  }\n\n  /**\n   * Determines the maximum and minimum of each axes, based on {@link Graph#getBoundaryAxis}. It is usually called internally, but if the data of series has changed, called this function to make sure that minimum / maximum of the axes are properly updated.\n   * @see Graph#getBoundaryAxis\n   */\n  updateDataMinMaxAxes( usingZValues ) {\n\n    var axisvars = [ 'bottom', 'top', 'left', 'right' ],\n      axis,\n      j,\n      l,\n      i;\n\n    for ( j = 0, l = axisvars.length; j < l; j++ ) {\n\n      for ( i = this.axis[ axisvars[ j ] ].length - 1; i >= 0; i-- ) {\n\n        axis = this.axis[ axisvars[ j ] ][ i ];\n\n        // 25.10.2017. Wait a second, this cannot be real. Even hidden axes must have min max values.\n        // The data can be displayed while the axis is hidden\n        // I assume this was added to cover another bug, but another approach must be chosen\n        if ( !axis.isShown() ) {\n          //          continue;\n        }\n\n        //console.log( axisvars[ j ], this.getBoundaryAxisFromSeries( this.axis[ axisvars[ j ] ][ i ], xy, 'min'), this.getBoundaryAxisFromSeries( this.axis[ axisvars[ j ] ][ i ], xy, 'max') );\n\n        let min = this.getBoundaryAxis( this.axis[ axisvars[ j ] ][ i ], 'min', usingZValues );\n        let max = this.getBoundaryAxis( this.axis[ axisvars[ j ] ][ i ], 'max', usingZValues );\n\n        if ( isFinite( max ) ) {\n          axis.setMaxValueData( max );\n        }\n        if ( isFinite( min ) ) {\n          axis.setMinValueData( min );\n        }\n      }\n    }\n  }\n\n  /**\n   * Function that is called from {@link Graph#_applyToAxes}\n   * @function\n   * @name AxisCallbackFunction\n   * @param {Axis} axis - The axis of the function\n   * @param {String} type - The type of the axis (left,right,top,bottom)\n   * @param params - The params passed in the _applyToAxis function.\n   * @see Graph#_applyToAxes\n   */\n\n  /**\n   * Applies a function to axes. The function will be executed once for every axis.\n   * If func is a string, the internal function belonging to <strong>the axis</strong> will be called, with the params array flattened out (in this case, params must be an array).\n   * If func is a function, the function will be called with the axis, its type and params as parameters. See {@link AxisCallbackFunction} for more details.\n   * @param {(AxisCallbackFunction|String)} func - The function or function name to execute\n   * @param params - Extra parameters to pass to the function\n   * @param {Boolean} topbottom=false - True to apply to function to top and bottom axes\n   * @param {Boolean} leftright=false - True to apply to function to left and right axes\n   */\n  _applyToAxes( func, params, tb, lr ) {\n\n    var ax = [],\n      i = 0,\n      l;\n\n    if ( tb || tb == undefined ) {\n      ax.push( 'top' );\n      ax.push( 'bottom' );\n    }\n    if ( lr || lr == undefined ) {\n      ax.push( 'left' );\n      ax.push( 'right' );\n    }\n\n    for ( l = ax.length; i < l; i++ ) {\n      this._applyToAxis( typeof func ).call( this, ax[ i ], func, params );\n    }\n  }\n\n  /**\n   * Axes can be dependant of one another (for instance for unit conversions)\n   * Finds and returns all the axes that are linked to a specific axis. Mostly used internally.\n   * @param {Axis} axis - The axis that links one or multiple other dependant axes\n   * @returns {Axis[]} The list of axes linked to the axis passed as parameter\n   */\n  findAxesLinkedTo( axis ) {\n\n    var axes = [];\n    this._applyToAxes( function( a ) {\n\n      if ( a.linkedToAxis && a.linkedToAxis.axis == axis ) {\n        axes.push( a );\n      }\n    }, {}, axis instanceof this.getConstructor( 'graph.axis.x' ), axis instanceof this.getConstructor( 'graph.axis.y' ) );\n\n    return axes;\n  }\n\n  _axisHasChanged() {\n    this._axesHaveChanged = true;\n  }\n\n  /**\n   * Creates a new serie.\n   * If the a serie with the same name exists, returns this serie with update options.\n   * The type of the serie is used to fetch the corresponding registered constructor registered with the name \"graph.serie.<type>\", e.g \"line\" will fetch the \"graph.serie.line\" prototype (built-in)<br />\n   * Built-in series types are \"line\", \"contour\", \"zone\" and \"scatter\".\n   * @param {String} name - The name of the serie (unique)\n   * @param {Object} options - The serie options\n   * @param {Type} type - The type of the serie.\n   * @returns {Serie} The newly created serie\n   */\n  newSerie( name, options, type ) {\n\n    let serie;\n\n    if ( typeof options !== 'object' && !type ) {\n      type = options;\n      options = {};\n    }\n\n    if ( !type ) {\n      type = Graph.SERIE_LINE;\n    }\n\n    if ( ( serie = this.getSerie( name ) ) ) {\n      return serie;\n    }\n\n    if ( !( serie = makeSerie( this, name, options, type ) ) ) {\n      return;\n    }\n\n    this.series.push( serie );\n\n    serie.postInit();\n    this.emit( 'newSerie', serie );\n    return serie;\n  }\n\n  /**\n   * Looks for an existing serie by name or by index and returns it.\n   * The index of the serie follows the creation sequence (0 for the first one, 1 for the second one, ...)\n   * @param {(String|Number)} name - The name or the index of the serie\n   * @returns {Serie}\n   */\n  getSerie( name ) {\n\n    if ( typeof name == 'number' ) {\n      return this.series[ name ] || false;\n    }\n\n    if ( typeof name == 'function' ) {\n      name = name();\n    }\n\n    var i = 0,\n      l = this.series.length;\n\n    for ( ; i < l; i++ ) {\n\n      if ( this.series[ i ].getName() == name || this.series[ i ] == name ) {\n\n        return this.series[ i ];\n\n      }\n    }\n\n    return false;\n  }\n\n  /**\n   * Returns all the series\n   * @returns {Serie[]} An array of all the series\n   */\n  getSeries() {\n    return this.series;\n  }\n\n  /**\n   * Returns all the series that correspond to one or multiple types\n   * @param {...Symbol} type - The serie types to select\n   * @returns {Serie[]} An array of all the series\n   * @example graph.allSeries( Graph.SERIE_LINE, Graph.SERIE_ZONE );\n   */\n  allSeries( ...types ) {\n\n    return this.series.filter( ( serie ) => {\n      return types.include( serie.getType() );\n    } );\n  }\n\n  /**\n   * Draws a specific serie\n   * @param {Serie} serie - The serie to redraw\n   * @param {Boolean} force - Forces redraw even if no data has changed\n   */\n  drawSerie( serie, force ) {\n\n    if ( !serie.draw ) {\n      throw new Error( 'Serie has no method draw' );\n    }\n\n    serie.draw( force );\n  }\n\n  /**\n   * Redraws all visible series\n   * @param {Boolean} force - Forces redraw even if no data has changed\n   */\n  drawSeries( force ) {\n\n    if ( !this.width || !this.height ) {\n      return;\n    }\n\n    var i = this.series.length - 1;\n    for ( ; i >= 0; i-- ) {\n      if ( this.series[ i ].isShown() ) {\n        this.drawSerie( this.series[ i ], force );\n      }\n    }\n  }\n\n  /**\n   * @alias Graph#removeSeries\n   */\n  resetSeries() {\n    this.removeSeries();\n  }\n\n  /**\n   * @alias Graph#removeSeries\n   */\n\n  killSeries() {\n    this.resetSeries();\n  }\n\n  /**\n   * Removes all series from the graph\n   */\n  removeSeries() {\n    while ( this.series[ 0 ] ) {\n      this.series[ 0 ].kill( true );\n    }\n    this.series = [];\n\n    if ( this.legend ) {\n      this.legend.update();\n    }\n  }\n\n  /**\n   * Selects a serie. Only one serie per graph can be selected.\n   * @param {Serie} serie - The serie to select\n   * @param {String} selectName=\"selected\" - The name of the selection\n   */\n  selectSerie( serie, selectName ) {\n\n    if ( !( typeof serie == 'object' ) ) {\n      serie = this.getSerie( serie );\n    }\n\n    if ( this.selectedSerie == serie && this.selectedSerie.selectionType == selectName ) {\n      return;\n    }\n\n    if ( this.selectedSerie !== serie && this.selectedSerie ) {\n      this.unselectSerie( this.selectedSerie );\n    }\n\n    this.selectedSerie = serie;\n    this.triggerEvent( 'onSelectSerie', serie );\n\n    serie.select( selectName || 'selected' );\n  }\n\n  /**\n   * Returns the selected serie\n   * @returns {(Serie|undefined)} The selected serie\n   */\n  getSelectedSerie() {\n    return this.selectedSerie;\n  }\n\n  /**\n   * Unselects a serie\n   * @param {Serie} serie - The serie to unselect\n   */\n  unselectSerie( serie ) {\n\n    if ( !serie.unselect ) {\n      return;\n    }\n\n    serie.unselect();\n    this.selectedSerie = false;\n    this.triggerEvent( 'onUnselectSerie', serie );\n  }\n\n  /**\n   * Returns all the shapes associated to a serie. Shapes can (but don't have to) be associated to a serie. The position of the shape can then be relative to the same axes as the serie.\n   * @param {Serie} serie - The serie containing the shapes\n   * @returns {Shape[]} An array containing a list of shapes associated to the serie\n   */\n  getShapesOfSerie( serie ) {\n\n    var shapes = [];\n    var i = this.shapes.length - 1;\n\n    for ( ; i >= 0; i-- ) {\n\n      if ( this.shapes[ i ].getSerie() == serie ) {\n        shapes.push( this.shapes[ i ] );\n      }\n    }\n\n    return shapes;\n  }\n  makeToolbar( toolbarData ) {\n\n    var constructor = this.getConstructor( 'graph.toolbar' );\n    if ( constructor ) {\n      return this.toolbar = new constructor( this, toolbarData );\n    } else {\n      return util.throwError( 'No constructor exists for toolbar' );\n    }\n  }\n\n  /**\n   *  Returns all shapes from the graph\n   */\n  getShapes() {\n    return this.shapes || [];\n  }\n\n  /**\n   * Creates a new shape. jsGraph will look for the registered constructor \"graph.shape.<shapeType>\".\n   * @param {String} shapeType - The type of the shape\n   * @param {Object} [shapeData] - The options passed to the shape creator\n   * @param {Boolean} [mute=false] - <code>true</code> to create the shape quietly\n   * @param {Object} [shapeProperties] - The native object containing the shape properties in the jsGraph format (caution when using it)\n   * @returns {Shape} The created shape\n   * @see Graph#getConstructor\n   */\n  newShape( shapeType, shapeData, mute = false, shapeProperties ) {\n\n    this.prevent( false );\n\n    if ( !mute ) {\n\n      this.emit( 'beforeNewShape', shapeData );\n\n      if ( this.prevent( false ) ) {\n        return false;\n      }\n    }\n\n    // Backward compatibility\n    if ( typeof shapeType == 'object' ) {\n      mute = shapeData;\n      shapeData = shapeType;\n      shapeType = shapeData.type;\n    }\n\n    shapeData = shapeData || {};\n    shapeData._id = util.guid();\n\n    var constructor;\n    if ( typeof shapeType == 'function' ) {\n      constructor = shapeType;\n    } else {\n      constructor = this.getConstructor( `graph.shape.${ shapeType}` );\n    }\n\n    if ( !constructor ) {\n      return util.throwError( 'No constructor for this shape' );\n    }\n\n    var shape = new constructor( this, shapeData );\n\n    if ( !shape ) {\n      return util.throwError( 'Failed to construct shape.' );\n    }\n\n    shape.type = shapeType;\n    shape.graph = this;\n    shape._data = shapeData;\n\n    if ( shapeData.properties !== undefined ) {\n      shape.setProperties( shapeData.properties );\n    }\n\n    shape.init( this, shapeProperties );\n\n    if ( shapeData.props !== undefined ) {\n      for ( var i in shapeData.props ) {\n        shape.setProp( i, shapeData.props[ i ] );\n      }\n    }\n\n    if ( shapeData.position ) {\n\n      for ( var i = 0, l = shapeData.position.length; i < l; i++ ) {\n        shape.setPosition( new GraphPosition( shapeData.position[ i ] ), i );\n      }\n    }\n\n    /* Setting shape properties */\n    if ( shapeData.fillColor !== undefined ) {\n      shape.setFillColor( shapeData.fillColor );\n    }\n\n    if ( shapeData.fillOpacity !== undefined ) {\n      shape.setFillOpacity( shapeData.fillOpacity );\n    }\n\n    if ( shapeData.strokeColor !== undefined ) {\n      shape.setStrokeColor( shapeData.strokeColor );\n    }\n\n    if ( shapeData.strokeWidth !== undefined ) {\n      shape.setStrokeWidth( shapeData.strokeWidth );\n    }\n\n    if ( shapeData.layer !== undefined ) {\n      shape.setLayer( shapeData.layer );\n    }\n\n    if ( shapeData.locked == true ) {\n      shape.lock();\n    }\n\n    if ( shapeData.movable == true ) {\n      shape.movable();\n    }\n\n    if ( shapeData.selectable == true ) {\n      shape.selectable();\n    }\n\n    if ( shapeData.resizable == true ) {\n      shape.resizable();\n    }\n\n    if ( shapeData.attributes !== undefined ) {\n      shape.setProp( 'attributes', shapeData.attributes );\n    }\n\n    if ( shapeData.handles !== undefined ) {\n      shape.setProp( 'handles', shapeData.handles );\n    }\n\n    if ( shapeData.selectOnMouseDown !== undefined ) {\n      shape.setProp( 'selectOnMouseDown', true );\n    }\n\n    if ( shapeData.selectOnClick !== undefined ) {\n      shape.setProp( 'selectOnClick', true );\n    }\n\n    if ( shapeData.transforms !== undefined && Array.isArray( shapeData.transforms ) ) {\n\n      shapeData.transforms.forEach( ( {\n\n        type,\n        value\n\n      } ) => {\n\n        shape.addTransform( type, value );\n\n      } );\n    }\n\n    if ( shapeData.highlightOnMouseOver !== undefined ) {\n      shape.setProp( 'highlightOnMouseOver', true );\n    }\n\n    if ( shapeData.labelEditable ) {\n      shape.setProp( 'labelEditable', shapeData.labelEditable );\n    }\n\n    if ( shapeData.labels && !shapeData.label ) {\n      shapeData.label = shapeData.labels;\n    }\n\n    if ( shapeData.label !== undefined ) {\n\n      if ( !Array.isArray( shapeData.label ) ) {\n        shapeData.label = [ shapeData.label ];\n      }\n\n      for ( var i = 0, l = shapeData.label.length; i < l; i++ ) {\n\n        shape.showLabel( i );\n        shape.setLabelText( shapeData.label[ i ].text, i );\n        shape.setLabelPosition( shapeData.label[ i ].position, i );\n        shape.setLabelColor( shapeData.label[ i ].color || 'black', i );\n        shape.setLabelSize( shapeData.label[ i ].size, i );\n        shape.setLabelAngle( shapeData.label[ i ].angle || 0, i );\n        shape.setLabelBaseline( shapeData.label[ i ].baseline || 'no-change', i );\n        shape.setLabelAnchor( shapeData.label[ i ].anchor || 'start', i );\n        shape.setLabelBackgroundColor( shapeData.label[ i ].backgroundColor || 'transparent', i );\n        shape.setLabelBackgroundOpacity( shapeData.label[ i ].backgroundOpacity || 1, i );\n\n      }\n    }\n\n    if ( shapeData.serie ) {\n      shape.setSerie( this.getSerie( shapeData.serie ) );\n    }\n    shape.createHandles();\n    shape.applyStyle();\n\n    this.shapes.push( shape );\n\n    if ( !mute ) {\n      this.emit( 'newShape', shape, shapeData );\n    }\n\n    return shape;\n  }\n\n  /**\n   * Creates a new position. Arguments are passed to the position constructor\n   * @param {...*} varArgs\n   * @see Position\n   */\n  newPosition( varArgs ) {\n\n    return new GraphPosition( ...arguments );\n\n    // 18 September 2016 Norman: What is that ?\n    //Array.prototype.unshift.call( arguments, null );\n    //return new( Function.prototype.bind.apply( GraphPosition, arguments ) )();\n  }\n\n  /**\n   *  Redraws all shapes. To be called if their definitions have changed\n   */\n  redrawShapes() {\n\n    //this.graphingZone.removeChild(this.shapeZone);\n    for ( var i = 0, l = this.shapes.length; i < l; i++ ) {\n      this.shapes[ i ].redraw();\n    }\n    //this.graphingZone.insertBefore(this.shapeZone, this.axisGroup);\n  }\n\n  /**\n   *  Removes all shapes from the graph\n   */\n  removeShapes() {\n    for ( var i = 0, l = this.shapes.length; i < l; i++ ) {\n      if ( this.shapes[ i ] && this.shapes[ i ].kill ) {\n        this.shapes[ i ].kill( true );\n      }\n    }\n    this.shapes = [];\n  }\n\n  /**\n   * Selects a shape\n   * @param {Shape} shape - The shape to select\n   * @param {Boolean} mute - Select the shape quietly\n   */\n  selectShape( shape, mute ) {\n\n    // Already selected. Returns false\n\n    if ( !shape ) {\n      return;\n    }\n\n    if ( this.selectedShapes.indexOf( shape ) > -1 ) {\n      return false;\n    }\n\n    if ( !shape.isSelectable() ) {\n      return false;\n    }\n\n    if ( !mute ) {\n      this.emit( 'beforeShapeSelect', shape );\n    }\n\n    if ( this.prevent( false ) ) {\n      return;\n    }\n\n    if ( this.selectedShapes.length > 0 && this.options.shapesUniqueSelection ) { // Only one selected shape at the time\n\n      this.unselectShapes( mute );\n    }\n\n    shape._select( mute );\n    this.selectedShapes.push( shape );\n\n    if ( !mute ) {\n      this.emit( 'shapeSelect', shape );\n    }\n  }\n\n  getSelectedShapes() {\n    return this.selectedShapes;\n  }\n\n  /**\n   * Unselects a shape\n   * @param {Shape} shape - The shape to unselect\n   * @param {Boolean} mute - Unselect the shape quietly\n   */\n  unselectShape( shape, mute ) {\n\n    if ( this.selectedShapes.indexOf( shape ) == -1 ) {\n      return;\n    }\n\n    if ( !mute ) {\n      this.emit( 'beforeShapeUnselect', shape );\n    }\n\n    if ( this.cancelUnselectShape ) {\n      this.cancelUnselectShape = false;\n      return;\n    }\n\n    shape._unselect();\n\n    this.selectedShapes.splice( this.selectedShapes.indexOf( shape ), 1 );\n\n    if ( !mute ) {\n      this.emit( 'shapeUnselect', shape );\n    }\n\n  }\n\n  /**\n   * Unselects all shapes\n   * @param {Boolean} [ mute = false ] - Mutes all unselection events\n   * @return {Graph} The current graph instance\n   */\n  unselectShapes( mute ) {\n\n    while ( this.selectedShapes[ 0 ] ) {\n      this.unselectShape( this.selectedShapes[ 0 ], mute );\n    }\n\n    return this;\n  }\n\n  _removeShape( shape ) {\n    this.shapes.splice( this.shapes.indexOf( shape ), 1 );\n  }\n\n  appendShapeToDom( shape ) {\n\n    if ( shape.isHTML() ) {\n      this.wrapper.insertBefore( shape._dom, this.dom );\n    }\n\n    this.getLayer( shape.getLayer(), 'shape' ).appendChild( shape.group );\n  }\n\n  removeShapeFromDom( shape ) {\n\n    if ( shape.isHTML() ) {\n      this.wrapper.removeChild( shape._dom );\n    }\n\n    this.getLayer( shape.getLayer(), 'shape' ).removeChild( shape.group );\n  }\n\n  appendSerieToDom( serie ) {\n    this.getLayer( serie.getLayer(), 'serie' ).appendChild( serie.groupMain );\n  }\n\n  removeSerieFromDom( serie ) {\n    this.getLayer( serie.getLayer(), 'serie' ).removeChild( serie.groupMain );\n  }\n\n  getLayer( layer, mode ) {\n\n    if ( !this.layers[ layer ] ) {\n\n      this.layers[ layer ] = [];\n\n      this.layers[ layer ][ 0 ] = document.createElementNS( Graph.ns, 'g' );\n      this.layers[ layer ][ 0 ].setAttribute( 'data-layer', layer );\n      this.layers[ layer ][ 1 ] = document.createElementNS( Graph.ns, 'g' );\n      this.layers[ layer ][ 2 ] = document.createElementNS( Graph.ns, 'g' );\n\n      this.layers[ layer ][ 0 ].appendChild( this.layers[ layer ][ 1 ] );\n      this.layers[ layer ][ 0 ].appendChild( this.layers[ layer ][ 2 ] );\n\n      var i = 1,\n        prevLayer;\n\n      while ( !( prevLayer = this.layers[ layer - i ] ) && layer - i >= 0 ) {\n        i++;\n      }\n\n      if ( !prevLayer ) {\n\n        this.plotGroup.insertBefore( this.layers[ layer ][ 0 ], this.plotGroup.firstChild );\n\n      } else if ( prevLayer.nextSibling ) {\n\n        this.plotGroup.insertBefore( this.layers[ layer ][ 0 ], prevLayer.nextSibling );\n\n      } else {\n\n        this.plotGroup.appendChild( this.layers[ layer ][ 0 ] );\n\n      }\n    }\n\n    return this.layers[ layer ][ mode == 'shape' ? 2 : 1 ];\n\n  }\n\n  focus() {\n    this.wrapper.focus();\n  }\n\n  elementMoving( movingElement ) {\n    this.bypassHandleMouse = movingElement;\n  }\n\n  stopElementMoving( element ) {\n\n    if ( element && element == this.bypassHandleMouse ) {\n      this.bypassHandleMouse = false;\n    } else if ( !element ) {\n      this.bypassHandleMouse = false;\n    }\n  }\n\n  _makeClosingLines() {\n\n    this.closingLines = {};\n    var els = [ 'top', 'bottom', 'left', 'right' ],\n      i = 0,\n      l = 4;\n    for ( ; i < l; i++ ) {\n      var line = document.createElementNS( Graph.ns, 'line' );\n      line.setAttribute( 'stroke', this.options.closeColor );\n      line.setAttribute( 'shape-rendering', 'crispEdges' );\n      line.setAttribute( 'stroke-linecap', 'square' );\n      line.setAttribute( 'display', 'none' );\n      this.closingLines[ els[ i ] ] = line;\n      this.graphingZone.appendChild( line );\n    }\n  }\n\n  isActionAllowed( e, action ) {\n\n    if ( action.type !== e.type && ( action.type !== undefined || e.type !== 'mousedown' ) && !( ( e.type === 'wheel' || e.type === 'mousewheel' ) && action.type == 'mousewheel' ) ) {\n      return;\n    }\n\n    if ( action.enabled && ( typeof action.enabled == 'function' ? !action.enabled( this ) : !action.enabled ) ) {\n      return;\n    }\n\n    if ( action.key ) {\n\n      if ( action.key !== e.keyCode ) {\n\n        let keyCheck = {\n          'backspace': 8,\n          'enter': 13,\n          'tab': 9,\n          'shift': 16,\n          'ctrl': 17,\n          'alt': 18,\n          'pause': 19,\n          'escape': 27,\n          'up': 33,\n          'down': 34,\n          'left': 37,\n          'right': 39\n        };\n\n        if ( keyCheck[ action.key ] !== e.keyCode ) {\n          return;\n        }\n      }\n    }\n\n    if ( action.shift === undefined ) {\n      action.shift = false;\n    }\n\n    if ( action.ctrl === undefined ) {\n      action.ctrl = false;\n    }\n\n    if ( action.meta === undefined ) {\n      action.meta = false;\n    }\n\n    if ( action.alt === undefined ) {\n      action.alt = false;\n    }\n\n    return ( e.shiftKey == action.shift && e.ctrlKey == action.ctrl && e.metaKey == action.meta && e.altKey == action.alt );\n  }\n\n  forcePlugin( plugin ) {\n    this.forcedPlugin = plugin;\n  }\n\n  unforcePlugin() {\n    this.forcedPlugin = false;\n  }\n\n  _pluginsExecute( funcName, ...args ) {\n\n    //\t\t\tArray.prototype.splice.apply(args, [0, 0, this]);\n\n    for ( var i in this.plugins ) {\n\n      if ( this.plugins[ i ] && this.plugins[ i ][ funcName ] ) {\n\n        this.plugins[ i ][ funcName ].apply( this.plugins[ i ], args );\n\n      }\n    }\n  }\n\n  _pluginExecute( which, func, args ) {\n\n    //Array.prototype.splice.apply( args, [ 0, 0, this ] );\n    if ( !which ) {\n      return;\n    }\n\n    if ( this.plugins[ which ] && this.plugins[ which ][ func ] ) {\n\n      this.plugins[ which ][ func ].apply( this.plugins[ which ], args );\n      return true;\n    }\n\n  }\n\n  pluginYieldActiveState() {\n    this.activePlugin = false;\n  }\n\n  _serieExecute( serie, func, args ) {\n\n    if ( typeof serie !== 'object' ) {\n      serie = this.getSerie( serie );\n    }\n\n    if ( typeof serie[ func ] == 'function' ) {\n      serie.apply( serie, args );\n    }\n  }\n  _pluginsInit() {\n\n    var constructor, pluginName, pluginOptions;\n\n    for ( var i in this.options.plugins ) {\n\n      pluginName = i;\n      console.log( pluginName );\n      pluginOptions = this.options.plugins[ i ];\n\n      constructor = this.getConstructor( `graph.plugin.${ pluginName}` );\n\n      if ( constructor ) {\n\n        //var options = util.extend( true, {}, constructor.defaults(), pluginOptions );\n        this.plugins[ pluginName ] = new constructor( pluginOptions );\n\n        util.mapEventEmission( this.plugins[ pluginName ].options, this.plugins[ pluginName ] );\n        this.plugins[ pluginName ].init( this, pluginOptions );\n\n      } else {\n        util.throwError( `Plugin \"${ pluginName }\" has not been registered` );\n      }\n    }\n  }\n\n  /**\n   * Returns an initialized plugin\n   * @param {String} pluginName\n   * @returns {Plugin} The plugin which name is <pluginName>\n   */\n  getPlugin( pluginName ) {\n    var plugin = this.plugins[ pluginName ];\n\n    if ( !plugin ) {\n      return util.throwError( `Plugin \"${ pluginName }\" has not been loaded or properly registered` );\n    }\n\n    return plugin;\n  }\n\n  hasPlugin( pluginName ) {\n    return !!this.plugins[ pluginName ];\n  }\n\n  triggerEvent() {\n    var func = arguments[ 0 ];\n    /*,\n          args = Array.prototype.splice.apply( arguments, [ 0, 1 ] );\n    */\n    if ( typeof this.options[ func ] == 'function' ) {\n      return this.options[ func ].apply( this, arguments );\n    }\n  }\n\n  /**\n   * Creates a legend. Only one legend is allowed per graph\n   * @param {Object} options - The legend options\n   */\n  makeLegend( options ) {\n\n    if ( this.legend ) {\n      return this.legend;\n    }\n\n    var constructor = this.getConstructor( 'graph.legend' );\n    if ( constructor ) {\n      this.legend = new constructor( this, options );\n    } else {\n      return util.throwError( 'Graph legend is not available as it has not been registered' );\n    }\n\n    return this.legend;\n  }\n\n  /**\n   * Redraws the legend if it exists\n   * @param {Boolean} [ onlyIfRequired = false ] ```true``` to redraw the legend only when it actually needs to be updated\n   * @return {Graph} The graph instance\n   */\n  updateLegend( onlyIfRequired = false ) {\n\n    if ( !this.legend ) {\n      return;\n    }\n\n    this.legend.update( onlyIfRequired );\n    return this;\n  }\n\n  /**\n   * @returns {Legend} The legend item\n   */\n  getLegend() {\n    if ( !this.legend ) {\n      return;\n    }\n\n    return this.legend;\n\n  }\n\n  requireLegendUpdate() {\n\n    if ( !this.legend ) {\n      return;\n    }\n\n    this.legend.requireDelayedUpdate();\n  }\n\n  orthogonalProjectionSetup() {\n\n    this.options.zAxis = util.extend( true, {\n      maxZ: 10,\n      minZ: 0,\n      shiftX: -25,\n      shiftY: -15,\n      xAxis: this.getXAxis(),\n      yAxis: this.getYAxis()\n    } );\n  }\n\n  orthogonalProjectionUpdate() {\n\n    if ( !this.zAxis ) {\n      this.zAxis = {\n        g: document.createElementNS( Graph.ns, 'g' ),\n        l: document.createElementNS( Graph.ns, 'line' )\n      };\n\n      this.zAxis.g.appendChild( this.zAxis.l );\n      this.groupGrids.appendChild( this.zAxis.g );\n    }\n\n    let refAxisX = this.options.zAxis.xAxis;\n    let refAxisY = this.options.zAxis.yAxis;\n\n    var x0 = refAxisX.getMinPx();\n    var y0 = refAxisY.getMinPx();\n\n    var dx = refAxisX.getZProj( this.options.zAxis.maxZ );\n    var dy = refAxisY.getZProj( this.options.zAxis.maxZ );\n\n    this.zAxis.l.setAttribute( 'stroke', 'black' );\n    this.zAxis.l.setAttribute( 'x1', x0 );\n    this.zAxis.l.setAttribute( 'x2', x0 + dx );\n    this.zAxis.l.setAttribute( 'y1', y0 );\n    this.zAxis.l.setAttribute( 'y2', y0 + dy );\n\n    this.updateDataMinMaxAxes( true );\n\n    var sort = this.series.map( ( serie ) => {\n      return [ serie.getZPos(), serie ];\n    } );\n\n    sort.sort( ( sa, sb ) => {\n      return sb[ 0 ] - sa[ 0 ];\n    } );\n\n    let i = 0;\n    sort.forEach( ( s ) => {\n      s[ 1 ].setLayer( i );\n      this.appendSerieToDom( s[ 1 ] );\n      i++;\n    } );\n\n    this.drawSeries( true );\n  }\n\n  /**\n   * Kills the graph\n   **/\n  kill() {\n    this.wrapper.removeChild( this.dom );\n  }\n  _removeSerie( serie ) {\n    this.series.splice( this.series.indexOf( serie ), 1 );\n    this._pluginsExecute( 'serieRemoved', serie );\n  }\n  contextListen( target, menuElements, callback ) {\n\n    if ( this.options.onContextMenuListen ) {\n      return this.options.onContextMenuListen( target, menuElements, callback );\n    }\n  }\n  lockShapes() {\n    this.shapesLocked = true;\n\n    // Removes the current actions of the shapes\n    for ( var i = 0, l = this.shapes.length; i < l; i++ ) {\n      this.shapes[ i ].moving = false;\n      this.shapes[ i ].resizing = false;\n    }\n  }\n  unlockShapes() {\n    //\t\tconsole.log('unlock');\n    this.shapesLocked = false;\n  }\n  prevent( arg ) {\n    var curr = this.prevented;\n    if ( arg != -1 ) {\n      this.prevented = ( arg == undefined ) || arg;\n    }\n    return curr;\n  }\n  _getXY( e ) {\n\n    var x = e.clientX,\n      y = e.clientY;\n\n    var pos = this.offsetCached || util.getOffset( this.wrapper );\n\n    x -= pos.left;\n    y -= pos.top;\n\n    return {\n      x: x,\n      y: y\n    };\n  }\n  _resize() {\n\n    if ( !this.width || !this.height ) {\n      return;\n    }\n\n    this.getDrawingWidth();\n    this.getDrawingHeight();\n\n    this.sizeSet = true;\n    this.dom.setAttribute( 'width', this.width );\n    this.dom.setAttribute( 'height', this.height );\n    this.domTitle.setAttribute( 'x', this.width / 2 );\n\n    this._sizeChanged = true;\n\n    if ( this.drawn ) {\n      this.requireLegendUpdate();\n      this.draw( true );\n    }\n\n  }\n\n  updateGraphingZone() {\n    util.setAttributeTo( this.graphingZone, {\n      'transform': `translate(${ this.options.paddingLeft }, ${ this.options.paddingTop })`\n    } );\n\n    this._sizeChanged = true;\n  }\n\n  // We have to proxy the methods in case they are called anonymously\n  getDrawingSpaceWidth() {\n    return () => this.drawingSpaceWidth;\n  }\n\n  getDrawingSpaceHeight() {\n    return () => this.drawingSpaceHeight;\n  }\n\n  getDrawingSpaceMinX() {\n    return () => this.drawingSpaceMinX;\n  }\n\n  getDrawingSpaceMinY() {\n    return () => this.drawingSpaceMinY;\n  }\n\n  getDrawingSpaceMaxX() {\n    return () => this.drawingSpaceMaxX;\n  }\n\n  getDrawingSpaceMaxY() {\n    return () => this.drawingSpaceMaxY;\n  }\n\n  /**\n   *  Enables the line tracking\n   *  @param {Object|Boolean} options - Defines the tracking behavior. If a boolean, simply enables or disables the existing tracking.\n   */\n  trackingLine( options ) {\n\n    var self = this;\n\n    if ( typeof options === 'boolean' ) {\n\n      if ( this.options.trackingLine ) {\n        this.options.trackingLine.enable = options;\n      }\n      return;\n    }\n\n    if ( options ) {\n      this.options.trackingLine = options;\n    }\n\n    options.series = options.series || [];\n    options.enable = options.enable === undefined ? true : !!options.enable;\n\n    // Individual tracking\n    if ( options.mode == 'individual' ) {\n\n      if ( options.series ) {\n\n        if ( !Array.isArray( options.series ) ) {\n\n          if ( options.series == 'all' ) {\n\n            options.series = this.series.map( ( serie ) => ( {\n              serie: serie\n            } ) );\n\n          } else {\n\n            options.series = [ options.series ];\n          }\n        }\n\n        options.series.forEach( ( sOptions ) => {\n\n          if ( typeof sOptions.serie !== 'object' ) {\n\n            if ( typeof sOptions !== 'object' ) {\n              throw new Error( 'Misuse of the trackingLine() method. Each serie must be an object with the serie property: { series: [ { serie: jsGraphSerie, options: { ... someOptions } } ] }' );\n            }\n\n            sOptions.serie = this.getSerie( sOptions.serie );\n          }\n\n          if ( !sOptions.serie ) {\n            return;\n          }\n\n          self.addSerieToTrackingLine( sOptions.serie, sOptions );\n\n        } );\n      }\n    } else {\n\n      options.series.forEach( ( serie ) => {\n        serie.serie.disableTracking();\n      } );\n    }\n\n    if ( options.noLine ) {\n      return;\n    }\n\n    if ( !this.trackingObject ) { // Avoid multiple creation of tracking lines\n\n      // Creates a new shape called trackingLine, in the first layer (below everything)\n      this.trackingObject = this.newShape( 'line', util.extend( true, {\n        position: [ {\n          y: 'min'\n        }, {\n          y: 'max'\n        } ],\n        stroke: 'black',\n        layer: -1\n      }, options.trackingLineShapeOptions ) );\n    }\n\n    this.trackingObject.draw();\n\n    return this.trackingObject;\n  }\n\n  addSerieToTrackingLine( serie, options ) {\n\n    if ( !this.options.trackingLine ) {\n\n      this.trackingLine( {\n        mode: 'individual'\n      } );\n    }\n\n    this.options.trackingLine.series.forEach( ( serieO, index ) => {\n      if ( serieO.serie == serie ) {\n        this.options.trackingLine.series.splice( index, 1 );\n      }\n    } );\n\n    this.options.trackingLine.series.push( Object.assign( {\n      serie: serie\n    }, options ) );\n\n    serie.enableTracking( ( serie, index, x, y ) => {\n\n      if ( this.options.trackingLine.enable ) {\n\n        if ( index ) {\n\n          if ( this.trackingObject ) {\n\n            this.trackingObject.show();\n            this.trackingObject.getPosition( 0 ).x = index.trueX; //serie.getData()[ 0 ][ index.closestIndex * 2 ];\n            this.trackingObject.getPosition( 1 ).x = index.trueX; //serie.getData()[ 0 ][ index.closestIndex * 2 ];\n            this.trackingObject.redraw();\n          }\n\n          serie._trackingLegend = _trackingLegendSerie( this, {\n            serie: serie\n          }, x, y, serie._trackingLegend, options.textMethod ? options.textMethod : ( output ) => {\n\n            for ( var i in output ) {\n              return `${output[ i ].serie.serie.getName() }: ${ output[ i ].serie.serie.getYAxis().valueToHtml( output[ i ].yValue )}`;\n            }\n\n          }, index.trueX );\n\n          if ( serie._trackingLegend ) {\n            serie._trackingLegend.style.display = 'block';\n          }\n        }\n      }\n    }, ( serie ) => {\n\n      if ( this.trackingObject ) {\n        this.trackingObject.hide();\n      }\n\n      if ( serie.trackingShape ) {\n        serie.trackingShape.hide();\n      }\n\n      if ( serie._trackingLegend ) {\n        serie._trackingLegend.style.display = 'none';\n      }\n\n      serie._trackingLegend = _trackingLegendSerie( this, {\n\n        serie: serie\n\n      }, false, false, serie._trackingLegend, false, false );\n\n    } );\n\n  }\n\n  /**\n   *  Pass here the katex.render method to be used later\n   *   @param {Function} renderer -  katexRendered - renderer\n   *   @return {Graph} The current graph instance\n   */\n  setKatexRenderer( renderer ) {\n    this._katexRenderer = renderer;\n  }\n\n  hasKatexRenderer() {\n    return !!this._katexRenderer;\n  }\n\n  renderWithKatex( katexValue, katexElement ) {\n\n    if ( this._katexRenderer ) {\n\n      if ( katexElement ) {\n        katexElement.removeChild( katexElement.firstChild );\n      } else {\n        katexElement = document.createElementNS( Graph.ns, 'foreignObject' );\n      }\n\n      let div = document.createElement( 'div' );\n\n      katexElement.appendChild( div );\n      this._katexRenderer( katexValue, div );\n\n      return katexElement;\n    }\n\n    return false;\n  }\n\n  /**\n   * Returns a graph created from a schema\n   * @param {Object} schema - The schema (see https://github.com/cheminfo/json-chart/blob/master/chart-schema.json)\n   * @param {HTMLElement} wrapper - The wrapping element\n   * @returns {Graph} Newly created graph\n   */\n  static fromJSON( schema, wrapper ) {\n\n    let graph,\n      options = {},\n      axes = {\n        left: [],\n        top: [],\n        right: [],\n        bottom: []\n      },\n      style;\n\n    if ( schema.title ) {\n      options.title = schema.title;\n    }\n\n    if ( schema.axis ) {\n\n      schema.axis.forEach( function( schemaAxis ) {\n\n        if ( !schemaAxis.type ) {\n          util.throwError( 'Axis type is required (top, bottom, left or right)' );\n        }\n\n        var axisOptions = {};\n        if ( schemaAxis.label ) {\n          axisOptions.labelValue = schemaAxis.label;\n        }\n\n        if ( schemaAxis.unit !== undefined ) {\n          axisOptions.unit = schemaAxis.unit;\n        }\n\n        if ( schemaAxis.unitWrapperAfter !== undefined ) {\n          axisOptions.unitWrapperAfter = schemaAxis.unitWrapperAfter;\n        }\n\n        if ( schemaAxis.unitWrapperBefore !== undefined ) {\n          axisOptions.unitWrapperBefore = schemaAxis.unitWrapperBefore;\n        }\n\n        if ( schemaAxis.min !== undefined ) {\n          axisOptions.forcedMin = schemaAxis.min;\n        }\n\n        if ( schemaAxis.max !== undefined ) {\n          axisOptions.forcedMax = schemaAxis.max;\n        }\n\n        if ( schemaAxis.flip !== undefined ) {\n          axisOptions.flipped = schemaAxis.flip;\n        }\n\n        axes[ schemaAxis.type ].push( axisOptions );\n        schemaAxis._jsGraphIndex = axes[ schemaAxis.type ].length - 1;\n\n      } );\n    }\n\n    graph = new Graph( wrapper, options, axes );\n\n    if ( schema.width ) {\n      graph.setWidth( schema.width );\n    }\n\n    if ( schema.height ) {\n      graph.setHeight( schema.width );\n    }\n\n    graph._resize();\n\n    if ( schema.data ) {\n\n      schema.data.forEach( function( schemaSerie ) {\n\n        var serieType = schemaSerie.type,\n          serie,\n          serieOptions = {},\n          serieAxis;\n\n        let waveform;\n\n        switch ( schemaSerie.type ) {\n\n          case 'bar':\n            util.throwError( 'Bar charts not supported' );\n            serieType = false;\n            break;\n\n          case 'color':\n            serieType = Graph.SERIE_LINE_COLORED;\n            break;\n\n          case 'scatter':\n            serieType = Graph.SERIE_SCATTER;\n            break;\n\n          case 'box':\n            serieType = Graph.SERIE_BOX;\n\n            if ( schemaSerie.orientation == 'x' || schemaSerie.orientation == 'y' ) {\n              serieOptions.orientation = schemaSerie.orientation;\n            }\n            break;\n\n          default:\n            serieType = Graph.SERIE_LINE;\n            break;\n        }\n\n        if ( serieType !== Graph.SERIE_BOX ) {\n          waveform = Graph.newWaveform();\n        }\n\n        if ( !serieType ) {\n          util.throwError( 'No valid serie type was found' );\n          return;\n        }\n\n        serie = graph.newSerie( schemaSerie.id || schemaSerie.label || util.guid(), serieOptions, serieType );\n\n        if ( schemaSerie.lineStyle ) {\n\n          let lineStyle = schemaSerie.lineStyle;\n\n          if ( Array.isArray( lineStyle ) ) {\n            lineStyle = {\n              unselected: lineStyle\n            };\n          }\n\n          Object.entries( lineStyle ).forEach( ( [ styleName, style ] ) => {\n\n            var styleSerie = {};\n\n            switch ( serieType ) {\n\n              case Graph.SERIE_LINE:\n                if ( style.lineWidth !== undefined ) {\n                  styleSerie.lineWidth = style.lineWidth;\n                }\n\n                if ( style.color !== undefined ) {\n                  styleSerie.lineColor = style.color;\n                }\n\n                if ( style.lineStyle ) {\n                  styleSerie.lineStyle = style.lineStyle;\n                }\n\n                serie.setStyle( styleSerie, styleName );\n                break;\n            }\n          } );\n        }\n\n        let defaultStyle = {};\n        let defaultStyles = {};\n\n        if ( schemaSerie.defaultStyle ) {\n          defaultStyle = schemaSerie.defaultStyle;\n        }\n\n        if ( schemaSerie.defaultStyles ) {\n          defaultStyles = schemaSerie.defaultStyles;\n        }\n\n        if ( schemaSerie.styles ) {\n\n          let individualStyles;\n\n          if ( Array.isArray( schemaSerie.styles ) ) {\n            individualStyles = {\n              unselected: schemaSerie.styles\n            };\n          } else {\n            individualStyles = schemaSerie.styles;\n          }\n\n          let styleNames = new Set( Object.keys( defaultStyles ).concat( Object.keys( individualStyles ) ) );\n\n          styleNames.forEach( ( styleName ) => {\n\n            var styleSerie = {};\n            let style = [],\n              styles;\n\n            if ( individualStyles && individualStyles[ styleName ] ) {\n\n              style = individualStyles[ styleName ];\n\n              if ( !Array.isArray( style ) ) {\n                style = [ style ];\n              }\n\n              styles = style.map( function( eachStyleElement ) {\n\n                switch ( serieType ) {\n\n                  case Graph.SERIE_LINE:\n\n                    return {\n                      type: eachStyleElement.shape,\n                      zoom: eachStyleElement.zoom,\n                      strokeWidth: eachStyleElement.lineWidth,\n                      strokeColor: eachStyleElement.lineColor,\n                      fillColor: eachStyleElement.color,\n                      points: eachStyleElement.points\n                    };\n\n                    break;\n\n                  case Graph.SERIE_BOX:\n\n                    return eachStyleElement;\n\n                    break;\n\n                  case Graph.SERIE_SCATTER:\n                    return eachStyleElement;\n\n                    break;\n                }\n              } );\n            }\n\n            switch ( serieType ) {\n\n              case Graph.SERIE_LINE:\n\n                serie.setMarkers( styles, styleName );\n                break;\n\n              case Graph.SERIE_SCATTER:\n                serie.setStyle( Object.assign( {}, defaultScatterStyle, defaultStyle, defaultStyles[ styleName ] || {} ), styles, styleName );\n                break;\n\n              case Graph.SERIE_BOX:\n\n                serie.setStyle( styles[ 0 ], styleName || 'unselected' );\n                break;\n            }\n          } );\n        }\n\n        if ( schemaSerie.color && serieType == Graph.SERIE_LINE_COLORED ) {\n          serie.setColors( schemaSerie.color );\n        }\n\n        if ( serieType !== Graph.SERIE_BOX ) {\n          waveform.setData( schemaSerie.y, schemaSerie.x );\n        }\n\n        if ( !serie ) {\n          return;\n        }\n\n        let errorBarsXAbove = [],\n          errorBarsXBelow = [],\n          errorBarsYAbove = [],\n          errorBarsYBelow = [],\n\n          errorBoxesXAbove = [],\n          errorBoxesXBelow = [],\n          errorBoxesYAbove = [],\n          errorBoxesYBelow = [];\n\n        if ( waveform !== undefined ) {\n          var errors = [];\n          if ( schemaSerie.errorX ) {\n\n            for ( var i = 0, l = schemaSerie.errorX.length; i < l; i++ ) {\n\n              if ( Array.isArray( schemaSerie.errorX[ i ] ) ) {\n\n                errorBarsXAbove.push( schemaSerie.errorX[ i ][ 0 ] );\n                errorBarsXBelow.push( schemaSerie.errorX[ i ][ 1 ] );\n              } else {\n                errorBarsXAbove.push( schemaSerie.errorX[ i ] );\n                errorBarsXBelow.push( schemaSerie.errorX[ i ] );\n              }\n            }\n\n          } else if ( schemaSerie.errorBarX || schemaSerie.errorBoxX ) {\n\n            if ( schemaSerie.errorBarX ) {\n\n              for ( var i = 0, l = schemaSerie.errorBarX.length; i < l; i++ ) {\n\n                if ( Array.isArray( schemaSerie.errorBarX[ i ] ) ) {\n\n                  errorBarsXAbove.push( schemaSerie.errorBarX[ i ][ 0 ] );\n                  errorBarsXBelow.push( schemaSerie.errorBarX[ i ][ 1 ] );\n                } else {\n                  errorBarsXAbove.push( schemaSerie.errorBarX[ i ] );\n                  errorBarsXBelow.push( schemaSerie.errorBarX[ i ] );\n                }\n              }\n            }\n\n            if ( schemaSerie.errorBoxX ) {\n\n              for ( var i = 0, l = schemaSerie.errorBoxX.length; i < l; i++ ) {\n\n                if ( Array.isArray( schemaSerie.errorBoxX[ i ] ) ) {\n\n                  errorBoxesXAbove.push( schemaSerie.errorBoxX[ i ][ 0 ] );\n                  errorBoxesXBelow.push( schemaSerie.errorBoxX[ i ][ 1 ] );\n                } else {\n                  errorBoxesXAbove.push( schemaSerie.errorBoxX[ i ] );\n                  errorBoxesXBelow.push( schemaSerie.errorBoxX[ i ] );\n                }\n              }\n            }\n          }\n\n          if ( schemaSerie.errorY ) {\n\n            for ( var i = 0, l = schemaSerie.errorY.length; i < l; i++ ) {\n\n              if ( Array.isArray( schemaSerie.errorY[ i ] ) ) {\n\n                errorBarsYAbove.push( schemaSerie.errorY[ i ][ 0 ] );\n                errorBarsYBelow.push( schemaSerie.errorY[ i ][ 1 ] );\n              } else {\n                errorBarsYAbove.push( schemaSerie.errorY[ i ] );\n                errorBarsYBelow.push( schemaSerie.errorY[ i ] );\n              }\n            }\n          } else if ( schemaSerie.errorBarY || schemaSerie.errorBoxY ) {\n\n            if ( schemaSerie.errorBarY ) {\n\n              for ( var i = 0, l = schemaSerie.errorBarY.length; i < l; i++ ) {\n\n                if ( Array.isArray( schemaSerie.errorBarY[ i ] ) ) {\n\n                  errorBarsYAbove.push( schemaSerie.errorBarY[ i ][ 0 ] );\n                  errorBarsYBelow.push( schemaSerie.errorBarY[ i ][ 1 ] );\n                } else {\n                  errorBarsYAbove.push( schemaSerie.errorBarY[ i ] );\n                  errorBarsYBelow.push( schemaSerie.errorBarY[ i ] );\n                }\n              }\n            }\n\n            if ( schemaSerie.errorBoxY ) {\n\n              for ( var i = 0, l = schemaSerie.errorBoxY.length; i < l; i++ ) {\n\n                if ( Array.isArray( schemaSerie.errorBoxY[ i ] ) ) {\n\n                  errorBoxesYAbove.push( schemaSerie.errorBoxY[ i ][ 0 ] );\n                  errorBoxesYBelow.push( schemaSerie.errorBoxY[ i ][ 1 ] );\n                } else {\n                  errorBoxesYAbove.push( schemaSerie.errorBoxY[ i ] );\n                  errorBoxesYBelow.push( schemaSerie.errorBoxY[ i ] );\n                }\n              }\n            }\n          }\n\n          style = {};\n          if ( errorBarsXAbove.length > 0 ) {\n            waveform.setErrorBarXAbove( Graph.newWaveform( errorBarsXAbove ) );\n            style.right = {};\n          }\n          if ( errorBarsXBelow.length > 0 ) {\n            waveform.setErrorBarXAbove( Graph.newWaveform( errorBarsXAbove ) );\n            style.left = {};\n          }\n          if ( errorBarsYAbove.length > 0 ) {\n            waveform.setErrorBarXAbove( Graph.newWaveform( errorBarsYAbove ) );\n            style.top = {};\n          }\n          if ( errorBarsYBelow.length > 0 ) {\n            waveform.setErrorBarXAbove( Graph.newWaveform( errorBarsYAbove ) );\n            style.bottom = {};\n          }\n\n          serie.setErrorBarStyle( style );\n\n          style = {};\n          if ( errorBoxesXAbove.length > 0 ) {\n            waveform.setErrorBoxXAbove( Graph.newWaveform( errorBoxesXAbove ) );\n            style.right = {};\n          }\n          if ( errorBoxesXBelow.length > 0 ) {\n            waveform.setErrorBoxXBelow( Graph.newWaveform( errorBoxesXBelow ) );\n            style.left = {};\n          }\n          if ( errorBoxesYAbove.length > 0 ) {\n            waveform.setErrorBoxAbove( Graph.newWaveform( errorBoxesYAbove ) );\n            style.top = {};\n          }\n          if ( errorBoxesYBelow.length > 0 ) {\n            waveform.setErrorBoxBelow( Graph.newWaveform( errorBoxesYBelow ) );\n            style.bottom = {};\n          }\n          serie.setErrorBoxStyle( style );\n        }\n\n        if ( schema.axis ) {\n          serieAxis = schema.axis[ schemaSerie.xAxis ];\n\n          if ( !serieAxis || ( serieAxis.type !== 'top' && serieAxis.type !== 'bottom' ) ) {\n            util.warn( 'No x axis found. Setting automatically' );\n            serie.setXAxis( graph.getXAxis( 0 ) );\n          } else {\n            if ( serieAxis.type == 'top' ) {\n              serie.setXAxis( graph.getTopAxis( serieAxis._jsGraphIndex ) );\n            } else if ( serieAxis.type == 'bottom' ) {\n              serie.setXAxis( graph.getBottomAxis( serieAxis._jsGraphIndex ) );\n            }\n          }\n\n          serieAxis = schema.axis[ schemaSerie.yAxis ];\n\n          if ( !serieAxis || ( serieAxis.type !== 'left' && serieAxis.type !== 'right' ) ) {\n            util.warn( 'No y axis found. Setting automatically' );\n            serie.setYAxis( graph.getYAxis( 0 ) );\n          } else {\n            if ( serieAxis.type == 'left' ) {\n              serie.setYAxis( graph.getLeftAxis( serieAxis._jsGraphIndex ) );\n            } else if ( serieAxis.type == 'right' ) {\n              serie.setYAxis( graph.getRightAxis( serieAxis._jsGraphIndex ) );\n            }\n          }\n\n        } else {\n          util.warn( 'No axes found. Setting automatically' );\n          serie.autoAxis();\n        }\n\n        switch ( serieType ) {\n\n          case Graph.SERIE_BOX:\n\n            serie.setData( schemaSerie.boxes );\n\n            break;\n\n          default:\n          case Graph.SERIE_SCATTER:\n          case Graph.SERIE_LINE_COLORED:\n          case Graph.SERIE_LINE:\n\n            serie.setWaveform( waveform );\n\n            break;\n        }\n      } );\n\n    }\n\n    graph.autoscaleAxes();\n    graph.draw();\n\n    return graph;\n  }\n\n  exportToSchema() {\n\n    let schema = {};\n\n    schema.title = this.options.title;\n\n    schema.width = this.getWidth();\n    schema.height = this.getHeight();\n\n    let axesPositions = [ 'top', 'bottom', 'left', 'right' ];\n    let axesExport = [];\n    let allaxes = {\n      x: [],\n      y: []\n    };\n\n    axesPositions.map( ( axisPosition ) => {\n\n      if ( !this.axis[ axisPosition ] ) {\n        return;\n      }\n\n      axesExport = axesExport.concat( this.axis[ axisPosition ].map( ( axis ) => {\n        return {\n\n          type: axisPosition,\n          label: axis.options.label,\n          unit: axis.options.unit,\n          min: axis.options.forcedMin,\n          max: axis.options.forcedMax,\n          flip: axis.options.flipped\n\n        };\n      } ) );\n\n      if ( axisPosition == 'top' || axisPosition == 'bottom' ) {\n        allaxes.x = allaxes.x.concat( this.axis[ axisPosition ] );\n      } else {\n        allaxes.y = allaxes.y.concat( this.axis[ axisPosition ] );\n      }\n    } );\n\n    schema.axis = axesExport;\n\n    let seriesExport = [];\n\n    let toType = ( type ) => {\n      switch ( type ) {\n\n        case Graph.SERIE_LINE:\n          return 'line';\n          break;\n\n        case Graph.SERIE_BAR:\n          return 'bar';\n          break;\n\n        case Graph.SERIE_LINE_COLORED:\n          return 'color';\n          break;\n\n        case Graph.SERIE_SCATTER:\n          return 'scatter';\n          break;\n      }\n    };\n\n    let exportData = ( serie, x ) => {\n\n      let data = [];\n\n      switch ( serie.getType() ) {\n\n        case Graph.SERIE_LINE:\n\n          for ( var i = 0; i < serie.data.length; i++ ) {\n\n            for ( var j = 0; j < serie.data[ i ].length - 1; j += 2 ) {\n\n              data.push( serie.data[ i ][ j + ( ( x && serie.isFlipped() || !x && !serie.isFlipped() ) ? 1 : 0 ) ] );\n            }\n          }\n          break;\n\n        case Graph.SERIE_SCATTER:\n\n          for ( var j = 0; j < serie.data.length - 1; j += 2 ) {\n\n            data.push( serie.data[ i + ( ( x && serie.isFlipped() || !x && !serie.isFlipped() ) ? 1 : 0 ) ] );\n          }\n\n          break;\n      }\n\n      return data;\n    };\n\n    schema.data = seriesExport.concat( this.series.map( ( serie ) => {\n\n      let style = [];\n      let linestyle = [];\n\n      if ( serie.getType() == Graph.SERIE_LINE ) {\n\n        for ( var stylename in serie.styles ) {\n          linestyle.push( {\n            styleName: stylename,\n            color: serie.styles[ stylename ].lineColor,\n            lineWidth: serie.styles[ stylename ].lineWidth,\n            lineStyle: serie.styles[ stylename ].lineStyle,\n          } );\n\n          let styleObj = {\n            styleName: stylename,\n            styles: []\n          };\n          style.push( styleObj );\n\n          styleObj.styles = styleObj.styles.concat( ( serie.styles[ stylename ].markers || [] ).map( ( markers ) => {\n            return {\n              shape: markers.type,\n              zoom: markers.zoom,\n              lineWidth: markers.strokeWidth,\n              lineColor: markers.strokeColor,\n              color: markers.fillColor,\n              points: markers.points\n            };\n          } ) );\n\n        }\n      }\n\n      return {\n        label: serie.getLabel(),\n        id: serie.getName(),\n        type: toType( serie.getType() ),\n        x: exportData( serie, true ),\n        y: exportData( serie, false ),\n        xAxis: allaxes.x.indexOf( serie.getXAxis() ),\n        yAxis: allaxes.y.indexOf( serie.getYAxis() ),\n        style: style,\n        lineStyle: linestyle\n      };\n    } ) );\n\n    return schema;\n  }\n\n  /**\n   * Registers a constructor to jsGraph. Constructors are used on a later basis by jsGraph to create series, shapes or plugins\n   * @param {String} constructorName - The name of the constructor\n   * @param {Function} constructor - The constructor method\n   * @see Graph.getConstructor\n   * @static\n   */\n  static registerConstructor( constructorName, constructor ) {\n\n    if ( _constructors.has( constructorName ) ) {\n      return util.throwError( `Constructor ${ constructor } already exists.` );\n    }\n\n    _constructors.set( constructorName, constructor );\n  }\n\n  /**\n   * Returns a registered constructor\n   * @param {String} constructorName - The constructor name to look for\n   * @param {Boolean} [softFail = false ] - Fails silently if the constructor doesn't exist, and returns false\n   * @returns {Function} The registered constructor\n   * @throws Error\n   * @see Graph.registerConstructor\n   * @static\n   */\n  static getConstructor( constructorName, softFail = false ) {\n\n    if ( !_constructors.has( constructorName ) ) {\n\n      if ( softFail ) {\n        return false;\n      }\n\n      return util.throwError( `Constructor \"${ constructorName }\" doesn't exist` );\n    }\n\n    return _constructors.get( constructorName );\n  }\n\n  static newWaveform() {\n    return new Waveform( ...arguments );\n  }\n\n  static waveform() {\n    return new Waveform( ...arguments );\n  }\n}\n\n// Adds getConstructor to the prototype. Cannot do that in ES6 classes\nGraph.prototype.getConstructor = Graph.getConstructor;\n\nfunction makeSerie( graph, name, options, type ) {\n\n  var constructor = graph.getConstructor( type, true );\n  if ( !constructor && typeof type == 'string' ) {\n    constructor = graph.getConstructor( `graph.serie.${ type}`, true );\n  }\n\n  if ( constructor ) {\n\n    var serie = new constructor( graph, name, options );\n    //serie.init( graph, name, options );\n    graph.appendSerieToDom( serie );\n\n  } else {\n\n    return util.throwError( 'No constructor exists for the serie type provided. Use Graph.registerConstructor( name, constructor ) first is you use your own series' );\n\n  }\n\n  return serie;\n}\n\nfunction getAxisLevelFromSpan( span, level ) {\n\n  for ( var i = 0, l = level.length; i < l; i++ ) {\n\n    var possible = true;\n    for ( var k = 0, m = level[ i ].length; k < m; k++ ) {\n\n      if ( !( ( span[ 0 ] < level[ i ][ k ][ 0 ] && span[ 1 ] < level[ i ][ k ][ 0 ] ) || ( ( span[ 0 ] > level[ i ][ k ][ 1 ] && span[ 1 ] > level[ i ][ k ][ 1 ] ) ) ) ) {\n        possible = false;\n      }\n    }\n\n    if ( possible ) {\n\n      level[ i ].push( span );\n      return i;\n    }\n  }\n\n  level.push( [ span ] );\n  return ( level.length - 1 );\n}\n\nfunction refreshDrawingZone( graph ) {\n\n  var i, j, l, xy, min, max, axis;\n  var shift = {\n    top: [],\n    bottom: [],\n    left: [],\n    right: []\n  };\n\n  var levels = {\n    top: [],\n    bottom: [],\n    left: [],\n    right: []\n  };\n\n  graph._painted = true;\n  // Apply to top and bottom\n\n  graph._applyToAxes( function( axis, position ) {\n\n    if ( !axis.isShown() ) {\n      axis.hideGroup();\n      return;\n    } else {\n      axis.showGroup();\n    }\n\n    if ( axis.floating ) {\n      return;\n    }\n\n    var level = getAxisLevelFromSpan( axis.getSpan(), levels[ position ] );\n    axis.setLevel( level );\n\n    shift[ position ][ level ] = Math.max( axis.getAxisPosition(), ( shift[ position ][ level ] || 0 ) );\n\n  }, false, true, false );\n\n  var shiftTop = shift.top.reduce( function( prev, curr ) {\n    return prev + curr;\n  }, 0 );\n\n  var shiftBottom = shift.bottom.reduce( function( prev, curr ) {\n    return prev + curr;\n  }, 0 );\n\n  graph.drawingSpaceHeight = graph.getDrawingHeight() - shiftTop - shiftBottom;\n\n  [ shift.top, shift.bottom ].map( function( arr ) {\n    arr.reduce( function( prev, current, index ) {\n      arr[ index ] = prev + current;\n      return prev + current;\n    }, 0 );\n  } );\n\n  // Apply to top and bottom\n  graph._applyToAxes( function( axis, position ) {\n\n    if ( !axis.isShown() || axis.floating ) {\n      return;\n    }\n\n    axis.setShift( shift[ position ][ axis.getLevel() ] );\n\n  }, false, true, false );\n\n  // Applied to left and right\n  graph._applyToAxes( function( axis, position ) {\n\n    if ( !axis.isShown() ) {\n      axis.hideGroup();\n      // Don't return here. We need to go through the draw method as the axis must be assigned minPx and maxPx values.\n      // This is because some series can still be visible although the axis isn't.\n    } else {\n      axis.showGroup();\n    }\n\n    axis.setMinPx( shiftTop );\n    axis.setMaxPx( graph.getDrawingHeight( true ) - shiftBottom );\n\n    if ( axis.floating ) {\n      return;\n    }\n\n    // First we need to draw it in order to determine the width to allocate\n    // graph is done to accomodate 0 and 100000 without overlapping any element in the DOM (label, ...)\n\n    // Let's not draw dependant axes yet\n    let drawn = ( !axis.linkedToAxis ) ? axis.draw() : 0;\n\n    if ( !axis.isShown() ) {\n      return;\n    }\n    // Get axis position gives the extra shift that is common\n    var level = getAxisLevelFromSpan( axis.getSpan(), levels[ position ] );\n    axis.setLevel( level );\n    shift[ position ][ level ] = Math.max( drawn, shift[ position ][ level ] || 0 );\n\n  }, false, false, true );\n\n  var shift2 = util.extend( true, {}, shift );\n\n  // Applied to left and right\n  graph._applyToAxes( function( axis, position ) {\n\n    if ( !axis.isShown() || axis.floating ) {\n      return;\n    }\n\n    shift2[ position ][ axis.getLevel() ] = Math.max( shift[ position ][ axis.getLevel() ], axis.equalizePosition( shift[ position ][ axis.getLevel() ] ) );\n\n  }, false, false, true );\n\n  shift = shift2;\n\n  var shiftLeft = shift.left.reduce( function( prev, curr ) {\n    return prev + curr;\n  }, 0 );\n\n  var shiftRight = shift.right.reduce( function( prev, curr ) {\n    return prev + curr;\n  }, 0 );\n\n  graph.drawingSpaceWidth = graph.getDrawingWidth() - shiftLeft - shiftRight;\n\n  [ shift.left, shift.right ].map( function( arr ) {\n    arr.reduce( function( prev, current, index ) {\n      arr[ index ] = prev + current;\n      return prev + current;\n    }, 0 );\n  } );\n\n  // Apply to left and right\n  graph._applyToAxes( ( axis, position ) => {\n\n    if ( !axis.isShown() || axis.floating ) {\n      return;\n    }\n    axis.setShift( shift[ position ][ axis.getLevel() ] );\n\n  }, false, false, true );\n\n  // Apply to top and bottom\n  graph._applyToAxes( function( axis, position ) {\n\n    if ( !axis.isShown() ) {\n      //      return;\n    }\n\n    axis.setMinPx( shiftLeft );\n    axis.setMaxPx( graph.getDrawingWidth( true ) - shiftRight );\n\n    if ( axis.floating ) {\n      return;\n    }\n\n    if ( !axis.linkedToAxis ) {\n      axis.draw();\n    }\n\n  }, false, true, false );\n\n  // Floating axes\n  graph._applyToAxes( function( axis ) {\n\n    if ( !axis.floating ) {\n      return;\n    }\n\n    var floatingAxis = axis.getFloatingAxis();\n    var floatingValue = axis.getFloatingValue();\n    var floatingPx = floatingAxis.getPx( floatingValue );\n\n    axis.setShift( floatingPx );\n\n    if ( !axis.linkedToAxis ) {\n      axis.draw();\n    }\n\n  }, false, true, true );\n\n  _closeLine( graph, 'right', graph.getDrawingWidth( true ), graph.getDrawingWidth( true ), shiftTop, graph.getDrawingHeight( true ) - shiftBottom );\n  _closeLine( graph, 'left', 0, 0, shiftTop, graph.getDrawingHeight( true ) - shiftBottom );\n  _closeLine( graph, 'top', shiftLeft, graph.getDrawingWidth( true ) - shiftRight, 0, 0 );\n  _closeLine( graph, 'bottom', shiftLeft, graph.getDrawingWidth( true ) - shiftRight, graph.getDrawingHeight( true ) - shiftBottom, graph.getDrawingHeight( true ) - shiftBottom );\n\n  graph.clipRect.setAttribute( 'y', shiftTop );\n  graph.clipRect.setAttribute( 'x', shiftLeft );\n  graph.clipRect.setAttribute( 'width', graph.getDrawingWidth() - shiftLeft - shiftRight );\n  graph.clipRect.setAttribute( 'height', graph.getDrawingHeight() - shiftTop - shiftBottom );\n\n  graph.rectEvent.setAttribute( 'y', shiftTop + graph.getPaddingTop() );\n  graph.rectEvent.setAttribute( 'x', shiftLeft + graph.getPaddingLeft() );\n\n  graph.rectEvent.setAttribute( 'width', graph.drawingSpaceWidth );\n  graph.rectEvent.setAttribute( 'height', graph.drawingSpaceHeight );\n\n  graph.drawingSpaceMinX = shiftLeft + graph.getPaddingLeft(); // + \"px\";\n  graph.drawingSpaceMinY = shiftTop + graph.getPaddingTop(); // + \"px\";\n  graph.drawingSpaceMaxX = graph.getDrawingWidth() - shiftRight + graph.getPaddingLeft(); // + \"px\";\n  graph.drawingSpaceMaxY = graph.getDrawingHeight() - shiftBottom + graph.getPaddingTop(); //  + \"px\";\n\n  // Apply to top and bottom\n  graph._applyToAxes( function( axis, position ) {\n\n    if ( !axis.isShown() ) {\n      return;\n    }\n\n    axis.drawLines();\n\n  }, false, true, true );\n\n  /*\n\tgraph.shapeZoneRect.setAttribute('x', shift[1]);\n\tgraph.shapeZoneRect.setAttribute('y', shift[2]);\n\tgraph.shapeZoneRect.setAttribute('width', graph.getDrawingWidth() - shift[2] - shift[3]);\n\tgraph.shapeZoneRect.setAttribute('height', graph.getDrawingHeight() - shift[1] - shift[0]);\n*/\n  graph.shift = shift;\n  graph.redrawShapes(); // Not sure this should be automatic here. The user should be clever.\n}\n\nfunction _handleKey( graph, event, type ) {\n\n  var self = graph;\n  console.log( event, type );\n  if ( graph.forcedPlugin ) {\n\n    graph.activePlugin = graph.forcedPlugin;\n    graph._pluginExecute( graph.activePlugin, type, [ graph, event ] );\n    return;\n  }\n\n  checkKeyActions( graph, event, [ graph, event ], type );\n}\n\n// Similar to checkMouseActions\nfunction checkKeyActions( graph, e, parameters, methodName ) {\n\n  var keyComb = graph.options.keyActions,\n    i, l;\n\n  for ( i = 0, l = keyComb.length; i < l; i++ ) {\n\n    if ( keyComb[ i ].plugin ) { // Is it a plugin ?\n\n      if ( graph.forcedPlugin == keyComb[ i ].plugin || graph.isActionAllowed( e, keyComb[ i ] ) ) {\n\n        if ( keyComb[ i ].options ) {\n          parameters.push( keyComb[ i ].options );\n        }\n\n        graph.activePlugin = keyComb[ i ].plugin; // Lease the mouse action to the current action\n        graph._pluginExecute( keyComb[ i ].plugin, methodName, parameters );\n\n        e.preventDefault();\n        e.stopPropagation();\n\n        return true;\n      }\n\n    } else if ( keyComb[ i ].callback && graph.isActionAllowed( e, keyComb[ i ] ) ) {\n\n      if ( keyComb[ i ].options ) {\n        parameters.push( keyComb[ i ].options );\n      }\n\n      e.preventDefault();\n      e.stopPropagation();\n\n      keyComb[ i ].callback.apply( graph, parameters );\n      return true;\n\n    }\n\n    if ( keyComb[ i ].removeSelectedShape && graph.isActionAllowed( e, keyComb[ i ] ) ) {\n\n      e.preventDefault();\n      e.stopPropagation();\n\n      graph.selectedShapes.map( ( shape ) => {\n\n        shape.kill( keyComb[ i ].keepInDom );\n      } );\n    }\n\n    /* else if ( keyComb[ i ].series ) {\n\n      var series;\n      if ( keyComb[ i ].series === 'all' ) {\n        series = graph.series;\n      }\n\n      if ( !Array.isArray( keyComb[ i ].series ) ) {\n        series = [ series ];\n      }\n\n      if ( keyComb[ i ].options ) {\n        parameters.push( keyComb[ i ].options );\n      }\n\n      for ( var j = 0; j < series.length; i++ ) {\n        graph._serieExecute( series[ i ], methodName, parameters );\n      }\n      return true;\n    }*/\n\n  }\n\n  return false;\n\n}\n\nfunction doDom() {\n\n  // Create SVG element, set the NS\n  this.dom = document.createElementNS( Graph.ns, 'svg' );\n  this.dom.setAttributeNS( 'http://www.w3.org/2000/xmlns/', 'xmlns:xlink', 'http://www.w3.org/1999/xlink' );\n  //this.dom.setAttributeNS(this.ns, 'xmlns:xlink', this.nsxml);\n  util.setAttributeTo( this.dom, {\n    'xmlns': Graph.ns,\n    'font-family': this.options.fontFamily,\n    'font-size': this.options.fontSize\n  } );\n\n  try {\n    util.setAttributeTo( this.dom, {\n      // eslint-disable-next-line no-undef\n      'data-jsgraph-version': __VERSION__\n    } );\n  } catch ( e ) {\n    // ignore\n  }\n\n  this.defs = document.createElementNS( Graph.ns, 'defs' );\n  this.dom.appendChild( this.defs );\n\n  this.groupEvent = document.createElementNS( Graph.ns, 'g' );\n\n  this.rectEvent = document.createElementNS( Graph.ns, 'rect' );\n  util.setAttributeTo( this.rectEvent, {\n    'pointer-events': 'fill',\n    'fill': 'transparent'\n  } );\n  this.groupEvent.appendChild( this.rectEvent );\n\n  this.dom.appendChild( this.groupEvent );\n\n  // Handling graph title\n  this.domTitle = document.createElementNS( Graph.ns, 'text' );\n  this.setTitle( this.options.title );\n  util.setAttributeTo( this.domTitle, {\n    'text-anchor': 'middle',\n    'y': 20\n  } );\n  this.groupEvent.appendChild( this.domTitle );\n  //\n\n  this.graphingZone = document.createElementNS( Graph.ns, 'g' );\n  this.updateGraphingZone();\n\n  this.groupEvent.appendChild( this.graphingZone );\n\n  /*  this.shapeZoneRect = document.createElementNS(this.ns, 'rect');\n  //this.shapeZoneRect.setAttribute('pointer-events', 'fill');\n  this.shapeZoneRect.setAttribute('fill', 'transparent');\n  this.shapeZone.appendChild(this.shapeZoneRect);\n*/\n  this.axisGroup = document.createElementNS( Graph.ns, 'g' );\n  this.graphingZone.appendChild( this.axisGroup );\n\n  this.groupGrids = document.createElementNS( Graph.ns, 'g' );\n\n  // With the z stacking, this should probably be removed\n  //this.groupGrids.setAttribute( 'clip-path', 'url(#_clipplot' + this._creation + ')' );\n\n  this.groupPrimaryGrids = document.createElementNS( Graph.ns, 'g' );\n  this.groupSecondaryGrids = document.createElementNS( Graph.ns, 'g' );\n\n  this.axisGroup.appendChild( this.groupGrids );\n\n  this.groupGrids.appendChild( this.groupSecondaryGrids );\n  this.groupGrids.appendChild( this.groupPrimaryGrids );\n\n  this.plotGroup = document.createElementNS( Graph.ns, 'g' );\n  this.graphingZone.appendChild( this.plotGroup );\n\n  // 5 September 2014. I encountered a case here shapeZone must be above plotGroup\n  /*this.shapeZone = document.createElementNS( this.ns, 'g' );\n  this.graphingZone.appendChild( this.shapeZone );\n*/\n\n  this.layers = [];\n\n  this._makeClosingLines();\n\n  this.clip = document.createElementNS( Graph.ns, 'clipPath' );\n  this.clip.setAttribute( 'id', `_clipplot${ this._creation}` );\n  this.defs.appendChild( this.clip );\n\n  this.clipRect = document.createElementNS( Graph.ns, 'rect' );\n  this.clip.appendChild( this.clipRect );\n  this.clip.setAttribute( 'clipPathUnits', 'userSpaceOnUse' );\n\n  this.markerArrow = document.createElementNS( this.ns, 'marker' );\n  this.markerArrow.setAttribute( 'viewBox', '0 0 10 10' );\n  this.markerArrow.setAttribute( 'id', `arrow${ this._creation}` );\n  this.markerArrow.setAttribute( 'refX', '6' );\n  this.markerArrow.setAttribute( 'refY', '5' );\n  this.markerArrow.setAttribute( 'markerUnits', 'strokeWidth' );\n  this.markerArrow.setAttribute( 'markerWidth', '8' );\n  this.markerArrow.setAttribute( 'markerHeight', '6' );\n  this.markerArrow.setAttribute( 'orient', 'auto' );\n  //this.markerArrow.setAttribute('fill', 'context-stroke');\n  //this.markerArrow.setAttribute('stroke', 'context-stroke');\n\n  var pathArrow = document.createElementNS( Graph.ns, 'path' );\n  pathArrow.setAttribute( 'd', 'M 0 0 L 10 5 L 0 10 z' );\n  //pathArrow.setAttribute( 'fill', 'context-stroke' );\n  this.markerArrow.appendChild( pathArrow );\n\n  this.defs.appendChild( this.markerArrow );\n\n  // Horionzal split marker for axis\n  this.markerHorizontalSplit = document.createElementNS( Graph.ns, 'marker' );\n  this.markerHorizontalSplit.setAttribute( 'viewBox', '0 0 6 8' );\n  this.markerHorizontalSplit.setAttribute( 'id', `horionzalsplit_${ this.getId()}` );\n  this.markerHorizontalSplit.setAttribute( 'refX', '3' );\n  this.markerHorizontalSplit.setAttribute( 'refY', '4' );\n  this.markerHorizontalSplit.setAttribute( 'markerUnits', 'strokeWidth' );\n  this.markerHorizontalSplit.setAttribute( 'markerWidth', '6' );\n  this.markerHorizontalSplit.setAttribute( 'markerHeight', '8' );\n\n  var path = document.createElementNS( Graph.ns, 'line' );\n  path.setAttribute( 'x1', '0' );\n  path.setAttribute( 'y1', '8' );\n\n  path.setAttribute( 'x2', '6' );\n  path.setAttribute( 'y2', '0' );\n\n  path.setAttribute( 'stroke', 'black' );\n  this.markerHorizontalSplit.appendChild( path );\n\n  this.defs.appendChild( this.markerHorizontalSplit );\n\n  // Vertical split marker for axis\n  this.markerVerticalSplit = document.createElementNS( Graph.ns, 'marker' );\n  this.markerVerticalSplit.setAttribute( 'viewBox', '0 0 8 6' );\n  this.markerVerticalSplit.setAttribute( 'id', `verticalsplit_${ this.getId()}` );\n  this.markerVerticalSplit.setAttribute( 'refX', '4' );\n  this.markerVerticalSplit.setAttribute( 'refY', '3' );\n  this.markerVerticalSplit.setAttribute( 'markerUnits', 'strokeWidth' );\n  this.markerVerticalSplit.setAttribute( 'markerWidth', '8' );\n  this.markerVerticalSplit.setAttribute( 'markerHeight', '6' );\n\n  var path = document.createElementNS( Graph.ns, 'line' );\n\n  path.setAttribute( 'x1', '0' );\n  path.setAttribute( 'y1', '0' );\n\n  path.setAttribute( 'x2', '8' );\n  path.setAttribute( 'y2', '6' );\n\n  path.setAttribute( 'stroke', 'black' );\n  this.markerVerticalSplit.appendChild( path );\n  this.defs.appendChild( this.markerVerticalSplit );\n\n  this.vertLineArrow = document.createElementNS( Graph.ns, 'marker' );\n  this.vertLineArrow.setAttribute( 'viewBox', '0 0 10 10' );\n  this.vertLineArrow.setAttribute( 'id', `verticalline${ this._creation}` );\n  this.vertLineArrow.setAttribute( 'refX', '0' );\n  this.vertLineArrow.setAttribute( 'refY', '5' );\n  this.vertLineArrow.setAttribute( 'markerUnits', 'strokeWidth' );\n  this.vertLineArrow.setAttribute( 'markerWidth', '20' );\n  this.vertLineArrow.setAttribute( 'markerHeight', '10' );\n  this.vertLineArrow.setAttribute( 'orient', 'auto' );\n  //this.vertLineArrow.setAttribute('fill', 'context-stroke');\n  //this.vertLineArrow.setAttribute('stroke', 'context-stroke');\n  this.vertLineArrow.setAttribute( 'stroke-width', '1px' );\n\n  var pathVertLine = document.createElementNS( Graph.ns, 'path' );\n  pathVertLine.setAttribute( 'd', 'M 0 -10 L 0 10' );\n  pathVertLine.setAttribute( 'stroke', 'black' );\n\n  this.vertLineArrow.appendChild( pathVertLine );\n\n  this.defs.appendChild( this.vertLineArrow );\n\n  // Removed with z stacking ?\n  //    this.plotGroup.setAttribute( 'clip-path', 'url(#_clipplot' + this._creation + ')' );\n\n  this.bypassHandleMouse = false;\n}\n\nfunction _registerEvents( graph ) {\n  var self = graph;\n\n  if ( !graph.wrapper ) {\n    throw 'No wrapper exists. Cannot register the events.';\n  }\n\n  graph.dom.setAttribute( 'tabindex', 0 );\n\n  graph.dom.addEventListener( 'keydown', ( e ) => {\n    _handleKey( graph, e, 'keydown' );\n  } );\n\n  graph.dom.addEventListener( 'keypress', ( e ) => {\n    _handleKey( graph, e, 'keypress' );\n  } );\n\n  graph.dom.addEventListener( 'keyup', ( e ) => {\n    _handleKey( graph, e, 'keyup' );\n  } );\n  // Not sure this has to be prevented\n\n  // August 17th, 2017: I extended the graph.groupEvent to the more general graph.dom to make the zoom plugin more\n  // intuitive. Let us see if it breaks another example...\n  graph.dom.addEventListener( 'mousemove', ( e ) => {\n    //e.preventDefault();\n    var coords = graph._getXY( e );\n    _handleMouseMove( graph, coords.x, coords.y, e );\n\n  } );\n\n  graph.dom.addEventListener( 'mouseleave', ( e ) => {\n\n    _handleMouseLeave( graph );\n\n  } );\n\n  graph.groupEvent.addEventListener( 'mousedown', ( e ) => {\n\n    graph.focus();\n\n    //   e.preventDefault();\n    if ( e.which == 3 || e.ctrlKey ) {\n      return;\n    }\n\n    var coords = graph._getXY( e );\n    _handleMouseDown( graph, coords.x, coords.y, e );\n\n  } );\n\n  graph.dom.addEventListener( 'mouseup', ( e ) => {\n\n    graph.emit( 'mouseUp', e );\n    var coords = graph._getXY( e );\n\n    _handleMouseUp( graph, coords.x, coords.y, e );\n\n  } );\n\n  graph.wrapper.addEventListener( 'mouseup', ( e ) => {\n    e.stopPropagation();\n  } );\n\n  graph.dom.addEventListener( 'dblclick', ( e ) => {\n\n    graph.emit( 'dblClick', e );\n    var coords = graph._getXY( e );\n\n    _handleDblClick( graph, coords.x, coords.y, e );\n  } );\n\n  graph.groupEvent.addEventListener( 'click', ( e ) => {\n\n    // Cancel right click or Command+Click\n    if ( e.which == 3 || e.ctrlKey ) {\n      return;\n    }\n\n    //   e.preventDefault();\n    var coords = graph._getXY( e );\n\n    if ( !graph.prevent( false ) ) {\n      _handleClick( graph, coords.x, coords.y, e );\n    }\n\n    //}, 200 );\n  } );\n\n  graph.groupEvent.addEventListener( 'mousewheel', ( e ) => {\n\n    var deltaY = e.wheelDeltaY || e.wheelDelta || -e.deltaY;\n    var coords = graph._getXY( e );\n    _handleMouseWheel( graph, deltaY, coords.x, coords.y, e );\n\n    return false;\n  } );\n\n  graph.groupEvent.addEventListener( 'wheel', ( e ) => {\n\n    var coords = graph._getXY( e );\n    var deltaY = e.wheelDeltaY || e.wheelDelta || -e.deltaY;\n    _handleMouseWheel( graph, deltaY, coords.x, coords.y, e );\n\n    return false;\n  } );\n}\n\nfunction _handleMouseDown( graph, x, y, e ) {\n\n  var self = graph;\n\n  if ( graph.forcedPlugin ) {\n\n    graph.activePlugin = graph.forcedPlugin;\n    graph._pluginExecute( graph.activePlugin, 'onMouseDown', [ graph, x, y, e ] );\n    return;\n  }\n\n  if ( graph.activePlugin ) {\n    graph.activePlugin = false;\n  }\n\n  checkMouseActions( graph, e, [ graph, x, y, e ], 'onMouseDown' );\n}\n\nfunction _handleMouseMove( graph, x, y, e ) {\n\n  if ( graph.bypassHandleMouse ) {\n    graph.bypassHandleMouse.handleMouseMove( e );\n    return;\n  }\n\n  if ( graph.activePlugin && graph._pluginExecute( graph.activePlugin, 'onMouseMove', [ graph, x, y, e ] ) ) {\n    return;\n  }\n\n  //\t\t\treturn;\n\n  graph._applyToAxes( 'handleMouseMove', [ x - graph.options.paddingLeft, e ], true, false );\n  graph._applyToAxes( 'handleMouseMove', [ y - graph.options.paddingTop, e ], false, true );\n\n  if ( !graph.activePlugin ) {\n    var index;\n\n    // Takes care of the tracking line\n    if ( graph.options.trackingLine && graph.options.trackingLine.enable && graph.options.trackingLine.snapToSerie ) {\n\n      if ( graph.options.trackingLine.mode == 'common' ) {\n\n        var snapToSerie = graph.options.trackingLine.snapToSerie;\n        index = snapToSerie.handleMouseMove( false, true );\n\n        if ( this.trackingObject ) {\n\n          if ( !index ) {\n\n            graph.trackingObject.hide();\n\n          } else {\n\n            graph.trackingObject.show();\n\n            graph.trackingObject.getPosition( 0 ).x = index.xClosest;\n            graph.trackingObject.getPosition( 1 ).x = index.xClosest;\n            graph.trackingObject.redraw();\n\n            var x = snapToSerie.getXAxis().getPx( index.xClosest ) + graph.options.paddingLeft;\n          }\n        }\n\n        var series = graph.options.trackingLine.series;\n\n        // Gets a default value\n        if ( !series ) {\n\n          series = graph.getSeries().map( function( serie ) {\n            return {\n              serie: serie,\n              withinPx: 20,\n              withinVal: -1\n            };\n          } );\n        }\n\n        graph._trackingLegend = _trackingLegendSerie( graph, series, x, y, graph._trackingLegend, graph.options.trackingLine.textMethod, index.xClosest );\n      }\n    }\n  }\n  // End takes care of the tracking line\n\n  if ( graph.options.onMouseMoveData ) {\n    var results = {};\n\n    for ( var i = 0; i < graph.series.length; i++ ) {\n\n      results[ graph.series[ i ].getName() ] = graph.series[ i ].handleMouseMove( false, true );\n\n    }\n\n    graph.options.onMouseMoveData.call( graph, e, results );\n  }\n\n  checkMouseActions( graph, e, [ graph, x, y, e ], 'onMouseMove' );\n\n}\n\nfunction checkMouseActions( graph, e, parameters, methodName ) {\n\n  var keyComb = graph.options.mouseActions,\n    i, l, executed = false;\n\n  for ( i = 0, l = keyComb.length; i < l; i++ ) {\n\n    if ( keyComb[ i ].plugin ) { // Is it a plugin ?\n\n      if ( graph.forcedPlugin == keyComb[ i ].plugin || graph.isActionAllowed( e, keyComb[ i ] ) ) {\n\n        if ( keyComb[ i ].options ) {\n          parameters.push( keyComb[ i ].options );\n        }\n\n        // Lease the mouse action to the current action\n        // 25.10.2017: Except for mousewheel. See #111\n        if ( e.type !== 'wheel' && e.type !== 'mousewheel' ) {\n          graph.activePlugin = keyComb[ i ].plugin;\n        }\n\n        graph._pluginExecute( keyComb[ i ].plugin, methodName, parameters );\n        executed = true;\n        continue;\n      }\n\n    } else if ( keyComb[ i ].callback && graph.isActionAllowed( e, keyComb[ i ] ) ) {\n\n      if ( keyComb[ i ].options ) {\n        parameters.push( keyComb[ i ].options );\n      }\n\n      keyComb[ i ].callback.apply( graph, parameters );\n      executed = true;\n      continue;\n\n    } else if ( keyComb[ i ].series ) {\n\n      var series;\n      if ( keyComb[ i ].series === 'all' ) {\n        series = graph.series;\n      }\n\n      if ( !Array.isArray( keyComb[ i ].series ) ) {\n        series = [ series ];\n      }\n\n      if ( keyComb[ i ].options ) {\n        parameters.push( keyComb[ i ].options );\n      }\n\n      for ( var j = 0; j < series.length; i++ ) {\n        graph._serieExecute( series[ i ], methodName, parameters );\n      }\n      executed = true;\n      continue;\n    }\n  }\n\n  return executed;\n}\n\nvar _trackingLegendSerie = function( graph, serie, x, y, legend, textMethod, xValue ) {\n\n  var justCreated = false;\n\n  if ( !Array.isArray( serie ) ) {\n    serie = [ serie ];\n  }\n\n  var output = [];\n\n  if ( !legend && graph.options.trackingLine.legend ) {\n    justCreated = true;\n    legend = _makeTrackingLegend( graph );\n  }\n\n  serie.map( ( serie ) => {\n\n    var index = serie.serie.handleMouseMove( xValue, false );\n\n    if ( !index || !textMethod ) {\n\n      if ( serie.serie.trackingShape ) {\n        serie.serie.trackingShape.hide();\n      }\n\n      return legend;\n    }\n\n    // Should we display the dot ?\n    if (\n      ( serie.withinPx > 0 && Math.abs( x - graph.options.paddingLeft - serie.serie.getXAxis().getPx( index.xClosest ) ) - serie.withinPx > 1e-14 ) ||\n      ( serie.withinVal > 0 && Math.abs( serie.serie.getXAxis().getVal( x - graph.options.paddingLeft ) - index.xClosest ) - serie.withinVal > serie.serie.getXAxis().getVal( x - graph.options.paddingLeft ) / 100000 )\n    ) {\n\n      if ( serie.serie.trackingShape ) {\n        serie.serie.trackingShape.hide();\n      }\n\n    } else {\n\n      output[ serie.serie.getName() ] = {\n\n        yValue: index.xClosest,\n        xValue: index.yClosest,\n        serie: serie,\n        index: index\n\n      };\n\n      let serieShape;\n      if ( graph.options.trackingLine && graph.options.trackingLine.serieShape ) {\n        serieShape = graph.options.trackingLine.serieShape;\n      } else {\n        serieShape = {\n          shape: 'ellipse',\n          properties: {\n            rx: [ `${serie.serie.getLineWidth() * 3 }px` ],\n            ry: [ `${serie.serie.getLineWidth() * 3 }px` ]\n          }\n        };\n      }\n\n      if ( !serie.serie.trackingShape ) {\n\n        serie.serie.trackingShape = graph.newShape( serieShape.shape, {\n              fillColor: serie.serie.getLineColor(),\n              strokeColor: 'White',\n              strokeWidth: serie.serie.getLineWidth()\n            },\n            true,\n            serieShape.properties\n          )\n          .setSerie( serie.serie )\n          .forceParentDom( serie.serie.groupMain )\n          .draw();\n\n        ( serieShape.onCreated && serieShape.onCreated( serie.serie.trackingShape ) );\n\n        serie.serie.trackingShape.on( 'changed', () => {\n\n          ( serieShape.onChanged && serieShape.onChanged( serie.serie.trackingShape ) );\n\n        } );\n      }\n\n      serie.serie.trackingShape.show();\n      serie.serie.trackingShape.getPosition( 0 ).x = index.xClosest;\n\n      if ( serieShape.magnet ) {\n\n        let magnetOptions = serieShape.magnet,\n          val = magnetOptions.within,\n          minmaxpos;\n\n        if ( magnetOptions.withinPx ) {\n          val = serie.serie.getXAxis().getRelVal( magnetOptions.withinPx );\n        }\n\n        if ( ( minmaxpos = serie.serie.findLocalMinMax( index.xClosest, val, magnetOptions.mode ) ) ) {\n\n          serie.serie.trackingShape.getPosition( 0 ).x = minmaxpos;\n        }\n      }\n\n      serie.serie.trackingShape.redraw();\n    }\n\n  } ); // End map\n\n  if ( !graph.options.trackingLine.legend ) {\n    return;\n  }\n\n  if ( Object.keys( output ).length == 0 || !textMethod ) {\n    legend.style.display = 'none';\n  } else {\n\n    if ( legend.style.display == 'none' || justCreated ) {\n\n      forceTrackingLegendMode( graph, legend, x, y, true );\n    } else {\n      _trackingLegendMove( graph, legend, x, y );\n    }\n\n    legend.style.display = 'block';\n    var txt = textMethod( output, xValue, x, y );\n\n    legend.innerHTML = txt;\n\n    //legend.innerHTML = textMethod( output, xValue, x, y );\n\n  }\n\n  return legend;\n\n};\n\nvar forceTrackingLegendMode = function( graph, legend, toX, toY, skip ) {\n\n  var ratio = 0,\n    start = Date.now(),\n    h = legend.offsetHeight,\n    startX = parseInt( legend.style.marginLeft.replace( 'px', '' ) || 0 ),\n    startY = parseInt( legend.style.marginTop.replace( 'px', '' ) || 0 );\n\n  toX = ( toX > graph.getWidth() / 2 ) ? ( ( toX - toX % 10 - 20 ) - legend.offsetWidth ) : ( toX - toX % 10 + 30 );\n  toY = ( toY - toY % 10 + h / 2 );\n\n  if ( skip ) {\n    legend.style.marginLeft = `${toX }px`;\n    legend.style.marginTop = `${toY }px`;\n    return;\n  }\n\n  function next() {\n\n    var progress = ( Date.now() - start ) / 200;\n    if ( progress > 1 ) {\n      progress = 1;\n    }\n\n    legend.style.marginLeft = `${( toX - startX ) * progress + startX }px`;\n    legend.style.marginTop = `${( toY - startY ) * progress + startY }px`;\n\n    if ( progress < 1 ) {\n      window.requestAnimationFrame( next );\n    }\n  }\n\n  window.requestAnimationFrame( next );\n};\n\nvar _trackingLegendMove = util.debounce( forceTrackingLegendMode, 50 );\n\nfunction _makeTrackingLegend( graph ) {\n\n  var group = document.createElement( 'div' );\n  group.setAttribute( 'class', 'trackingLegend' );\n  group.style.position = 'absolute';\n  group.style.borderRadius = '4px';\n  group.style.boxShadow = '1px 1px 3px 0px rgba(100,100,100,0.6)';\n  group.style.border = '2px solid #333333';\n  group.style.backgroundColor = 'rgba(255, 255, 255, 0.5 )';\n  group.style.pointerEvents = 'none';\n  group.style.paddingTop = '5px';\n  group.style.paddingBottom = '5px';\n  group.style.paddingLeft = '10px';\n  group.style.paddingRight = '10px';\n\n  graph.getWrapper().insertBefore( group, graph.getDom() );\n\n  return group;\n}\n\nfunction _handleDblClick( graph, x, y, e ) {\n  //\tvar _x = x - graph.options.paddingLeft;\n  //\tvar _y = y - graph.options.paddingTop;\n  var pref = graph.options.dblclick;\n  checkMouseActions( graph, e, [ x, y, e ], 'onDblClick' );\n  /*\n      if ( !pref || !pref.type ) {\n        return;\n      }\n\n      switch ( pref.type ) {\n\n        case 'plugin':\n\n          var plugin;\n\n          if ( ( plugin = graph.plugins[ pref.plugin ] ) ) {\n\n            plugin.onDblClick( graph, x, y, pref.options, e );\n          }\n\n          break;\n      }*/\n}\n\nfunction _handleMouseUp( graph, x, y, e ) {\n\n  if ( graph.bypassHandleMouse ) {\n    graph.bypassHandleMouse.handleMouseUp( e );\n    graph.activePlugin = false;\n    return;\n  }\n\n  graph._pluginExecute( graph.activePlugin, 'onMouseUp', [ graph, x, y, e ] );\n  graph.activePlugin = false;\n}\n\nfunction _handleClick( graph, x, y, e ) {\n\n  graph.emit( 'click', [ graph, x, y, e ] );\n  // Not on a shape\n  checkMouseActions( graph, e, [ x, y, e ], 'onClick' );\n\n  if ( !e.target.jsGraphIsShape && !graph.prevent( false ) && graph.options.shapesUnselectOnClick ) {\n\n    graph.unselectShapes();\n  }\n\n}\n\nfunction _getAxis( graph, num, options, pos ) {\n\n  var options = options || {};\n  var inst;\n\n  var _availableAxes = {\n\n    def: {\n      x: graph.getConstructor( 'graph.axis.x' ),\n      y: graph.getConstructor( 'graph.axis.y' )\n    },\n\n    time: {\n      x: graph.getConstructor( 'graph.axis.x.time' )\n    },\n\n    bar: {\n      x: graph.getConstructor( 'graph.axis.x.bar' )\n    }\n  };\n\n  switch ( options.type ) {\n\n    case 'time':\n      var axisInstance = _availableAxes.time;\n      break;\n\n    case 'bar':\n      var axisInstance = _availableAxes.bar;\n      break;\n\n    case 'broken':\n      var axisInstance = _availableAxes.broken;\n      break;\n\n    default:\n      var axisInstance = _availableAxes.def;\n      break;\n  }\n\n  switch ( pos ) {\n\n    case 'top':\n    case 'bottom':\n      inst = axisInstance.x;\n      break;\n\n    case 'left':\n    case 'right':\n      inst = axisInstance.y;\n      break;\n  }\n\n  num = num || 0;\n\n  if ( typeof num == 'object' ) {\n    options = num;\n    num = 0;\n  }\n\n  if ( !graph.axis[ pos ][ num ] ) {\n\n    graph.axis[ pos ][ num ] = new inst( graph, pos, options );\n    graph.axis[ pos ][ num ].init( graph, options );\n  }\n\n  return graph.axis[ pos ][ num ];\n}\n\nfunction _closeLine( graph, mode, x1, x2, y1, y2 ) {\n\n  if ( graph.options.close === false ) {\n    return;\n  }\n\n  var l = 0;\n\n  graph.axis[ mode ].map( function( g ) {\n\n    if ( g.isDisplayed() && !g.floating ) {\n      l++;\n    }\n  } );\n\n  if ( ( graph.options.close === true || graph.options.close[ mode ] ) && l == 0 ) {\n\n    graph.closingLines[ mode ].setAttribute( 'display', 'block' );\n    graph.closingLines[ mode ].setAttribute( 'x1', x1 );\n    graph.closingLines[ mode ].setAttribute( 'x2', x2 );\n    graph.closingLines[ mode ].setAttribute( 'y1', y1 );\n    graph.closingLines[ mode ].setAttribute( 'y2', y2 );\n\n  } else {\n\n    graph.closingLines[ mode ].setAttribute( 'display', 'none' );\n  }\n}\n\nfunction _handleMouseWheel( graph, delta, coordX, coordY, e ) {\n  if ( checkMouseActions( graph, e, [ delta, e, coordX, coordY ], 'onMouseWheel' ) ) {\n    e.preventDefault();\n    e.stopPropagation();\n  }\n}\n\nfunction _handleMouseLeave( graph ) {\n  if ( graph.options.handleMouseLeave ) {\n    graph.options.handleMouseLeave.call( graph );\n  }\n}\n\nfunction haveAxesChanged( graph ) {\n  var temp = graph._axesHaveChanged;\n  graph._axesHaveChanged = false;\n  return temp;\n}\n\nfunction hasSizeChanged( graph ) {\n  var temp = graph._sizeChanged;\n  graph._sizeChanged = false;\n  return temp;\n}\n\n// Constants\nGraph.SERIE_LINE = Symbol();\nGraph.SERIE_SCATTER = Symbol();\nGraph.SERIE_CONTOUR = Symbol();\nGraph.SERIE_BAR = Symbol();\nGraph.SERIE_BOX = Symbol();\nGraph.SERIE_ZONE = Symbol();\nGraph.SERIE_LINE_COLORED = Symbol();\nGraph.SERIE_ZONE = Symbol();\nGraph.SERIE_DENSITYMAP = Symbol();\nGraph.SERIE_LINE_3D = Symbol();\nGraph.SERIE_ZONE_3D = Symbol();\n\nGraph.TICKS_OUTSIDE = Symbol();\nGraph.TICKS_INSIDE = Symbol();\nGraph.TICKS_CENTERED = Symbol();\n\nGraph.ns = 'http://www.w3.org/2000/svg';\nGraph.nsxlink = 'http://www.w3.org/1999/xlink';\n\nexport default Graph;","import GraphPosition from './graph.position.js';\nimport * as util from './graph.util.js';\n\n/**\n * Default legend configuration\n * @name LegendOptionsDefault\n * @object\n * @static\n * @prop {Boolean} frame - <code>true</code> to display a frame around the legend\n * @prop {Number} frameWidth - The width of the frame stroke\n * @prop {String} frameColor - The stroke color of the frame\n * @prop {String} backgroundColor - The background color of the frame\n * @prop {Number} paddingLeft - The left padding\n * @prop {Number} paddingRight - The right padding\n * @prop {Number} paddingTop - The top padding\n * @prop {Number} paddingBottom - The bottom padding\n * @prop {Boolean} shapesToggleable - <code>true</code> to toggle the shapes linked to serie with its status (shown or hidden)\n * @prop {Boolean} isSerieHideable - <code>true</code> to allow series to be hidden through the legend\n * @prop {Boolean} isSerieSelectable - <code>true</code> to allow series to be selected through the legend\n */\nvar legendDefaults = {\n\n  backgroundColor: 'rgba(255, 255, 255, 0.8)',\n  frame: true,\n  frameWidth: 1,\n  frameColor: 'black',\n  paddingTop: 10,\n  paddingLeft: 10,\n  paddingBottom: 10,\n  paddingRight: 10,\n  color: 'black',\n  frameRounding: 0,\n\n  movable: false,\n\n  shapesToggleable: true,\n  isSerieHideable: true,\n  isSerieSelectable: true\n\n};\n\n/**\n * Legend constructor. You should not call this method directly, but rather use {@link graph.makeLegend}\n * @example var legend = graph.makeLegend( {  backgroundColor: 'rgba(255, 255, 255, 0.8)',\n * frame: true,\n * frameWidth: 1,\n * frameColor: 'black',\n * paddingTop: 10,\n * paddingLeft: 10,\n * paddingBottom: 10,\n * paddingRight: 10,\n * frameRounding: 3,\n *\n * movable: false,\n *\n * shapesToggleable: true,\n * isSerieHideable: true,\n * isSerieSelectable: true\n * } );\n */\nclass Legend {\n\n  constructor( graph, options ) {\n\n    this.options = util.extend( {}, legendDefaults, options );\n\n    this.graph = graph;\n    this.svg = document.createElementNS( this.graph.ns, 'g' );\n    this.subG = document.createElementNS( this.graph.ns, 'g' );\n\n    this.groups = [];\n    this.rect = document.createElementNS( this.graph.ns, 'rect' );\n    this.rectBottom = document.createElementNS( this.graph.ns, 'rect' );\n\n    this.rect.setAttribute( 'x', 0 );\n    this.rect.setAttribute( 'y', 0 );\n\n    this.rectBottom.setAttribute( 'x', 0 );\n    this.rectBottom.setAttribute( 'y', 0 );\n\n    this.series = false;\n\n    this.svg.setAttribute( 'display', 'none' );\n    this.pos = {\n      x: undefined,\n      y: undefined,\n      transformX: 0,\n      transformY: 0\n    };\n\n    this.setEvents();\n\n    this.eyeId = util.guid();\n    this.eyeCrossedId = util.guid();\n\n    var eyeClosed = util.SVGParser( `<svg xmlns=\"http://www.w3.org/2000/svg\"><symbol id=\"${ this.eyeCrossedId }\" viewBox=\"0 -256 1850 1850\"><rect pointer-events=\"fill\" fill=\"transparent\" x=\"-256\" y=\"0\" width=\"2106\" height=\"1850\" /><g transform=\"matrix(1,0,0,-1,30.372881,1214.339)\"><path d=\"m 555,201 78,141 q -87,63 -136,159 -49,96 -49,203 0,121 61,225 Q 280,812 128,576 295,318 555,201 z m 389,759 q 0,20 -14,34 -14,14 -34,14 -125,0 -214.5,-89.5 Q 592,829 592,704 q 0,-20 14,-34 14,-14 34,-14 20,0 34,14 14,14 14,34 0,86 61,147 61,61 147,61 20,0 34,14 14,14 14,34 z m 363,191 q 0,-7 -1,-9 Q 1201,954 991,576 781,198 675,9 l -49,-89 q -10,-16 -28,-16 -12,0 -134,70 -16,10 -16,28 0,12 44,87 Q 349,154 228.5,262 108,370 20,507 0,538 0,576 q 0,38 20,69 153,235 380,371 227,136 496,136 89,0 180,-17 l 54,97 q 10,16 28,16 5,0 18,-6 13,-6 31,-15.5 18,-9.5 33,-18.5 15,-9 31.5,-18.5 16.5,-9.5 19.5,-11.5 16,-10 16,-27 z m 37,-447 Q 1344,565 1265,450.5 1186,336 1056,286 l 280,502 q 8,-45 8,-84 z m 448,-128 q 0,-35 -20,-69 Q 1733,443 1663,362 1513,190 1315.5,95 1118,0 896,0 l 74,132 q 212,18 392.5,137 180.5,119 301.5,307 -115,179 -282,294 l 63,112 q 95,-64 182.5,-153 87.5,-89 144.5,-184 20,-34 20,-69 z\" fill=\"#c0c0c0\"></path></g></symbol></svg>` );\n    //  var eyeClosed = util.SVGParser('<svg xmlns=\"http://www.w3.org/2000/svg\"><symbol id=\"' + this.eyeId + '\" viewBox=\"0 0 100 100\"><rect fill=\"black\" x=\"0\" y=\"0\" width=\"100\" height=\"100\" /></symbol></svg>');\n\n    /* var eyeClosed = document.createElementNS( this.graph.ns, \"symbol\");\n      eyeClosed.setAttribute('id', this.eyeId );\n      eyeClosed.setAttribute(\"viewBox\", '0 0 100 100');\n\n      var rect = document.createElementNS( this.graph.ns, \"rect\" );\n      rect.setAttribute('width', 100 );\n      rect.setAttribute('height', 100 );\n      rect.setAttribute('x', 0 );\n      rect.setAttribute('y', 0 );\n      rect.setAttribute('fill', 'black');\n      eyeClosed.appendChild( rect );\n  */\n    var eye = util.SVGParser( `<svg xmlns=\"http://www.w3.org/2000/svg\"><symbol id=\"${ this.eyeId }\" viewBox=\"0 -256 1850 1850\"><rect pointer-events=\"fill\" x=\"-256\" y=\"0\" fill=\"transparent\" width=\"2106\" height=\"1850\" /><g transform=\"matrix(1,0,0,-1,30.372881,1259.8983)\"><path d=\"m 1664,576 q -152,236 -381,353 61,-104 61,-225 0,-185 -131.5,-316.5 Q 1081,256 896,256 711,256 579.5,387.5 448,519 448,704 448,825 509,929 280,812 128,576 261,371 461.5,249.5 662,128 896,128 1130,128 1330.5,249.5 1531,371 1664,576 z M 944,960 q 0,20 -14,34 -14,14 -34,14 -125,0 -214.5,-89.5 Q 592,829 592,704 q 0,-20 14,-34 14,-14 34,-14 20,0 34,14 14,14 14,34 0,86 61,147 61,61 147,61 20,0 34,14 14,14 14,34 z m 848,-384 q 0,-34 -20,-69 Q 1632,277 1395.5,138.5 1159,0 896,0 633,0 396.5,139 160,278 20,507 0,542 0,576 q 0,34 20,69 140,229 376.5,368 236.5,139 499.5,139 263,0 499.5,-139 236.5,-139 376.5,-368 20,-35 20,-69 z\" fill=\"#444444\" /></g></symbol></svg>` );\n\n    this.svg.appendChild( document.adoptNode( eye.documentElement.firstChild ) );\n    this.svg.appendChild( document.adoptNode( eyeClosed.documentElement.firstChild ) );\n\n    this.svg.appendChild( this.subG );\n\n    this.applyStyle();\n  }\n\n  /**\n   * Sets the position of the legend\n   * @param {Position} position - the position to set the legend to versus the graph main axes ({@link Graph#getXAxis} and {@link Graph#getYAxis})\n   * @param {String} alignToX - \"right\" or \"left\". References the legend right or left boundary using the position parameter\n   * @param {String} alignToY - \"top\" or \"bottom\". References the legend top or bottom boundary using the position parameter\n   * @example legend.setPosition( { x: 'max', y: '0px' }, 'right', 'top' ); // The rightmost side of the legend will at the maximum value of the axis, and will be positioned at the top\n   */\n  setPosition( position, alignToX, alignToY ) {\n\n    if ( !position ) {\n      return;\n    }\n\n    this.position = position;\n    this.alignToX = alignToX || 'left';\n    this.alignToY = alignToY || 'top';\n\n  }\n\n  setDraggable( bln ) {\n    this.options.movable = bln;\n\n  }\n\n  setAutoPosition( position ) {\n\n    if ( [ 'bottom', 'left', 'top', 'right' ].indexOf( ( position = position.toLowerCase() ) ) > -1 ) {\n      this.autoPosition = position;\n      return this;\n    }\n\n    this.requireDelayedUpdate();\n    this.autoPosition = false;\n  }\n\n  autoPosition() {\n    return this.setAutoPosition( ...arguments );\n  }\n\n  buildLegendBox() {\n\n    var series = this.series || this.graph.getSeries(),\n      posX = 0,\n      posY = this.options.paddingTop;\n\n    if ( !this.autoPosition ) {\n      this.graph.graphingZone.appendChild( this.getDom() );\n    } else {\n      this.graph.getDom().appendChild( this.getDom() );\n    }\n\n    for ( var i = 0, l = series.length; i < l; i++ ) {\n\n      if ( series[ i ].excludedFromLegend && !this.series ) {\n        continue;\n      }\n\n      if ( this.autoPosition == 'bottom' || this.autoPosition == 'top' ) {\n\n        var bbox = getBBox( this.groups[ i ] );\n\n        if ( posX + bbox.width > this.graph.getDrawingWidth() - this.options.paddingRight ) {\n          posY += 16;\n          posX = 0;\n        }\n      }\n\n      this.groups[ i ].setAttribute( 'transform', `translate( ${ posX }, ${ posY })` );\n\n      if ( this.autoPosition == 'bottom' || this.autoPosition == 'top' ) {\n\n        posX += bbox.width + 10;\n        posY += 0;\n\n      } else {\n\n        posX = 0;\n        posY += 16;\n      }\n    }\n\n    var bbox = getBBox( this.subG );\n\n    /* Independant on box position */\n    this.width = bbox.width + this.options.paddingRight + this.options.paddingLeft;\n    this.height = bbox.height + this.options.paddingBottom + this.options.paddingTop;\n\n    this.rect.setAttribute( 'width', this.width );\n    this.rect.setAttribute( 'height', this.height );\n    this.rect.setAttribute( 'fill', 'none' );\n    this.rect.setAttribute( 'pointer-events', 'fill' );\n\n    this.rect.setAttribute( 'display', 'none' );\n\n    if ( this.options.movable ) {\n      this.rectBottom.style.cursor = 'move';\n    }\n\n    this.rectBottom.setAttribute( 'width', this.width );\n    this.rectBottom.setAttribute( 'height', this.height );\n\n    this.rectBottom.setAttribute( 'x', bbox.x - this.options.paddingLeft );\n    this.rectBottom.setAttribute( 'y', bbox.y - this.options.paddingTop );\n    /* End independant on box position */\n\n    this.position = this.position || {};\n\n    switch ( this.autoPosition ) {\n\n      case 'bottom':\n        this.position.y = `${this.graph.getHeight() }px`;\n        // Try to center with respect to the drawing space, not the full graph. It's useful when the graph is fairly asymmetric (i.e. multiple axes on 1 side)\n        this.position.x = `${( this.graph.drawingSpaceWidth - this.width ) / 2 + this.graph.drawingSpaceMinX }px`;\n        this.alignToY = 'bottom';\n        this.alignToX = false;\n        break;\n\n      case 'left':\n        this.position.x = '6px';\n        this.position.y = `${( this.graph.getHeight() - this.height ) / 2 }px`;\n        this.alignToX = 'left';\n        this.alignToY = false;\n        break;\n\n      case 'right':\n        this.position.x = `${this.graph.getWidth() }px`;\n        this.position.y = `${( this.graph.getHeight() - this.height ) / 2 }px`;\n        this.alignToX = 'right';\n        this.alignToY = false;\n        break;\n\n      case 'top':\n        this.position.x = `${( this.graph.drawingSpaceWidth - this.width ) / 2 + this.graph.drawingSpaceMinX }px`;\n        this.position.y = '10px';\n        this.alignToY = 'top';\n        this.alignToX = false;\n        break;\n    }\n\n    if ( this.autoPosition ) {\n      switch ( this.autoPosition ) {\n\n        case 'bottom':\n          this.graph.options.paddingBottom = this.height + 10;\n          break;\n\n        case 'left':\n          this.graph.options.paddingLeft = this.width + 5;\n          break;\n\n        case 'right':\n          this.graph.options.paddingRight = this.width + 10;\n          break;\n\n        case 'top':\n          this.graph.options.paddingTop = this.height + 14;\n          break;\n      }\n\n      this.graph.updateGraphingZone();\n      this.graph.getDrawingHeight();\n      this.graph.getDrawingWidth();\n      // this.graph.redraw( false );\n\n    }\n\n    this.bbox = bbox;\n  }\n\n  calculatePosition() {\n\n    var pos = GraphPosition.check( this.position );\n    let poscoords = pos.compute( this.graph, this.graph.getXAxis(), this.graph.getYAxis() );\n\n    if ( !poscoords ) {\n      return;\n    }\n\n    if ( pos.y == 'max' ) {\n      poscoords.y += this.graph.getPaddingTop();\n    }\n\n    if ( pos.x == 'max' ) {\n      poscoords.x -= this.graph.getPaddingRight();\n    }\n\n    if ( this.alignToX == 'right' ) {\n      poscoords.x -= this.width;\n      poscoords.x -= this.bbox.x;\n\n    } else {\n      //poscoords.x -= this.bbox.x;\n    }\n\n    if ( this.alignToY == 'bottom' ) {\n      poscoords.y -= this.height;\n      poscoords.y -= this.bbox.y;\n\n    } else {\n\n      poscoords.y -= this.bbox.y;\n    }\n\n    this.pos.transformX = poscoords.x;\n    this.pos.transformY = poscoords.y;\n\n    this._setPosition();\n\n  }\n\n  /**\n   * Updates the legend position and content\n   */\n  update( onlyIfRequired ) {\n\n    if ( this.graph.isDelayedUpdate() || ( !this._requiredUpdate && onlyIfRequired ) ) {\n      return;\n    }\n\n    this._requiredUpdate = false;\n\n    var self = this;\n\n    this.applyStyle();\n\n    while ( this.subG.hasChildNodes() ) {\n      this.subG.removeChild( this.subG.lastChild );\n    }\n\n    this.svg.insertBefore( this.rectBottom, this.svg.firstChild );\n\n    var series = this.series || this.graph.getSeries(),\n      line,\n      text,\n      g;\n\n    if ( series.length > 0 ) {\n      this.svg.setAttribute( 'display', 'block' );\n    } else {\n      return;\n    }\n\n    if ( this.autoPosition == 'bottom' || this.autoPosition == 'top' ) {\n      var fullWidth = this.graph.getDrawingWidth();\n    }\n\n    var posX, posY;\n\n    for ( var i = 0, l = series.length; i < l; i++ ) {\n\n      if ( series[ i ].excludedFromLegend && !this.series ) {\n        continue;\n      }\n\n      ( function( j ) {\n\n        var g, line, text, xPadding = 0;\n\n        if ( this.autoPosition == 'bottom' || this.autoPosition == 'top' ) {\n          var fullWidth = this.graph.getDrawingWidth();\n        }\n\n        g = document.createElementNS( self.graph.ns, 'g' );\n        var rect = document.createElementNS( self.graph.ns, 'rect' );\n\n        self.subG.appendChild( g );\n\n        g.appendChild( rect );\n\n        var line = series[ j ].getSymbolForLegend();\n        var marker = series[ j ].getMarkerForLegend();\n        var text = series[ j ].getTextForLegend();\n\n        var dx = 35;\n\n        if ( this.isHideable() ) {\n          dx += 20;\n\n          var eyeUse = document.createElementNS( self.graph.ns, 'use' );\n          eyeUse.setAttributeNS( 'http://www.w3.org/1999/xlink', 'xlink:href', `#${ series[ i ].isShown() ? this.eyeId : this.eyeCrossedId}` );\n          eyeUse.setAttribute( 'width', 15 );\n          eyeUse.setAttribute( 'height', 15 );\n          eyeUse.setAttribute( 'x', 35 );\n          eyeUse.setAttribute( 'y', -8 );\n\n          eyeUse.addEventListener( 'click', function( e ) {\n            e.stopPropagation();\n\n            var id;\n            if ( series[ j ].isShown() ) {\n              series[ j ].hide( self.options.hideShapesOnHideSerie );\n              id = self.eyeCrossedId;\n            } else {\n              series[ j ].show( self.options.hideShapesOnHideSerie );\n              id = self.eyeId;\n            }\n\n            eyeUse.setAttributeNS( 'http://www.w3.org/1999/xlink', 'xlink:href', `#${ id}` );\n\n          } );\n\n        }\n\n        text.setAttribute( 'transform', `translate(${ dx }, 3)` );\n        text.setAttribute( 'fill', this.options.color );\n\n        if ( line ) {\n          g.appendChild( line );\n        }\n\n        if ( series[ j ].getType() == 'scatter' ) {\n          line.setAttribute( 'transform', 'translate( 20, 0 )' );\n        }\n\n        if ( marker ) {\n          g.appendChild( marker );\n        }\n\n        if ( eyeUse ) {\n          g.appendChild( eyeUse );\n        }\n\n        g.appendChild( text );\n\n        var bbox = getBBox( g );\n\n        rect.setAttribute( 'x', bbox.x );\n        rect.setAttribute( 'y', bbox.y );\n        rect.setAttribute( 'width', bbox.width );\n        rect.setAttribute( 'height', bbox.height );\n        rect.setAttribute( 'fill', 'none' );\n        rect.setAttribute( 'pointer-events', 'fill' );\n\n        self.groups[ j ] = g;\n\n        g.addEventListener( 'click', function( e ) {\n\n          var serie = series[ j ];\n\n          if ( !serie.isShown() ) {\n            return;\n          }\n\n          if ( self.isSelectable() && !serie.isSelected() ) {\n\n            self.graph.selectSerie( serie );\n          } else {\n\n            self.graph.unselectSerie( serie );\n          }\n\n          e.preventDefault();\n          e.stopPropagation();\n\n        } );\n\n      } ).call( this, i );\n    }\n\n    this.svg.appendChild( this.rect );\n    this.buildLegendBox();\n    this.calculatePosition();\n\n  }\n\n  /**\n   * @return {Boolean} true or false depending if the series can be hidden or not\n   */\n  isHideable() {\n    return this.options.isSerieHideable;\n  }\n\n  notHideable() {\n    this.options.isSerieHideable = false;\n    return this;\n  }\n\n  hideable() {\n    this.options.isSerieHideable = true;\n    return this;\n  }\n\n  set seriesHideable( hideable ) {\n    this.options.isSerieHideable = !!hideable;\n  }\n\n  /**\n   *  @type {Boolean}\n   */\n  get seriesHideable() {\n    return this.options.isSerieHideable;\n  }\n\n  /**\n   * @return {Boolean} true or false depending if the series can be selected or not\n   */\n  isSelectable() {\n    return this.options.isSerieSelectable;\n  }\n\n  /**\n   * @return {Boolean} true or false depending if the series can be t or not\n   */\n  isToggleShapes() {\n    return this.options.shapesToggleable;\n  }\n\n  /**\n   * @return {SVGGroupElement} The SVG group element wrapping the legend\n   */\n  getDom() {\n    return this.svg;\n  }\n\n  setEvents() {\n\n    var self = this;\n    var pos = this.pos;\n\n    var mousedown = function( e ) {\n\n      e.stopPropagation();\n      console.log( 'down' );\n      if ( self.options.movable ) {\n        pos.x = e.clientX;\n        pos.y = e.clientY;\n\n        e.preventDefault();\n        self.mousedown = true;\n        self.graph.elementMoving( self );\n\n        self.rect.setAttribute( 'display', 'block' );\n      }\n    };\n\n    var mousemove = function( e ) {\n      self.handleMouseMove( e );\n    };\n\n    this.svg.addEventListener( 'mousedown', mousedown );\n    this.svg.addEventListener( 'click', function( e ) {\n      e.stopPropagation();\n    } );\n    this.svg.addEventListener( 'dblclick', function( e ) {\n      e.stopPropagation();\n    } );\n    this.svg.addEventListener( 'mousemove', mousemove );\n    //this.rect.addEventListener( 'mousemove', mousemove );\n  }\n\n  handleMouseUp( e ) {\n\n    e.stopPropagation();\n    e.preventDefault();\n    this.mousedown = false;\n    this.rect.setAttribute( 'display', 'none' );\n    this.graph.elementMoving( false );\n  }\n\n  handleMouseMove( e ) {\n\n    if ( !this.mousedown ) {\n      return;\n    }\n\n    var pos = this.pos;\n\n    var deltaX = e.clientX - pos.x;\n    var deltaY = e.clientY - pos.y;\n\n    pos.transformX += deltaX;\n    pos.transformY += deltaY;\n\n    pos.x = e.clientX;\n    pos.y = e.clientY;\n\n    e.stopPropagation();\n    e.preventDefault();\n\n    this._setPosition();\n  }\n\n  _setPosition() {\n\n    var pos = this.pos;\n    if ( !isNaN( pos.transformX ) && !isNaN( pos.transformY ) && pos.transformX !== false && pos.transformY !== false ) {\n      this.svg.setAttribute( 'transform', `translate(${ pos.transformX }, ${ pos.transformY })` );\n    }\n  }\n\n  /**\n   * Re-applies the legend style\n   */\n  applyStyle() {\n\n    if ( this.options.frame ) {\n      this.rectBottom.setAttribute( 'stroke', this.options.frameColor );\n      this.rectBottom.setAttribute( 'stroke-width', `${this.options.frameWidth }px` );\n      this.rectBottom.setAttribute( 'rx', this.options.frameRounding );\n      this.rectBottom.setAttribute( 'ry', this.options.frameRounding );\n    }\n\n    this.rectBottom.setAttribute( 'fill', this.options.backgroundColor );\n\n  }\n\n  /**\n   * Re-applies the legend style\n   * @param {...(GraphSerie|GraphSerie[])} a serie or an array of series\n   */\n  fixSeries() {\n    var series = [];\n\n    if ( arguments[ 0 ] === false ) {\n      this.series = false;\n      this.update();\n      return;\n    }\n\n    for ( var i = 0, l = arguments.length; i < l; i++ ) {\n      if ( Array.isArray( arguments[ i ] ) ) {\n        series = series.concat( arguments[ i ] );\n      } else {\n        series.push( arguments[ i ] );\n      }\n    }\n\n    this.update();\n    this.series = series;\n  }\n\n  fixSeriesAdd( serie ) {\n    this.series = this.series || [];\n    this.series.push( serie );\n  }\n\n  requireDelayedUpdate() {\n    this._requiredUpdate = true;\n  }\n\n}\n\nfunction getBBox( svgElement ) {\n  // Firefox throws when trying to call getBBox() on elements\n  // that are not yet rendered.\n  try {\n    return svgElement.getBBox();\n  } catch ( e ) {\n    return {\n      height: 0,\n      width: 0,\n      x: 0,\n      y: 0\n    };\n  }\n}\n\nexport default Legend;","import Graph from './graph.core.js';\nimport EventEmitter from './dependencies/eventEmitter/EventEmitter.js';\nimport * as util from './graph.util.js';\n\n/**\n * Default graph parameters\n * @name AxisOptionsDefault\n * @object\n * @static\n * @memberof Axis\n * @prop {Boolean} display - Whether to display or not the axis\n * @prop {Boolean} flipped - Flips the axis (maximum and minimum will be inverted)\n * @prop {Numner} axisDataSpacing.min - The spacing of the at the bottom of the axis. The value is multiplied by the (max - min) values given by the series (0.1 means 10% of the serie width / height).\n * @prop {Number} axisDataSpacing.max - The spacing of the at the top of the axis. The value is multiplied by the (max - min) values given by the series (0.1 means 10% of the serie width / height).\n * @prop {String} unitModification - Used to change the units of the axis in a defined way. Currently, \"time\" and \"time:min.sec\" are supported. They will display the value in days, hours, minutes and seconds and the data should be expressed in seconds.\n * @prop {Boolean} primaryGrid - Whether or not to display the primary grid (on the main ticks)\n * @prop {Boolean} secondaryGrid - Whether or not to display the secondary grid (on the secondary ticks)\n * @prop {Number} tickPosition - Sets the position of the ticks with regards to the axis ( 1 = inside, 2 = centered, 3 = outside ).\n * @prop {Number} nbTicksPrimary - The number of primary ticks to use (approximately)\n * @prop {Number} nbTicksSecondary - The number of secondary ticks to use (approximately)\n * @prop {Number} ticklabelratio - Scaling factor on the labels under each primary ticks\n * @prop {Number} exponentialFactor - Scales the labels under each primary ticks by 10^(exponentialFactor)\n * @prop {Number} exponentialLabelFactor - Scales the axis label by 10^(exponentialFactor)\n * @prop {Boolean} logScale - Display the axis in log scale (base 10)\n * @prop {(Number|Boolean)} forcedMin - Use a number to force the minimum value of the axis (becomes independant of its series)\n * @prop {(Number|Boolean)} forcedMax - Use a number to force the maximum value of the axis (becomes independant of its series)\n */\nconst defaults = {\n  lineAt: false,\n  display: true,\n  flipped: false,\n  axisDataSpacing: {\n    min: 0.1,\n    max: 0.1\n  },\n  unitModification: false,\n  primaryGrid: true,\n  secondaryGrid: true,\n\n  primaryGridColor: '#f0f0f0',\n  secondaryGridColor: '#f0f0f0',\n\n  primaryGridWidth: 1,\n  secondaryGridWidth: 1,\n\n  hideWhenNoSeriesShown: false,\n  shiftToZero: false,\n  tickPosition: 1,\n  nbTicksPrimary: 3,\n  nbTicksSecondary: 10,\n  ticklabelratio: 1,\n  exponentialFactor: 0,\n  exponentialLabelFactor: 0,\n  logScale: false,\n  forcedMin: false,\n  forcedMax: false,\n\n  span: [ 0, 1 ],\n  marginMin: 0,\n  marginMax: 0,\n\n  scientificScale: false,\n  scientificScaleExponent: false,\n  engineeringScale: false,\n\n  unitInTicks: false,\n  unit: false,\n  unitWrapperBefore: '',\n  unitWrapperAfter: '',\n\n  splitMarks: false,\n\n  tickLabelOffset: 0,\n\n  useKatexForLabel: false,\n\n  highestMax: false,\n  lowestMin: false\n};\n\n/**\n * Axis constructor. Usually not instanced directly, but for custom made axes, that's possible\n * @class Axis\n * @static\n * @augments EventEmitter\n * @example function myAxis() {};\n * myAxis.prototype = new Graph.getConstructor(\"axis\");\n * graph.setBottomAxis( new myAxis( { } ) );\n */\nclass Axis extends EventEmitter {\n\n  constructor() {\n\n    super();\n  }\n\n  init( graph, options, overwriteoptions ) {\n\n    this.unitModificationTimeTicks = [\n      [ 1, [ 1, 2, 5, 10, 20, 30 ] ],\n      [ 60, [ 1, 2, 5, 10, 20, 30 ] ],\n      [ 3600, [ 1, 2, 6, 12 ] ],\n      [ 3600 * 24, [ 1, 2, 3, 4, 5, 10, 20, 40 ] ]\n    ];\n\n    this.graph = graph;\n    this.options = util.extend( true, {}, defaults, overwriteoptions, options );\n\n    this.group = document.createElementNS( this.graph.ns, 'g' );\n    this.hasChanged = true;\n\n    this.rectEvent = document.createElementNS( this.graph.ns, 'rect' );\n    this.rectEvent.setAttribute( 'pointer-events', 'fill' );\n    this.rectEvent.setAttribute( 'fill', 'transparent' );\n    this.group.appendChild( this.rectEvent );\n\n    this.graph.axisGroup.appendChild( this.group ); // Adds to the main axiszone\n\n    // Lines at a certain value\n    this._lines = [];\n\n    this.line = document.createElementNS( this.graph.ns, 'line' );\n    this.line.setAttribute( 'stroke', 'black' );\n    this.line.setAttribute( 'shape-rendering', 'crispEdges' );\n    this.line.setAttribute( 'stroke-linecap', 'square' );\n    this.groupTicks = document.createElementNS( this.graph.ns, 'g' );\n    this.groupTickLabels = document.createElementNS( this.graph.ns, 'g' );\n\n    this.group.appendChild( this.groupTicks );\n    this.group.appendChild( this.groupTickLabels );\n    this.group.appendChild( this.line );\n\n    this.label = document.createElementNS( this.graph.ns, 'text' );\n\n    this.labelTspan = document.createElementNS( this.graph.ns, 'tspan' ); // Contains the main label\n    this.preunit = ''; //document.createElementNS( this.graph.ns, 'tspan' ); // Contains the scaling unit\n    this.unitTspan = document.createElementNS( this.graph.ns, 'tspan' ); // Contains the unit\n    this.expTspan = document.createElementNS( this.graph.ns, 'tspan' ); // Contains the exponent (x10)\n    this.expTspanExp = document.createElementNS( this.graph.ns, 'tspan' ); // Contains the exponent value\n\n    this.label.appendChild( this.labelTspan );\n    //this.label.appendChild( this.preunitTspan );\n    this.label.appendChild( this.unitTspan );\n    this.label.appendChild( this.expTspan );\n    this.label.appendChild( this.expTspanExp );\n\n    this.expTspan.setAttribute( 'dx', 6 );\n    this.expTspanExp.setAttribute( 'dy', -5 );\n    this.expTspanExp.setAttribute( 'font-size', '0.8em' );\n\n    this.label.setAttribute( 'text-anchor', 'middle' );\n\n    this.setTickPosition( this.options.tickPosition );\n\n    this.gridLinePath = {\n      primary: '',\n      secondary: ''\n    };\n\n    this.gridPrimary = document.createElementNS( this.graph.ns, 'path' );\n    this.gridSecondary = document.createElementNS( this.graph.ns, 'path' );\n\n    this.graph.groupPrimaryGrids.appendChild( this.gridPrimary );\n    this.graph.groupSecondaryGrids.appendChild( this.gridSecondary );\n\n    this.setGridLinesStyle();\n\n    this.group.appendChild( this.label );\n\n    this.groupSeries = document.createElementNS( this.graph.ns, 'g' );\n    this.group.appendChild( this.groupSeries );\n\n    this.widthHeightTick = 0;\n\n    this.ticks = {};\n    this.ticksLabels = [];\n    this.tickScaling = {\n      1: 3,\n      2: 2,\n      3: 1,\n      4: 0.5\n    };\n\n    this.currentTick = {};\n    this.lastCurrentTick = {};\n\n    this.series = [];\n    this.totalDelta = 0;\n    this.currentAction = false;\n\n    this.group.addEventListener( 'mousemove', ( e ) => {\n      e.preventDefault();\n      var coords = this.graph._getXY( e );\n      this.handleMouseMoveLocal( coords.x, coords.y, e );\n\n      for ( var i = 0, l = this.series.length; i < l; i++ ) {\n        this.series[ i ].handleMouseMove( false, true );\n      }\n    } );\n\n    this.labels = [];\n    this.group.addEventListener( 'click', ( e ) => {\n      e.preventDefault();\n      var coords = this.graph._getXY( e );\n      this.addLabel( this.getVal( coords.x - this.graph.getPaddingLeft() ) );\n    } );\n\n    //this.clip = document.createElementNS( this.graph.ns, 'clipPath' );\n    //this.clip.setAttribute( 'id', '_clip' + this.axisRand );\n    //this.graph.defs.appendChild( this.clip );\n    /*\n        this.clipRect = document.createElementNS( this.graph.ns, 'rect' );\n        this.clip.appendChild( this.clipRect );\n        this.clip.setAttribute( 'clipPathUnits', 'userSpaceOnUse' );\n    */\n    this.gridPrimary.setAttribute( 'clip-path', `url(#_clipplot${ this.graph._creation })` );\n    this.gridSecondary.setAttribute( 'clip-path', `url(#_clipplot${ this.graph._creation })` );\n    this.graph._axisHasChanged( this );\n  }\n\n  handleMouseMoveLocal() {}\n\n  /**\n   * Hides the axis\n   * @memberof Axis\n   * @return {Axis} The current axis\n   */\n  hide() {\n    this.options.display = false;\n    return this;\n  }\n\n  /**\n   * Shows the axis\n   * @memberof Axis\n   * @return {Axis} The current axis\n   */\n  show() {\n    this.options.display = true;\n    return this;\n  }\n\n  /**\n   * Shows or hides the axis\n   * @memberof Axis\n   * @param {Boolean} display - true to display the axis, false to hide it\n   * @return {Axis} The current axis\n   */\n  setDisplay( bool ) {\n    this.options.display = !!bool;\n    return this;\n  }\n\n  /**\n   * @memberof Axis\n   * @return {Boolean} A boolean indicating the displayed state of the axis\n   */\n  isDisplayed() {\n\n    if ( !this.options.hideWhenNoSeriesShown ) {\n      return this.options.display;\n    }\n\n    return this.graph.getSeriesFromAxis( this ).reduce( ( accumulator, serie ) => {\n      return accumulator || serie.isShown();\n    }, false );\n  }\n\n  isShown() {\n\n    return this.isDisplayed( ...arguments );\n  }\n\n  hideGroup() {\n    if ( this._hidden ) {\n      return;\n    }\n    this._hidden = true;\n    this.group.setAttribute( 'display', 'none' );\n  }\n\n  showGroup() {\n    if ( !this._hidden ) {\n      return;\n    }\n    this._hidden = false;\n    this.group.setAttribute( 'display', 'initial' );\n  }\n\n  kill( noRedraw, noSerieKill ) {\n    this.graph.killAxis( this, noRedraw, noSerieKill );\n  }\n  /**\n   * Forces the appearence of a straight perpendicular line at value 0\n   * @param {Array<Number>} atValues - An array of x or y values where the lines are displayed\n   * @memberof Axis\n   * @return {Axis} The current axis\n   */\n  setLineAt( atValues ) {\n    this.options.lineAt = atValues;\n    return this;\n  }\n\n  // Used to adapt the 0 of the axis to the zero of another axis that has the same direction\n\n  /**\n   * Aligns ```thisValue``` of the axis to ```foreignValue``` of another axis\n   * @param {(Axis|Boolean)} axis - The axis with which the 0 should be aligned. Use \"false\" to deactivate the adapt to 0 mode.\n   * @param {Number} thisValue - The value of the current axis that should be aligned\n   * @param {Number} foreignValue - The value of the reference axis that should be aligned\n   * @param {String} preference - \"min\" or \"max\". Defined the boundary that should behave the more normally\n   * @memberof Axis\n   * @return {Axis} The current axis\n   * @since 1.13.2\n   */\n  adaptTo( axis, thisValue, foreignValue, preference ) {\n\n    if ( !axis ) {\n      this.options.adaptTo = false;\n      return this;\n    }\n\n    this.options.adaptTo = {\n      axis: axis,\n      thisValue: thisValue,\n      foreignValue: foreignValue,\n      preference: preference\n    };\n\n    this.adapt();\n\n    return this;\n  }\n\n  /**\n   * Adapts maximum and minimum of the axis if options.adaptTo is defined\n   * @memberof Axis\n   * @returns {Axis} The current axis\n   * @since 1.13.2\n   */\n  adapt() {\n\n    if ( !this.options.adaptTo ) {\n      return;\n    }\n\n    var axis = this.options.adaptTo.axis,\n      current = this.options.adaptTo.thisValue,\n      foreign = this.options.adaptTo.foreignValue;\n\n    if ( axis.currentAxisMin === undefined || axis.currentAxisMax === undefined ) {\n      axis.setMinMaxToFitSeries();\n    }\n\n    if ( ( this.options.forcedMin !== false && this.options.forcedMax == false ) || ( this.options.adaptTo.preference !== 'max' ) ) {\n\n      if ( this.options.forcedMin !== false ) {\n        this.currentAxisMin = this.options.forcedMin;\n      } else {\n        this.currentAxisMin = this._zoomed ? this.getCurrentMin() : this.getMinValue() - ( current - this.getMinValue() ) * ( this.options.axisDataSpacing.min * ( axis.getCurrentMax() - axis.getCurrentMin() ) / ( foreign - axis.getCurrentMin() ) );\n      }\n\n      if ( this.currentAxisMin == current ) {\n        this.currentAxisMin -= this.options.axisDataSpacing.min * this.getInterval();\n      }\n\n      var use = this.options.forcedMin !== false ? this.options.forcedMin : this.currentAxisMin;\n      this.currentAxisMax = ( current - use ) * ( axis.getCurrentMax() - axis.getCurrentMin() ) / ( foreign - axis.getCurrentMin() ) + use;\n\n    } else {\n\n      if ( this.options.forcedMax !== false ) {\n        this.currentAxisMax = this.options.forcedMax;\n      } else {\n        this.currentAxisMax = this._zoomed ? this.getCurrentMax() : this.getMaxValue() + ( this.getMaxValue() - current ) * ( this.options.axisDataSpacing.max * ( axis.getCurrentMax() - axis.getCurrentMin() ) / ( axis.getCurrentMax() - foreign ) );\n      }\n\n      if ( this.currentAxisMax == current ) {\n        this.currentAxisMax += this.options.axisDataSpacing.max * this.getInterval();\n      }\n\n      var use = this.options.forcedMax !== false ? this.options.forcedMax : this.currentAxisMax;\n\n      this.currentAxisMin = ( current - use ) * ( axis.getCurrentMin() - axis.getCurrentMax() ) / ( foreign - axis.getCurrentMax() ) + use;\n    }\n\n    this.graph._axisHasChanged( this );\n  }\n\n  // Floating axis. Adapts axis position orthogonally to another axis at a defined value. Not taken into account for margins\n\n  /**\n   * Makes the axis floating (not aligned to the right or the left anymore). You need to specify another axis (perpendicular) and a value at which this axis should be located\n   * @param {Axis} axis - The axis on which the current axis should be aligned to\n   * @param {Number} value - The value on which the current axis should be aligned\n   * @memberof Axis\n   * @return {Axis} The current axis\n   * @example graph.getYAxis().setFloat( graph.getBottomAxis(), 0 ); // Alignes the y axis with the origin of the bottom axis\n   */\n  setFloating( axis, value ) {\n\n    this.floating = true;\n    this.floatingAxis = axis;\n    this.floatingValue = value;\n\n    return this;\n  }\n\n  /**\n   * @memberof Axis\n   * @return {Axis} The axis referencing the floating value of the current axis\n   */\n  getFloatingAxis() {\n    return this.floatingAxis;\n  }\n\n  /**\n   * @memberof Axis\n   * @return {Axis} The value to which the current axis is aligned to\n   */\n  getFloatingValue() {\n    return this.floatingValue;\n  }\n\n  /**\n   * Sets the axis data spacing\n   * @memberof Axis\n   * @see AxisOptionsDefault\n   * @param {Number} min - The spacing at the axis min value\n   * @param {Number} [ max = min ] - The spacing at the axis max value. If omitted, will be equal to the \"min\" parameter\n   * @return {Axis} The current axis\n   */\n  setAxisDataSpacing( val1, val2 ) {\n    this.options.axisDataSpacing.min = val1;\n    this.options.axisDataSpacing.max = val2 || val1;\n    return this;\n  }\n\n  dataSpacing() {\n    return this.setAxisDataSpacing( ...arguments );\n  }\n\n  /**\n   * Sets the axis data spacing at the minimum of the axis\n   * @memberof Axis\n   * @see AxisOptionsDefault\n   * @param {Number} min - The spacing at the axis min value\n   * @return {Axis} The current axis\n   */\n  setAxisDataSpacingMin( val ) {\n    this.options.axisDataSpacing.min = val;\n  }\n\n  /**\n   * Sets the axis data spacing at the maximum of the axis\n   * @memberof Axis\n   * @see AxisOptionsDefault\n   * @param {Number} max - The spacing at the axis max value\n   * @return {Axis} The current axis\n   */\n  setAxisDataSpacingMax( val ) {\n    this.options.axisDataSpacing.max = val;\n  }\n\n  setMinPx( px ) {\n\n    this.minPx = px;\n    this.setMinMaxFlipped();\n  }\n\n  setMaxPx( px ) {\n\n    this.maxPx = px;\n    this.setMinMaxFlipped();\n  }\n\n  /**\n   * @memberof Axis\n   * @return {Number} The position in px of the bottom of the axis\n   */\n  getMinPx() {\n    return this.minPxFlipped;\n  }\n\n  /**\n   * @memberof Axis\n   * @return {Number} The position in px of the top of the axis\n   */\n  getMaxPx() {\n    return this.maxPxFlipped;\n  }\n\n  getMathMaxPx() {\n    return this.maxPx;\n  }\n\n  getMathMinPx() {\n    return this.minPx;\n  }\n\n  // Returns the true minimum of the axis. Either forced in options or the one from the data\n\n  /**\n   * Retrieves the minimum possible value of the axis. Can be set by \"forcedMin\", \"adapt0ToAxis\" or by the values of the series the axis contains. Does not take into account any zooming.\n   * @memberof Axis\n   * @return {Number} The minimum possible value of the axis\n   */\n  getMinValue() {\n    return this.options.forcedMin !== false ? this.options.forcedMin : ( this.options.lowestMin !== false ? Math.max( this.options.lowestMin, this.dataMin ) : this.dataMin );\n  }\n\n  /**\n   * Retrieves the maximum possible value of the axis. Can be set by \"forcedMax\", \"adapt0ToAxis\" or by the values of the series the axis contains. Does not take into account any zooming.\n   * @memberof Axis\n   * @return {Number} The maximum possible value of the axis\n   */\n  getMaxValue() {\n    return this.options.forcedMax !== false ? this.options.forcedMax : ( this.options.highestMax !== false ? Math.min( this.options.highestMax, this.dataMax ) : this.dataMax );\n  }\n\n  setMinValueData( min ) {\n    this.dataMin = min;\n\n    // 25.10.2017. This is to help in the case there's no autoscaling\n    if ( isNaN( this.getCurrentMin() ) ) {\n      //this.setCurrentMin( this.getMinValue() );\n      //this.cache();\n\n    }\n  }\n\n  setMaxValueData( max ) {\n    this.dataMax = max;\n\n    // 25.10.2017. This is to help in the case there's no autoscaling\n    // 02.02.2018. Don't agree with this. Next time, put a link to show the use of this piece of code\n    if ( isNaN( this.getCurrentMax() ) ) {\n      //     this.setCurrentMax( this.getMaxValue() );\n      //this.cache();\n\n    }\n  }\n\n  /**\n   * Retrieves the maximum possible value of the axis based only on the data. Does not take into account the possible axis forcing\n   * @memberof Axis\n   * @return {Number} The maximum possible value of the axis\n   */\n  getDataMax() {\n    return this.dataMax;\n  }\n\n  /**\n   * Retrieves the minimum possible value of the axis based only on the data. Does not take into account the possible axis forcing\n   * @memberof Axis\n   * @return {Number} The minimum possible value of the axis\n   */\n  getDataMin() {\n    return this.dataMin;\n  }\n\n  /**\n   * Sets the highest maximum value of the axis.\n   * @memberof Axis\n   * @param {Number} max - The maximum value of the axis\n   * @return {Axis} The current axis\n   */\n  setLowestMin( lowestMin ) {\n    this.options.lowestMin = lowestMin;\n    this.graph._axisHasChanged( this );\n  }\n\n  /**\n   * Forces the minimum value of the axis (no more dependant on the serie values)\n   * @memberof Axis\n   * @param {Number} min - The minimum value of the axis\n   * @param {Boolean} noRescale - ```true``` to prevent the axis to rescale to set this minimum. Rescales anyway if current min is lower than the value. Defaults to ```false```\n   * @return {Axis} The current axis\n   */\n  forceMin( min, noRescale = false ) {\n    this.options.forcedMin = min;\n    this.setCurrentMin( noRescale ? this.getCurrentMin() : undefined );\n    this.graph._axisHasChanged( this );\n    return this;\n  }\n\n  /**\n   * Sets the highest maximum value of the axis.\n   * @memberof Axis\n   * @param {Number} max - The maximum value of the axis\n   * @return {Axis} The current axis\n   */\n  setHighestMax( highestMax ) {\n    this.options.highestMax = highestMax;\n    this.graph._axisHasChanged( this );\n  }\n\n  /**\n   * Forces the maximum value of the axis (no more dependant on the serie values).\n   * @memberof Axis\n   * @param {Number} max - The maximum value of the axis\n   * @param {Boolean} noRescale - ```true``` to prevent the axis to rescale to set this maximum. Rescales anyway if current max is higher than the value\n   * @return {Axis} The current axis\n   */\n  forceMax( max, noRescale = false ) {\n    this.options.forcedMax = max;\n    this.setCurrentMax( noRescale ? this.getCurrentMax() : undefined );\n    this.graph._axisHasChanged( this );\n    return this;\n  }\n\n  /**\n   * Retrieves the forced minimum of the axis\n   * @memberof Axis\n   * @return {Number} The maximum possible value of the axis\n   */\n  getForcedMin() {\n    return this.options.forcedMin;\n  }\n\n  /**\n   * Retrieves the forced minimum of the axis\n   * @memberof Axis\n   * @return {Number} The maximum possible value of the axis\n   */\n  getForcedMax() {\n    return this.options.forcedMax;\n  }\n\n  /**\n   * Forces the min and max values of the axis to the min / max values of another axis\n   * @param {Axis} axis - The axis from which the min / max values are retrieved.\n   * @memberof Axis\n   * @return {Axis} The current axis\n   */\n  forceToAxis( axis ) {\n    if ( axis.getMaxValue && axis.getMinValue ) {\n      this.options.forcedMin = axis.getMinValue();\n      this.options.forcedMax = axis.getMaxValue();\n    }\n\n    return this;\n  }\n\n  getNbTicksPrimary() {\n    return this.options.nbTicksPrimary;\n  }\n\n  setNbTicksPrimary( nb ) {\n    this.options.nbTicksPrimary = nb;\n  }\n\n  getNbTicksSecondary() {\n    return this.options.nbTicksSecondary;\n  }\n\n  setNbTicksSecondary( nb ) {\n    this.options.nbTicksSecondary = nb;\n    return this;\n  }\n\n  handleMouseMove( px ) {\n    this.mouseVal = this.getVal( px );\n  }\n\n  handleMouseWheel( delta, e, baseline ) {\n\n    delta = Math.min( 0.2, Math.max( -0.2, delta ) );\n\n    if ( baseline == 'min' ) {\n      baseline = this.getMinValue();\n    } else if ( baseline == 'max' ) {\n      baseline = this.getMaxValue();\n    } else if ( !baseline ) {\n      baseline = 0;\n    }\n\n    this._doZoomVal(\n      ( ( this.getCurrentMax() - baseline ) * ( 1 + delta ) ) + baseline, ( ( this.getCurrentMin() - baseline ) * ( 1 + delta ) ) + baseline\n    );\n\n    this.graph.draw();\n    //\tthis.graph.drawSeries(true);\n\n  }\n\n  set zoomLock( bln ) {\n    this._zoomLocked = bln;\n  }\n\n  get zoomLock() {\n    return this._zoomLocked || false;\n  }\n\n  /**\n   * Performs a zoom on the axis, without redraw afterwards\n   * @param {Number} val1 - The new axis minimum\n   * @param {Number} val2 - The new axis maximum\n   * @memberof Axis\n   * @return {Axis} The current axis\n   * @example\n   * graph.getBottomAxis().zoom( 50, 70 ); // Axis boundaries will be 50 and 70 after next redraw\n   * graph.redraw();\n   * @example\n   * graph.getBottomAxis().forceMin( 0 ).forceMax( 100 ).zoom( 50, 70 );  // Axis boundaries will be 50 and 70 after next redraw\n   * graph.draw();\n   * graph.autoscaleAxes(); // New bottom axis boundaries will be 0 and 100, not 50 and 70 !\n   * graph.draw();\n   */\n  zoom( val1, val2, forceLock ) {\n\n    if ( !forceLock && this.zoomLock ) {\n      return;\n    }\n\n    return this._doZoomVal( val1, val2, true );\n  }\n\n  _doZoomVal( val1, val2, mute ) {\n\n    return this._doZoom( this.getPx( val1 ), this.getPx( val2 ), val1, val2, mute );\n  }\n\n  _doZoom( px1, px2, val1, val2, mute ) {\n\n    //if(this.options.display || 1 == 1) {\n    var val1 = val1 !== undefined ? val1 : this.getVal( px1 );\n    var val2 = val2 !== undefined ? val2 : this.getVal( px2 );\n\n    this.setCurrentMin( Math.min( val1, val2 ) );\n    this.setCurrentMax( Math.max( val1, val2 ) );\n\n    this.cacheCurrentMin();\n    this.cacheCurrentMax();\n    this.cacheInterval();\n\n    this._zoomed = true;\n\n    this.adapt();\n\n    this._hasChanged = true;\n\n    // New method\n    if ( !mute ) {\n      this.emit( 'zoom', [ this.currentAxisMin, this.currentAxisMax, this ] );\n    }\n\n    return this;\n  }\n\n  getSerieShift() {\n    return this._serieShift;\n  }\n\n  getSerieScale() {\n    return this._serieScale;\n  }\n\n  getMouseVal() {\n    return this.mouseVal;\n  }\n\n  getUnitPerTick( px, nbTick, valrange ) {\n\n    var pxPerTick = px / nbTicks; // 1000 / 100 = 10 px per tick\n    if ( !nbTick ) {\n      nbTick = px / 10;\n    } else {\n      nbTick = Math.min( nbTick, px / 10 );\n    }\n\n    // So now the question is, how many units per ticks ?\n    // Say, we have 0.0004 unit per tick\n    var unitPerTick = valrange / nbTick;\n\n    switch ( this.options.unitModification ) {\n\n      case 'time':\n      case 'time:min.sec':\n        {\n\n          //const max = this.getModifiedValue( this.getMaxValue() );/*,\n          /*units = [\n            [ 60, 'min' ],\n            [ 3600, 'h' ],\n            [ 3600 * 24, 'd' ]\n          ];*/\n\n          let i, l, k, m;\n          let breaked = false;\n          for ( i = 0, l = this.unitModificationTimeTicks.length; i < l; i++ ) {\n            for ( k = 0, m = this.unitModificationTimeTicks[ i ][ 1 ].length; k < m; k++ ) {\n              if ( unitPerTick < this.unitModificationTimeTicks[ i ][ 0 ] * this.unitModificationTimeTicks[ i ][ 1 ][ k ] ) {\n                breaked = true;\n                break;\n              }\n            }\n            if ( breaked ) {\n              break;\n            }\n          }\n\n          //i and k contain the good variable;\n          if ( i !== this.unitModificationTimeTicks.length ) {\n            unitPerTickCorrect = this.unitModificationTimeTicks[ i ][ 0 ] * this.unitModificationTimeTicks[ i ][ 1 ][ k ];\n          } else {\n            unitPerTickCorrect = 1;\n          }\n\n          break;\n        }\n      default:\n        {\n\n          // We take the log\n          var decimals = Math.floor( Math.log( unitPerTick ) / Math.log( 10 ) );\n          /*\n  \t\t\t\t\tExample:\n  \t\t\t\t\t\t13'453 => Math.log10() = 4.12 => 4\n  \t\t\t\t\t\t0.0000341 => Math.log10() = -4.46 => -5\n  \t\t\t\t*/\n\n          var numberToNatural = unitPerTick * Math.pow( 10, -decimals );\n\n          /*\n  \t\t\t\t\tExample:\n  \t\t\t\t\t\t13'453 (4) => 1.345\n  \t\t\t\t\t\t0.0000341 (-5) => 3.41\n  \t\t\t\t*/\n\n          this.decimals = -decimals;\n\n          var possibleTicks = [ 1, 2, 5, 10 ];\n          var closest = false;\n          for ( let i = possibleTicks.length - 1; i >= 0; i-- ) {\n            if ( !closest || ( Math.abs( possibleTicks[ i ] - numberToNatural ) < Math.abs( closest - numberToNatural ) ) ) {\n              closest = possibleTicks[ i ];\n            }\n          }\n\n          // Ok now closest is the number of unit per tick in the natural number\n          /*\n  \t\t\t\t\tExample:\n  \t\t\t\t\t\t13'453 (4) (1.345) => 1\n  \t\t\t\t\t\t0.0000341 (-5) (3.41) => 5\n  \t\t\t\t*/\n\n          // Let's scale it back\n          var unitPerTickCorrect = closest * Math.pow( 10, decimals );\n\n          /*\n  \t\t\t\t\tExample:\n  \t\t\t\t\t\t13'453 (4) (1.345) (1) => 10'000\n  \t\t\t\t\t\t0.0000341 (-5) (3.41) (5) => 0.00005\n  \t\t\t\t*/\n          break;\n        }\n    }\n\n    var nbTicks = valrange / unitPerTickCorrect;\n\n    var pxPerTick = px / nbTick;\n    return [ unitPerTickCorrect, nbTicks, pxPerTick ];\n  }\n\n  /**\n   * Resets the min and max of the serie to fit the series it contains\n   * @memberof Axis\n   * @return {Axis} The current axis\n   */\n  setMinMaxToFitSeries( noNotify ) {\n\n    var interval = this.getInterval();\n\n    if ( this.options.logScale ) {\n\n      this.currentAxisMin = Math.max( 1e-50, this.getMinValue() * 0.9 );\n      this.currentAxisMax = Math.max( 1e-50, this.getMaxValue() * 1.1 );\n\n    } else {\n\n      this.currentAxisMin = this.getMinValue();\n      this.currentAxisMax = this.getMaxValue();\n\n      if ( this.getForcedMin() === false ) {\n        this.currentAxisMin -= ( this.options.axisDataSpacing.min * interval );\n      }\n\n      if ( this.getForcedMax() === false ) {\n        this.currentAxisMax += ( this.options.axisDataSpacing.max * interval );\n      }\n    }\n\n    if ( isNaN( this.currentAxisMin ) || isNaN( this.currentAxisMax ) ) {\n      this.currentAxisMax = undefined;\n      this.currentAxisMin = undefined;\n    }\n\n    this.cache();\n\n    this._zoomed = false;\n\n    this.adapt();\n\n    if ( !noNotify ) {\n      this.graph._axisHasChanged( this );\n    }\n\n    this.emit( 'zoomOutFull', [ this.currentAxisMin, this.currentAxisMax, this ] );\n\n    return this;\n  }\n\n  /**\n   * @memberof Axis\n   * @return {Number} the maximum interval ( max - min ) of the axis ( not nessarily the current one )\n   */\n  getInterval() {\n    return this.getMaxValue() - this.getMinValue();\n  }\n\n  /**\n   * @memberof Axis\n   * @return {Number} the maximum interval ( max - min ) of the axis ( not nessarily the current one )\n   */\n  getCurrentInterval() {\n    return this.cachedInterval;\n  }\n\n  /**\n   * @memberof Axis\n   * @return {Number} The current minimum value of the axis\n   */\n  getCurrentMin() {\n    return this.cachedCurrentMin;\n  }\n\n  /**\n   * @memberof Axis\n   * @return {Number} The current maximum value of the axis\n   */\n  getCurrentMax() {\n    return this.cachedCurrentMax;\n  }\n\n  /**\n   * Caches the current axis minimum\n   * @memberof Axis\n   */\n  cacheCurrentMin() {\n    this.cachedCurrentMin = this.currentAxisMin == this.currentAxisMax ? ( this.options.logScale ? this.currentAxisMin / 10 : this.currentAxisMin - 1 ) : this.currentAxisMin;\n  }\n\n  /**\n   * Caches the current axis maximum\n   * @memberof Axis\n   */\n  cacheCurrentMax() {\n    this.cachedCurrentMax = this.currentAxisMax == this.currentAxisMin ? ( this.options.logScale ? this.currentAxisMax * 10 : this.currentAxisMax + 1 ) : this.currentAxisMax;\n  }\n\n  /**\n   * Caches the current interval\n   * @memberof Axis\n   */\n  cacheInterval() {\n    this.cachedInterval = this.cachedCurrentMax - this.cachedCurrentMin;\n  }\n\n  cache() {\n    this.cacheCurrentMin();\n    this.cacheCurrentMax();\n    this.cacheInterval();\n  }\n\n  /**\n   * Sets the current minimum value of the axis. If lower that the forced value, the forced value is used\n   * @memberof Axis\n   * @param {Number} val - The new minimum value\n   * @return {Axis} The current axis\n   */\n  setCurrentMin( val ) {\n\n    if ( val === undefined || ( this.getForcedMin() !== false && ( val < this.getForcedMin() || val < this.options.lowestMin || val === undefined ) ) ) {\n      val = this.getMinValue();\n    }\n    this.currentAxisMin = val;\n    if ( this.options.logScale ) {\n      this.currentAxisMin = Math.max( 1e-50, val );\n    }\n\n    this.cacheCurrentMin();\n    this.cacheInterval();\n\n    this.graph._axisHasChanged( this );\n    return this;\n  }\n\n  /**\n   * Sets the current maximum value of the axis. If higher that the forced value, the forced value is used\n   * @memberof Axis\n   * @param {Number} val - The new maximum value\n   * @return {Axis} The current axis\n   */\n  setCurrentMax( val ) {\n\n    if ( val === undefined || ( this.getForcedMax() !== false && ( val > this.getForcedMax() || val > this.options.highestMax || val === undefined ) ) ) {\n      val = this.getMaxValue();\n    }\n\n    this.currentAxisMax = val;\n\n    if ( this.options.logScale ) {\n      this.currentAxisMax = Math.max( 1e-50, val );\n    }\n\n    this.cacheCurrentMax();\n    this.cacheInterval();\n\n    this.graph._axisHasChanged( this );\n  }\n\n  /**\n   * Sets the flipping state of the axis. If enabled, the axis is descending rather than ascending.\n   * @memberof Axis\n   * @param {Boolean} flip - The new flipping state of the axis\n   * @return {Axis} The current axis\n   */\n  flip( flip ) {\n    this.options.flipped = flip;\n    this.setMinMaxFlipped();\n    return this;\n  }\n  /*\n    setMinMaxFlipped() {\n\n      var interval = this.maxPx - this.minPx;\n      var maxPx = this.maxPx - interval * this.options.span[ 0 ];\n      var minPx = this.maxPx - interval * this.options.span[ 1 ];\n\n      this.minPxFlipped = this.isFlipped() ? maxPx : minPx;\n      this.maxPxFlipped = this.isFlipped() ? minPx : maxPx;\n\n      // this.minPx = minPx;\n      //this.maxPx = maxPx;\n    }\n  */\n  /**\n   * @memberof Axis\n   * @return {Boolean} The current flipping state of the axis\n   */\n  isFlipped() {\n    return this.options.flipped;\n  }\n\n  _draw() { // Redrawing of the axis\n\n    var self = this;\n    // var visible;\n\n    //    this.drawInit();\n\n    if ( this.currentAxisMin === undefined || this.currentAxisMax === undefined ) {\n      this.setMinMaxToFitSeries( true ); // We reset the min max as a function of the series\n    }\n\n    // this.cache();\n\n    //   this.setSlaveAxesBoundaries();\n\n    // The data min max is stored in this.dataMin, this.dataMax\n\n    //var widthPx = this.maxPx - this.minPx;\n    var widthPx = Math.abs( this.getMaxPx() - this.getMinPx() );\n    var valrange = this.getCurrentInterval();\n\n    /* Number of px per unit */\n    /* Example: width: 1000px\n\t\t\t/* \t\t\t10 - 100 => 11.11\n\t\t\t/*\t\t\t0 - 2 => 500\n\t\t\t/*\t\t\t0 - 0.00005 => 20'000'000\n\t\t\t*/\n\n    if ( !this.isShown() ) {\n      this.line.setAttribute( 'display', 'none' );\n      return 0;\n    }\n\n    this.line.setAttribute( 'display', 'block' );\n\n    if ( this.options.scientificScale == true ) {\n\n      if ( this.options.scientificScaleExponent ) {\n\n        this.scientificExponent = this.options.scientificScaleExponent;\n      } else {\n        this.scientificExponent = Math.floor( Math.log( Math.max( Math.abs( this.getCurrentMax() ), Math.abs( this.getCurrentMin() ) ) ) / Math.log( 10 ) );\n      }\n    } else {\n      this.scientificExponent = 0;\n    }\n\n    /************************************/\n    /*** DRAWING LABEL ******************/\n    /************************************/\n\n    this.gridLinePath.primary = '';\n    this.gridLinePath.secondary = '';\n\n    /*\n    var label;\n    if ( label = this.getLabel() ) {\n      // Sets the label\n      this.labelTspan.textContent = label;\n    }\n*/\n    let letter;\n    if ( !this.options.useKatexForLabel || !this.graph.hasKatexRenderer() ) {\n\n      if ( this.options.unitDecade && this.options.unit && this.scientificExponent !== 0 && ( this.scientificExponent = this.getEngineeringExponent( this.scientificExponent ) ) && ( letter = this.getExponentGreekLetter( this.scientificExponent ) ) ) {\n\n        this.preunit = letter;\n        this.unitTspan.setAttribute( 'dx', 0 );\n\n      } else if ( this.scientificExponent !== 0 && !isNaN( this.scientificExponent ) ) {\n\n        if ( this.options.engineeringScale ) {\n          this.scientificExponent = this.getEngineeringExponent( this.scientificExponent );\n        }\n\n        this.preunit = '';\n\n        this.expTspan.setAttribute( 'display', 'visible' );\n        this.expTspanExp.setAttribute( 'display', 'visible' );\n\n        this.expTspan.textContent = 'x10';\n        this.expTspanExp.textContent = this.scientificExponent;\n\n      } else {\n\n        if ( !this.options.unit ) {\n          this.unitTspan.setAttribute( 'display', 'none' );\n        }\n\n        this.preunit = '';\n        this.expTspan.setAttribute( 'display', 'none' );\n        this.expTspanExp.setAttribute( 'display', 'none' );\n      }\n\n      this.writeUnit();\n\n    } else {\n\n      let string = this.getLabel();\n      /*,\n              domEl;*/\n\n      if ( this.options.unitDecade && this.options.unit && this.scientificExponent !== 0 && ( this.scientificExponent = this.getEngineeringExponent( this.scientificExponent ) ) && ( letter = this.getExponentGreekLetter( this.scientificExponent ) ) ) {\n\n        string += letter;\n        this.preunitTspan.innerHTML = letter;\n        this.preunitTspan.setAttribute( 'display', 'visible' );\n        this.unitTspan.setAttribute( 'dx', 0 );\n\n        string += ` ${ letter } ${ this.options.unit}`;\n\n      } else if ( this.scientificExponent !== 0 && !isNaN( this.scientificExponent ) ) {\n\n        if ( this.options.engineeringScale ) {\n          this.scientificExponent = this.getEngineeringExponent( this.scientificExponent );\n        }\n        string += ` \\\\cdot 10^${ this.scientificExponent } ${ this.options.unit}`;\n\n      }\n\n      this.katexElement = this.graph.renderWithKatex( string, this.katexElement );\n    }\n\n    if ( !this.options.hideTicks ) {\n\n      this.resetTicksLength();\n\n      if ( this.linkedToAxis ) { // px defined, linked to another axis\n\n        this.linkedToAxis.deltaPx = 10;\n        var widthHeight = this.drawLinkedToAxisTicksWrapper( widthPx, valrange );\n\n      } else if ( !this.options.logScale ) {\n        // So the setting is: How many ticks in total ? Then we have to separate it\n\n        var widthHeight = this.drawLinearTicksWrapper( widthPx, valrange );\n\n      } else {\n\n        var widthHeight = this.drawLogTicks();\n\n      }\n    } else {\n      var widthHeight = 0;\n    }\n\n    this.removeUselessTicks();\n    this.removeUselessTickLabels();\n\n    this.gridPrimary.setAttribute( 'd', this.gridLinePath.primary );\n    this.gridSecondary.setAttribute( 'd', this.gridLinePath.secondary );\n\n    // Looks for axes linked to this current axis\n    var axes = this.graph.findAxesLinkedTo( this );\n    axes.forEach( function( axis ) {\n\n      if ( !axis.linkedToAxis ) {\n        return;\n      }\n      axis.setMinPx( self.getMinPx() );\n      axis.setMaxPx( self.getMaxPx() );\n\n      axis.draw();\n\n    } );\n\n    /************************************/\n    /*** DRAW CHILDREN IMPL SPECIFIC ****/\n    /************************************/\n\n    //   this.drawSpecifics();\n\n    return widthHeight;\n  }\n\n  drawLines() {\n\n    if ( this.options.lineAt && Array.isArray( this.options.lineAt ) ) {\n\n      this.options.lineAt.forEach( ( val, index ) => {\n\n        if ( !isNaN( val ) && this.getCurrentMin() <= val && this.getCurrentMax() >= val ) {\n\n          this._lines[ index ] = this._drawLine( val, this._lines[ index ] );\n\n        } else {\n          this._hideLine( this._lines[ index ] );\n        }\n\n      } );\n    }\n\n  }\n\n  writeUnit() {\n    if ( this.options.unit ) {\n\n      this.unitTspan.setAttribute( 'display', 'visible' );\n      this.unitTspan.setAttribute( 'dx', 5 );\n\n      this.expTspan.setAttribute( 'display', 'none' );\n      this.expTspanExp.setAttribute( 'display', 'none' );\n      this.unitTspan.innerHTML = ( this.options.unitWrapperBefore + this.preunit + this.options.unit + this.options.unitWrapperAfter ).replace( /\\^([-+0-9]*)(.*)/g, \"<tspan dy='-5' font-size='0.7em'>$1</tspan><tspan dy='5' font-size='1em'>$2</tspan>\" );\n\n    } else {\n      this.unitTspan.setAttribute( 'display', 'none' );\n    }\n  }\n\n  getExponentGreekLetter( val ) {\n\n    switch ( val ) {\n\n      case 3:\n        {\n          return 'k';\n        }\n\n      case 6:\n        {\n          return 'M';\n        }\n      case 9:\n        {\n          return 'G';\n        }\n      case 12:\n        {\n          return 'T';\n        }\n      case 15:\n        {\n          return 'E';\n        }\n      case -3:\n        {\n          return 'm';\n        }\n      case -6:\n        {\n          return '&mu;';\n        }\n      case -9:\n        {\n          return 'n';\n        }\n      case -12:\n        {\n          return 'p';\n\n        }\n      case -15:\n        {\n          return 'f';\n        }\n      default:\n        {\n          return '';\n        }\n    }\n\n  }\n\n  drawLinearTicksWrapper( widthPx, valrange ) {\n\n    let tickPrimaryUnit;\n\n    if ( this.options.primaryTickUnit ) {\n\n      tickPrimaryUnit = this.options.primaryTickUnit;\n\n    } else {\n\n      tickPrimaryUnit = this.getUnitPerTick( widthPx, this.getNbTicksPrimary(), valrange )[ 0 ];\n\n      if ( this.options.maxPrimaryTickUnit && this.options.maxPrimaryTickUnit < tickPrimaryUnit ) {\n        tickPrimaryUnit = this.options.maxPrimaryTickUnit;\n      } else if ( this.options.minPrimaryTickUnit && this.options.minPrimaryTickUnit > tickPrimaryUnit ) {\n        tickPrimaryUnit = this.options.minPrimaryTickUnit;\n      }\n\n    }\n\n    // We need to get here the width of the ticks to display the axis properly, with the correct shift\n    return this.drawTicks( tickPrimaryUnit, this.secondaryTicks() );\n  }\n\n  forcePrimaryTickUnit( primaryInterval ) {\n    this.options.primaryTickUnit = primaryInterval;\n\n    this.decimals = Math.max( 0, Math.round( -Math.log( primaryInterval ) / Math.log( 10 ) ) );\n\n  }\n\n  forcePrimaryTickUnitMax( value ) {\n    this.options.maxPrimaryTickUnit = value;\n  }\n\n  forcePrimaryTickUnitMin( value ) {\n    this.options.minPrimaryTickUnit = value;\n  }\n\n  getPrimaryTickUnit() {\n    return this.incrTick;\n  }\n\n  setTickLabelRatio( tickRatio ) {\n    this.options.ticklabelratio = tickRatio;\n  }\n\n  doesHideWhenNoSeriesShown() {\n    return this.options.hideWhenNoSeriesShown;\n  }\n\n  draw() {\n\n    this._widthLabels = 0;\n    var drawn = this._draw();\n    this._widthLabels += drawn;\n    return drawn;\n  }\n\n  drawTicks( primary, secondary ) {\n\n    var unitPerTick = primary,\n      min = this.getCurrentMin(),\n      max = this.getCurrentMax(),\n      secondaryIncr,\n      incrTick,\n      subIncrTick,\n      loop = 0;\n\n    if ( secondary ) {\n      secondaryIncr = unitPerTick / secondary;\n    }\n\n    incrTick = this.options.shiftToZero ? this.dataMin - Math.ceil( ( this.dataMin - min ) / unitPerTick ) * unitPerTick : Math.floor( min / unitPerTick ) * unitPerTick;\n    this.incrTick = primary;\n\n    while ( incrTick <= max ) {\n\n      loop++;\n      if ( loop > 1000 ) {\n        break;\n      }\n\n      if ( secondary ) {\n\n        subIncrTick = incrTick + secondaryIncr;\n        this.subIncrTick = subIncrTick;\n        //widthHeight = Math.max(widthHeight, this.drawTick(subIncrTick, 1));\n        var loop2 = 0;\n\n        while ( subIncrTick < incrTick + unitPerTick ) {\n          loop2++;\n          if ( loop2 > 100 ) {\n            break;\n          }\n\n          if ( subIncrTick < min || subIncrTick > max ) {\n            subIncrTick += secondaryIncr;\n            continue;\n          }\n\n          this.drawTickWrapper( subIncrTick, false, Math.abs( subIncrTick - incrTick - unitPerTick / 2 ) < 1e-4 ? 2 : 3 );\n\n          subIncrTick += secondaryIncr;\n        }\n      }\n\n      if ( incrTick < min || incrTick > max ) {\n        incrTick += primary;\n        continue;\n      }\n\n      this.drawTickWrapper( incrTick, true, 1 );\n      incrTick += primary;\n    }\n\n    this.widthHeightTick = this.getMaxSizeTick();\n    return this.widthHeightTick;\n  }\n\n  nextTick( level, callback ) {\n\n    this.ticks[ level ] = this.ticks[ level ] || [];\n    this.lastCurrentTick[ level ] = this.lastCurrentTick[ level ] || 0;\n    this.currentTick[ level ] = this.currentTick[ level ] || 0;\n\n    if ( this.currentTick[ level ] >= this.ticks[ level ].length ) {\n      var tick = document.createElementNS( this.graph.ns, 'line' );\n      this.groupTicks.appendChild( tick );\n      this.ticks[ level ].push( tick );\n\n      callback( tick );\n    }\n\n    var tick = this.ticks[ level ][ this.currentTick[ level ] ];\n\n    if ( this.currentTick[ level ] >= this.lastCurrentTick[ level ] ) {\n      tick.setAttribute( 'display', 'visible' );\n    }\n\n    this.currentTick[ level ]++;\n\n    return tick;\n  }\n\n  nextTickLabel( callback ) {\n\n    this.ticksLabels = this.ticksLabels || [];\n    this.lastCurrentTickLabel = this.lastCurrentTickLabel || 0;\n    this.currentTickLabel = this.currentTickLabel || 0;\n\n    if ( this.currentTickLabel >= this.ticksLabels.length ) {\n\n      var tickLabel = document.createElementNS( this.graph.ns, 'text' );\n      this.groupTickLabels.appendChild( tickLabel );\n      this.ticksLabels.push( tickLabel );\n      callback( tickLabel );\n    }\n\n    var tickLabel = this.ticksLabels[ this.currentTickLabel ];\n\n    if ( this.currentTickLabel >= this.lastCurrentTickLabel ) {\n      tickLabel.setAttribute( 'display', 'visible' );\n    }\n\n    this.currentTickLabel++;\n\n    return tickLabel;\n  }\n\n  removeUselessTicks() {\n\n    for ( var j in this.currentTick ) {\n\n      for ( var i = this.currentTick[ j ]; i < this.ticks[ j ].length; i++ ) {\n        this.ticks[ j ][ i ].setAttribute( 'display', 'none' );\n      }\n\n      this.lastCurrentTick[ j ] = this.currentTick[ j ];\n      this.currentTick[ j ] = 0;\n    }\n  }\n\n  removeUselessTickLabels() {\n\n    for ( var i = this.currentTickLabel; i < this.ticksLabels.length; i++ ) {\n      this.ticksLabels[ i ].setAttribute( 'display', 'none' );\n    }\n\n    this.lastCurrentTickLabel = this.currentTickLabel;\n    this.currentTickLabel = 0;\n\n  }\n  /*\n    doGridLine() {\n      var gridLine = document.createElementNS( this.graph.ns, 'line' );\n      this.groupGrids.appendChild( gridLine );\n      return gridLine;\n    };*/\n\n  nextGridLine( primary, x1, x2, y1, y2 ) {\n\n    if ( !( ( primary && this.options.primaryGrid ) || ( !primary && this.options.secondaryGrid ) ) ) {\n      return;\n    }\n\n    this.gridLinePath[ primary ? 'primary' : 'secondary' ] += `M ${ x1 } ${ y1 } L ${ x2 } ${ y2}`;\n  }\n\n  setGridLineStyle( gridLine, primary ) {\n\n    gridLine.setAttribute( 'shape-rendering', 'crispEdges' );\n    gridLine.setAttribute( 'stroke', primary ? this.getPrimaryGridColor() : this.getSecondaryGridColor() );\n    gridLine.setAttribute( 'stroke-width', primary ? this.getPrimaryGridWidth() : this.getSecondaryGridWidth() );\n    gridLine.setAttribute( 'stroke-opacity', primary ? this.getPrimaryGridOpacity() : this.getSecondaryGridOpacity() );\n\n    var dasharray;\n    if ( ( dasharray = primary ? this.getPrimaryGridDasharray() : this.getSecondaryGridDasharray() ) ) {\n      gridLine.setAttribute( 'stroke-dasharray', dasharray );\n    }\n\n  }\n\n  setGridLinesStyle() {\n    this.setGridLineStyle( this.gridPrimary, true );\n    this.setGridLineStyle( this.gridSecondary, false );\n    return this;\n  }\n\n  resetTicksLength() {}\n\n  secondaryTicks() {\n    return this.options.nbTicksSecondary;\n  }\n\n  drawLogTicks() {\n    var min = this.getCurrentMin(),\n      max = this.getCurrentMax();\n    var incr = Math.min( min, max );\n    var max = Math.max( min, max );\n\n    if ( incr < 1e-50 ) {\n      incr = 1e-50;\n    }\n\n    if ( Math.log( incr ) - Math.log( max ) > 20 ) {\n      max = Math.pow( 10, ( Math.log( incr ) * 20 ) );\n    }\n\n    var optsMain = {\n      fontSize: '1.0em',\n      exponential: true,\n      overwrite: false\n    };\n\n    if ( incr < 0 ) {\n      incr = 0;\n    }\n\n    var pow = incr == 0 ? 0 : Math.floor( Math.log( incr ) / Math.log( 10 ) );\n    var incr = 1,\n      val;\n    while ( ( val = incr * Math.pow( 10, pow ) ) < max ) {\n      if ( incr == 1 ) { // Superior power\n        if ( val > min )\n          this.drawTickWrapper( val, true, 1, optsMain );\n      }\n      if ( incr == 10 ) {\n        incr = 1;\n        pow++;\n      } else {\n\n        if ( incr != 1 && val > min ) {\n\n          this.drawTickWrapper( val, false, 2, {\n            overwrite: '',\n            fontSize: '0.6em'\n          } );\n\n        }\n\n        incr++;\n      }\n    }\n\n    this.widthHeightTick = this.getMaxSizeTick();\n    return this.widthHeightTick;\n  }\n\n  drawTickWrapper( value, label, level, options ) {\n\n    //var pos = this.getPos( value );\n\n    this.drawTick( value, level, options );\n  }\n\n  /**\n   * Used to scale the master axis into the slave axis\n   * @function SlaveAxisScalingFunction\n   * @param {Number} val - The master value to convert into a slave value\n   * @returns undefined\n   */\n\n  /**\n   * Makes this axis a slave. This can be used to show the same data with different units, specifically when a conversion function exists from axis -> slaveAxis but not in reverse. This axis should actually have no series.\n   * @param {Axis} axis - The master axis\n   * @param {SlaveAxisScalingFunction} scalingFunction - The scaling function used to map masterValue -> slaveValue\n   * @param {Number} decimals - The number of decimals to round the value to\n   * @memberof Axis\n   * @return {Number} The width or height used by the axis (used internally)\n   */\n  linkToAxis( axis, scalingFunction, decimals ) {\n\n    this.linkedToAxis = {\n      axis: axis,\n      scalingFunction: scalingFunction,\n      decimals: decimals || 1\n    };\n\n  }\n\n  drawLinkedToAxisTicksWrapper( widthPx, valrange ) {\n\n    var opts = this.linkedToAxis,\n      px = 0,\n      val,\n      t,\n      l,\n      delta2;\n\n    // Redrawing the main axis ? Why ?\n    //opts.axis.draw();\n\n    if ( !opts.deltaPx ) {\n      opts.deltaPx = 10;\n    }\n\n    do {\n\n      val = opts.scalingFunction( opts.axis.getVal( px + this.getMinPx() ) );\n\n      if ( opts.decimals ) {\n        this.decimals = opts.decimals;\n      }\n\n      t = this.drawTick( val, 1, {}, px + this.getMinPx() );\n\n      if ( !t ) {\n        console.error( val, px, this.getMinPx() );\n        throw new Error( 'Unable to draw tick. Please report the test-case' );\n      }\n\n      l = String( t[ 1 ].textContent ).length * 8;\n      delta2 = Math.round( l / 5 ) * 5;\n\n      if ( delta2 > opts.deltaPx ) {\n        opts.deltaPx = delta2;\n        //     this.drawInit();\n        this.drawLinkedToAxisTicksWrapper( widthPx, valrange );\n        return;\n      }\n\n      px += opts.deltaPx;\n\n    } while ( px < widthPx );\n  }\n\n  /**\n   * Transform a value into pixels, according to the axis scaling. The value is referenced to the drawing wrapper, not the the axis minimal value\n   * @param {Number} value - The value to translate into pixels\n   * @memberof Axis\n   * @return {Number} The value transformed into pixels\n   */\n  getPos( value ) {\n    return this.getPx( value );\n  }\n\n  /**\n   * @alias Axis~getPos\n   */\n  getPx( value ) {\n    //      if(this.getMaxPx() == undefined)\n    //        console.log(this);\n    //console.log(this.getMaxPx(), this.getMinPx(), this.getCurrentInterval());\n    // Ex 50 / (100) * (1000 - 700) + 700\n\n    //console.log( value, this.getCurrentMin(), this.getMaxPx(), this.getMinPx(), this.getCurrentInterval() );\n\n    if ( !this.options.logScale ) {\n\n      return ( value - this.getCurrentMin() ) / ( this.getCurrentInterval() ) * ( this.getMaxPx() - this.getMinPx() ) + this.getMinPx();\n    } else {\n      // 0 if value = min\n      // 1 if value = max\n\n      if ( value < 0 )\n        return;\n\n      var value = ( ( Math.log( value ) - Math.log( this.getCurrentMin() ) ) / ( Math.log( this.getCurrentMax() ) - Math.log( this.getCurrentMin() ) ) ) * ( this.getMaxPx() - this.getMinPx() ) + this.getMinPx();\n\n      return value;\n    }\n  }\n\n  /**\n   * @alias Axis~getPos\n   */\n  getRoundedPx( value ) {\n    //      if(this.getMaxPx() == undefined)\n    //        console.log(this);\n    //console.log(this.getMaxPx(), this.getMinPx(), this.getCurrentInterval());\n    // Ex 50 / (100) * (1000 - 700) + 700\n\n    //console.log( value, this.getCurrentMin(), this.getMaxPx(), this.getMinPx(), this.getCurrentInterval() );\n    return Math.round( this.getPx( value ) * 10 ) / 10;\n  }\n\n  /**\n   * Transform a pixel position (referenced to the graph zone, not to the axis minimum) into a value, according to the axis scaling.\n   * @param {Number} pixels - The number of pixels to translate into a value\n   * @memberof Axis\n   * @return {Number} The axis value corresponding to the pixel position\n   */\n  getVal( px ) {\n\n    if ( !this.options.logScale ) {\n\n      return ( px - this.getMinPx() ) / ( this.getMaxPx() - this.getMinPx() ) * this.getCurrentInterval() + this.getCurrentMin();\n\n    } else {\n\n      return Math.exp( ( px - this.getMinPx() ) / ( this.getMaxPx() - this.getMinPx() ) * ( Math.log( this.getCurrentMax() ) - Math.log( this.getCurrentMin() ) ) + Math.log( this.getCurrentMin() ) );\n    }\n  }\n\n  /**\n   * Transform a delta value into pixels\n   * @param {Number} value - The value to translate into pixels\n   * @return {Number} The value transformed into pixels\n   * @example graph.getBottomAxis().forceMin( 20 ).forceMax( 50 ).getRelPx( 2 ); // Returns how many pixels will be covered by 2 units. Let's assume 600px of width, it's ( 2 / 30 ) * 600 = 40px\n   */\n  getRelPx( delta ) {\n\n    return ( delta / this.getCurrentInterval() ) * ( this.getMaxPx() - this.getMinPx() );\n  }\n\n  /**\n   * Transform a delta pixels value into value\n   * @param {Number} pixels - The pixel to convert into a value\n   * @return {Number} The delta value corresponding to delta pixels\n   * @see Axis~getRelPx\n   * @example graph.getBottomAxis().forceMin( 20 ).forceMax( 50 ).getRelVal( 40 ); // Returns 2 (for 600px width)\n   */\n  getRelVal( px ) {\n    return px / ( this.getMaxPx() - this.getMinPx() ) * this.getCurrentInterval();\n  }\n\n  valueToText( value ) {\n\n    if ( this.scientificExponent ) {\n\n      value /= Math.pow( 10, this.scientificExponent );\n      return value.toFixed( 1 );\n\n    } else {\n\n      value = value * Math.pow( 10, this.getExponentialFactor() ) * Math.pow( 10, this.getExponentialLabelFactor() );\n      if ( this.options.shiftToZero ) {\n        value -= this.dataMin;\n      }\n      if ( this.options.ticklabelratio ) {\n        value *= this.options.ticklabelratio;\n      }\n      if ( this.options.unitModification ) {\n        value = this.modifyUnit( value, this.options.unitModification );\n        return value;\n      }\n\n      var dec = this.decimals - this.getExponentialFactor() - this.getExponentialLabelFactor();\n\n      if ( isNaN( value ) ) {\n        return '';\n      }\n\n      if ( dec > 0 ) {\n        value = value.toFixed( dec );\n      } else {\n        value = value.toFixed( 0 );\n      }\n\n      if ( this.options.unitInTicks && this.options.unit ) {\n        value += ` ${ this.options.unit}`;\n      }\n\n      return value;\n    }\n  }\n\n  /**\n   *  Computes a value and returns it in HTML formatting\n   *  @memberof Axis\n   *  @param {Number} value - The value to compute\n   *  @param {Boolean} noScaling - Does not display scaling\n   *  @param {Boolean} noUnits - Does not display units\n   *  @return {String} An HTML string containing the computed value\n   *  @example graph.getXAxis().setUnit( \"m\" ).setUnitDecade( true ).setScientific( true );\n   *  graph.getXAxis().valueToHtml( 3500 ); // Returns \"3.5 km\"\n   *  @see Axis#valueToText\n   */\n  valueToHtml( value, noScaling, noUnits ) {\n\n    var text = this.valueToText( value );\n    var letter;\n\n    if ( this.options.unitDecade && this.options.unit && this.scientificExponent !== 0 && ( this.scientificExponent = this.getEngineeringExponent( this.scientificExponent ) ) && ( letter = this.getExponentGreekLetter( this.scientificExponent ) ) ) {\n\n      text += letter;\n\n    } else if ( this.scientificExponent !== 0 && !isNaN( this.scientificExponent ) && !noScaling ) {\n      text += 'x10';\n      text += `<sup>${ this.scientificExponent }</sup>`;\n    }\n\n    if ( this.options.unit && !noUnits ) {\n\n      text += this.options.unit.replace( /\\^([-+0-9]*)/g, '<sup>$1</sup>' );\n    }\n\n    return text;\n  }\n\n  getModifiedValue( value ) {\n    if ( this.options.ticklabelratio ) {\n      value *= this.options.ticklabelratio;\n    }\n\n    if ( this.options.shiftToZero ) {\n      value -= this.getMinValue() * ( this.options.ticklabelratio || 1 );\n    }\n\n    return value;\n  }\n\n  modifyUnit( value, mode ) {\n\n    var text = '';\n    var incr = this.incrTick;\n    var umin;\n\n    switch ( mode ) {\n\n      case 'time': // val must be in seconds => transform in hours / days / months\n        var max = this.getModifiedValue( this.getMaxValue() ),\n          units = [\n            [ 60, 'min' ],\n            [ 3600, 'h' ],\n            [ 3600 * 24, 'd' ]\n          ];\n\n        if ( max < 3600 ) { // to minutes\n          umin = 0;\n        } else if ( max < 3600 * 24 ) {\n          umin = 1;\n        } else if ( max < 3600 * 24 * 30 ) {\n          umin = 2;\n        }\n\n        if ( !units[ umin ] ) {\n          return false;\n        }\n\n        value = value / units[ umin ][ 0 ];\n        var valueRounded = Math.floor( value );\n        text = valueRounded + units[ umin ][ 1 ];\n\n        // Addind lower unit for precision\n        umin--;\n        while ( incr < 1 * units[ umin + 1 ][ 0 ] && umin > -1 ) {\n\n          value = ( value - valueRounded ) * units[ umin + 1 ][ 0 ] / units[ umin ][ 0 ];\n          valueRounded = Math.round( value );\n          text += ` ${ valueRounded }${units[ umin ][ 1 ]}`;\n          umin--;\n        }\n\n        break;\n\n      case 'time:min.sec':\n        value = value / 60;\n        var valueRounded = Math.floor( value );\n        var s = ( `${Math.round( ( value - valueRounded ) * 60 ) }` );\n        s = s.length == 1 ? `0${ s}` : s;\n        text = `${valueRounded }.${ s}`;\n        break;\n\n      default:\n        break;\n    }\n\n    return text;\n  }\n\n  getExponentialFactor() {\n    return this.options.exponentialFactor;\n  }\n\n  setExponentialFactor( value ) {\n    this.options.exponentialFactor = value;\n  }\n\n  setExponentialLabelFactor( value ) {\n    this.options.exponentialLabelFactor = value;\n  }\n\n  getExponentialLabelFactor() {\n    return this.options.exponentialLabelFactor;\n  }\n\n  /**\n   * Sets the label of the axis\n   * @param {Number} label - The label to display under the axis\n   * @memberof Axis\n   * @return {Axis} The current axis\n   */\n  setLabel( label ) {\n    this.options.labelValue = label;\n    return this;\n  }\n\n  setLabelFont( font ) {\n    this.options.labelFont = font;\n    return this;\n  }\n\n  /**\n   * @memberof Axis\n   * @return {String} The label value\n   */\n  getLabel() {\n    return this.options.labelValue;\n  }\n\n  setSpan( _from, _to ) {\n\n    this.options.span = [ _from, _to ];\n    return this;\n  }\n\n  getSpan() {\n    return this.options.span;\n  }\n\n  setLevel( level ) {\n    this._level = level;\n    return this;\n  }\n\n  getLevel() {\n    return this._level;\n  }\n\n  setShift( shift ) {\n    this.shift = shift;\n  }\n\n  getShift() {\n    return this.shift;\n  }\n\n  /**\n   * Changes the tick position\n   * @param {Number} pos - The new position ( \"outside\", \"centered\" or \"inside\" )\n   * @memberof Axis\n   * @return {Axis} The current axis\n   */\n  setTickPosition( pos ) {\n    switch ( pos ) {\n      case 3:\n      case 'outside':\n      case Graph.TICKS_OUTSIDE:\n        {\n          pos = 3;\n          break;\n        }\n\n      case 2:\n      case 'centered':\n      case Graph.TICKS_CENTERED:\n        {\n          pos = 2;\n          break;\n        }\n\n      case 1:\n      case 'inside':\n      case Graph.TICKS_INSIDE:\n      default:\n        {\n          pos = 1;\n          break;\n        }\n    }\n\n    this.options.tickPosition = pos;\n\n    switch ( this.options.tickPosition ) {\n      case 3:\n        this.tickPx1 = -2;\n        this.tickPx2 = 0;\n        break;\n\n      case 2:\n        this.tickPx1 = -1;\n        this.tickPx2 = 1;\n        break;\n\n      default:\n      case 1:\n        this.tickPx1 = 0;\n        this.tickPx2 = 2;\n        break;\n    }\n\n    return this;\n  }\n\n  /**\n   * Displays or hides the axis grids\n   * @param {Boolean} on - true to enable the grids, false to disable them\n   * @memberof Axis\n   * @return {Axis} The current axis\n   */\n  setGrids( on ) {\n    this.options.primaryGrid = on;\n    this.options.secondaryGrid = on;\n    return this;\n  }\n\n  /**\n   * Displays or hides the axis primary grid\n   * @param {Boolean} on - true to enable the grids, false to disable it\n   * @memberof Axis\n   * @return {Axis} The current axis\n   */\n  setPrimaryGrid( on ) {\n    this.options.primaryGrid = on;\n    return this;\n  }\n\n  /**\n   * Displays or hides the axis secondary grid\n   * @param {Boolean} on - true to enable the grids, false to disable it\n   * @memberof Axis\n   * @return {Axis} The current axis\n   */\n  setSecondaryGrid( on ) {\n    this.options.secondaryGrid = on;\n    return this;\n  }\n\n  /**\n   * Enables primary grid\n   * @memberof Axis\n   * @return {Axis} The current axis\n   */\n  primaryGridOn() {\n    return this.setPrimaryGrid( true );\n  }\n\n  /**\n   * Disables primary grid\n   * @memberof Axis\n   * @return {Axis} The current axis\n   */\n  primaryGridOff() {\n    return this.setPrimaryGrid( false );\n  }\n\n  /**\n   * Enables secondary grid\n   * @memberof Axis\n   * @return {Axis} The current axis\n   */\n  secondaryGridOn() {\n    return this.setSecondaryGrid( true );\n  }\n\n  /**\n   * Disables secondary grid\n   * @return {Axis} The current axis\n   */\n  secondaryGridOff() {\n    return this.setSecondaryGrid( false );\n  }\n\n  /**\n   * Enables all the grids\n   * @return {Axis} The current axis\n   */\n  gridsOn() {\n    return this.setGrids( true );\n  }\n\n  /**\n   * Disables all the grids\n   * @return {Axis} The current axis\n   */\n  gridsOff() {\n    return this.setGrids( false );\n  }\n\n  /**\n   * @alias Axis#gridsOff\n   */\n  turnGridsOff() {\n    return this.gridsOff( ...arguments );\n  }\n\n  /**\n   * @alias Axis#gridsOn\n   */\n  turnGridsOn() {\n    return this.gridsOn( ...arguments );\n  }\n\n  /**\n   * Sets the color of the axis, the ticks and the label\n   * @memberof Axis\n   * @param {String} color - The new color of the primary ticks\n   * @return {Axis} The current axis\n   * @since 2.0.82\n   */\n  setColor( color = 'black' ) {\n    this.options.axisColor = color;\n    this.options.primaryTicksColor = color;\n    this.options.secondaryTicksColor = color;\n    this.options.ticksLabelColor = color;\n    this.options.primaryGridColor = color;\n    this.options.secondaryGridColor = color;\n    this.options.labelColor = color;\n    return this;\n  }\n\n  /**\n   * Sets the axis color\n   * @memberof Axis\n   * @param {String} color - The color to set the axis\n   * @return {Axis} The current axis\n   * @since 1.13.2\n   */\n  setAxisColor( color ) {\n    this.options.axisColor = color;\n    return this;\n  }\n\n  /**\n   * Gets the axis color\n   * @memberof Axis\n   * @return {String} The color of the axis\n   * @since 1.13.2\n   */\n  getAxisColor() {\n    return this.options.axisColor || 'black';\n  }\n\n  setTickLabelOffset( offsetValue ) {\n    this.options.tickLabelOffset = offsetValue;\n    return this;\n  }\n\n  /**\n   * Sets the color of the main ticks\n   * @memberof Axis\n   * @param {String} color - The new color of the primary ticks\n   * @return {Axis} The current axis\n   * @since 1.13.2\n   */\n  setPrimaryTicksColor( color ) {\n    this.options.primaryTicksColor = color;\n    return this;\n  }\n\n  /**\n   * Gets the color of the main ticks\n   * @memberof Axis\n   * @return {String} The color of the primary ticks\n   * @since 1.13.2\n   */\n  getPrimaryTicksColor() {\n    return this.options.primaryTicksColor || 'black';\n  }\n\n  /**\n   * Sets the color of the secondary ticks\n   * @memberof Axis\n   * @param {String} color - The new color of the secondary ticks\n   * @return {Axis} The current axis\n   * @since 1.13.2\n   */\n  setSecondaryTicksColor( color ) {\n    this.options.secondaryTicksColor = color;\n    return this;\n  }\n\n  /**\n   * Gets the color of the secondary ticks\n   * @memberof Axis\n   * @return {String} The color of the secondary ticks\n   * @since 1.13.2\n   */\n  getSecondaryTicksColor() {\n    return this.options.secondaryTicksColor || 'black';\n  }\n\n  /**\n   * Sets the color of the tick labels\n   * @memberof Axis\n   * @param {String} color - The new color of the tick labels\n   * @return {Axis} The current axis\n   * @since 1.13.2\n   */\n  setTicksLabelColor( color ) {\n    this.options.ticksLabelColor = color;\n    if ( Array.isArray( this.ticksLabels ) ) {\n      this.ticksLabels.forEach( ( tick ) => {\n        tick.setAttribute( 'fill', color );\n      } );\n    }\n    return this;\n  }\n\n  /**\n   * Gets the color of the tick labels\n   * @memberof Axis\n   * @return {String} The color of the tick labels\n   * @since 1.13.2\n   */\n  getTicksLabelColor() {\n    return this.options.ticksLabelColor || 'black';\n  }\n\n  /**\n   * Sets the color of the primary grid\n   * @memberof Axis\n   * @param {String} color - The primary grid color\n   * @return {Axis} The current axis\n   * @since 1.13.3\n   */\n  setPrimaryGridColor( color ) {\n    this.options.primaryGridColor = color;\n    this.setGridLinesStyle();\n    return this;\n  }\n\n  /**\n   * Gets the color of the primary grid\n   * @memberof Axis\n   * @return {String} color - The primary grid color\n   * @since 1.13.3\n   */\n  getPrimaryGridColor() {\n    return this.options.primaryGridColor;\n  }\n\n  /**\n   * Sets the color of the primary grid\n   * @memberof Axis\n   * @param {String} color - The primary grid color\n   * @return {Axis} The current axis\n   * @since 1.13.3\n   */\n  setSecondaryGridColor( color ) {\n    this.options.secondaryGridColor = color;\n    this.setGridLinesStyle();\n    return this;\n  }\n\n  /**\n   * Gets the color of the secondary grid\n   * @memberof Axis\n   * @return {String} color - The secondary grid color\n   * @since 1.13.3\n   */\n  getSecondaryGridColor() {\n    return this.options.secondaryGridColor;\n  }\n\n  /**\n   * Sets the width of the primary grid lines\n   * @memberof Axis\n   * @param {Number} width - The width of the primary grid lines\n   * @return {Axis} The current axis\n   * @since 1.13.3\n   */\n  setPrimaryGridWidth( width ) {\n    this.options.primaryGridWidth = width;\n    this.setGridLinesStyle();\n    return this;\n  }\n\n  /**\n   * Gets the width of the primary grid lines\n   * @memberof Axis\n   * @return {Number} width - The width of the primary grid lines\n   * @since 1.13.3\n   */\n  getPrimaryGridWidth() {\n    return this.options.primaryGridWidth;\n  }\n\n  /**\n   * Sets the width of the secondary grid lines\n   * @memberof Axis\n   * @param {Number} width - The width of the secondary grid lines\n   * @return {Axis} The current axis\n   * @since 1.13.3\n   */\n  setSecondaryGridWidth( width ) {\n    this.options.secondaryGridWidth = width;\n    this.setGridLinesStyle();\n    return this;\n  }\n\n  /**\n   * Gets the width of the secondary grid lines\n   * @memberof Axis\n   * @return {Number} width - The width of the secondary grid lines\n   * @since 1.13.3\n   */\n  getSecondaryGridWidth() {\n    return this.options.secondaryGridWidth;\n  }\n\n  /**\n   * Sets the opacity of the primary grid lines\n   * @memberof Axis\n   * @param {Number} opacity - The opacity of the primary grid lines\n   * @return {Axis} The current axis\n   * @since 1.13.3\n   */\n  setPrimaryGridOpacity( opacity ) {\n    this.options.primaryGridOpacity = opacity;\n    return this;\n  }\n\n  /**\n   * Gets the opacity of the primary grid lines\n   * @memberof Axis\n   * @return {Number} opacity - The opacity of the primary grid lines\n   * @since 1.13.3\n   */\n  getPrimaryGridOpacity() {\n    return this.options.primaryGridOpacity;\n  }\n\n  /**\n   * Sets the opacity of the secondary grid lines\n   * @memberof Axis\n   * @param {Number} opacity - The opacity of the secondary grid lines\n   * @return {Axis} The current axis\n   * @since 1.13.3\n   */\n  setSecondaryGridOpacity( opacity ) {\n    this.options.secondaryGridOpacity = opacity;\n    return this;\n  }\n\n  /**\n   * Gets the opacity of the secondary grid lines\n   * @memberof Axis\n   * @return {Number} opacity - The opacity of the secondary grid lines\n   * @since 1.13.3\n   */\n  getSecondaryGridOpacity() {\n    return this.options.secondaryGridOpacity;\n  }\n\n  /**\n   * Sets the dasharray of the primary grid lines\n   * @memberof Axis\n   * @param {String} dasharray - The dasharray of the primary grid lines\n   * @return {Axis} The current axis\n   * @since 1.13.3\n   */\n  setPrimaryGridDasharray( dasharray ) {\n    this.options.primaryGridDasharray = dasharray;\n    return this;\n  }\n\n  /**\n   * Gets the dasharray of the primary grid lines\n   * @memberof Axis\n   * @return {String} dasharray - The dasharray of the primary grid lines\n   * @since 1.13.3\n   */\n  getPrimaryGridDasharray() {\n    return this.options.primaryGridDasharray;\n  }\n\n  /**\n   * Sets the dasharray of the secondary grid lines\n   * @memberof Axis\n   * @param {String} dasharray - The dasharray of the secondary grid lines\n   * @return {Axis} The current axis\n   * @since 1.13.3\n   */\n  setSecondaryGridDasharray( dasharray ) {\n    this.options.secondaryGridDasharray = dasharray;\n    return this;\n  }\n\n  /**\n   * Gets the dasharray of the secondary grid lines\n   * @memberof Axis\n   * @return {String} dasharray - The dasharray of the secondary grid lines\n   * @since 1.13.3\n   */\n  getSecondaryGridDasharray() {\n    return this.options.secondaryGridDasharray;\n  }\n\n  /**\n   * Sets the color of the label\n   * @memberof Axis\n   * @param {String} color - The new color of the label\n   * @return {Axis} The current axis\n   * @since 1.13.2\n   */\n  setLabelColor( color ) {\n    this.options.labelColor = color;\n    return this;\n  }\n\n  /**\n   * Gets the color of the label\n   * @memberof Axis\n   * @return {String} The color of the label\n   * @since 1.13.2\n   */\n  getLabelColor() {\n    return this.options.labelColor;\n  }\n\n  setTickContent( dom, val, options ) {\n    if ( !options ) {\n      options = {};\n    }\n\n    if ( options.overwrite || !options.exponential ) {\n\n      dom.textContent = options.overwrite || this.valueToText( val );\n\n    } else {\n      var log = Math.round( Math.log( val ) / Math.log( 10 ) );\n      var unit = Math.floor( val * Math.pow( 10, -log ) );\n\n      dom.textContent = ( unit != 1 ) ? `${unit }x10` : '10';\n      var tspan = document.createElementNS( this.graph.ns, 'tspan' );\n      tspan.textContent = log;\n      tspan.setAttribute( 'font-size', '0.7em' );\n      tspan.setAttribute( 'dy', -5 );\n      dom.appendChild( tspan );\n    }\n\n    if ( options.fontSize ) {\n      dom.setAttribute( 'font-size', options.fontSize );\n    }\n  }\n\n  /**\n   * @memberof Axis\n   * @returns {Boolean} true if it is an x axis, false otherwise\n   */\n  isX() {\n    return false;\n  }\n\n  /**\n   * @memberof Axis\n   * @returns {Boolean} true if it is an y axis, false otherwise\n   */\n  isY() {\n    return false;\n  }\n\n  /**\n   * Sets the unit of the axis\n   * @param {String} unit - The unit of the axis\n   * @return {Axis} The current axis\n   * @memberof Axis\n   * @since 1.13.3\n   */\n  setUnit( unit ) {\n    this.options.unit = unit;\n    return this;\n  }\n\n  /**\n   * Places the unit in every tick\n   * @param {Boolean} bool - ```true``` to place the unit, ```false``` otherwise\n   * @return {Axis} The current axis\n   * @memberof Axis\n   * @since 2.0.44\n   */\n  setUnitInTicks( bool ) {\n    this.options.unitInTicks = bool;\n    return this;\n  }\n\n  /**\n   * Sets characters wrapping the unit\n   * @param {String} before - The string to insert before\n   * @param {String} after - The string to insert after\n   * @return {Axis} The current axis\n   * @memberof Axis\n   * @example axis.setUnitWrapper(\"[\", \"]\").setUnit('m'); // Will display [m]\n   * @since 1.13.3\n   */\n  setUnitWrapper( before, after ) {\n    this.options.unitWrapperBefore = before;\n    this.options.unitWrapperAfter = after;\n    return this;\n  }\n\n  /**\n   * Allows the unit to scale with thousands\n   * @param {Boolean} on - Enables this mode\n   * @return {Axis} The current axis\n   * @memberof Axis\n   * @since 1.13.3\n   */\n  setUnitDecade( on ) {\n    this.options.unitDecade = on;\n    return this;\n  }\n\n  /**\n   * Enable the scientific mode for the axis values. This way, big numbers can be avoided, e.g. \"1000000000\" would be displayed 1 with 10<sup>9</sup> or \"G\" shown on near the axis unit.\n   * @param {Boolean} on - Enables the scientific mode\n   * @return {Axis} The current axis\n   * @memberof Axis\n   * @since 1.13.3\n   */\n  setScientific( on ) {\n    this.options.scientificScale = on;\n    return this;\n  }\n\n  /**\n   * In the scientific mode, forces the axis to take a specific power of ten. Useful if you want to show kilometers instead of meters for example. In this case you would use \"3\" as a value.\n   * @param {Number} scientificScaleExponent - Forces the scientific scale to take a defined power of ten\n   * @return {Axis} The current axis\n   * @memberof Axis\n   * @since 1.13.3\n   * @see Axis#setScientific\n   */\n  setScientificScaleExponent( scientificScaleExponent ) {\n    this.options.scientificScaleExponent = scientificScaleExponent;\n    return this;\n  }\n\n  /**\n   * The engineer scaling is similar to the scientific scaling ({@link Axis#setScientificScale}) but allowing only mupltiples of 3 to be used to scale the axis (for instance, go from grams to kilograms while skipping decagrams and hexagrams)\n   * @param {Boolean} engineeringScaling - <code>true</code> to turn on the engineering scaling\n   * @return {Axis} The current axis\n   * @memberof Axis\n   * @since 1.13.3\n   * @see Axis#setScientific\n   */\n  setEngineering( engineeringScaling ) { //bool\n    this.options.scientificScale = engineeringScaling;\n    this.options.engineeringScale = engineeringScaling;\n    return this;\n  }\n\n  /**\n   * Calculates the closest engineering exponent from a scientific exponent\n   * @param {Number} scientificExponent - The exponent of 10 based on which the axis will be scaled\n   * @return {Number} The appropriate engineering exponent\n   * @memberof Axis\n   * @since 1.13.3\n   * @private\n   */\n  getEngineeringExponent( scientificExponent ) {\n\n    if ( scientificExponent > 0 ) {\n      scientificExponent -= ( scientificExponent % 3 );\n    } else {\n      scientificExponent -= ( 3 - ( -scientificExponent ) % 3 ) % 3;\n    }\n\n    return scientificExponent;\n  }\n\n  /**\n   * Enables log scaling\n   * @param {Boolean} logScale - ```true``` to enable the log scaling, ```false``` to disable it\n   * @return {Axis} The current axis\n   * @memberof Axis\n   * @since 1.13.3\n   */\n  setLogScale( log ) {\n    this.options.logScale = log;\n    return this;\n  }\n\n  isZoomed() {\n    return !( this.currentAxisMin == this.getMinValue() || this.currentAxisMax == this.getMaxValue() );\n  }\n\n  hasAxis() {\n    return false;\n  }\n\n  getType() {\n    return null;\n  }\n\n  useKatexForLabel( use = true ) {\n    this.options.useKatexForLabel = use;\n    return this;\n  }\n\n}\n\n/**\n *  @alias Axis#getVal\n */\nAxis.prototype.getValue = Axis.prototype.getVal;\n\n/**\n *  @alias Axis#getRelPx\n */\nAxis.prototype.getDeltaPx = Axis.prototype.getRelPx;\n\nexport default Axis;","import Axis from './graph.axis.js';\n\n/**\n * Generic constructor of a y axis\n * @augments Axis\n */\nclass AxisX extends Axis {\n\n  constructor( graph, topbottom, options = {} ) {\n\n    super( graph, topbottom, options );\n    this.top = topbottom == 'top';\n  }\n\n  /**\n   *  @private\n   *  Returns the position of the axis, used by refreshDrawingZone in core module\n   */\n  getAxisPosition() {\n\n    if ( !this.options.display ) {\n      return 0;\n    }\n\n    let size;\n\n    if ( this.options.tickLabelOffset == 0 ) { // Normal mode, no offset\n      size = ( this.options.tickPosition == 1 ? 8 : 20 );\n      size += this.graph.options.fontSize * 1;\n    } else { // With an offset, and ticks inside, axis position is actually 0. Otherwise, it's the heights of the ticks\n      size = ( this.options.tickPosition == 1 ? 0 : 12 );\n    }\n\n    if ( this.getLabel() ) {\n      size += this.graph.options.fontSize;\n    }\n\n    return size;\n  }\n\n  /**\n   *  @returns {Boolean} always ```true```\n   */\n  isX() {\n    return true;\n  }\n\n  /**\n   *  @returns {Boolean} always ```false```\n   */\n  isY() {\n    return false;\n  }\n\n  /**\n   *  @private\n   *  Used to set the x position of the axis\n   */\n  setShift( shift ) {\n\n    this.shift = shift;\n    if ( this.getShift() === undefined || !this.graph.getDrawingHeight() ) {\n      return;\n    }\n\n    this.group.setAttribute( 'transform', `translate(0 ${ this.floating ? this.getShift() : ( this.top ? this.shift : ( this.graph.getDrawingHeight() - this.shift ) ) })` );\n  }\n\n  /**\n   *  Caclulates the maximum tick height\n   *  @return {Number} The maximum tick height\n   */\n  getMaxSizeTick() {\n    return ( this.top ? -1 : 1 ) * ( ( this.options.tickPosition == 1 ) ? 10 : 10 );\n  }\n\n  /**\n   *  Draws a tick. Mostly used internally but it can be useful if you want to make your own axes\n   *  @param {Number} value - The value in axis unit to place the tick\n   *  @param {Number} level - The importance of the tick\n   *  @param {Object} options - Further options to be passed to ```setTickContent```\n   *  @param {Number} forcedPos - Forces the position of the tick (for axis dependency)\n   */\n  drawTick( value, level, options, forcedPos ) {\n\n    var self = this,\n      val;\n\n    val = forcedPos || this.getPos( value );\n\n    if ( val == undefined || isNaN( val ) ) {\n      return;\n    }\n\n    var tick = this.nextTick( level, function( tick ) {\n\n      tick.setAttribute( 'y1', ( self.top ? 1 : -1 ) * self.tickPx1 * self.tickScaling[ level ] );\n      tick.setAttribute( 'y2', ( self.top ? 1 : -1 ) * self.tickPx2 * self.tickScaling[ level ] );\n\n      if ( level == 1 ) {\n        tick.setAttribute( 'stroke', self.getPrimaryTicksColor() );\n      } else {\n        tick.setAttribute( 'stroke', self.getSecondaryTicksColor() );\n      }\n\n    } );\n\n    //      tick.setAttribute( 'shape-rendering', 'crispEdges' );\n    tick.setAttribute( 'x1', val );\n    tick.setAttribute( 'x2', val );\n\n    this.nextGridLine( level == 1, val, val, 0, this.graph.getDrawingHeight() );\n\n    //  this.groupTicks.appendChild( tick );\n    if ( level == 1 ) {\n\n      var tickLabel = this.nextTickLabel( ( tickLabel ) => {\n\n        tickLabel.setAttribute( 'y', ( self.top ? -1 : 1 ) * ( ( self.options.tickPosition == 1 ? 8 : 20 ) + ( self.top ? 10 : 0 ) ) + this.options.tickLabelOffset );\n        tickLabel.setAttribute( 'text-anchor', 'middle' );\n        if ( self.getTicksLabelColor() !== 'black' ) {\n          tickLabel.setAttribute( 'fill', self.getTicksLabelColor() );\n        }\n        tickLabel.style.dominantBaseline = 'hanging';\n      } );\n\n      tickLabel.setAttribute( 'x', val );\n      this.setTickContent( tickLabel, value, options );\n\n    }\n    //    this.ticks.push( tick );\n\n    return [ tick, tickLabel ];\n  }\n\n  drawLabel() {\n    // Place label correctly\n\n    if ( this.getLabelColor() !== 'black' ) {\n      this.label.setAttribute( 'fill', this.getLabelColor() );\n    }\n\n    if ( this.options.labelFont ) {\n      this.label.setAttribute( 'font-family', this.options.labelFont );\n    }\n\n    this.label.setAttribute( 'text-anchor', 'middle' );\n    this.label.setAttribute( 'style', 'display: initial;' );\n    this.label.setAttribute( 'x', Math.abs( this.getMaxPx() + this.getMinPx() ) / 2 );\n    this.label.setAttribute( 'y', ( this.top ? -1 : 1 ) * ( ( this.options.tickPosition == 1 ? 10 : 25 ) + this.graph.options.fontSize ) );\n    this.labelTspan.textContent = this.getLabel();\n\n  }\n\n  draw() {\n    var tickWidth = super.draw( ...arguments );\n    this.drawSpecifics();\n\n    return tickWidth;\n  }\n  /**\n   *  Paints the label, the axis line and anything else specific to x axes\n   */\n  drawSpecifics() {\n\n    // Adjusts group shift\n    //this.group.setAttribute('transform', 'translate(0 ' + this.getShift() + ')');\n\n    this.drawLabel();\n\n    this.line.setAttribute( 'x1', this.getMinPx() );\n    this.line.setAttribute( 'x2', this.getMaxPx() );\n    this.line.setAttribute( 'y1', 0 );\n    this.line.setAttribute( 'y2', 0 );\n\n    this.line.setAttribute( 'stroke', this.getAxisColor() );\n\n    if ( !this.top ) {\n\n      this.labelTspan.style.dominantBaseline = 'hanging';\n      this.expTspan.style.dominantBaseline = 'hanging';\n      this.expTspanExp.style.dominantBaseline = 'hanging';\n\n      this.unitTspan.style.dominantBaseline = 'hanging';\n      //  this.preunitTspan.style.dominantBaseline = 'hanging';\n\n    }\n\n    var span = this.getSpan();\n    this.line.setAttribute( 'marker-start', ( !this.options.splitMarks || span[ 0 ] == 0 ? '' : `url(#horionzalsplit_${ this.graph.getId() })` ) );\n    this.line.setAttribute( 'marker-end', ( !this.options.splitMarks || span[ 1 ] == 1 ? '' : `url(#horionzalsplit_${ this.graph.getId() })` ) );\n\n  }\n\n  /**\n   *  @private\n   */\n  _drawLine( pos, line ) {\n\n    let px = this.getPx( pos );\n\n    if ( !line ) {\n      line = document.createElementNS( this.graph.ns, 'line' );\n    } else {\n      line.setAttribute( 'display', 'initial' );\n    }\n\n    line.setAttribute( 'x1', px );\n    line.setAttribute( 'x2', px );\n\n    line.setAttribute( 'y1', 0 );\n    line.setAttribute( 'y2', this.graph.drawingSpaceHeight );\n\n    line.setAttribute( 'stroke', 'black' );\n    this.group.appendChild( line );\n\n    return line;\n  }\n\n  _hideLine( line ) {\n    if ( !line ) {\n      return;\n    }\n    line.setAttribute( 'display', 'none' );\n  }\n\n  /**\n   *  @private\n   */\n  handleMouseMoveLocal( x ) { // handleMouseMoveLocal( x, y, e )\n    x -= this.graph.getPaddingLeft();\n    this.mouseVal = this.getVal( x );\n  }\n\n  /**\n   *  Caches the minimum px and maximum px position of the axis. Includes axis spans and flipping. Mostly used internally\n   */\n  setMinMaxFlipped() {\n\n    var interval = this.maxPx - this.minPx;\n\n    if ( isNaN( interval ) ) {\n      return;\n    }\n\n    var maxPx = interval * this.options.span[ 1 ] + this.minPx - this.options.marginMax;\n    var minPx = interval * this.options.span[ 0 ] + this.minPx + this.options.marginMin;\n\n    this.minPxFlipped = this.isFlipped() ? maxPx : minPx;\n    this.maxPxFlipped = this.isFlipped() ? minPx : maxPx;\n\n  }\n\n  getZProj( zValue ) {\n    return zValue * this.graph.options.zAxis.shiftX;\n  }\n\n}\n\nexport default AxisX;","import Axis from './graph.axis.js';\n\n/**\n * Generic constructor of a y axis\n * @extends Axis\n */\nclass AxisY extends Axis {\n\n  constructor( graph, leftright, options ) {\n\n    super( graph, leftright, options );\n    this.leftright = leftright;\n    this.left = leftright == 'left';\n\n  }\n\n  /**\n   *  @private\n   */\n  setAxisPosition( shift ) {\n    this.shiftPosition = shift;\n  }\n\n  getAxisPosition() {\n    return this.shiftPosition || 0;\n  }\n\n  getAdditionalWidth() {\n    let pos = 0;\n    if ( this.getLabel() ) {\n      pos += this.graph.options.fontSize;\n    }\n\n    if ( this.isShown() ) {\n      pos += Math.abs( this.tickMargin );\n    }\n    return pos;\n  }\n\n  /**\n   *  @returns {Boolean} always ```false```\n   */\n  isX() {\n    return false;\n  }\n\n  /**\n   *  @returns {Boolean} always ```true```\n   */\n  isY() {\n    return true;\n  }\n\n  /**\n   *  @private\n   */\n  resetTicksLength() {\n    this.longestTick = [ false, 0 ];\n  }\n\n  /**\n   *  @private\n   */\n  getMaxSizeTick() { // Gives an extra margin of 5px\n    return ( this.longestTick && this.longestTick[ 0 ] ? this.longestTick[ 0 ].getComputedTextLength() + 5 : 0 ); //(this.left ? 10 : 0);\n  }\n\n  draw() {\n\n    this.tickMargin = ( this.left ? -5 - this.tickPx1 * this.tickScaling[ 1 ] : 2 - this.tickPx1 * this.tickScaling[ 1 ] );\n    var tickWidth = super.draw( ...arguments );\n    tickWidth += this.getAdditionalWidth();\n    this.drawSpecifics( tickWidth );\n\n    this.fullwidthlabel = tickWidth;\n\n    return tickWidth;\n  }\n\n  equalizePosition( width ) {\n\n    this.placeLabel( this.left ? -width : width );\n\n    if ( this.getLabel() ) {\n      return width + this.graph.options.fontSize;\n    }\n\n    return 0;\n  }\n\n  /**\n   *  @private\n   */\n  drawTick( value, level, options, forcedPos ) {\n    let pos,\n      tick,\n      tickLabel;\n\n    pos = forcedPos || this.getPos( value );\n\n    if ( pos == undefined || isNaN( pos ) ) {\n      return;\n    }\n\n    tick = this.nextTick( level, ( tick ) => {\n\n      tick.setAttribute( 'x1', ( this.left ? 1 : -1 ) * this.tickPx1 * this.tickScaling[ level ] );\n      tick.setAttribute( 'x2', ( this.left ? 1 : -1 ) * this.tickPx2 * this.tickScaling[ level ] );\n\n      if ( level == 1 ) {\n        tick.setAttribute( 'stroke', this.getPrimaryTicksColor() );\n      } else {\n        tick.setAttribute( 'stroke', this.getSecondaryTicksColor() );\n      }\n\n    } );\n\n    tick.setAttribute( 'y1', pos );\n    tick.setAttribute( 'y2', pos );\n\n    this.nextGridLine( level == 1, 0, this.graph.getDrawingWidth(), pos, pos );\n\n    //  this.groupTicks.appendChild( tick );\n    if ( level == 1 ) {\n      tickLabel = this.nextTickLabel( ( tickLabel ) => {\n\n        tickLabel.setAttribute( 'x', this.tickMargin + this.options.tickLabelOffset );\n        if ( this.getTicksLabelColor() !== 'black' ) {\n          tickLabel.setAttribute( 'fill', this.getTicksLabelColor() );\n        }\n\n        if ( this.left ) {\n          tickLabel.setAttribute( 'text-anchor', 'end' );\n        } else {\n          tickLabel.setAttribute( 'text-anchor', 'start' );\n        }\n        tickLabel.style.dominantBaseline = 'central';\n\n      } );\n\n      tickLabel.setAttribute( 'y', pos );\n      this.setTickContent( tickLabel, value, options );\n\n      if ( String( tickLabel.textContent ).length >= this.longestTick[ 1 ] ) {\n        this.longestTick[ 0 ] = tickLabel;\n        this.longestTick[ 1 ] = String( tickLabel.textContent ).length;\n\n      }\n    }\n  }\n\n  drawLabel() {\n\n    if ( this.getLabelColor() !== 'black' ) {\n      this.label.setAttribute( 'fill', this.getLabelColor() );\n    }\n\n    this.label.setAttribute( 'dominant-baseline', !this.left ? 'auto' : 'auto' );\n    this.labelTspan.textContent = this.getLabel();\n  }\n\n  placeLabel( y ) {\n    this.label.setAttribute( 'transform', `translate(${ y }, ${ Math.abs( this.getMaxPx() + this.getMinPx() ) / 2 }) rotate(-90)` );\n  }\n\n  /**\n   *  @private\n   */\n  drawSpecifics() {\n    // Place label correctly\n    //this.label.setAttribute('x', (this.getMaxPx() - this.getMinPx()) / 2);\n    /*\n    if ( !this.left ) {\n\n      this.labelTspan.style.dominantBaseline = 'hanging';\n      this.expTspan.style.dominantBaseline = 'hanging';\n      this.expTspanExp.style.dominantBaseline = 'hanging';\n\n      this.unitTspan.style.dominantBaseline = 'hanging';\n      this.preunitTspan.style.dominantBaseline = 'hanging';\n    }\n*/\n    this.line.setAttribute( 'y1', this.getMinPx() );\n    this.line.setAttribute( 'y2', this.getMaxPx() );\n    this.line.setAttribute( 'x1', 0 );\n    this.line.setAttribute( 'x2', 0 );\n\n    this.line.setAttribute( 'stroke', this.getAxisColor() );\n\n    var span = this.getSpan();\n    this.line.setAttribute( 'marker-start', ( !this.options.splitMarks || span[ 0 ] == 0 ? '' : `url(#verticalsplit_${ this.graph.getId() })` ) );\n    this.line.setAttribute( 'marker-end', ( !this.options.splitMarks || span[ 1 ] == 1 ? '' : `url(#verticalsplit_${ this.graph.getId() })` ) );\n  }\n\n  /**\n   *  @private\n   */\n  setShift( shift ) {\n\n    this.shift = shift;\n\n    if ( !this.shift || !this.graph.getWidth() ) {\n      return;\n    }\n\n    let xshift = this.shift;\n    xshift = this.floating ? xshift : ( this.isLeft() ? xshift : this.graph.getWidth() - this.graph.getPaddingRight() - this.graph.getPaddingLeft() - xshift );\n    this.group.setAttribute( 'transform', `translate( ${ xshift } 0 )` );\n    this.drawLabel();\n  }\n\n  /**\n   *  @private\n   */\n  isLeft() {\n    return this.left;\n  }\n\n  /**\n   *  @private\n   */\n  isRight() {\n    return !this.left;\n  }\n\n  /**\n   *  @private\n   */\n  isFlipped() {\n    return !this.options.flipped;\n  }\n\n  /**\n   *  @private\n   */\n  _drawLine( pos, line ) {\n\n    let px = this.getPx( pos );\n\n    if ( !line ) {\n      line = document.createElementNS( this.graph.ns, 'line' );\n    } else {\n      line.setAttribute( 'display', 'initial' );\n    }\n\n    line.setAttribute( 'y1', px );\n    line.setAttribute( 'y2', px );\n\n    line.setAttribute( 'x1', 0 );\n    line.setAttribute( 'x2', this.graph.drawingSpaceWidth );\n\n    line.setAttribute( 'stroke', 'black' );\n    this.group.appendChild( line );\n\n    return line;\n  }\n\n  _hideLine( line ) {\n    if ( !line ) {\n      return;\n    }\n\n    line.setAttribute( 'display', 'none' );\n  }\n\n  /**\n   *  @private\n   */\n  handleMouseMoveLocal( x, y ) {\n    y -= this.graph.getPaddingTop();\n    this.mouseVal = this.getVal( y );\n  }\n\n  /**\n   * Scales the axis with respect to the series contained in an x axis\n   * @param {Axis} [ axis = graph.getXAxis() ] - The X axis to use as a reference\n   * @param {Serie} [ excludeSerie ] - A serie to exclude\n   * @param {Number} [ start = xaxis.getCurrentMin() ] - The start of the boundary\n   * @param {Number} [ end = xaxis.getCurrentMax() ] - The end of the boundary\n   * @param {Boolean} [ min = true ] - Adapt the min\n   * @param {Boolean} [ max = true ] - Adapt the max\n   * @returns {Axis} The current axis\n   */\n  scaleToFitAxis( axis, excludeSerie, start, end, min, max ) {\n    //console.log( axis instanceof GraphAxis );\n    if ( !axis || !axis.isX() ) {\n      axis = this.graph.getXAxis();\n    }\n\n    if ( isNaN( start ) ) {\n      start = axis.getCurrentMin();\n    }\n\n    if ( isNaN( end ) ) {\n      end = axis.getCurrentMax();\n    }\n\n    if ( min === undefined ) {\n      min = true;\n    }\n\n    if ( max === undefined ) {\n      max = true;\n    }\n\n    if ( typeof excludeSerie == 'number' ) {\n      end = start;\n      start = excludeSerie;\n      excludeSerie = false;\n    }\n\n    var maxV = -Infinity,\n      minV = Infinity,\n      j = 0;\n\n    for ( var i = 0, l = this.graph.series.length; i < l; i++ ) {\n\n      if ( !this.graph.series[ i ].isShown() ) {\n        continue;\n      }\n\n      if ( this.graph.series[ i ] == excludeSerie ) {\n        continue;\n      }\n\n      if ( !( this.graph.series[ i ].getXAxis() == axis ) || ( this.graph.series[ i ].getYAxis() !== this ) ) {\n        continue;\n      }\n\n      j++;\n\n      maxV = max ? Math.max( maxV, this.graph.series[ i ].getMax( start, end ) ) : 0;\n      minV = min ? Math.min( minV, this.graph.series[ i ].getMin( start, end ) ) : 0;\n    }\n\n    if ( j == 0 ) {\n\n      this.setMinMaxToFitSeries(); // No point was found\n\n    } else {\n\n      // If we wanted originally to resize min and max. Otherwise we use the current value\n      minV = min ? minV : this.getCurrentMin();\n      maxV = max ? maxV : this.getCurrentMax();\n\n      var interval = maxV - minV;\n\n      minV -= ( this.options.axisDataSpacing.min * interval );\n      maxV += ( this.options.axisDataSpacing.max * interval );\n\n      this._doZoomVal( minV, maxV );\n    }\n\n    return this;\n  }\n\n  /**\n   *  Caches the minimum px and maximum px position of the axis. Includes axis spans and flipping. Mostly used internally\n   *  @return {Axis} The current axis instance\n   */\n  setMinMaxFlipped() {\n\n    var interval = this.maxPx - this.minPx;\n\n    if ( isNaN( interval ) ) {\n      return;\n    }\n\n    var maxPx = this.maxPx - interval * this.options.span[ 0 ] - this.options.marginMin;\n    var minPx = this.maxPx - interval * this.options.span[ 1 ] + this.options.marginMax;\n\n    this.minPxFlipped = this.isFlipped() ? maxPx : minPx;\n    this.maxPxFlipped = this.isFlipped() ? minPx : maxPx;\n\n  }\n\n  getZProj( zValue ) {\n    return zValue * this.graph.options.zAxis.shiftY;\n  }\n\n}\n\nexport default AxisY;","import AxisX from './graph.axis.x.js';\n\n/**\n * Generic constructor of a y axis\n * @class AxisXBar\n * @augments Axis\n */\nclass AxisXBar extends AxisX {\n\n  constructor( graph, topbottom, options = {} ) {\n    super( graph, topbottom, options );\n  }\n\n  /**\n   * @param {Object[]} categories - Categories array\n   * @param {(String|Number)} categories[].title - The title of the category (to be dispalyed)\n   * @param {(String|Number)} categories[].name - The name of the category (to indentify series)\n   * @returns {AxisBar} The current axis instance\n   */\n  set categories( categories ) {\n    this._barCategories = categories;\n    return this;\n  }\n\n  draw() {\n\n    var self = this,\n      tickLabel,\n      elements = this._barCategories;\n\n    this.forceMin( 0 );\n    this.forceMax( 1 );\n\n    this.cacheCurrentMin();\n    this.cacheCurrentMax();\n    this.cacheInterval();\n\n    if ( !elements ) {\n      return;\n    }\n\n    if ( !Array.isArray( elements ) ) {\n      elements = [ elements ];\n    }\n\n    // this.drawInit();\n\n    //var widthPerElement = width / elements.length;\n    for ( var i = 0; i <= elements.length; i++ ) {\n      this.drawTick( i / elements.length, 2 );\n\n      if ( i < elements.length ) {\n        tickLabel = this.nextTickLabel( function( tickLabel ) {\n\n          tickLabel.setAttribute( 'y', ( self.top ? -1 : 1 ) * ( ( self.options.tickPosition == 1 ? 8 : 20 ) + ( self.top ? 10 : 0 ) ) );\n          tickLabel.setAttribute( 'text-anchor', 'middle' );\n          if ( self.getTicksLabelColor() !== 'black' ) {\n            tickLabel.setAttribute( 'fill', self.getTicksLabelColor() );\n          }\n          tickLabel.style.dominantBaseline = 'hanging';\n\n        } );\n\n        tickLabel.setAttribute( 'x', this.getPos( ( i + 0.5 ) / elements.length ) );\n        tickLabel.textContent = elements[ i ].title;\n      }\n\n    }\n\n    this.drawSpecifics();\n    return this;\n  }\n\n  /**\n   * Sets the series automatically\n   * @returns {AxisBar} The current axis instance\n   */\n  autoSeries() {\n\n    let series = [];\n    for ( let serie of this.graph.series ) {\n      if ( serie.getXAxis() == this ) {\n        series.push( serie );\n      }\n    }\n\n    this.setSeries( ...series );\n    return this;\n  }\n\n  /**\n   * Sets the series that should belong to the axis\n   * @param {...(Series|Number|String)} series - List of series identified either by their instance, or their index (string or number)\n   * @returns {AxisBar} The current axis instance\n   */\n  setSeries() {\n\n    var self = this;\n    this.series = arguments;\n\n    Array.prototype.map.call( this.series, function( serie, index ) {\n\n      if ( !( typeof serie == 'object' ) ) {\n        serie = self.graph.getSerie( serie );\n      }\n\n      if ( serie.setCategoryConfig ) {\n        serie.setCategoryConfig( index, self._barCategories, self.series.length );\n      }\n    } );\n\n    this._getUsedCategories();\n\n    return this;\n  }\n\n  _getUsedCategories() {\n\n    let categories = {},\n      total = 0;\n\n    Array.prototype.map.call( this.series, ( serie ) => {\n      let usedCategories = serie.getUsedCategories();\n      for ( let cat of usedCategories ) {\n\n        if ( !categories.hasOwnProperty( cat ) ) {\n          categories[ cat ] = 1;\n          total += 1;\n        }\n\n        categories[ cat ]++;\n        total++;\n      }\n    } );\n\n    let accumulator = 0;\n    for ( let i in categories ) {\n      let temp = categories[ i ];\n      categories[ i ] = accumulator;\n      accumulator += temp;\n    }\n\n    let dispatchedCategories = {};\n\n    Array.prototype.map.call( this.series, ( serie ) => {\n\n      let scategories = serie.getUsedCategories(),\n        indices = {};\n\n      scategories.forEach( ( cat ) => {\n\n        dispatchedCategories[ cat ] = dispatchedCategories[ cat ] || 0.5;\n        indices[ cat ] = ( categories[ cat ] + dispatchedCategories[ cat ] ) / total;\n        dispatchedCategories[ cat ]++;\n      } );\n\n      serie.setDataIndices( indices, total );\n\n    } );\n\n  }\n\n  getType() {\n    return 'category';\n  }\n}\n\nexport default AxisXBar;","import Axis from './graph.axis.js';\nimport * as util from './graph.util.js';\n\nvar axisFormat = [\n\n  {\n\n    threshold: 20,\n    increments: {\n\n      1: {\n        increment: 1, // 1 minute\n        unit: 'i',\n        format: 'HH\"h\"MM (dd/mm/yy)'\n      },\n\n      2: { // 10 seconds\n        increment: 1,\n        unit: 's',\n        format: 'MM:ss\"s\"'\n      }\n    }\n  },\n\n  {\n\n    threshold: 50,\n    increments: {\n\n      1: {\n        increment: 1, // 1 minute\n        unit: 'i',\n        format: 'HH\"h\"MM (dd/mm/yy)'\n      },\n\n      2: { // 2 seconds\n        increment: 2,\n        unit: 's',\n        format: 'MM:ss\"s\"'\n      }\n    }\n  },\n\n  {\n\n    threshold: 100,\n    increments: {\n\n      1: {\n        increment: 1, // 1 minute\n        unit: 'i',\n        format: 'HH\"h\"MM (dd/mm/yy)'\n      },\n\n      2: { // 5 seconds\n        increment: 5,\n        unit: 's',\n        format: 'MM:ss\"s\"'\n      }\n    }\n  },\n\n  {\n\n    threshold: 600,\n    increments: {\n\n      1: {\n        increment: 10, // 1 minute\n        unit: 'i',\n        format: 'HH\"h\"MM (dd/mm/yy)'\n      },\n\n      2: { // 10 seconds\n        increment: 30,\n        unit: 's',\n        format: 'MM:ss\"s\"'\n      }\n    }\n  },\n\n  { // One day\n\n    threshold: 1000,\n    increments: {\n\n      1: { // 1h\n        increment: 1,\n        unit: 'h',\n        format: 'HH\"h\"MM (dd/mm/yy)'\n      },\n\n      2: { // 10 minutes\n        increment: 10,\n        unit: 'i',\n        format: 'MM\"min\"'\n      }\n    }\n  },\n\n  { // One day\n\n    threshold: 1500,\n    increments: {\n\n      1: {\n        increment: 1, // One day on the first axis\n        unit: 'd',\n        format: 'dd/mm/yyyy'\n      },\n\n      2: {\n        increment: 1,\n        unit: 'i',\n        format: 'H\"h\"MM'\n      }\n    }\n  },\n\n  { // One day\n\n    threshold: 3000,\n    increments: {\n\n      1: {\n        increment: 1, // One day on the first axis\n        unit: 'd',\n        format: 'dd/mm/yyyy'\n      },\n\n      2: {\n        increment: 2,\n        unit: 'i',\n        format: 'H\"h\"MM'\n      }\n    }\n  },\n\n  { // One day\n\n    threshold: 8000,\n    increments: {\n\n      1: {\n        increment: 1, // One day on the first axis\n        unit: 'd',\n        format: 'dd/mm/yyyy'\n      },\n\n      2: {\n        increment: 10,\n        unit: 'i',\n        format: 'H\"h\"MM'\n      }\n    }\n  },\n\n  { // One day\n\n    threshold: 26400,\n    increments: {\n\n      1: {\n        increment: 1, // One day on the first axis\n        unit: 'd',\n        format: 'dd/mm/yyyy'\n      },\n\n      2: {\n        increment: 20,\n        unit: 'i',\n        format: 'H\"h\"MM'\n      }\n    }\n  },\n\n  { // One day\n\n    threshold: 86400,\n    increments: {\n\n      1: {\n        increment: 1, // One day on the first axis\n        unit: 'd',\n        format: 'dd/mm/yyyy'\n      },\n\n      2: {\n        increment: 1,\n        unit: 'h',\n        format: 'H\"h\"MM'\n      }\n    }\n  },\n\n  { // One day\n\n    threshold: 200000,\n    increments: {\n\n      1: {\n\n        increment: 1,\n        unit: 'd',\n        format: 'dd/mm/yyyy'\n      },\n\n      2: {\n\n        increment: 2, // One day on the first axis\n        unit: 'h',\n        format: 'H\"h\"MM'\n      }\n    }\n  },\n\n  { // One day\n\n    threshold: 400000,\n    increments: {\n\n      1: {\n\n        increment: 1,\n        unit: 'd',\n        format: 'dd/mm/yyyy'\n      },\n\n      2: {\n\n        increment: 6, // One day on the first axis\n        unit: 'h',\n        format: 'H\"h\"MM'\n      }\n    }\n  },\n\n  { // One day\n\n    threshold: 1400000,\n    increments: {\n\n      1: {\n\n        increment: 1,\n        unit: 'd',\n        format: 'dd/mm/yyyy'\n      },\n\n      2: {\n\n        increment: 12, // One day on the first axis\n        unit: 'h',\n        format: 'HH\"h\"MM'\n      }\n    }\n  },\n\n  { // One day\n\n    threshold: 6400000,\n    increments: {\n\n      1: {\n\n        increment: 1,\n        unit: 'm',\n        format: 'mmmm yyyy'\n      },\n\n      2: {\n\n        increment: 1, // One day on the first axis\n        unit: 'd',\n        format: 'dd'\n      }\n    }\n  },\n\n  { // One day\n\n    threshold: 12400000,\n    increments: {\n\n      1: {\n\n        increment: 1,\n        unit: 'm',\n        format: 'mmmm yyyy'\n      },\n\n      2: {\n\n        increment: 2, // One day on the first axis\n        unit: 'd',\n        format: 'dd'\n      }\n    }\n  },\n\n  { // One day\n\n    threshold: 86400000 * 0.5,\n    increments: {\n\n      1: {\n\n        increment: 1,\n        unit: 'm',\n        format: 'mmmm yyyy'\n      },\n\n      2: {\n\n        increment: 7, // One day on the first axis\n        unit: 'd',\n        format: 'dd'\n      }\n    }\n  },\n\n  { // One day\n\n    threshold: 86400000 * 0.8,\n    increments: {\n\n      1: {\n\n        increment: 1,\n        unit: 'm',\n        format: 'mmmm yyyy'\n      },\n\n      2: {\n\n        increment: 15, // One day on the first axis\n        unit: 'd',\n        format: 'dd'\n      }\n    }\n  },\n\n  { // One month\n\n    threshold: 86400000 * 1,\n    increments: {\n\n      1: {\n        increment: 1,\n        unit: 'y',\n        format: 'yyyy'\n      },\n\n      2: {\n\n        increment: 3, // One day on the first axis\n        unit: 'm',\n        format: 'mm/yyyy'\n      }\n    }\n  },\n\n  { // One month\n\n    threshold: 86400000 * 2,\n    increments: {\n\n      1: {\n\n        increment: 1,\n        unit: 'y',\n        format: 'yyyy'\n      },\n\n      2: {\n\n        increment: 4, // One day on the first axis\n        unit: 'm',\n        format: 'mm/yyyy'\n      }\n    }\n  },\n\n  { // One month\n\n    threshold: 86400000 * 10,\n    increments: {\n\n      1: {\n\n        increment: 1,\n        unit: 'y',\n        format: 'yyyy'\n      },\n\n      2: {\n\n        increment: 6, // One day on the first axis\n        unit: 'm',\n        format: 'mm/yyyy'\n      }\n    }\n  },\n\n  { // One month\n\n    threshold: 86400000 * 12,\n    increments: {\n\n      1: {\n\n        increment: 1,\n        unit: 'y',\n        format: 'yyyy'\n      },\n\n      2: {\n\n        increment: 1, // One day on the first axis\n        unit: 'y',\n        format: 'yyyy'\n      }\n    }\n  },\n\n];\n\n/*\n * Date Format 1.2.3\n * (c) 2007-2009 Steven Levithan <stevenlevithan.com>\n * MIT license\n *\n * Includes enhancements by Scott Trenda <scott.trenda.net>\n * and Kris Kowal <cixar.com/~kris.kowal/>\n *\n * Accepts a date, a mask, or a date and a mask.\n * Returns a formatted version of the given date.\n * The date defaults to the current date/time.\n * The mask defaults to dateFormat.masks.default.\n */\n\nvar dateFormat = ( function() {\n  var token = /d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\\1?|[WLloSZ]|\"[^\"]*\"|'[^']*'/g,\n    timezone = /\\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\\d{4})?)\\b/g,\n    timezoneClip = /[^-+\\dA-Z]/g,\n    pad = function( val, len ) {\n      val = String( val );\n      len = len || 2;\n      while ( val.length < len ) val = `0${ val}`;\n      return val;\n    },\n    getWeek = function( d, f ) {\n      var onejan = new Date( d[ `${f }FullYear` ](), 0, 1 );\n      return Math.ceil( ( ( ( d - onejan ) / 86400000 ) + onejan[ `${f }Day` ]() + 1 ) / 7 );\n    };\n\n  // Regexes and supporting functions are cached through closure\n  return function( date, mask, utc ) {\n    var dF = dateFormat;\n\n    // You can't provide utc if you skip other args (use the \"UTC:\" mask prefix)\n    if ( arguments.length == 1 && Object.prototype.toString.call( date ) == '[object String]' && !/\\d/.test( date ) ) {\n      mask = date;\n      date = undefined;\n    }\n\n    // Passing date through Date applies Date.parse, if necessary\n    date = date ? new Date( date ) : new Date();\n    if ( isNaN( date ) ) throw SyntaxError( `invalid date:${ date}` );\n\n    mask = String( dF.masks[ mask ] || mask || dF.masks.default );\n\n    // Allow setting the utc argument via the mask\n    if ( mask.slice( 0, 4 ) == 'UTC:' ) {\n      mask = mask.slice( 4 );\n      utc = true;\n    }\n\n    var _ = utc ? 'getUTC' : 'get',\n      d = date[ `${_ }Date` ](),\n      D = date[ `${_ }Day` ](),\n      m = date[ `${_ }Month` ](),\n      y = date[ `${_ }FullYear` ](),\n      H = date[ `${_ }Hours` ](),\n      M = date[ `${_ }Minutes` ](),\n      s = date[ `${_ }Seconds` ](),\n      L = date[ `${_ }Milliseconds` ](),\n      o = utc ? 0 : date.getTimezoneOffset(),\n      flags = {\n        d: d,\n        dd: pad( d ),\n        ddd: dF.i18n.dayNames[ D ],\n        dddd: dF.i18n.dayNames[ D + 7 ],\n        m: m + 1,\n        mm: pad( m + 1 ),\n        mmm: dF.i18n.monthNames[ m ],\n        mmmm: dF.i18n.monthNames[ m + 12 ],\n        yy: String( y ).slice( 2 ),\n        yyyy: y,\n        h: H % 12 || 12,\n        hh: pad( H % 12 || 12 ),\n        H: H,\n        HH: pad( H ),\n        M: M,\n        MM: pad( M ),\n        s: s,\n        ss: pad( s ),\n        l: pad( L, 3 ),\n        L: pad( L > 99 ? Math.round( L / 10 ) : L ),\n        t: H < 12 ? 'a' : 'p',\n        tt: H < 12 ? 'am' : 'pm',\n        T: H < 12 ? 'A' : 'P',\n        TT: H < 12 ? 'AM' : 'PM',\n        Z: utc ? 'UTC' : ( String( date ).match( timezone ) || [ '' ] ).pop().replace( timezoneClip, '' ),\n        o: ( o > 0 ? '-' : '+' ) + pad( Math.floor( Math.abs( o ) / 60 ) * 100 + Math.abs( o ) % 60, 4 ),\n        S: [ 'th', 'st', 'nd', 'rd' ][ d % 10 > 3 ? 0 : ( d % 100 - d % 10 != 10 ) * d % 10 ],\n        W: getWeek( date, _ ),\n      };\n\n    return mask.replace( token, function( $0 ) {\n      return $0 in flags ? flags[ $0 ] : $0.slice( 1, $0.length - 1 );\n    } );\n  };\n} )();\n\n// Some common format strings\ndateFormat.masks = {\n  'default': 'ddd mmm dd yyyy HH:MM:ss',\n  shortDate: 'm/d/yy',\n  mediumDate: 'mmm d, yyyy',\n  longDate: 'mmmm d, yyyy',\n  fullDate: 'dddd, mmmm d, yyyy',\n  shortTime: 'h:MM TT',\n  mediumTime: 'h:MM:ss TT',\n  longTime: 'h:MM:ss TT Z',\n  isoDate: 'yyyy-mm-dd',\n  isoTime: 'HH:MM:ss',\n  isoDateTime: \"yyyy-mm-dd'T'HH:MM:ss\",\n  isoUtcDateTime: \"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'\"\n};\n\n// Internationalization strings\ndateFormat.i18n = {\n  dayNames: [\n    'Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat',\n    'Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'\n  ],\n  monthNames: [\n    'Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec',\n    'January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'\n  ]\n};\n\n/* END DATE FORMAT */\n\nfunction getClosestIncrement( value, basis ) {\n  return Math.round( value / basis ) * basis;\n}\n\nfunction roundDate( date, format ) {\n\n  switch ( format.unit ) {\n\n    case 's': // Round at n hour\n\n      date.setSeconds( getClosestIncrement( date.getSeconds(), format.increment ) );\n      date.setMilliseconds( 0 );\n\n      break;\n\n    case 'i': // Round at n hour\n\n      date.setMinutes( getClosestIncrement( date.getMinutes(), format.increment ) );\n      date.setSeconds( 0 );\n      date.setMilliseconds( 0 );\n\n      break;\n\n    case 'h': // Round at n hour\n\n      date.setHours( getClosestIncrement( date.getHours(), format.increment ) );\n\n      date.setMinutes( 0 );\n      date.setSeconds( 0 );\n      date.setMilliseconds( 0 );\n\n      break;\n\n    case 'd':\n\n      date.setMinutes( 0 );\n      date.setSeconds( 0 );\n      date.setMilliseconds( 0 );\n      date.setHours( 0 );\n\n      date.setDate( getClosestIncrement( date.getDate(), format.increment ) );\n\n      break;\n\n    case 'm':\n\n      date.setMinutes( 0 );\n      date.setSeconds( 0 );\n      date.setMilliseconds( 0 );\n      date.setHours( 0 );\n      date.setDate( 1 );\n\n      date.setMonth( getClosestIncrement( date.getMonth(), format.increment ) );\n\n      break;\n\n    case 'y':\n\n      date.setMinutes( 0 );\n      date.setSeconds( 0 );\n      date.setMilliseconds( 0 );\n      date.setHours( 0 );\n      date.setDate( 1 );\n      date.setMonth( 0 );\n\n      //date.setYear( getClosest( date.getDate(), format.increment ) );\n\n      break;\n\n    default:\n      {\n        throw new Error( 'Date format not recognized' );\n      }\n  }\n\n  return date;\n}\n\nfunction incrementDate( date, format ) {\n\n  switch ( format.unit ) {\n\n    case 's':\n\n      date.setSeconds( date.getSeconds() + format.increment );\n      date.setMilliseconds( 0 );\n\n      break;\n\n    case 'i':\n\n      date.setMinutes( date.getMinutes() + format.increment );\n      date.setSeconds( 0 );\n      date.setMilliseconds( 0 );\n\n      break;\n\n    case 'h': // Round at n hour\n\n      date.setHours( date.getHours() + format.increment );\n      date.setMinutes( 0 );\n      date.setSeconds( 0 );\n      date.setMilliseconds( 0 );\n\n      break;\n\n    case 'd':\n\n      date.setDate( date.getDate() + format.increment );\n      date.setMinutes( 0 );\n      date.setSeconds( 0 );\n      date.setMilliseconds( 0 );\n      date.setHours( 0 );\n\n      break;\n\n    case 'm':\n\n      date.setMonth( date.getMonth() + format.increment );\n      date.setMinutes( 0 );\n      date.setSeconds( 0 );\n      date.setMilliseconds( 0 );\n      date.setHours( 0 );\n      date.setDate( 1 );\n\n      break;\n\n    case 'y':\n\n      date.setFullYear( date.getFullYear() + format.increment );\n\n      date.setMinutes( 0 );\n      date.setSeconds( 0 );\n      date.setMilliseconds( 0 );\n      date.setHours( 0 );\n      date.setDate( 1 );\n      date.setMonth( 0 );\n\n      break;\n\n    default:\n      {\n        throw new Error( 'Date format not recognized' );\n      }\n  }\n\n  return date;\n}\n\nfunction getGroup( axis, level, number ) {\n\n  if ( axis.groups[ level ][ number ] ) {\n    axis.groups[ level ][ number ].group.setAttribute( 'display', 'block' );\n    return axis.groups[ level ][ number ];\n  }\n\n  var g = {\n\n    group: document.createElementNS( axis.graph.ns, 'g' ),\n    text: document.createElementNS( axis.graph.ns, 'text' )\n  };\n\n  var line = document.createElementNS( axis.graph.ns, 'line' );\n\n  line.setAttribute( 'stroke', 'black' );\n  line.setAttribute( 'y1', 0 );\n  switch ( level ) {\n\n    case 2:\n\n      line.setAttribute( 'y2', 6 );\n      g.text.setAttribute( 'y', 15 );\n\n      g.line = line;\n\n      g.group.appendChild( g.line );\n      break;\n\n    default:\n    case 1:\n\n      line.setAttribute( 'y2', 20 );\n      g.text.setAttribute( 'y', 10 );\n\n      g.line1 = line;\n      g.line2 = line.cloneNode();\n\n      g.group.appendChild( g.line1 );\n      g.group.appendChild( g.line2 );\n\n      break;\n  }\n\n  g.text.setAttribute( 'text-anchor', 'middle' );\n  g.text.setAttribute( 'dominant-baseline', 'middle' );\n\n  g.group.appendChild( g.text );\n\n  axis.getWrapper( level ).appendChild( g.group );\n\n  return axis.groups[ level ][ number ] = g;\n}\n\nfunction hideGroups( axis, level, from ) {\n\n  for ( ; from < axis.groups[ level ].length; from++ ) {\n\n    hideGroup( axis.groups[ level ][ from ] );\n  }\n}\n\nfunction hideGroup( group ) {\n  group.group.setAttribute( 'display', 'none' );\n}\n\nfunction getDateText( date, format ) {\n\n  return dateFormat( date, format );\n}\n\nfunction renderGroup( level, group, text, minPx, maxPx, x1, x2 ) {\n\n  switch ( level ) {\n\n    case 2:\n\n      if ( x1 < minPx || x1 > maxPx ) {\n\n        hideGroup( group );\n        return;\n      }\n\n      group.line.setAttribute( 'x1', x1 );\n      group.line.setAttribute( 'x2', x1 );\n      group.text.setAttribute( 'x', x1 );\n      group.text.textContent = text;\n\n      break;\n\n    default:\n    case 1:\n\n      var x1B = Math.max( minPx, Math.min( maxPx, x1 ) ),\n        x2B = Math.max( minPx, Math.min( maxPx, x2 ) );\n\n      if ( isNaN( x2B ) || isNaN( x1B ) ) {\n        return;\n      }\n\n      group.line1.setAttribute( 'x1', x1B );\n      group.line2.setAttribute( 'x1', x2B );\n\n      group.line1.setAttribute( 'x2', x1B );\n      group.line2.setAttribute( 'x2', x2B );\n\n      group.text.setAttribute( 'x', ( x1B + x2B ) / 2 );\n\n      while ( text.length * 8 > x2B - x1B ) {\n\n        text = `${text.substr( 0, text.length - 2 ) }.`;\n\n        if ( text.length == 1 ) {\n          text = '';\n          break;\n        }\n      }\n\n      group.text.textContent = text;\n      break;\n  }\n}\n\nclass GraphTimeAxis extends Axis {\n\n  constructor() {\n\n    super( ...arguments );\n  }\n\n  init( graph, options ) {\n\n    super.init( graph, options );\n\n    this.wrapper = {\n      1: document.createElementNS( graph.ns, 'g' ),\n      2: document.createElementNS( graph.ns, 'g' )\n    };\n    this.groups = {\n      1: [],\n      2: []\n    };\n\n    var rect = document.createElementNS( graph.ns, 'rect' );\n    rect.setAttribute( 'fill', '#c0c0c0' );\n    rect.setAttribute( 'stroke', '#808080' );\n    rect.setAttribute( 'height', '20' );\n    rect.setAttribute( 'x', '0' );\n    rect.setAttribute( 'y', '0' );\n\n    this.rect = rect;\n\n    this.wrapper[ 1 ].appendChild( this.rect );\n\n    //    this.init( graph, options );\n\n    this.group.appendChild( this.wrapper[ 1 ] );\n    this.group.appendChild( this.wrapper[ 2 ] );\n\n    this.wrapper[ 1 ].setAttribute( 'transform', 'translate( 0, 25 )' );\n    this.wrapper[ 2 ].setAttribute( 'transform', 'translate( 0, 00 )' );\n  }\n\n  draw() { // Redrawing of the axis\n\n    //this.drawInit();\n\n    this.cacheCurrentMax();\n    this.cacheCurrentMin();\n\n    if ( this.currentAxisMin == undefined || this.currentAxisMax == undefined ) {\n      this.setMinMaxToFitSeries( true ); // We reset the min max as a function of the series\n\n    }\n\n    this.line.setAttribute( 'x1', this.getMinPx() );\n    this.line.setAttribute( 'x2', this.getMaxPx() );\n    this.line.setAttribute( 'y1', 0 );\n    this.line.setAttribute( 'y2', 0 );\n\n    var widthPx = this.maxPx - this.minPx;\n    var widthTime = this.getCurrentInterval();\n\n    var timePerPx = widthTime / widthPx;\n\n    var maxVal = this.getCurrentMax();\n    var minVal = this.getCurrentMin();\n\n    this.rect.setAttribute( 'width', widthPx );\n    this.rect.setAttribute( 'x', this.minPx );\n\n    if ( !maxVal || !minVal ) {\n      return 0;\n    }\n\n    var currentFormat;\n\n    for ( i = 0; i < axisFormat.length; i++ ) {\n\n      if ( axisFormat[ i ].threshold > timePerPx ) {\n        currentFormat = axisFormat[ i ];\n\n        break;\n      }\n\n    }\n\n    if ( !currentFormat ) {\n      currentFormat = axisFormat[ axisFormat.length - 1 ];\n    }\n\n    var xVal1,\n      xVal2,\n      level = 0,\n      dateFirst,\n      currentDate,\n      text,\n      group,\n      i;\n\n    for ( level = 1; level <= 2; level++ ) {\n\n      if ( !util.isNumeric( minVal ) ) {\n        hideGroups( this, level, 0 );\n        break;\n      }\n\n      dateFirst = new Date( minVal );\n\n      currentDate = roundDate( dateFirst, currentFormat.increments[ level ] );\n\n      i = 0;\n\n      do {\n        /** @ignore */\n        text = getDateText( currentDate, currentFormat.increments[ level ].format );\n        group = getGroup( this, level, i );\n\n        xVal1 = this.getPx( currentDate.getTime() );\n        currentDate = incrementDate( currentDate, currentFormat.increments[ level ] );\n        xVal2 = this.getPx( currentDate.getTime() );\n\n        renderGroup( level, group, text, this.getMinPx(), this.getMaxPx(), xVal1, xVal2 );\n\n        i++;\n        if ( i > 100 ) {\n          break;\n        }\n      } while ( currentDate.getTime() < maxVal );\n\n      hideGroups( this, level, i );\n    }\n\n  }\n\n  isX() {\n    return true;\n  }\n\n  getWrapper( level ) {\n    return this.wrapper[ level ];\n  }\n\n  setShift( shift ) {\n    this.shift = shift;\n    this.group.setAttribute( 'transform', `translate(0 ${ this.top ? this.shift : ( this.graph.getDrawingHeight() - this.shift ) })` );\n  }\n\n  getAxisPosition() {\n    return 60;\n  }\n\n  setMinMaxFlipped() {\n\n    var interval = this.maxPx - this.minPx;\n    var maxPx = interval * this.options.span[ 1 ] + this.minPx;\n    var minPx = interval * this.options.span[ 0 ] + this.minPx;\n\n    this.minPxFlipped = this.isFlipped() ? maxPx : minPx;\n    this.maxPxFlipped = this.isFlipped() ? minPx : maxPx;\n  }\n\n}\n\nexport default GraphTimeAxis;","import * as util from '../graph.util.js';\n\nvar ErrorBarMixin = {\n  /*\n    doErrorDraw: function( orientation, error, originVal, originPx, xpx, ypx ) {\n\n      if ( !( error instanceof Array ) ) {\n        error = [ error ];\n      }\n\n      var functionName = orientation == 'y' ? 'getY' : 'getX';\n      var bars = orientation == 'y' ? [ 'top', 'bottom' ] : [ 'left', 'right' ];\n      var j;\n\n      if ( isNaN( xpx ) || isNaN( ypx ) ) {\n        return;\n      }\n\n      for ( var i = 0, l = error.length; i < l; i++ ) {\n\n        if ( error[ i ] instanceof Array ) { // TOP\n\n          j = bars[ 0 ];\n          this.errorstyles[ i ].paths[ j ] += \" M \" + xpx + \" \" + ypx;\n          this.errorstyles[ i ].paths[ j ] += this.makeError( orientation, i, this[ functionName ]( originVal + error[ i ][ 0 ] ), originPx, j );\n\n          j = bars[ 1 ];\n          this.errorstyles[ i ].paths[ j ] += \" M \" + xpx + \" \" + ypx;\n          this.errorstyles[ i ].paths[ j ] += this.makeError( orientation, i, this[ functionName ]( originVal - error[ i ][ 1 ] ), originPx, j );\n\n        } else {\n\n          j = bars[ 0 ];\n\n          this.errorstyles[ i ].paths[ j ] += \" M \" + xpx + \" \" + ypx;\n          this.errorstyles[ i ].paths[ j ] += this.makeError( orientation, i, this[ functionName ]( originVal + error[ i ] ), originPx, j );\n          j = bars[ 1 ];\n          this.errorstyles[ i ].paths[ j ] += \" M \" + xpx + \" \" + ypx;\n          this.errorstyles[ i ].paths[ j ] += this.makeError( orientation, i, this[ functionName ]( originVal - error[ i ] ), originPx, j );\n        }\n      }\n    },\n  */\n\n  /*\n    makeError: function( orientation, type, coord, origin, quadOrientation ) {\n\n      var method;\n      switch ( this.errorstyles[ level ].type ) {\n        case 'bar':\n          method = \"makeBar\";\n          break;\n\n        case 'box':\n          method = \"makeBox\";\n          break;\n      }\n\n      return this[ method + orientation.toUpperCase() ]( coord, origin, this.errorstyles[ level ][ quadOrientation ] );\n\n    },*/\n\n  makeBarY: function( coordY, origin, style ) {\n    if ( !coordY || style === undefined ) {\n      return;\n    }\n    var width = !util.isNumeric( style.width ) ? 10 : style.width;\n    return ` V ${ coordY } m -${ width / 2 } 0 h ${ width } m -${ width / 2 } 0 V ${ origin } `;\n  },\n\n  makeBoxY: function( coordY, origin, style ) {\n    if ( !coordY || style === undefined ) {\n      return;\n    }\n    return ` m 5 0 V ${ coordY } h -10 V ${ origin } m 5 0 `;\n  },\n\n  makeBarX: function( coordX, origin, style ) {\n    if ( !coordX || style === undefined ) {\n      return;\n    }\n    var height = !util.isNumeric( style.width ) ? 10 : style.width;\n    return ` H ${ coordX } m 0 -${ height / 2 } v ${ height } m 0 -${ height / 2 } H ${ origin } `;\n  },\n\n  makeBoxX: function( coordX, origin, style ) {\n    if ( !coordX || style === undefined ) {\n      return;\n    }\n    return ` v 5 H ${ coordX } v -10 H ${ origin } v 5 `;\n  },\n  /*\n    check: function( index, valY, valX ) {\n\n      var dx, dy;\n\n      if ( ( this.getType() == Graph.SERIE_LINE || this.getType() == Graph.SERIE_SCATTER ) ) {\n\n        if ( !( dx = this.data[ index * 2 ] ) || !( dy = this.data[ index * 2 + 1 ] ) ) { //\n          return;\n        }\n      }\n\n      if ( dx === undefined ) {\n        return;\n      }\n\n      for ( var i = 0, l = valY.length; i < l; i++ ) {\n\n        if ( Array.isArray( valY[ i ] ) ) {\n\n          if ( !isNaN( valY[ i ][ 0 ] ) ) {\n            this._checkY( dy + valY[ i ][ 0 ] );\n          }\n\n          if ( !isNaN( valY[ i ][ 1 ] ) ) {\n            this._checkY( dy - valY[ i ][ 1 ] );\n          }\n\n        } else {\n\n          if ( !isNaN( valY[ i ] ) ) {\n            this._checkY( dy + valY[ i ] );\n            this._checkY( dy - valY[ i ] );\n          }\n        }\n      }\n\n      for ( var i = 0, l = valX.length; i < l; i++ ) {\n\n        if ( Array.isArray( valX[ i ] ) ) {\n\n          if ( !isNaN( valX[ i ][ 0 ] ) ) {\n            this._checkX( dx - valX[ i ][ 0 ] );\n          }\n\n          if ( !isNaN( valX[ i ][ 1 ] ) ) {\n            this._checkX( dx + valX[ i ][ 1 ] );\n          }\n\n        } else {\n\n          if ( !isNaN( valY[ i ] ) ) {\n            this._checkX( dx - valX[ i ] );\n            this._checkX( dx + valX[ i ] );\n          }\n        }\n      }\n\n    },\n  */\n\n  /**\n   *\n   *  @example serie.setErrorStyle( [ { type: 'bar', x: {} }, { type: 'box', top: { strokeColor: 'green', fillColor: 'olive' }, bottom: { strokeColor: 'red', fillColor: \"#800000\" }  } ] );\n   */\n  setErrorBarStyle: function( errorstyle ) {\n\n    this.errorbarStyle = this._setErrorStyle( errorstyle );\n    return this;\n  },\n\n  setErrorBoxStyle: function( errorstyle ) {\n\n    this.errorboxStyle = this._setErrorStyle( errorstyle );\n    return this;\n  },\n\n  _setErrorStyle( errorstyles = {} ) {\n\n    var styles = [];\n    var pairs = [\n      [ 'y', 'top', 'bottom' ],\n      [ 'x', 'left', 'right' ]\n    ];\n\n    var makePath = ( style ) => {\n\n      style.dom = document.createElementNS( this.graph.ns, 'path' );\n      style.dom.setAttribute( 'fill', style.fillColor || 'none' );\n      style.dom.setAttribute( 'stroke', style.strokeColor || 'black' );\n      style.dom.setAttribute( 'stroke-opacity', style.strokeOpacity || 1 );\n      style.dom.setAttribute( 'fill-opacity', style.fillOpacity || 1 );\n      style.dom.setAttribute( 'stroke-width', style.strokeWidth || 1 );\n\n      this.groupMain.appendChild( style.dom );\n    };\n    // i is bar or box\n\n    var styles = {};\n\n    if ( typeof errorstyles == 'string' ) {\n      errorstyles = {};\n    }\n\n    for ( var j = 0, l = pairs.length; j < l; j++ ) {\n\n      if ( errorstyles.all ) {\n\n        errorstyles[ pairs[ j ][ 1 ] ] = util.extend( true, {}, errorstyles.all );\n        errorstyles[ pairs[ j ][ 2 ] ] = util.extend( true, {}, errorstyles.all );\n\n      }\n\n      if ( errorstyles[ pairs[ j ][ 0 ] ] ) { //.x, .y\n\n        errorstyles[ pairs[ j ][ 1 ] ] = util.extend( true, {}, errorstyles[ pairs[ j ][ 0 ] ] );\n        errorstyles[ pairs[ j ][ 2 ] ] = util.extend( true, {}, errorstyles[ pairs[ j ][ 0 ] ] );\n\n      }\n\n      for ( var k = 1; k <= 2; k++ ) {\n\n        if ( errorstyles[ pairs[ j ][ k ] ] ) {\n\n          styles[ pairs[ j ][ k ] ] = errorstyles[ pairs[ j ][ k ] ];\n          makePath( styles[ pairs[ j ][ k ] ] );\n        }\n      }\n    }\n\n    return styles;\n  },\n\n  errorDrawInit: function() {\n    var error;\n    //  var pathError = \"M 0 0 \";\n\n    if ( this.errorboxStyle ) {\n\n      this.errorboxStyle.paths = {\n        top: '',\n        bottom: '',\n        left: '',\n        right: ''\n      };\n    }\n\n    if ( this.errorbarStyle ) {\n\n      this.errorbarStyle.paths = {\n        top: '',\n        bottom: '',\n        left: '',\n        right: ''\n      };\n    }\n  },\n\n  errorAddPoint: function( index, dataX, dataY, xpx, ypx ) {\n\n    /* eslint-disable no-cond-assign */\n    let error;\n    if ( error = this.waveform.getErrorBarXBelow( index ) ) {\n      this.errorbarStyle.paths.left += ` M ${ xpx } ${ ypx}`;\n      this.errorbarStyle.paths.left += this.makeBarX( this.getX( dataX - error ), xpx, this.errorbarStyle.left );\n    }\n\n    if ( error = this.waveform.getErrorBarXAbove( index ) ) {\n      this.errorbarStyle.paths.right += ` M ${ xpx } ${ ypx}`;\n      this.errorbarStyle.paths.right += this.makeBarX( this.getX( dataX + error ), xpx, this.errorbarStyle.right );\n    }\n\n    if ( error = this.waveform.getErrorBarYBelow( index ) ) {\n      this.errorbarStyle.paths.bottom += ` M ${ xpx } ${ ypx}`;\n      this.errorbarStyle.paths.bottom += this.makeBarY( this.getY( dataY - error ), ypx, this.errorbarStyle.bottom );\n    }\n\n    if ( error = this.waveform.getErrorBarYAbove( index ) ) {\n      this.errorbarStyle.paths.top += ` M ${ xpx } ${ ypx}`;\n      this.errorbarStyle.paths.top += this.makeBarY( this.getY( dataY + error ), ypx, this.errorbarStyle.top );\n    }\n\n    if ( error = this.waveform.getErrorBoxXBelow( index ) ) {\n      this.errorboxStyle.paths.left += ` M ${ xpx } ${ ypx}`;\n      this.errorboxStyle.paths.left += this.makeBoxX( this.getX( dataX - error ), xpx, this.errorboxStyle.left );\n    }\n\n    if ( error = this.waveform.getErrorBoxXAbove( index ) ) {\n      this.errorboxStyle.paths.right += ` M ${ xpx } ${ ypx}`;\n\n      this.errorboxStyle.paths.right += this.makeBoxX( this.getX( dataX + error ), xpx, this.errorboxStyle.right );\n    }\n\n    if ( error = this.waveform.getErrorBoxYBelow( index ) ) {\n      this.errorboxStyle.paths.bottom += ` M ${ xpx } ${ ypx}`;\n      this.errorboxStyle.paths.bottom += this.makeBoxY( this.getY( dataY - error ), ypx, this.errorboxStyle.bottom );\n    }\n\n    if ( error = this.waveform.getErrorBoxYAbove( index ) ) {\n      this.errorboxStyle.paths.top += ` M ${ xpx } ${ ypx}`;\n      this.errorboxStyle.paths.top += this.makeBoxY( this.getY( dataY + error ), ypx, this.errorboxStyle.top );\n    }\n    /* eslint-enable */\n\n  },\n\n  errorAddPointBarChart: function( j, posY, xpx, ypx ) {\n    var error;\n    if ( this.error && ( error = this.error[ j ] ) ) {\n      this.doErrorDraw( 'y', error, posY, ypx, xpx, ypx );\n    }\n  },\n\n  errorDraw: function() {\n\n    if ( this.errorbarStyle ) {\n\n      for ( var j in this.errorbarStyle.paths ) {\n\n        if ( this.errorbarStyle[ j ] && this.errorbarStyle[ j ].dom ) {\n          this.errorbarStyle[ j ].dom.setAttribute( 'd', this.errorbarStyle.paths[ j ] );\n        }\n      }\n    }\n\n    if ( this.errorboxStyle ) {\n\n      for ( var j in this.errorboxStyle.paths ) {\n\n        if ( this.errorboxStyle[ j ] && this.errorboxStyle[ j ].dom ) {\n          this.errorboxStyle[ j ].dom.setAttribute( 'd', this.errorboxStyle.paths[ j ] );\n        }\n      }\n    }\n  }\n};\n\nexport default ErrorBarMixin;","import EventEmitter from '../dependencies/eventEmitter/EventEmitter.js';\nimport * as util from '../graph.util.js';\nimport Waveform from '../util/waveform.js';\n\n/**\n * Serie class to be extended\n * @static\n */\nclass Serie extends EventEmitter {\n\n  static\n  default () {\n\n    return {\n      redrawShapesAfterDraw: false\n    };\n  }\n\n  constructor( graph, name, options ) {\n\n    super( ...arguments );\n    this.graph = graph;\n    this.name = name;\n    this.options = Object.assign( {}, Serie.default(), this.constructor.default(), options );\n\n    //if( new.target.default ) {\n    //console.log( new.target.default() );\n    //}\n\n  }\n\n  postInit() {}\n\n  draw() {}\n\n  beforeDraw() {}\n\n  afterDraw() {\n\n    if ( this.options.redrawShapesAfterDraw ) {\n      this.graph.getShapesOfSerie( this ).forEach( ( shape ) => {\n        shape.redraw();\n      } );\n    }\n\n    this.emit( 'draw' );\n  }\n\n  /**\n   * Sets data to the serie\n   * @memberof Serie\n   * @param {(Object|Array|Array[])} data - The data of the serie\n   * @param {Boolean} [ oneDimensional=false ] - In some cases you may need to force the 1D type. This is required when one uses an array or array to define the data (see examples)\n   * @param{String} [ type=float ] - Specify the type of the data. Use <code>int</code> to save memory (half the amount of bytes allocated to the data).\n   * @example serie.setData( [ [ x1, y1 ], [ x2, y2 ], ... ] );\n   * @example serie.setData( [ x1, y1, x2, y2, ... ] ); // Faster\n   * @example serie.setData( [ [ x1, y1, x2, y2, ..., xn, yn ] , [ xm, ym, x(m + 1), y(m + 1), ...] ], true ) // 1D array with a gap in the middle\n   * @example serie.setData( { x: x0, dx: spacing, y: [ y1, y2, y3, y4 ] } ); // Data with equal x separation. Fastest way\n   */\n  setData( data, oneDimensional, type ) {\n\n    if ( data instanceof Waveform ) {\n      return this.setWaveform( data );\n    }\n\n    throw 'Setting data other than waveforms in not supported by default. You must implemented this method in the inherited class.';\n  }\n\n  _addData( type, howmany ) {\n    return [];\n  }\n\n  /**\n   * Removes all the data from the serie, without redrawing\n   * @returns {Serie} The current serie\n   */\n  clearData() {\n    this.setData( new Waveform() );\n    return this;\n  }\n\n  /**\n   * Returns the data in its current form\n   * @returns {Array.<(Float64Array|Int32Array)>} An array containing the data chunks. Has only one member if the data has no gaps\n   * @memberof Serie\n   */\n  getData() {\n    return this.data;\n  }\n\n  /**\n   * Sets the options of the serie (no extension of default options)\n   * @param {Object} options - The options of the serie\n   * @memberof Serie\n   */\n  setOptions( options ) {\n    this.options = options || {};\n  }\n\n  /**\n   * Sets the options of the serie (no extension of default options)\n   * @param {String} name - The option name\n   * @param value - The option value\n   * @memberof Serie\n   * @example serie.setOption('selectableOnClick', true );\n   */\n  setOption( name, value ) {\n    this.options[ name ] = value;\n  }\n\n  /**\n   * Removes the serie from the graph. The method doesn't perform any axis autoscaling or repaint of the graph. This should be done manually.\n   * @return {Serie} The current serie instance\n   * @memberof Serie\n   */\n  kill( noLegendUpdate ) {\n\n    this.graph.removeSerieFromDom( this );\n    this.graph._removeSerie( this );\n\n    if ( this.graph.legend && !noLegendUpdate ) {\n\n      this.graph.legend.update();\n    }\n\n    this.graph = undefined;\n    return this;\n  }\n\n  /**\n   * Hides the serie\n   * @memberof Serie\n   * @param {Boolean} [ hideShapes = false ] - <code>true</code> to hide the shapes associated to the serie\n   * @returns {Serie} The current serie\n   */\n  hide( hideShapes, mute = false ) {\n\n    this.hidden = true;\n    this.groupMain.setAttribute( 'display', 'none' );\n\n    this.getSymbolForLegend().setAttribute( 'opacity', 0.5 );\n    this.getTextForLegend().setAttribute( 'opacity', 0.5 );\n\n    this.hideImpl();\n\n    if ( hideShapes ) {\n      var shapes = this.graph.getShapesOfSerie( this );\n      for ( var i = 0, l = shapes.length; i < l; i++ ) {\n        shapes[ i ].hide();\n      }\n    }\n\n    if ( !mute ) {\n      this.emit( 'hide' );\n    }\n\n    if ( this.getXAxis().doesHideWhenNoSeriesShown() || this.getYAxis().doesHideWhenNoSeriesShown() ) {\n      this.graph.draw( true );\n    }\n\n    if ( this.graph.hasPlugin( 'peakPicking' ) && this.graph.getPlugin( 'peakPicking' ).getSerie() == this ) {\n      this.graph.getPlugin( 'peakPicking' ).hidePeakPicking();\n    }\n\n    return this;\n  }\n\n  /**\n   * Shows the serie\n   * @memberof Serie\n   * @param {Boolean} [showShapes=false] - <code>true</code> to show the shapes associated to the serie\n   * @returns {Serie} The current serie\n   */\n  show( showShapes, mute = false ) {\n\n    this.hidden = false;\n    this.groupMain.setAttribute( 'display', 'block' );\n\n    this.getSymbolForLegend().setAttribute( 'opacity', 1 );\n    this.getTextForLegend().setAttribute( 'opacity', 1 );\n\n    this.showImpl();\n\n    this.draw( true );\n\n    if ( showShapes ) {\n      var shapes = this.graph.getShapesOfSerie( this );\n      for ( var i = 0, l = shapes.length; i < l; i++ ) {\n        shapes[ i ].show();\n      }\n    }\n\n    if ( !mute ) {\n      this.emit( 'show' );\n    }\n\n    if ( this.getXAxis().doesHideWhenNoSeriesShown() || this.getYAxis().doesHideWhenNoSeriesShown() ) {\n      this.graph.draw( true );\n    }\n\n    if ( this.graph.hasPlugin( 'peakPicking' ) && this.graph.getPlugin( 'peakPicking' ).getSerie() == this ) {\n      this.graph.getPlugin( 'peakPicking' ).showPeakPicking();\n    }\n\n    return this;\n  }\n\n  hideImpl() {}\n  showImpl() {}\n\n  /**\n   * Toggles the display of the serie (effectively, calls <code>.show()</code> and <code>.hide()</code> alternatively on each call)\n   * @memberof Serie\n   * @param {Boolean} [hideShapes=false] - <code>true</code> to hide the shapes associated to the serie\n   * @returns {Serie} The current serie\n   */\n  toggleDisplay() {\n\n    if ( !this.isShown() ) {\n      this.show();\n    } else {\n      this.hide();\n    }\n\n    return this;\n  }\n\n  /**\n   * Determines if the serie is currently visible\n   * @memberof Serie\n   * @returns {Boolean} The current visibility status of the serie\n   */\n  isShown() {\n    return !this.hidden;\n  }\n\n  /**\n   * Checks that axes assigned to the serie have been defined and have proper values\n   * @memberof Serie\n   */\n  axisCheck() {\n\n    if ( !this.getXAxis() || !this.getYAxis() ) {\n      throw 'No axis exist for this serie. Check that they were properly assigned';\n    }\n\n    if (\n      isNaN( this.getXAxis().getCurrentMin() ) ||\n      isNaN( this.getXAxis().getCurrentMax() ) ||\n      isNaN( this.getYAxis().getCurrentMin() ) ||\n      isNaN( this.getYAxis().getCurrentMax() )\n    ) {\n      throw 'Axis min and max values are not defined. Try autoscaling';\n    }\n  }\n  /**\n   * Returns the x position of a certain value in pixels position, based on the serie's axis\n   * @memberof Serie\n   * @param {Number} val - Value to convert to pixels position\n   * @returns {Number} The x position in px corresponding to the x value\n   */\n  getX( val ) {\n    return ( val = this.getXAxis().getPx( val ) ) - val % 0.2;\n  }\n\n  /**\n   * Returns the y position of a certain value in pixels position, based on the serie's axis\n   * @memberof Serie\n   * @param {Number} val - Value to convert to pixels position\n   * @returns {Number} The y position in px corresponding to the y value\n   */\n  getY( val ) {\n    return ( val = this.getYAxis().getPx( val ) ) - val % 0.2;\n  }\n\n  /**\n   * Returns the selection state of the serie. Generic for most serie types\n   * @memberof Serie\n   * @returns {Boolean} <code>true</code> if the serie is selected, <code>false</code> otherwise\n   */\n  isSelected() {\n    return this.selected || ( this.selectionType !== 'unselected' );\n  }\n\n  _checkX( val ) {\n    this.minX = Math.min( this.minX, val );\n    this.maxX = Math.max( this.maxX, val );\n  }\n\n  _checkY( val ) {\n    this.minY = Math.min( this.minY, val );\n    this.maxY = Math.max( this.maxY, val );\n  }\n\n  /**\n   * Getter for the serie name\n   * @memberof Serie\n   * @returns {String} The serie name\n   */\n  getName() {\n    return this.name;\n  }\n\n  /* AXIS */\n\n  /**\n   * Assigns axes automatically, based on {@link Graph#getXAxis} and {@link Graph#getYAxis}.\n   * @memberof Serie\n   * @returns {Serie} The current serie\n   */\n  autoAxis() {\n\n    if ( this.isFlipped() ) {\n\n      this.setXAxis( this.graph.getYAxis() );\n      this.setYAxis( this.graph.getXAxis() );\n\n    } else {\n\n      this.setXAxis( this.graph.getXAxis() );\n      this.setYAxis( this.graph.getYAxis() );\n    }\n\n    // After axes have been assigned, the graph axes should update their min/max\n    this.graph.updateDataMinMaxAxes();\n    return this;\n  }\n\n  autoAxes() {\n    return this.autoAxis( ...arguments );\n  }\n\n  /**\n   * Assigns an x axis to the serie\n   * @memberof Serie\n   * @param {Axis|Number} axis - The axis to use as an x axis. If an integer, {@link Graph#getXAxis} or {@link Graph#getYAxis} will be used\n   * @returns {Serie} The current serie\n   * @example serie.setXAxis( graph.getTopAxis( 1 ) ); // Assigns the second top axis to the serie\n   */\n  setXAxis( axis ) {\n\n    if ( typeof axis == 'number' ) {\n      this.xaxis = this.isFlipped() ? this.graph.getYAxis( axis ) : this.graph.getXAxis( axis );\n    } else {\n      this.xaxis = axis;\n    }\n\n    this.graph.updateDataMinMaxAxes();\n\n    return this;\n  }\n\n  /**\n   * Assigns an y axis to the serie\n   * @memberof Serie\n   * @param {Axis|Number} axis - The axis to use as an y axis. If an integer, {@link Graph#getXAxis} or {@link Graph#getYAxis} will be used\n   * @returns {Serie} The current serie\n   * @example serie.setYAxis( graph.getLeftAxis( 4 ) ); // Assigns the 5th left axis to the serie\n   */\n  setYAxis( axis ) {\n    if ( typeof axis == 'number' ) {\n      this.xaxis = this.isFlipped() ? this.graph.getXAxis( axis ) : this.graph.getYAxis( axis );\n    } else {\n      this.yaxis = axis;\n    }\n\n    this.graph.updateDataMinMaxAxes();\n\n    return this;\n  }\n\n  /**\n   * Assigns two axes to the serie\n   * @param {GraphAxis} axis1 - First axis to assign to the serie (x or y)\n   * @param {GraphAxis} axis2 - Second axis to assign to the serie (y or x)\n   * @returns {Serie} The current serie\n   * @memberof Serie\n   */\n  setAxes() {\n\n    for ( var i = 0; i < 2; i++ ) {\n\n      if ( arguments[ i ] ) {\n        this[ ( arguments[ i ].isX() ? 'setXAxis' : 'setYAxis' ) ]( arguments[ i ] );\n      }\n    }\n\n    this.graph.updateDataMinMaxAxes();\n\n    return this;\n  }\n\n  /**\n   * @returns {GraphAxis} The x axis assigned to the serie\n   * @memberof Serie\n   */\n  getXAxis() {\n    return this.xaxis;\n  }\n\n  /**\n   * @returns {GraphAxis} The y axis assigned to the serie\n   * @memberof Serie\n   */\n  getYAxis() {\n    return this.yaxis;\n  }\n\n  /* */\n\n  /* DATA MIN MAX */\n\n  /**\n   * @returns {Number} Lowest x value of the serie's data\n   * @memberof Serie\n   */\n  getMinX() {\n    return this.minX;\n  }\n\n  /**\n   * @returns {Number} Highest x value of the serie's data\n   * @memberof Serie\n   */\n  getMaxX() {\n    return this.maxX;\n  }\n\n  /**\n   * @returns {Number} Lowest y value of the serie's data\n   * @memberof Serie\n   */\n  getMinY() {\n    return this.minY;\n  }\n\n  /**\n   * @returns {Number} Highest y value of the serie's data\n   * @memberof Serie\n   */\n  getMaxY() {\n    return this.maxY;\n  }\n\n  getWaveform() {\n    return this.waveform;\n  }\n\n  getWaveforms() {\n    return [ this.waveform ];\n  }\n\n  setWaveform( waveform ) {\n\n    if ( !( waveform instanceof Waveform ) ) {\n      console.trace();\n      console.error( waveform );\n      throw new Error( 'Cannot assign waveform to serie. Waveform is not of the proper Waveform instance' );\n    }\n\n    this.waveform = waveform;\n\n    this.minX = this.waveform.getXMin();\n    this.maxX = this.waveform.getXMax();\n    this.minY = this.waveform.getMin();\n    this.maxY = this.waveform.getMax();\n\n    this.graph.updateDataMinMaxAxes();\n    this.dataHasChanged();\n\n    return this;\n  }\n\n  /**\n   * Computes and returns a line SVG element with the same line style as the serie, or width 20px\n   * @returns {SVGElement}\n   * @memberof Serie\n   */\n  getSymbolForLegend() {\n\n    if ( !this.lineForLegend ) {\n\n      var line = document.createElementNS( this.graph.ns, 'line' );\n      this.applyLineStyle( line );\n\n      line.setAttribute( 'x1', 5 );\n      line.setAttribute( 'x2', 25 );\n      line.setAttribute( 'y1', 0 );\n      line.setAttribute( 'y2', 0 );\n\n      line.setAttribute( 'cursor', 'pointer' );\n\n      this.lineForLegend = line;\n    }\n\n    return this.lineForLegend;\n\n  }\n\n  /**\n   * Explicitely applies the line style to the SVG element returned by {@link Serie#getSymbolForLegend}\n   * @see Serie#getSymbolForLegend\n   * @returns {SVGElement}\n   * @memberof Serie\n   */\n  setLegendSymbolStyle() {\n    this.applyLineStyle( this.getSymbolForLegend() );\n  }\n\n  /**\n   * @alias Serie#setLegendSymbolStyle\n   * @memberof Serie\n   */\n  updateStyle() {\n    this.setLegendSymbolStyle();\n    this.graph.updateLegend();\n  }\n\n  /**\n   * Computes and returns a text SVG element with the label of the serie as a text, translated by 35px\n   * @returns {SVGElement}\n   * @memberof Serie\n   * @see Serie#getLabel\n   */\n  getTextForLegend() {\n\n    if ( !this.textForLegend ) {\n\n      var text = document.createElementNS( this.graph.ns, 'text' );\n      text.setAttribute( 'cursor', 'pointer' );\n      text.textContent = this.getLabel();\n\n      this.textForLegend = text;\n    }\n\n    return this.textForLegend;\n  }\n\n  /**\n   * @returns {Number} The current index of the serie\n   * @memberof Serie\n   */\n  getIndex() {\n    return this.graph.series.indexOf( this );\n  }\n\n  /**\n   * @returns {String} The label or, alternatively - the name of the serie\n   * @memberof Serie\n   */\n  getLabel() {\n    return this.options.label || this.name;\n  }\n\n  /**\n   * Sets the label of the serie. Note that this does not automatically updates the legend\n   * @param {String} label - The new label of the serie\n   * @returns {Serie} The current serie\n   * @memberof Serie\n   */\n  setLabel( label ) {\n    this.options.label = label;\n\n    if ( this.textForLegend ) {\n      this.textForLegend.textContent = label;\n    }\n\n    this.graph.requireLegendUpdate();\n    return this;\n  }\n\n  /* FLIP */\n\n  /**\n   * Assigns the flipping value of the serie. A flipped serie will have inverted axes. However this method does not automatically re-assigns the axes of the serie. Call {@link Serie#autoAxis} to re-assign the axes automatically, or any other axis setting method.\n   * @param {Boolean} [flipped=false] - <code>true</code> to flip the serie\n   * @returns {Serie} The current serie\n   * @memberof Serie\n   */\n  setFlip( flipped ) {\n    this.options.flip = flipped;\n    return this;\n  }\n\n  /**\n   * @returns {Boolean} <code>true</code> if the serie is flipped, <code>false</code> otherwise\n   * @memberof Serie\n   */\n  getFlip() {\n    return this.options.flip;\n  }\n\n  /**\n   * @alias Serie#getFlip\n   * @memberof Serie\n   */\n  isFlipped() {\n    return this.options.flip;\n  }\n\n  /**\n   * Sets the layer onto which the serie should be displayed. This method does not trigger a graph redraw.\n   * @memberof Serie\n   * @param {Number} layerIndex=1 - The index of the layer into which the serie will be drawn\n   * @returns {Serie} The current serie\n   */\n  setLayer( layerIndex ) {\n    let newLayer = parseInt( layerIndex ) || 1;\n\n    if ( newLayer !== this.options.layer ) {\n      this.options.layer = newLayer;\n      this.graph.appendSerieToDom( this );\n    }\n\n    return this;\n  }\n\n  /**\n   * Sets the layer onto which the serie should be displayed. This method does not trigger a graph redraw.\n   * @memberof Serie\n   * @returns {Nunber} The index of the layer into which the serie will be drawn\n   */\n  getLayer() {\n    return this.options.layer || 1;\n  }\n\n  setStyle( style, selectionType = 'unselected' ) {\n    this.styles[ selectionType ] = style;\n    this.styleHasChanged( selectionType );\n\n  }\n\n  /**\n   * Notifies jsGraph that the style of the serie has changed and needs to be redrawn on the next repaint\n   * @param {String} selectionType - The selection for which the style may have changed\n   * @returns {Serie} The current serie\n   * @memberof Serie\n   */\n  styleHasChanged( selectionType = 'unselected' ) {\n    this._changedStyles = this._changedStyles || {};\n\n    if ( selectionType === false ) {\n      for ( var i in this._changedStyles ) {\n        this._changedStyles[ i ] = false;\n      }\n\n    } else {\n      this._changedStyles[ selectionType || 'unselected' ] = true;\n    }\n\n    this.graph.requireLegendUpdate();\n    return this;\n  }\n\n  /**\n   * Checks if the style has changed for a selection type\n   * @param {String} selectionType - The selection for which the style may have changed\n   * @returns {Boolean} <code>true</code> if the style has changed\n   * @private\n   * @memberof Serie\n   */\n  hasStyleChanged( selectionType ) {\n    this._changedStyles = this._changedStyles || {};\n    return this._changedStyles[ selectionType || 'unselected' ];\n  }\n\n  /**\n   * Notifies jsGraph that the data of the serie has changed\n   * @returns {Serie} The current serie\n   * @memberof Serie\n   */\n  dataHasChanged( arg ) {\n    this._dataHasChanged = arg === undefined || arg;\n    return this;\n  }\n\n  /**\n   * Checks if the data has changed\n   * @returns {Boolean} <code>true</code> if the data has changed\n   * @private\n   * @memberof Serie\n   */\n  hasDataChanged() {\n    return this._dataHasChanged;\n  }\n\n  /**\n   * Set a key/value arbitrary information to the serie. It is particularly useful if you have this serie has a reference through an event for instance, and you want to retrieve data associated to it\n   * @param {String} prop - The property\n   * @param value - The value\n   * @returns {Serie} The current serie\n   * @see Serie#getInfo\n   * @memberof Serie\n   */\n  setInfo( prop, value ) {\n    this.infos = this.infos || {};\n    this.infos[ prop ] = value;\n    return this;\n  }\n\n  /**\n   * Retrives an information value from its key\n   * @param {String} prop - The property\n   * @returns The value associated to the prop parameter\n   * @see Serie#setInfo\n   * @memberof Serie\n   */\n  getInfo( prop, value ) {\n    return ( this.infos || {} )[ prop ];\n  }\n\n  /**\n   * @deprecated\n   * @memberof Serie\n   */\n  setAdditionalData( data ) {\n    this.additionalData = data;\n    return this;\n  }\n\n  /**\n   * @deprecated\n   * @memberof Serie\n   */\n  getAdditionalData() {\n    return this.additionalData;\n  }\n\n  /**\n   * Flags the serie as selected\n   * @returns {Serie} The current serie\n   * @memberof Serie\n   */\n  select() {\n    this.selected = true;\n    return this;\n  }\n\n  /**\n   * Flags the serie as unselected\n   * @returns {Serie} The current serie\n   * @memberof Serie\n   */\n  unselect() {\n    this.selected = false;\n    return this;\n  }\n\n  /**\n   * Allows mouse tracking of the serie\n   * @memberof Serie\n   * @returns {Serie} The current serie\n   * @param {Function} hoverCallback - Function to be called when the mouse enters the serie area\n   * @param {Function} outCallback - Function to be called when the mouse exits the serie area\n   * @private\n   */\n  enableTracking( hoverCallback, outCallback ) {\n    this._tracker = true;\n    this._trackingCallback = hoverCallback;\n    this._trackingOutCallback = outCallback;\n\n    return this;\n  }\n\n  /**\n   * Disables mouse tracking of the serie\n   * @memberof Serie\n   * @returns {Serie} The current serie\n   * @private\n   */\n  disableTracking() {\n\n    if ( this._trackerDom ) {\n      this._trackerDom.remove();\n      this._trackerDom = null;\n    }\n\n    this._tracker = false;\n    this._trackingCallback = null;\n    return this;\n  }\n\n  /**\n   *  Allows mouse tracking of the serie\n   *  @memberof Serie\n   *  @param {Object} options - The tracking line options\n   *  @returns {Serie} The current serie\n   */\n  allowTrackingLine( options ) {\n\n    options = options || {};\n    this.graph.addSerieToTrackingLine( this, options );\n  }\n\n  getMarkerForLegend() {\n    return false;\n  }\n\n  get type() {\n    return this._type;\n  }\n\n  getType() {\n    return this._type;\n  }\n\n  set excludedFromLegend( bln ) {\n    this._excludedFromLegend = bln;\n  }\n\n  get excludedFromLegend() {\n    return !!this._excludedFromLegend;\n  }\n\n  setDataIndices( categories, nb ) {\n    this.categoryIndices = categories;\n    this.nbCategories = nb;\n  }\n\n  hasErrors() {\n    if ( !this.waveform ) {\n      return false;\n    }\n\n    return this.waveform.hasErrorBars();\n  }\n}\n\nexport default Serie;","import Graph from '../graph.core.js';\nimport * as util from '../graph.util.js';\nimport ErrorBarMixin from '../mixins/graph.mixin.errorbars.js';\nimport Waveform from '../util/waveform.js';\n\nimport Serie from './graph.serie.js';\n\n/**\n * Serie line\n * @example graph.newSerie( name, options, \"line\" );\n * @see Graph#newSerie\n * @extends Serie\n */\nclass SerieLine extends Serie {\n\n  static\n  default () {\n    /**\n     * @name SerieLineDefaultOptions\n     * @object\n     * @static\n     * @memberof SerieLine\n     */\n    return {\n\n      lineColor: 'black',\n      lineStyle: 1,\n      flip: false,\n      label: '',\n      lineWidth: 1,\n      markers: false,\n      trackMouse: false,\n      trackMouseLabel: false,\n      trackMouseLabelRouding: 1,\n      lineToZero: false,\n      selectableOnClick: false,\n      markersIndependant: false,\n      overflowX: false,\n      overflowY: false\n    };\n  }\n\n  constructor( graph, name, options ) {\n\n    super( ...arguments );\n\n    this.selectionType = 'unselected';\n    this.markerFamilies = {};\n\n    util.mapEventEmission( this.options, this ); // Register events\n\n    // Creates an empty style variable\n    this.styles = {};\n\n    // Unselected style\n    this.styles.unselected = {\n      lineColor: this.options.lineColor,\n      lineStyle: this.options.lineStyle,\n      lineWidth: this.options.lineWidth,\n      markers: this.options.markers\n    };\n\n    this.styles.selected = {\n      lineWidth: 3\n    };\n\n    this.markersDom = new Map();\n\n    this.shown = true;\n\n    this.data = [];\n    this._isMinOrMax = {\n      x: {\n        min: false,\n        max: false\n      },\n      y: {\n        min: false,\n        max: false\n      }\n    };\n\n    // Optimize is no markerPoints => save loops\n    //      this.markerPoints = {};\n\n    this.groupLines = document.createElementNS( this.graph.ns, 'g' );\n    this.domMarker = document.createElementNS( this.graph.ns, 'path' );\n\n    if ( !this.domMarker.style ) {\n      this.domMarker.style = {\n        cursor: 'pointer'\n      };\n    } else {\n      this.domMarker.style.cursor = 'pointer';\n    }\n\n    this.groupMain = document.createElementNS( this.graph.ns, 'g' );\n    this.additionalData = {};\n\n    this.marker = document.createElementNS( this.graph.ns, 'circle' );\n    this.marker.setAttribute( 'fill', 'black' );\n    this.marker.setAttribute( 'r', 3 );\n    this.marker.setAttribute( 'display', 'none' );\n\n    this.markerLabel = document.createElementNS( this.graph.ns, 'text' );\n    this.markerLabelSquare = document.createElementNS( this.graph.ns, 'rect' );\n    this.markerLabelSquare.setAttribute( 'fill', 'white' );\n    this.domMarkerHover = {};\n    this.domMarkerSelect = {};\n    this.markerHovered = 0;\n    this.groupMarkerSelected = document.createElementNS( this.graph.ns, 'g' );\n\n    this.markerPoints = {};\n\n    //this.scale = 1;\n    //this.shift = 0;\n    this.lines = [];\n\n    this.groupMain.appendChild( this.groupLines );\n\n    this.groupMain.appendChild( this.marker );\n\n    this.groupMain.appendChild( this.groupMarkerSelected );\n    this.groupMain.appendChild( this.markerLabelSquare );\n    this.groupMain.appendChild( this.markerLabel );\n\n    this.groupMarkers = document.createElementNS( this.graph.ns, 'g' );\n    this.groupMain.appendChild( this.groupMarkers );\n\n    this.independantMarkers = [];\n\n    if ( this.initExtended1 ) {\n      this.initExtended1();\n    }\n\n    this.groupLines.addEventListener( 'click', ( e ) => {\n\n      if ( this.options.selectableOnClick ) {\n\n        if ( this.isSelected() ) {\n\n          this.graph.unselectSerie( this );\n\n        } else {\n          this.graph.selectSerie( this );\n        }\n      }\n    } );\n\n    if ( this.options.markers ) {\n      this.setMarkers( this.options.markers, 'unselected' );\n    }\n\n  }\n\n  postInit() {\n    this.extendStyles();\n  }\n\n  /**\n   * Sets the options of the serie\n   * @see SerieLineDefaultOptions\n   * @param {Object} options - A object containing the options to set\n   * @return {SerieLine} The current serie\n   * @memberof SerieLine\n   */\n  setOptions( options ) {\n    this.options = util.extend( true, {}, SerieLine.prototype.defaults, ( options || {} ) );\n    // Unselected style\n    this.styles.unselected = {\n      lineColor: this.options.lineColor,\n      lineStyle: this.options.lineStyle,\n      markers: this.options.markers\n    };\n\n    this.applyLineStyles();\n    return this;\n  }\n\n  onMouseOverMarker( e, index ) {\n\n    var toggledOn = this.toggleMarker( index, true, true );\n\n    if ( this.options.onMouseOverMarker ) {\n\n      this.options.onMouseOverMarker(\n        index,\n        this.infos ? ( this.infos[ index ] || false ) : false, [ this.waveform.getX( index ), this.waveform.getY( index ) ] );\n    }\n  }\n\n  onMouseOutMarker( e, index ) {\n    this.markersOffHover();\n\n    if ( this.options.onMouseOutMarker ) {\n      this.options.onMouseOutMarker(\n        index,\n        this.infos ? ( this.infos[ index ] || false ) : false, [ this.waveform.getX( index ), this.waveform.getY( index ) ]\n      );\n    }\n  }\n\n  /**\n   * Selects one of the markers of the serie\n   * @param {Number} index - The point index to select (starting at 0)\n   * @param {Boolean} [force = undefined] - Forces state of the marker. <code>true</code> forces selection, <code>false</code> forces deselection. <code>undefined</code> toggles the state of the marker\n   * @param {Boolean} [hover = false] - <code>true</code> to set the selection in mode \"hover\" (will disappear on mouse out of the marker). <code>false</code> to set the selection in mode \"select\" (will disappear when another marker is selected)\n   * @returns {Boolean} The new state of the marker\n   * @memberof SerieLine\n   */\n  toggleMarker( index, force, hover ) {\n\n    let i = index;\n\n    var _on;\n    if ( typeof force === 'undefined' ) {\n      _on = !hover ? !this.domMarkerSelect[ index ] : !this.domMarkerHover[ index ];\n    }\n    var el = this[ `domMarker${ hover ? 'Hover' : 'Select'}` ];\n\n    if ( _on || force === true ) {\n\n      if ( !el[ index ] ) {\n\n        var dom = document.createElementNS( this.graph.ns, 'path' );\n\n        this.setMarkerStyleTo( dom, this.markerFamilies[ this.selectionType ][ this.getMarkerCurrentFamily( i ) ] );\n        this[ `domMarker${ hover ? 'Hover' : 'Select'}` ][ index ] = dom;\n        this.groupMarkerSelected.appendChild( dom );\n\n      } else {\n        dom = el[ index ];\n      }\n\n      let x = this.getX( this.waveform.getX( i ) ),\n        y = this.getY( this.waveform.getY( i ) );\n\n      dom.setAttribute( 'd', `M ${ x } ${ y } ${ this.getMarkerPath( this.markerFamilies[ this.selectionType ][ this.getMarkerCurrentFamily( i ) ], 1 )}` );\n\n      if ( hover ) {\n        this.markerHovered++;\n      }\n\n    } else if ( !_on || force === false ) {\n\n      if ( ( hover && this.domMarkerHover[ index ] && !this.domMarkerSelect[ index ] ) || this.domMarkerSelect[ index ] ) {\n\n        if ( !el[ index ] ) {\n          return;\n        }\n\n        this.groupMarkerSelected.removeChild( el[ index ] );\n\n        delete el[ index ];\n\n        if ( hover )\n          this.markerHovered--;\n      }\n\n    }\n\n    return _on;\n  }\n\n  /**\n   * Toggles off markers that have the hover mode \"on\"\n   * @returns {SerieLine} The current serie\n   * @memberof SerieLine\n   */\n  markersOffHover() {\n\n    for ( var i in this.domMarkerHover ) {\n      this.toggleMarker( i.split( ',' ), false, true );\n    }\n    return this;\n  }\n\n  /**\n   * Toggles off markers that have the select mode \"on\"\n   * @returns {SerieLine} The current serie\n   * @memberof SerieLine\n   */\n  markersOffSelect() {\n\n    for ( var i in this.domMarkerSelect ) {\n      this.toggleMarker( i.split( ',' ), false, false );\n    }\n    return this;\n  }\n\n  onClickOnMarker( e, index ) {\n\n    var toggledOn = this.toggleMarker( index );\n\n    if ( toggledOn && this.options.onSelectMarker ) {\n      this.options.onSelectMarker( index, this.infos ? ( this.infos[ index[ 0 ] ] || false ) : false );\n    }\n\n    if ( !toggledOn && this.options.onUnselectMarker ) {\n      this.options.onUnselectMarker( index, this.infos ? ( this.infos[ index[ 0 ] ] || false ) : false );\n    }\n\n    if ( this.options.onToggleMarker ) {\n      this.options.onToggleMarker( index, this.infos ? ( this.infos[ index[ 0 ] ] || false ) : false, toggledOn );\n    }\n  }\n\n  _getMarkerIndexFromEvent( e ) {\n    var px = this.graph._getXY( e );\n\n    //  return this.searchIndexByPxXY( ( px.x ), ( px.y ) );\n    return this.searchIndexByPxXY( ( px.x - this.graph.getPaddingLeft() ), ( px.y - this.graph.getPaddingTop() ) );\n  }\n\n  onMouseWheel() {}\n\n  /**\n   * Cleans the DOM from the serie internal object (serie and markers). Mostly used internally when a new {@link Serie#setData} is called\n   * @returns {SerieLine} The current serie\n   * @memberof SerieLine\n   */\n  empty() {\n\n    for ( var i = 0, l = this.lines.length; i < l; i++ ) {\n      this.groupLines.removeChild( this.lines[ i ] );\n    }\n    this.lines = [];\n\n    return this;\n  }\n\n  /**\n   * Applies a selection to the serie\n   * @param {String} [ selectionType = \"selected\" ] - The selection name\n   * @returns {SerieLine} The current serie\n   * @see SerieLine#unselect\n   * @memberof SerieLine\n   */\n  select( selectionType ) {\n\n    selectionType = selectionType || 'selected';\n\n    this.selected = selectionType !== 'unselected';\n\n    if ( this.areMarkersShown() || this.areMarkersShown( selectionType ) ) {\n      this.selectionType = selectionType;\n\n      this.draw( true ); // Drawing is absolutely required here\n      this.applyLineStyles();\n    } else {\n      this.selectionType = selectionType;\n      this.applyLineStyles();\n    }\n\n    this.applyLineStyle( this.getSymbolForLegend() );\n    return this;\n  }\n\n  /**\n   * Removes the selection to the serie. Effectively, calls {@link SerieLine#select}(\"unselected\").\n   * @returns {SerieLine} The current serie\n   * @see SerieLine#select\n   * @memberof SerieLine\n   */\n  unselect() {\n\n    this.selected = false;\n\n    return this.select( 'unselected' );\n  }\n\n  /**\n   * Degrades the data of the serie. This option is used for big data sets that have monotoneously increasing (or decreasing) x values.\n   * For example, a serie containing 1'000'000 points, displayed over 1'000px, will have 1'000 points per pixel. Often it does not make sense to display more than 2-3 points per pixel.\n   * <code>degrade( pxPerPoint )</code> allows a degradation of the serie, based on a a number of pixel per point. It computes the average of the data that would be displayed over each pixel range\n   * Starting from jsGraph 2.0, it does not calculate the minimum and maximum and creates the zone serie anymore\n   * @return {SerieLine} The current serie instance\n   * @example serie.degrade( 0.5 ); // Will display 2 points per pixels\n   * @memberof SerieLine\n   */\n  degrade( pxPerP ) {\n\n    this.degradationPx = pxPerP;\n    return this;\n  }\n\n  drawInit( force ) {\n\n    var data, xData;\n\n    try {\n      this.axisCheck();\n    } catch ( e ) {\n      console.warn( e );\n      return false;\n    }\n\n    this.currentLineId = 0;\n    this.counter = 0;\n    this._drawn = true;\n    this.currentLine = '';\n\n    // Degradation\n\n    if ( this.waveform ) {\n\n      if ( this.degradationPx ) {\n\n        this.waveform.resampleForDisplay( {\n\n          resampleToPx: this.degradationPx,\n          xPosition: this.getXAxis().getPx.bind( this.getXAxis() ),\n          minX: this.getXAxis().getCurrentMin(),\n          maxX: this.getXAxis().getCurrentMax()\n\n        } );\n\n        this._dataToUse = [ this.waveform.getDataToUseFlat() ];\n\n      } else if ( this.waveform.hasAggregation() ) {\n\n        let xaxis = this.getXAxis(),\n          numberOfPointsInTotal = this.graph.getDrawingWidth() * ( xaxis.getDataMax() - xaxis.getDataMin() ) / ( xaxis.getCurrentMax() - xaxis.getCurrentMin() ),\n          promise = this.waveform.selectAggregatedData( numberOfPointsInTotal );\n\n        if ( promise instanceof Promise ) {\n\n          promise.then( () => {\n\n            this.draw( force );\n\n          } );\n\n          return false;\n\n        } else if ( promise === false ) {\n\n          return false;\n\n        } else {\n\n          this._dataToUse = this.waveform.getDataToUseFlat();\n        }\n\n      }\n\n      //    this._dataToUse = this.waveform.getDataToUseFlat();\n\n    } else {\n\n      this._dataToUse = this.data;\n      this._xDataToUse = this.xData;\n    }\n\n    return true;\n  }\n\n  removeLinesGroup() {\n    this._afterLinesGroup = this.groupLines.nextSibling;\n    this.groupMain.removeChild( this.groupLines );\n  }\n\n  insertLinesGroup() {\n\n    if ( !this._afterLinesGroup ) {\n      throw 'Could not find group after lines to insertion.';\n    }\n\n    this.groupMain.insertBefore( this.groupLines, this._afterLinesGroup );\n    this._afterLinesGroup = false;\n  }\n\n  removeExtraLines() {\n\n    var i = this.currentLineId,\n      l = this.lines.length;\n\n    for ( ; i < l; i++ ) {\n      this.groupLines.removeChild( this.lines[ i ] );\n    }\n\n    this.lines.splice( this.currentLineId, l - ( this.currentLineId ) );\n    this.currentLineId = 0;\n  }\n\n  /**\n   * Draws the serie\n   * @memberof SerieLine\n   */\n  draw( force ) { // Serie redrawing\n\n    super.draw( ...arguments );\n\n    if ( !this.getXAxis() || !this.getYAxis() ) {\n      throw 'No axes were defined for this serie';\n    }\n\n    if ( force || this.hasDataChanged() ) {\n      if ( !this.drawInit( force ) ) {\n        return;\n      }\n\n      var data = this._dataToUse,\n        xData = this._xDataToUse,\n        slotToUse = this._slotToUse;\n\n      this.removeLinesGroup();\n      this.eraseMarkers();\n\n      this.lookForMaxima = true;\n      this.lookForMinima = false;\n\n      this.markerFamily = this.markerFamilies[ this.selectionType || 'unselected' ];\n\n      this.pos0 = this.getYAxis().getPos( 0 );\n\n      if ( this.hasErrors() ) {\n        this.errorDrawInit();\n      }\n\n      this._draw();\n\n      if ( this.hasErrors() ) {\n        this.errorDraw();\n      }\n\n      this.removeExtraLines();\n      this.insertMarkers();\n      this.insertLinesGroup();\n    }\n\n    // Unhovers everything\n    for ( var i in this.domMarkerHover ) {\n      this.toggleMarker( i.split( ',' ), false, true );\n    }\n\n    // Deselects everything\n    for ( var i in this.domMarkerSelect ) {\n      this.toggleMarker( i.split( ',' ), false, false );\n    }\n\n    this.applyLineStyle( this.getSymbolForLegend() );\n\n    if ( this.hasStyleChanged( this.selectionType ) ) {\n      this.updateStyle();\n    }\n\n    this.dataHasChanged( false );\n    super.afterDraw();\n\n  }\n\n  _draw() {\n\n    let self = this,\n      waveform = this.waveform,\n      data,\n      x,\n      y,\n      lastX = false,\n      lastY = false,\n      xpx,\n      ypx,\n      xpx2,\n      ypx2,\n      xAxis = this.getXAxis(),\n      yAxis = this.getYAxis(),\n      xMin = xAxis.getCurrentMin(),\n      yMin = yAxis.getCurrentMin(),\n      xMax = xAxis.getCurrentMax(),\n      yMax = yAxis.getCurrentMax();\n\n    if ( !waveform ) {\n      return;\n    }\n\n    data = waveform.getData( true );\n\n    // Y crossing\n    let yLeftCrossingRatio,\n      yLeftCrossing,\n      yRightCrossingRatio,\n      yRightCrossing,\n      xTopCrossingRatio,\n      xTopCrossing,\n      xBottomCrossingRatio,\n      xBottomCrossing,\n\n      /*xshift = waveform.getXShift(),\n      xscale = wave.getXScale(),*/\n      yshift = waveform.getShift(),\n      yscale = waveform.getScale();\n\n    let pointOutside = false;\n    let lastPointOutside = false;\n    let pointOnAxis;\n\n    let _monotoneous = this.isMonotoneous(),\n      _markersShown = this.markersShown();\n\n    let i = 0,\n      l = waveform.getLength();\n\n    this.currentLine = '';\n\n    if ( waveform.isXMonotoneous() ) {\n\n      if ( waveform.isXMonotoneousAscending() ) {\n\n        try {\n          i = waveform.getIndexFromX( xMin, true ) || 0;\n          l = waveform.getIndexFromX( xMax, true );\n        } catch ( e ) {\n\n          l = waveform.getLength();\n        }\n\n      } else {\n\n        try {\n          i = waveform.getIndexFromX( xMax, true ) || 0;\n          l = waveform.getIndexFromX( xMin, true );\n        } catch ( e ) {\n\n          l = waveform.getLength();\n        }\n      }\n\n      l += 2;\n      if ( l > data.length ) {\n        l = data.length;\n      }\n    }\n\n    for ( ; i < l; i += 1 ) {\n\n      x = waveform.getX( i, true );\n      y = data[ i ] * yscale + yshift;\n\n      if ( x != x || y != y ) { // NaN checks\n        this._createLine();\n        continue;\n      }\n\n      if ( ( !this.options.overflowX && x < xMin && lastX < xMin ) || ( !this.options.overflowX && x > xMax && lastX > xMax ) || ( ( ( !this.options.overflowY && y < yMin && lastY < yMin ) || ( !this.options.overflowY && y > yMax && lastY > yMax ) ) && !this.options.lineToZero ) ) {\n        lastX = x;\n        lastY = y;\n        lastPointOutside = true;\n        continue;\n      }\n\n      this.counter2 = i;\n\n      if ( _markersShown ) {\n        this.getMarkerCurrentFamily( this.counter2 );\n      }\n\n      xpx2 = this.getX( x );\n      ypx2 = this.getY( y );\n      //xpx2 = 0;\n      //ypx2 = 0;\n\n      if ( xpx2 == xpx && ypx2 == ypx ) {\n        continue;\n      }\n\n      if ( xpx2 != xpx2 || ypx2 != ypx2 ) { // NaN checks\n        if ( this.counter > 0 ) {\n\n          this._createLine();\n        }\n        continue;\n      }\n\n      if ( !_monotoneous ) {\n\n        pointOutside = ( !this.options.overflowX && ( x < xMin || x > xMax ) ) || ( !this.options.overflowY && ( y < yMin || y > yMax ) );\n\n      } else {\n        pointOutside = !this.options.overflowY && ( y < yMin || y > yMax );\n      }\n\n      if ( this.options.lineToZero ) {\n        pointOutside = ( x < xMin || x > xMax );\n\n        if ( pointOutside ) {\n          continue;\n        }\n      } else {\n\n        if ( pointOutside || lastPointOutside ) {\n\n          if ( ( lastX === false || lastY === false ) && !lastPointOutside ) {\n\n            xpx = xpx2;\n            ypx = ypx2;\n            lastX = x;\n            lastY = y;\n\n          } else {\n\n            pointOnAxis = [];\n            // Y crossing\n            yLeftCrossingRatio = ( x - xMin ) / ( x - lastX );\n            yLeftCrossing = y - yLeftCrossingRatio * ( y - lastY );\n            yRightCrossingRatio = ( x - xMax ) / ( x - lastX );\n            yRightCrossing = y - yRightCrossingRatio * ( y - lastY );\n\n            // X crossing\n            xTopCrossingRatio = ( y - yMin ) / ( y - lastY );\n            xTopCrossing = x - xTopCrossingRatio * ( x - lastX );\n            xBottomCrossingRatio = ( y - yMax ) / ( y - lastY );\n            xBottomCrossing = x - xBottomCrossingRatio * ( x - lastX );\n\n            if ( yLeftCrossingRatio < 1 && yLeftCrossingRatio > 0 && yLeftCrossing !== false && yLeftCrossing < yMax && yLeftCrossing > yMin ) {\n              pointOnAxis.push( [ xMin, yLeftCrossing ] );\n            }\n\n            if ( yRightCrossingRatio < 1 && yRightCrossingRatio > 0 && yRightCrossing !== false && yRightCrossing < yMax && yRightCrossing > yMin ) {\n              pointOnAxis.push( [ xMax, yRightCrossing ] );\n            }\n\n            if ( xTopCrossingRatio < 1 && xTopCrossingRatio > 0 && xTopCrossing !== false && xTopCrossing < xMax && xTopCrossing > xMin ) {\n              pointOnAxis.push( [ xTopCrossing, yMin ] );\n            }\n\n            if ( xBottomCrossingRatio < 1 && xBottomCrossingRatio > 0 && xBottomCrossing !== false && xBottomCrossing < xMax && xBottomCrossing > xMin ) {\n              pointOnAxis.push( [ xBottomCrossing, yMax ] );\n            }\n\n            if ( pointOnAxis.length > 0 ) {\n\n              if ( !pointOutside ) { // We were outside and now go inside\n\n                if ( pointOnAxis.length > 1 ) {\n                  console.error( 'Programmation error. Please e-mail me.' );\n                  console.log( pointOnAxis, xBottomCrossing, xTopCrossing, yRightCrossing, yLeftCrossing, y, yMin, yMax, lastY );\n                }\n\n                this._createLine();\n                this._addPoint( this.getX( pointOnAxis[ 0 ][ 0 ] ), this.getY( pointOnAxis[ 0 ][ 1 ] ), pointOnAxis[ 0 ][ 0 ], pointOnAxis[ 0 ][ 1 ], false, false, false );\n                this._addPoint( xpx2, ypx2, lastX, lastY, false, false, true );\n\n              } else if ( !lastPointOutside ) { // We were inside and now go outside\n\n                if ( pointOnAxis.length > 1 ) {\n                  console.error( 'Programmation error. Please e-mail me.' );\n                  console.log( pointOnAxis, xBottomCrossing, xTopCrossing, yRightCrossing, yLeftCrossing, y, yMin, yMax, lastY );\n                }\n\n                this._addPoint( this.getX( pointOnAxis[ 0 ][ 0 ] ), this.getY( pointOnAxis[ 0 ][ 1 ] ), pointOnAxis[ 0 ][ 0 ], pointOnAxis[ 0 ][ 1 ], false, false, false );\n\n              } else {\n\n                // No crossing: do nothing\n                if ( pointOnAxis.length == 2 ) {\n                  this._createLine();\n\n                  this._addPoint( this.getX( pointOnAxis[ 0 ][ 0 ] ), this.getY( pointOnAxis[ 0 ][ 1 ] ), pointOnAxis[ 0 ][ 0 ], pointOnAxis[ 0 ][ 1 ], false, false, false );\n                  this._addPoint( this.getX( pointOnAxis[ 1 ][ 0 ] ), this.getY( pointOnAxis[ 1 ][ 1 ] ), pointOnAxis[ 0 ][ 0 ], pointOnAxis[ 0 ][ 1 ], false, false, false );\n                }\n\n              }\n            } else if ( !pointOutside ) {\n\n              this._addPoint( xpx2, ypx2, lastX, lastY, i, false, false );\n            } // else {\n            // Norman:\n            // This else case is not the sign of a bug. If yLeftCrossing == 0 or 1 for instance, pointOutside or lastPointOutside will be true\n            // However, there's no need to draw anything because the point is on the axis and will already be covered.\n            // 28 Aug 2015\n\n            /*\n              if ( lastPointOutside !== pointOutside ) {\n                console.error( \"Programmation error. A crossing should have been found\" );\n                console.log( yLeftCrossing, yLeftCrossingRatio, yMax, yMin );\n                console.log( yRightCrossing, yRightCrossingRatio, yMax, yMin );\n                console.log( xTopCrossing, xTopCrossingRatio, xMax, xMin );\n                console.log( xBottomCrossing, xBottomCrossingRatio, xMax, xMin );\n                console.log( pointOutside, lastPointOutside )\n\n              }\n              */\n            // }\n          }\n\n          xpx = xpx2;\n          ypx = ypx2;\n          lastX = x;\n          lastY = y;\n\n          lastPointOutside = pointOutside;\n\n          continue;\n        }\n\n      }\n\n      this._addPoint( xpx2, ypx2, x, y, i, false, true );\n\n      //this.detectPeaks( x, y );\n\n      xpx = xpx2;\n      ypx = ypx2;\n\n      lastX = x;\n      lastY = y;\n    }\n\n    this._createLine();\n\n    if ( this._tracker ) {\n\n      if ( this._trackerDom ) {\n        this._trackerDom.remove();\n      }\n\n      var cloned = this.groupLines.cloneNode( true );\n      this.groupMain.appendChild( cloned );\n\n      for ( i = 0, l = cloned.children.length; i < l; i++ ) {\n\n        cloned.children[ i ].setAttribute( 'stroke', 'transparent' );\n        cloned.children[ i ].setAttribute( 'stroke-width', '25px' );\n        cloned.children[ i ].setAttribute( 'pointer-events', 'stroke' );\n      }\n\n      this._trackerDom = cloned;\n\n      this.groupMain.addEventListener( 'mousemove', ( e ) => {\n        var coords = this.graph._getXY( e ),\n          ret = this.handleMouseMove( false, false );\n\n        this._trackingCallback( this, ret, coords.x, coords.y );\n      } );\n\n      this.groupMain.addEventListener( 'mouseleave', ( e ) => {\n        this._trackingOutCallback( this );\n      } );\n    }\n\n    return this;\n\n  }\n\n  kill() {\n    super.kill();\n  }\n\n  /**\n   * @param {Number} k - Index of the point for which we should get the family\n   * @memberof SerieLine\n   */\n  getMarkerCurrentFamily( k ) {\n\n    if ( !this.markerPoints || !this.markerPoints[ this.selectionType ] ) {\n      return;\n    }\n\n    var family;\n\n    for ( var z = 0; z < this.markerPoints[ this.selectionType ].length; z++ ) {\n      if ( this.markerPoints[ this.selectionType ][ z ][ 0 ] <= k ) { // This one is a possibility !\n        if ( this.markerPoints[ this.selectionType ][ z ][ 1 ] >= k ) { // Verify that it's in the boundary\n          this.markerCurrentFamily = this.markerPoints[ this.selectionType ][ z ][ 2 ];\n          family = this.markerFamilies[ this.selectionType ][ this.markerCurrentFamily ];\n        }\n      } else {\n        break;\n      }\n    }\n\n    if ( !family ) {\n      return false;\n    }\n    this.getMarkerDom( family );\n    return this.markerCurrentFamily;\n  }\n\n  setMarkerStyleTo( dom, family ) {\n\n    if ( !dom || !family ) {\n      console.trace();\n      throw 'Cannot set marker style. DOM does not exist.';\n    }\n\n    dom.setAttribute( 'fill', family.fillColor || 'transparent' );\n    dom.setAttribute( 'stroke', family.strokeColor || this.getLineColor() );\n    dom.setAttribute( 'stroke-width', family.strokeWidth || 1 );\n  }\n\n  /**\n   * Hides the tracking marker (see the trackMouse option)\n   * @memberof SerieLine\n   */\n  hideTrackingMarker() {\n    this.marker.setAttribute( 'display', 'none' );\n    this.markerLabel.setAttribute( 'display', 'none' );\n    this.markerLabelSquare.setAttribute( 'display', 'none' );\n  }\n\n  _addPoint( xpx, ypx, x, y, j, move, allowMarker ) {\n\n    /*if( ! this.currentLineId ) {\n        throw \"No current line\"\n      }* @memberof SerieLine\n*/\n\n    if ( xpx !== xpx || ypx !== ypx ) {\n      return;\n    }\n\n    if ( this.counter == 0 ) {\n      this.currentLine = 'M ';\n    } else {\n\n      if ( this.options.lineToZero || move ) {\n        this.currentLine += 'M ';\n      } else {\n        this.currentLine += 'L ';\n      }\n    }\n\n    this.currentLine += xpx;\n    this.currentLine += ' ';\n    this.currentLine += ypx;\n    this.currentLine += ' ';\n\n    if ( this.options.lineToZero && this.pos0 !== undefined ) {\n\n      this.currentLine += 'L ';\n      this.currentLine += xpx;\n      this.currentLine += ' ';\n      this.currentLine += this.pos0;\n      this.currentLine += ' ';\n\n    }\n\n    if ( this.hasErrors() ) {\n      this.errorAddPoint( j, x, y, xpx, ypx );\n    }\n\n    if ( !this.markerPoints ) {\n      this.counter++;\n\n      return;\n    }\n\n    if ( this.markersShown() && allowMarker !== false && this.markerFamily ) {\n      drawMarkerXY(\n        this,\n        this.markerFamily[ this.markerCurrentFamily ],\n        xpx,\n        ypx,\n        this.markersDom.get( this.markerFamily[ this.markerCurrentFamily ] )\n      );\n    }\n\n    this.counter++;\n\n  }\n\n  // Returns the DOM\n  _createLine() {\n\n    var i = this.currentLineId++,\n      line;\n\n    // Creates a line if needed\n    if ( this.lines[ i ] ) {\n      line = this.lines[ i ];\n    } else {\n\n      line = document.createElementNS( this.graph.ns, 'path' );\n      this.applyLineStyle( line );\n      this.groupLines.appendChild( line );\n      this.lines[ i ] = line;\n    }\n\n    if ( this.counter == 0 ) {\n      line.setAttribute( 'd', '' );\n    } else {\n      line.setAttribute( 'd', this.currentLine );\n    }\n\n    this.currentLine = 'M ';\n    this.counter = 0;\n\n    return line;\n  }\n\n  /**\n   * Reapply the current style to the serie lines elements. Mostly used internally\n   * @memberof SerieLine\n   */\n  applyLineStyles() {\n\n    for ( var i = 0; i < this.lines.length; i++ ) {\n      this.applyLineStyle( this.lines[ i ] );\n    }\n  }\n\n  /**\n   * Applies the current style to a line element. Mostly used internally\n   * @memberof SerieLine\n   */\n  applyLineStyle( line ) {\n\n    line.setAttribute( 'stroke', this.getLineColor() );\n    line.setAttribute( 'stroke-width', this.getLineWidth() );\n    if ( this.getLineDashArray() ) {\n      line.setAttribute( 'stroke-dasharray', this.getLineDashArray() );\n    } else {\n      line.removeAttribute( 'stroke-dasharray' );\n    }\n    line.setAttribute( 'fill', 'none' );\n    //\tline.setAttribute('shape-rendering', 'optimizeSpeed');\n  }\n\n  /**\n   * Updates the current style (lines + legend) of the serie. Use this method if you have explicitely changed the options of the serie\n   * @example var opts = { lineColor: 'red' };\n   * var s = graph.newSerie( \"name\", opts ).setData( someData );\n   * opts.lineColor = 'green';\n   * s.updateStyle(); // Sets the lineColor to green\n   * s.draw(); // Would also do the same thing, but recalculates the whole serie display (including (x,y) point pairs)\n   * @memberof SerieLine\n   */\n  updateStyle() {\n    this.applyLineStyles();\n    this.setLegendSymbolStyle();\n\n    this.styleHasChanged( false );\n  }\n\n  // Revised August 2014. Ok\n  getMarkerPath( family, add ) {\n\n    var z = family.zoom || 1,\n      add = add || 0,\n      el = [];\n\n    switch ( family.type ) {\n\n      case 2:\n        el = [ 'm', -2, -2, 'l', 4, 4, 'm', -4, 0, 'l', 4, -4 ];\n        break;\n\n      case 3:\n        el = [ 'm', -2, 0, 'l', 4, 0, 'm', -2, -2, 'l', 0, 4 ];\n        break;\n\n      case 4:\n        el = [ 'm', -1, -1, 'l', 2, 0, 'l', -1, 2, 'z' ];\n        break;\n\n      default:\n      case 1:\n        el = [ 'm', -2, -2, 'l', 4, 0, 'l', 0, 4, 'l', -4, 0, 'z' ];\n        break;\n\n    }\n\n    if ( ( z == 1 || !z ) && !add ) {\n      return el.join( ' ' );\n    }\n\n    var num = 'number';\n\n    if ( !el ) {\n      return;\n    }\n\n    for ( var i = 0, l = el.length; i < l; i++ ) {\n\n      if ( typeof el[ i ] == num ) {\n\n        el[ i ] *= ( z + add );\n      }\n    }\n\n    return el.join( ' ' );\n\n  }\n\n  // Revised August 2014. Ok\n  getMarkerDom( family ) {\n\n    var self = this;\n\n    if ( !this.markersDom.has( family ) ) {\n\n      var dom = document.createElementNS( this.graph.ns, 'path' );\n      this.setMarkerStyleTo( dom, family );\n      this.markersDom.set( family, {\n        dom: dom,\n        path: ''\n      } );\n\n      dom.addEventListener( 'mouseover', function( e ) {\n        var closest = self._getMarkerIndexFromEvent( e );\n        self.onMouseOverMarker( e, closest );\n      } );\n\n      dom.addEventListener( 'mouseout', function( e ) {\n        var closest = self._getMarkerIndexFromEvent( e );\n        self.onMouseOutMarker( e, closest );\n      } );\n\n      dom.addEventListener( 'click', function( e ) {\n        var closest = self._getMarkerIndexFromEvent( e );\n        self.onClickOnMarker( e, closest );\n      } );\n\n    }\n\n    return family.dom;\n  }\n\n  // In case markers are not grouped in families but independant\n  getMarkerDomIndependent( index, family ) {\n\n    if ( !this.independantMarkers[ index ] ) {\n\n      var dom = document.createElementNS( this.graph.ns, 'path' );\n      this.setMarkerStyleTo( dom, family );\n\n      dom.addEventListener( 'mouseover', ( e ) => {\n\n        this.onMouseOverMarker( e, index );\n\n      } );\n\n      dom.addEventListener( 'mouseout', ( e ) => {\n\n        this.onMouseOutMarker( e, index );\n\n      } );\n\n      dom.addEventListener( 'click', ( e ) => {\n\n        this.onClickOnMarker( e, index );\n\n      } );\n\n      this.independantMarkers[ index ] = dom;\n    }\n\n    this.groupMarkers.appendChild( this.independantMarkers[ index ] );\n\n    return this.independantMarkers[ index ];\n  }\n\n  /**\n   * Searches the closest point pair (x,y) to the a pair of pixel position\n   * @param {Number} x - The x position in pixels (from the left)\n   * @param {Number} y - The y position in pixels (from the left)\n   * @returns {Number} Index in the data array of the closest (x,y) pair to the pixel position passed in parameters\n   * @memberof SerieLine\n   */\n  searchIndexByPxXY( x, y ) {\n\n    var oldDist = false,\n      xyindex = false,\n      dist;\n\n    var xData = this._xDataToUse,\n      p_x,\n      p_y;\n\n    for ( var k = 0, m = this.waveform.getLength(); k < m; k += 1 ) {\n\n      p_x = this.waveform.getX( k );\n      p_y = this.waveform.getY( k );\n\n      dist = Math.pow( ( this.getX( p_x ) - x ), 2 ) + Math.pow( ( this.getY( p_y ) - y ), 2 );\n      //console.log(x, y, dist, this.data[i][k], this.data[i][k + 1]);\n\n      if ( !oldDist || dist < oldDist ) {\n        oldDist = dist;\n        xyindex = k;\n      }\n    }\n\n    return xyindex;\n  }\n\n  /**\n   * Performs a binary search to find the closest point index to an x value. For the binary search to work, it is important that the x values are monotoneous.\n   * @param {Number} valX - The x value to search for\n   * @returns {Object} Index in the data array of the closest (x,y) pair to the pixel position passed in parameters\n   * @memberof SerieLine\n   */\n  searchClosestValue( valX, valY ) {\n\n    if ( this.waveform ) {\n\n      let indexX;\n      try {\n\n        indexX = this.waveform.getIndexFromXY( valX, valY, undefined, undefined, this.getXAxis().getRelPx( 1 ), this.getYAxis().getRelPx( 1 ) );\n\n      } catch ( e ) {\n        console.log( e );\n        throw new Error( 'Error while finding the closest index' );\n        return {};\n      }\n\n      if ( !indexX ) {\n        return false;\n      }\n\n      let returnObj = {};\n\n      let direction;\n      // Changed on 8 March. Before is was 0 and +1, why ? In case of decreasing data ? Not sure\n      if ( valX > this.waveform.getX( indexX ) ) {\n        direction = -1;\n      } else {\n        direction = 0;\n      }\n\n      Object.assign( returnObj, {\n        indexMin: indexX + direction,\n        indexMax: indexX + direction + 1,\n        indexClosest: indexX,\n        xMin: this.waveform.getX( indexX + direction ),\n        xMax: this.waveform.getX( indexX + direction + 1 ),\n        yMin: this.waveform.getY( indexX + direction ),\n        yMax: this.waveform.getY( indexX + direction + 1 ),\n        xClosest: this.waveform.getX( indexX ),\n        yClosest: this.waveform.getY( indexX ),\n        xExact: valX\n      } );\n      return returnObj;\n    }\n\n  }\n\n  handleMouseMove( xValue, doMarker, yValue ) {\n\n    var valX = xValue || this.getXAxis().getMouseVal(),\n      valY = yValue || this.getYAxis().getMouseVal(),\n      xMinIndex,\n      xMin,\n      yMin,\n      xMax,\n      yMax;\n\n    var value = this.searchClosestValue( valX, valY );\n\n    if ( !value ) {\n      return;\n    }\n\n    var ratio, intY;\n\n    if ( value.xMax == value.xMin ) {\n      intY = value.yMin;\n    } else {\n\n      //ratio = ( valX - value.xMin ) / ( value.xMax - value.xMin );\n      //intY = ( ( 1 - ratio ) * value.yMin + ratio * value.yMax );\n    }\n\n    if ( doMarker && this.options.trackMouse ) {\n\n      if ( value.xMin == undefined ) {\n\n        return false;\n\n      } else {\n\n        if ( !this.marker ) {\n          return;\n        }\n\n        var x = this.getX( this.getFlip() ? value.yClosest : value.xClosest );\n        var y = this.getY( this.getFlip() ? value.xClosest : value.yClosest );\n\n        if ( isNaN( x ) || isNaN( y ) ) {\n          return;\n        }\n\n        this.marker.setAttribute( 'display', 'block' );\n        this.marker.setAttribute( 'cx', x );\n        this.marker.setAttribute( 'cy', y );\n\n        this.markerLabel.setAttribute( 'display', 'block' );\n        this.markerLabelSquare.setAttribute( 'display', 'block' );\n\n        switch ( this.options.trackMouseLabel ) {\n\n          case false:\n\n            break;\n\n          default:\n            this.markerLabel.textContent = this.options.trackMouseLabel\n              .replace( '<x>', valX.toFixed( this.options.trackMouseLabelRouding ) )\n              .replace( '<y>', intY.toFixed( this.options.trackMouseLabelRouding ) );\n            break;\n        }\n\n        this.markerLabel.setAttribute( 'x', x + 5 );\n        this.markerLabel.setAttribute( 'y', y - 5 );\n\n        this.markerLabelSquare.setAttribute( 'x', x + 5 );\n        this.markerLabelSquare.setAttribute( 'y', y - 5 - this.graph.options.fontSize );\n        this.markerLabelSquare.setAttribute( 'width', this.markerLabel.getComputedTextLength() + 2 );\n        this.markerLabelSquare.setAttribute( 'height', this.graph.options.fontSize + 2 );\n      }\n    }\n\n    return {\n      xBefore: value.xMin,\n      xAfter: value.xMax,\n      yBefore: value.yMin,\n      yAfter: value.yMax,\n      trueX: value.xExact,\n      indexClosest: value.indexClosest,\n      interpolatedY: intY,\n\n      xClosest: value.xClosest,\n      yClosest: value.yClosest\n    };\n  }\n  /**\n   * Gets the maximum value of the y values between two x values. The x values must be monotoneously increasing\n   * @param {Number} startX - The start of the x values\n   * @param {Number} endX - The end of the x values\n   * @returns {Number} Maximal y value in between startX and endX\n   * @memberof SerieLine\n   */\n  getMax( start, end ) {\n\n    var start2 = Math.min( start, end ),\n      end2 = Math.max( start, end ),\n      v1 = this.searchClosestValue( start2 ),\n      v2 = this.searchClosestValue( end2 ),\n      i, j, max = -Infinity,\n      initJ, maxJ;\n\n    //      console.log( start2, end2, v1, v2 );\n\n    if ( !v1 ) {\n      start2 = this.minX;\n      v1 = this.searchClosestValue( start2 );\n    }\n\n    if ( !v2 ) {\n      end2 = this.maxX;\n      v2 = this.searchClosestValue( end2 );\n    }\n\n    if ( !v1 || !v2 ) {\n      return -Infinity;\n    }\n\n    for ( i = v1.dataIndex; i <= v2.dataIndex; i++ ) {\n      initJ = i == v1.dataIndex ? v1.xBeforeIndexArr : 0;\n      maxJ = i == v2.dataIndex ? v2.xBeforeIndexArr : this.data[ i ].length;\n\n      for ( j = initJ; j <= maxJ; j += 2 ) {\n        max = Math.max( max, this.data[ i ][ j + 1 ] );\n      }\n    }\n\n    return max;\n  }\n\n  /**\n   * Gets the minimum value of the y values between two x values. The x values must be monotoneously increasing\n   * @param {Number} startX - The start of the x values\n   * @param {Number} endX - The end of the x values\n   * @returns {Number} Maximal y value in between startX and endX\n   * @memberof SerieLine\n   */\n  getMin( start, end ) {\n\n    var start2 = Math.min( start, end ),\n      end2 = Math.max( start, end ),\n      v1 = this.searchClosestValue( start2 ),\n      v2 = this.searchClosestValue( end2 ),\n      i, j, min = Infinity,\n      initJ, maxJ;\n\n    if ( !v1 ) {\n      start2 = this.minX;\n      v1 = this.searchClosestValue( start2 );\n    }\n\n    if ( !v2 ) {\n      end2 = this.maxX;\n      v2 = this.searchClosestValue( end2 );\n    }\n\n    if ( !v1 || !v2 ) {\n      return Infinity;\n    }\n\n    for ( i = v1.dataIndex; i <= v2.dataIndex; i++ ) {\n      initJ = i == v1.dataIndex ? v1.xBeforeIndexArr : 0;\n      maxJ = i == v2.dataIndex ? v2.xBeforeIndexArr : this.data[ i ].length;\n\n      for ( j = initJ; j <= maxJ; j += 2 ) {\n        min = Math.min( min, this.data[ i ][ j + 1 ] );\n      }\n    }\n\n    return min;\n  }\n\n  /* LINE STYLE * @memberof SerieLine\n   */\n\n  setStyle( style, selectionType = 'unselected' ) {\n\n    this.styles[ selectionType ] = style;\n    this.styleHasChanged( selectionType );\n\n  }\n\n  setLineStyle( number, selectionType = 'unselected', applyToSelected ) {\n\n    this.styles[ selectionType ] = this.styles[ selectionType ] || {};\n    this.styles[ selectionType ].lineStyle = number;\n\n    if ( applyToSelected ) {\n      this.setLineStyle( number, 'selected' );\n    }\n\n    this.styleHasChanged( selectionType );\n\n    return this;\n  }\n\n  getLineStyle( selectionType ) {\n    return this.getStyle( selectionType ).lineStyle;\n  }\n\n  getLineDashArray( selectionType = this.selectionType || 'unselected' ) {\n\n    switch ( this.getStyle( selectionType ).lineStyle ) {\n\n      case 2:\n        return '1, 1';\n        break;\n      case 3:\n        return '2, 2';\n        break;\n      case 4:\n        return '3, 3';\n        break;\n      case 5:\n        return '4, 4';\n        break;\n      case 6:\n        return '5, 5';\n        break;\n\n      case 7:\n        return '5 2';\n        break;\n      case 8:\n        return '2 5';\n        break;\n\n      case 9:\n        return '4 2 4 4';\n        break;\n      case 10:\n        return '1,3,1';\n        break;\n      case 11:\n        return '9 2';\n        break;\n      case 12:\n        return '2 9';\n        break;\n\n      case 1:\n      case false:\n        return false;\n        break;\n\n      default:\n        return this.styles[ selectionType ].lineStyle;\n        break;\n    }\n\n    this.styleHasChanged( selectionType );\n\n  }\n\n  getStyle( selectionType = this.selectionType || 'unselected' ) {\n    return this.styles[ selectionType ];\n  }\n\n  extendStyles() {\n    for ( var i in this.styles ) {\n\n      var s = this.styles[ i ];\n      if ( s ) {\n        this.styles[ i ] = util.extend( true, {}, this.styles.unselected, s );\n      }\n    }\n  }\n\n  extendStyle( styleTarget, styleOrigin ) {\n    var s = this.styles[ styleTarget ];\n\n    this.styles[ styleTarget ] = util.extend( true, {}, this.styles[ styleOrigin || 'unselected' ], s || {} );\n\n    this.styles[ styleTarget ].markers.map( function( marker ) {\n      if ( marker.dom ) {\n        marker.dom = '';\n      }\n    } );\n\n    this._recalculateMarkerPoints( styleTarget, this.styles[ styleTarget ].markers );\n    this.styleHasChanged( styleTarget );\n  }\n\n  /*  * @memberof SerieLine\n   */\n\n  setLineWidth( width, selectionType, applyToSelected ) {\n\n    selectionType = selectionType || 'unselected';\n    this.styles[ selectionType ] = this.styles[ selectionType ] || {};\n    this.styles[ selectionType ].lineWidth = width;\n\n    if ( applyToSelected ) {\n      this.setLineWidth( width, 'selected' );\n    }\n\n    this.styleHasChanged( selectionType );\n\n    return this;\n  }\n\n  getLineWidth( selectionType ) {\n\n    return this.getStyle( selectionType ).lineWidth || 1;\n  }\n\n  /* LINE COLOR * @memberof SerieLine\n   */\n  setLineColor( color, selectionType, applyToSelected ) {\n\n    selectionType = selectionType || 'unselected';\n    this.styles[ selectionType ] = this.styles[ selectionType ] || {};\n    this.styles[ selectionType ].lineColor = color;\n\n    if ( applyToSelected ) {\n      this.setLineColor( color, 'selected' );\n    }\n\n    this.styleHasChanged( selectionType );\n\n    return this;\n  }\n\n  getLineColor( selectionType ) {\n\n    return this.getStyle( selectionType ).lineColor || 'black';\n  }\n\n  /* * @memberof SerieLine\n   */\n\n  /* MARKERS * @memberof SerieLine\n   */\n  showMarkers( selectionType, redraw ) {\n    selectionType = selectionType || 'unselected';\n    this.styles[ selectionType ] = this.styles[ selectionType ] || {};\n    this.styles[ selectionType ].showMarkers = true;\n\n    if ( redraw && this._drawn ) {\n      this.draw( true );\n    } else {\n      this.styleHasChanged( selectionType );\n    }\n\n    return this;\n  }\n\n  hideMarkers( selectionType, redraw ) {\n\n    selectionType = selectionType || 'unselected';\n    this.styles[ selectionType ].showMarkers = false;\n\n    if ( redraw && this._drawn ) {\n      this.draw( true );\n    } else {\n      this.styleHasChanged( selectionType );\n    }\n    return this;\n  }\n\n  markersShown( selectionType ) {\n    return this.getStyle( selectionType ).showMarkers !== false;\n  }\n\n  areMarkersShown() {\n    return this.markersShown.apply( this, arguments );\n  }\n\n  isMarkersShown() {\n    return this.markersShown.apply( this, arguments );\n  }\n\n  // Multiple markers\n  setMarkers( families, selectionType, applyToSelected ) {\n    // Family has to be an object\n    // Family looks like\n    /*\n\t\t\t\t{\n\t\t\t\t\ttype: 1,\n\t\t\t\t\tzoom: 1,\n\t\t\t\t\tstrokeWidth: 1,\n\t\t\t\t\tstrokeColor: '',\n\t\t\t\t\tfillColor: '',\n          points: []\n\t\t\t\t}\n\t\t\t* @memberof SerieLine\n*/\n\n    this.styles[ selectionType || 'unselected' ] = this.styles[ selectionType || 'unselected' ] || {};\n\n    this.showMarkers( selectionType, false );\n\n    if ( !Array.isArray( families ) && typeof families == 'object' ) {\n      families = [ families ];\n    } else if ( !families ) {\n\n      families = [ {\n        type: 1,\n        zoom: 1,\n        points: 'all'\n      } ];\n    }\n\n    this.styles[ selectionType || 'unselected' ].markers = families;\n\n    if ( applyToSelected ) {\n      this.styles.selected.markers = util.extend( true, {}, families );\n    }\n\n    this._recalculateMarkerPoints( selectionType, families );\n    this.styleHasChanged( selectionType );\n    this.dataHasChanged( true ); // Data has not really changed, but marker placing is performed during the draw method\n    return this;\n  }\n\n  setMarkersPoints( points, family, selectionType ) {\n    this._extendMarkers( 'points', points, family, selectionType, true );\n  }\n\n  setMarkersColor( color, family, selectionType ) {\n    this._extendMarkers( 'color', color, family, selectionType );\n  }\n\n  setMarkersType( type, family, selectionType ) {\n    this._extendMarkers( 'type', type, family, selectionType );\n  }\n\n  setMarkersZoom( zoom, family, selectionType ) {\n    this._extendMarkers( 'zoom', zoom, family, selectionType );\n  }\n\n  setMarkersStrokeColor( strokeColor, family, selectionType ) {\n    this._extendMarkers( 'strokeColor', strokeColor, family, selectionType );\n  }\n\n  setMarkersStrokeWidth( strokeWidth, family, selectionType ) {\n    this._extendMarkers( 'strokeWidth', strokeWidth, family, selectionType );\n  }\n\n  setMarkersFillColor( fillColor, family, selectionType ) {\n    this._extendMarkers( 'fillColor', fillColor, family, selectionType );\n  }\n\n  _extendMarkers( type, value, family, selectionType, recalculatePoints ) {\n\n    family = family || 0;\n    selectionType = selectionType || 'unselected';\n\n    if ( !this.styles[ selectionType ] || !this.styles[ selectionType ].markers ) {\n      return;\n    }\n\n    this.styles[ selectionType ].markers[ family ][ type ] = value;\n\n    if ( recalculatePoints ) {\n      this._recalculateMarkerPoints( selectionType, this.styles[ selectionType ].markers );\n    }\n\n    if ( !this.markersDom[ this.styles[ selectionType ].markers[ family ] ] ) { // DOM doesn't exist yet.\n      return;\n    }\n\n    this.setMarkerStyleTo( this.markersDom[ this.styles[ selectionType ].markers[ family ] ].dom, this.styles[ selectionType ].markers[ family ] );\n\n  }\n\n  _recalculateMarkerPoints( selectionType, families ) {\n\n    var markerPoints = [];\n    // Overwriting any other undefined families\n    markerPoints.push( [ 0, Infinity, null ] );\n\n    for ( var i = 0, k = families.length; i < k; i++ ) {\n\n      families[ i ].markerPath = this.getMarkerPath( families[ i ] );\n\n      if ( !families[ i ].points ) {\n        families[ i ].points = 'all';\n      }\n\n      if ( !Array.isArray( families[ i ].points ) ) {\n        families[ i ].points = [ families[ i ].points ];\n      }\n\n      for ( var j = 0, l = families[ i ].points.length; j < l; j++ ) {\n\n        if ( families[ i ].points[ j ] == 'all' ) {\n\n          markerPoints.push( [ 0, Infinity, i ] );\n\n        } else if ( !Array.isArray( families[ i ].points[ j ] ) ) {\n\n          markerPoints.push( [ families[ i ].points[ j ], families[ i ].points[ j ], i ] );\n          //markerPoints.push( [ family[ i ].points[ j ] + 1, null ] );\n        } else {\n\n          markerPoints.push( [ families[ i ].points[ j ][ 0 ], families[ i ].points[ j ][ 1 ], i ] );\n\n        }\n      }\n    }\n\n    this.markerFamilies[ selectionType || 'unselected' ] = families;\n\n    // Let's sort if by the first index.\n    markerPoints.sort( function( a, b ) {\n      return ( a[ 0 ] - b[ 0 ] ) || ( a[ 2 ] == null ? -1 : 1 );\n    } );\n\n    this.markerPoints[ selectionType || 'unselected' ] = markerPoints;\n  }\n\n  insertMarkers( selectionType ) {\n\n    if ( !this.markerFamilies || !this.markerFamilies[ selectionType || this.selectionType ] || this.options.markersIndependant ) {\n      return;\n    }\n\n    for ( var i = 0, l = this.markerFamilies[ selectionType || this.selectionType ].length; i < l; i++ ) {\n\n      if ( !this.markersDom.has( this.markerFamilies[ selectionType || this.selectionType ][ i ] ) ) {\n        continue;\n      }\n\n      let dom =\n        this\n        .markersDom\n        .get( this.markerFamilies[ selectionType || this.selectionType ][ i ] );\n\n      dom.dom\n        .setAttribute(\n          'd',\n          dom.path );\n\n      this.groupMarkers.appendChild( dom.dom );\n      this.currentMarkersSelectionType = this.selectionType;\n    }\n  }\n\n  getMarkerForLegend() {\n\n    if ( !this.markerPoints || !this.markerPoints[ this.selectionType ] ) {\n      return;\n    }\n\n    if ( !this.markerForLegend ) {\n\n      var marker = document.createElementNS( this.graph.ns, 'path' );\n      this.setMarkerStyleTo( marker, this.markerFamilies[ this.selectionType ][ 0 ] );\n\n      marker.setAttribute( 'd', `M 14 0 ${ this.getMarkerPath( this.markerFamilies[ this.selectionType ][ 0 ] )}` );\n\n      this.markerForLegend = marker;\n    }\n\n    return this.markerForLegend;\n  }\n\n  eraseMarkers() {\n\n    var self = this;\n\n    if ( this.options.markersIndependant ) {\n\n      for ( var i in this.independantMarkers ) {\n        self.groupMarkers.removeChild( this.independantMarkers[ i ] );\n      }\n\n      this.independantMarkers = {};\n\n    } else if ( this.currentMarkersSelectionType ) {\n\n      this.markersDom.forEach( function( el ) {\n\n        if ( !el.dom ) {\n          return;\n        }\n\n        if ( el.dom.parentNode !== self.groupMarkers ) {\n          return;\n        }\n\n        self.groupMarkers.removeChild( el.dom );\n        el.path = '';\n      } );\n\n      this.currentMarkersSelectionType = false;\n    }\n\n  }\n\n  isMonotoneous() {\n    if ( this.waveform ) {\n      return this.waveform.isMonotoneous();\n    }\n\n    return !!this.xmonotoneous;\n  }\n\n  findLocalMinMax( xRef, xWithin, type ) {\n\n    if ( !this.waveform ) {\n      return false;\n    }\n\n    return this.waveform.findLocalMinMax( xRef, xWithin, type );\n  }\n\n}\n\nfunction drawMarkerXY( graph, family, x, y, markerDom ) {\n\n  if ( !family ) {\n    return;\n  }\n\n  if ( graph.options.markersIndependant ) {\n    var dom = graph.getMarkerDomIndependent( graph.counter2, family );\n    var p = `M ${ x } ${ y } `;\n    p += `${family.markerPath } `;\n\n    dom.setAttribute( 'd', p );\n  }\n\n  markerDom.path = markerDom.path || '';\n  markerDom.path += `M ${ x } ${ y } `;\n  markerDom.path += `${family.markerPath } `;\n}\n\nutil.mix( SerieLine, ErrorBarMixin );\n\nexport default SerieLine;","var Serie3DMixin = {\n\n  /**\n   * Returns the x position of a certain value in pixels position, based on the serie's axis\n   * @memberof Serie\n   * @param {Number} val - Value to convert to pixels position\n   * @returns {Number} The x position in px corresponding to the x value\n   */\n  getX: function( val ) {\n    return ( ( val = this.getXAxis().getPx( val ) ) - val % 0.2 ) + this.getXAxis().getZProj( this.options.zpos );\n  },\n\n  /**\n   * Returns the y position of a certain value in pixels position, based on the serie's axis\n   * @memberof Serie3DMixin\n   * @param {Number} val - Value to convert to pixels position\n   * @returns {Number} The y position in px corresponding to the y value\n   */\n  getY: function( val ) {\n    return ( ( val = this.getYAxis().getPx( val ) ) - val % 0.2 ) + this.getYAxis().getZProj( this.options.zpos );\n  },\n\n  getZPos: function() {\n    return this.options.zpos;\n  },\n\n  /**\n   * @returns {Number} Lowest x value of the serie's data\n   * @memberof Serie\n   */\n  getMinX: function( useZValues ) {\n    if ( !useZValues ) {\n      return this.minX;\n    }\n\n    return getZCorrectedValue( this, true, true );\n  },\n\n  /**\n   * @returns {Number} Highest x value of the serie's data\n   * @memberof Serie\n   */\n  getMaxX: function( useZValues ) {\n\n    if ( !useZValues ) {\n      return this.maxX;\n    }\n    return getZCorrectedValue( this, true, false );\n  },\n\n  /**\n   * @returns {Number} Lowest y value of the serie's data\n   * @memberof Serie\n   */\n  getMinY: function( useZValues ) {\n\n    if ( !useZValues ) {\n      return this.minY;\n    }\n    return getZCorrectedValue( this, false, true );\n  },\n\n  /**\n   * @returns {Number} Highest y value of the serie's data\n   * @memberof Serie\n   */\n  getMaxY: function( useZValues ) {\n\n    if ( !useZValues ) {\n      return this.maxY;\n    }\n    return getZCorrectedValue( this, false, false );\n  }\n\n};\n\nfunction getZCorrectedValue( serie, x, min ) {\n\n  let i, l, data, val, valFinal;\n  let wf = serie.getWaveforms();\n\n  for ( let wave of wf ) {\n\n    i = 0;\n    l = wave.getLength();\n    data = wave.getData();\n\n    for ( ; i < l; i += 1 ) {\n\n      if ( x ) {\n        val = serie.getXAxis().getVal( serie.getX( wave.getX( i, true ) ) );\n      } else {\n        val = serie.getYAxis().getVal( serie.getY( data[ i ] ) );\n      }\n\n      if ( i == 0 ) {\n        valFinal = val;\n      } else {\n\n        if ( min ) {\n          valFinal = Math.min( valFinal, val );\n        } else {\n          valFinal = Math.max( valFinal, val );\n        }\n      }\n    }\n  }\n  return valFinal;\n}\n\nexport default Serie3DMixin;","import Graph from '../graph.core.js';\nimport Waveform from '../util/waveform.js';\nimport Serie3DMixin from '../mixins/graph.mixin.serie3d.js';\nimport * as util from '../graph.util.js';\n\nimport Serie from './graph.serie.line.js';\n\n/**\n * Serie line with 3D projection\n * @example graph.newSerie( name, options, \"line\" );\n * @see Graph#newSerie\n * @extends SerieLine\n */\nclass SerieLine3D extends Serie {\n\n  static defaults() {\n    return {\n      zpos: 0\n    };\n  }\n  constructor( graph, name, options ) {\n    super( ...arguments );\n\n  }\n\n  /**\n   * Sets the z-position\n   * @memberof SerieLine3D\n   * @param {Number} zPos - The position in the z axis\n   */\n  setZPos( zPos ) {\n    this.options.zpos = zPos;\n    return this;\n  }\n\n  setz() {\n    return this.setZPos( ...arguments );\n  }\n}\n\nutil.mix( SerieLine3D, Serie3DMixin );\nexport default SerieLine3D;","import * as util from '../graph.util.js';\nimport ErrorBarMixin from '../mixins/graph.mixin.errorbars.js';\n\nimport Serie from './graph.serie.line.js';\n\n/**\n * Represents a bar serie.\n   Needs to be used exclusively with a bar axis ({@link AxisXBar}).\n   Supports error bars, line color, line width, fill color, fill opacity.\n * @example graph.newSerie(\"serieName\", { fillColor: 'red', fillOpacity: 0.2 }, \"bar\" );\n * @extends Serie\n */\nclass SerieBar extends Serie {\n\n  constructor( graph, name, options ) {\n\n    super( ...arguments );\n\n    this.groupMain = document.createElementNS( this.graph.ns, 'g' );\n\n    this.pathDom = document.createElementNS( this.graph.ns, 'path' );\n    this.groupMain.appendChild( this.pathDom );\n\n    // Creates an empty style variable\n    this.styles = {};\n\n    // Unselected style\n    this.styles.unselected = {\n      lineColor: this.options.lineColor,\n      lineStyle: this.options.lineStyle,\n      lineWidth: this.options.lineWidth,\n      fillColor: this.options.fillColor,\n      fillOpacity: this.options.fillOpacity,\n      markers: this.options.markers\n    };\n\n  }\n\n  /**\n   *  Sets the data of the bar serie\n   *  @param {Object} data\n   *  @example serie.setData( { \"cat1\": val1, \"cat2\": val2, \"cat4\": val4 } );\n   *  @return {SerieBar} The current serie instance\n   */\n  setData( data ) {\n\n    this.data = data;\n    this.minY = Number.MAX_SAFE_INTEGER;\n    this.maxY = Number.MIN_SAFE_INTEGER;\n\n    for ( var i in this.data ) {\n      this._checkY( this.data[ i ] );\n    }\n\n    return this;\n  }\n\n  /**\n   *  Sets the fill color\n   */\n  setFillColor( fillColor, selectionType, applyToSelected ) {\n\n    selectionType = selectionType || 'unselected';\n    this.styles[ selectionType ] = this.styles[ selectionType ] || {};\n    this.styles[ selectionType ].fillColor = fillColor;\n\n    if ( applyToSelected ) {\n      this.setFillColor( fillColor, 'selected' );\n    }\n\n    this.styleHasChanged( selectionType );\n\n    return this;\n  }\n\n  /**\n   *  Returns the fill color\n   */\n  getFillColor( selectionType ) {\n    return this.getStyle( selectionType ).fillColor;\n  }\n\n  /*\n   * @memberof SerieBar\n   */\n  setFillOpacity( opacity, selectionType, applyToSelected ) {\n\n    selectionType = selectionType || 'unselected';\n    this.styles[ selectionType ] = this.styles[ selectionType ] || {};\n    this.styles[ selectionType ].fillOpacity = opacity;\n\n    if ( applyToSelected ) {\n      this.setLineWidth( opacity, 'selected' );\n    }\n\n    this.styleHasChanged( selectionType );\n\n    return this;\n  }\n\n  getFillOpacity( selectionType ) {\n\n    return this.getStyle( selectionType ).fillOpacity || 1;\n  }\n\n  /**\n   * Reapply the current style to the serie lines elements. Mostly used internally\n   */\n  applyLineStyles() {\n    this.applyLineStyle( this.pathDom );\n  }\n\n  /**\n   * Applies the current style to a line element. Mostly used internally\n   * @memberof SerieBar\n   */\n  applyLineStyle( line ) {\n\n    line.setAttribute( 'stroke', this.getLineColor() );\n    line.setAttribute( 'stroke-width', this.getLineWidth() );\n    if ( this.getLineDashArray() ) {\n      line.setAttribute( 'stroke-dasharray', this.getLineDashArray() );\n    } else {\n      line.removeAttribute( 'stroke-dasharray' );\n    }\n    line.setAttribute( 'fill', this.getFillColor() );\n    line.setAttribute( 'fill-opacity', this.getFillOpacity() || 1 );\n  }\n\n  draw() {\n\n    var path = '';\n    var categoryNumber,\n      position;\n\n    if ( this.error ) {\n      this.errorDrawInit();\n    }\n\n    for ( var i in this.data ) {\n\n      if ( !this.categoryIndices[ i ] ) {\n        continue;\n      }\n\n      path += `M ${\n        this.getXAxis().getPos( this.categoryIndices[ i ] )\n        } ${\n        this.getYAxis().getPos( 0 )\n        } V ${\n        this.getYAxis().getPos( this.data[ i ] )\n        } h ${\n        this.getXAxis().getDeltaPx( 1 / this.nbCategories )\n        } V ${\n        this.getYAxis().getPos( 0 )}`;\n\n      if ( this.error ) {\n        this.errorAddPointBarChart( i, this.data[ i ], this.getXAxis().getPos( this.categoryIndices[ i ] + 0.5 / this.nbCategories ), this.getYAxis().getPos( this.data[ i ] ) );\n      }\n    }\n\n    if ( this.error ) {\n      this.errorDraw();\n    }\n\n    this.pathDom.setAttribute( 'd', path );\n    this.applyLineStyles();\n  }\n\n  // Markers now allowed\n  setMarkers() {}\n\n  getUsedCategories() {\n    return Object.keys( this.data );\n  }\n\n}\n\nexport default SerieBar;","import {\n  extend,\n  guid,\n  throwError,\n  emptyDom\n}\nfrom '../graph.util.js';\n\nimport Serie from './graph.serie.js';\n\n/**\n * @static\n * @extends Serie\n * @example graph.newSerie( name, options, \"scatter\" );\n * @see Graph#newSerie\n */\nclass SerieBox extends Serie {\n\n  static\n  default () {\n    return {\n      orientation: 'y',\n      maxBoxWidth: 20,\n\n      defaultStyle: {\n\n        meanLineColor: 'rgb( 100, 0, 0 )',\n        meanLineWidth: 2,\n\n        boxAboveLineWidth: 1,\n        boxAboveLineColor: 'rgb( 0, 0, 0 )',\n        boxAboveFillColor: 'transparent',\n        boxAboveFillOpacity: 1,\n        boxBelowLineWidth: 1,\n        boxBelowLineColor: 'rgb( 0, 0, 0 )',\n        boxBelowFillColor: 'transparent',\n        boxBelowFillOpacity: 1,\n\n        barAboveLineColor: 'rgba( 0, 0, 0, 1 )',\n        barAboveLineWidth: 1,\n        barBelowLineColor: 'rgba( 0, 0, 0, 1 )',\n        barBelowLineWidth: 1,\n\n        outlierLineWidth: 1,\n        outlierLineColor: 'rgb( 255, 255, 255 )',\n        outlierFillColor: 'rgb( 0, 0, 0 )',\n        outlierFillOpacity: 1\n      }\n    };\n  }\n\n  constructor( graph, name, options ) {\n\n    super( ...arguments );\n\n    this.groupMain = document.createElementNS( this.graph.ns, 'g' );\n\n    this.pathDom = document.createElementNS( this.graph.ns, 'path' );\n    this.groupMain.appendChild( this.pathDom );\n\n    // Creates an empty style variable\n    this.styles = {};\n\n    // Unselected style\n    this.styles.unselected = this.options.defaultStyle;\n\n  }\n\n  /**\n   *  Sets the data of the bar serie\n   *  @param {Object} data\n   *  @example serie.setData( [ { x: 'cat', Q2: valMean, Q1: valBoxMin, Q3: valBoxMax, whiskers: [ val1, val2 ], outliers: [ ...yList ] } ] );\n   *  @return {SerieBar} The current serie instance\n   */\n  setData( data, noRescale ) {\n\n    this.data = data;\n\n    if ( !Array.isArray( data ) ) {\n      return;\n    }\n\n    let axisref, axisval, methodref, methodval, blnX;\n\n    if ( this.options.orientation == 'y' ) {\n      axisref = this.getXAxis();\n      axisval = this.getYAxis();\n      methodref = this._checkX.bind( this );\n      methodval = this._checkY.bind( this );\n      blnX = true;\n\n      this.minY = data[ 0 ].Q2;\n      this.maxY = data[ 0 ].Q2;\n      this.maxX = data[ 0 ].x;\n      this.minX = data[ 0 ].x;\n\n    } else {\n      axisref = this.getYAxis();\n      axisval = this.getXAxis();\n      methodref = this._checkY.bind( this );\n      methodval = this._checkX.bind( this );\n      blnX = false;\n\n      this.minX = data[ 0 ].Q2;\n      this.maxX = data[ 0 ].Q2;\n      this.maxY = data[ 0 ].y;\n      this.minY = data[ 0 ].y;\n\n    }\n\n    if ( noRescale ) {\n      methodref = function() {};\n      methodval = function() {};\n    }\n\n    if ( !axisref || !axisval ) {\n      throwError( 'Error in setting data of the box serie. The X and Y axes must be set beforehand' );\n    }\n\n    for ( var i in this.data ) {\n\n      if ( blnX ) {\n        methodref( this.data[ i ].x );\n        this.data[ i ].pos = this.data[ i ].x;\n      } else {\n        methodref( this.data[ i ].y );\n        this.data[ i ].pos = this.data[ i ].y;\n      }\n\n      if ( this.data[ i ].Q3 ) {\n\n        methodval( this.data[ i ].Q3 );\n\n      }\n\n      if ( this.data[ i ].Q1 ) {\n        methodval( this.data[ i ].Q1 );\n      }\n\n      if ( this.data[ i ].whiskers ) {\n\n        if ( Array.isArray( this.data[ i ].whiskers ) ) {\n\n          if ( this.data[ i ].whiskers.length > 0 ) {\n            methodval( this.data[ i ].whiskers[ 0 ] );\n          }\n\n          if ( this.data[ i ].whiskers.length > 1 ) {\n            methodval( this.data[ i ].whiskers[ 1 ] );\n          }\n\n        } else {\n          methodval( this.data[ i ].whiskers );\n          this.data[ i ].whiskers = [ this.data[ i ].whiskers ];\n        }\n\n      } else {\n        this.data[ i ].whiskers = [];\n      }\n\n      if ( Array.isArray( this.data[ i ].outliers ) ) {\n        this.data[ i ].outliers.map( ( val ) => methodval( val ) );\n      } else {\n        this.data[ i ].outliers = [];\n      }\n    }\n\n    this.dataHasChanged();\n    this.graph.updateDataMinMaxAxes();\n\n    return this;\n  }\n\n  _style( type, styleValue, selectionType = 'unselected', applyToSelected = false ) {\n    this.styles[ selectionType ] = this.styles[ selectionType ] || {};\n    this.styles[ selectionType ][ type ] = styleValue;\n\n    if ( applyToSelected ) {\n      this._set( type, styleValue, 'selected' );\n    }\n\n    this.styleHasChanged( selectionType );\n    return this;\n  }\n\n  _gstyle( type, selectionType ) {\n    return this.getStyle( selectionType )[ type ];\n  }\n\n  /**\n   *  Retrives a selection object\n   *  @param {String} [ selectionType = \"unselected\" ] - The selection type\n   *  @returns {Object} The selection object\n   */\n  getStyle( selectionType = 'unselected' ) {\n\n    return this.styles[ selectionType ] || {};\n  }\n\n  /**\n   *  Sets the mean line color\n   *  @param {String} color - The mean line color\n   *  @returns {SerieBox} The current serie instance\n   */\n  setMeanLineColor() {\n    return this._style( 'meanLineColor', ...arguments );\n  }\n\n  /**\n   *  Returns the mean line color\n   * @return {String} The mean line color\n   */\n  getMeanLineColor() {\n    return this._gstyle( 'meanLineColor', ...arguments );\n  }\n\n  setStyle( style, selectionType = 'unselected' ) {\n    //console.log( style, selectionType );\n    this.styles[ selectionType ] = extend( {}, this.default().defaultStyle, this.styles.unselected, style );\n    this.styleHasChanged( selectionType );\n  }\n\n  /**\n   *  Sets the mean line width\n   *  @param {Number} width - The line width\n   *  @returns {SerieBox} The current serie instance\n   */\n  setMeanLineWidth() {\n    return this._style( 'meanLineWidth', ...arguments );\n  }\n\n  /**\n   *  Returns the mean line width\n   * @return {Number} The mean line width\n   */\n  getMeanLineWidth() {\n    return this._gstyle( 'meanLineWidth', ...arguments );\n  }\n\n  /**\n   *  Sets the box line color\n   *  @param {Number} color - The color of the box above the median\n   *  @returns {SerieBox} The current serie instance\n   */\n  setBoxAboveLineColor() {\n    return this._style( 'boxAboveLineColor', ...arguments );\n  }\n\n  /**\n   * Returns the box line color\n   * @return {String} The line color of the box above the median\n   */\n  getBoxAboveLineColor() {\n    return this._gstyle( 'boxAboveLineColor', ...arguments );\n  }\n\n  /**\n   *  Sets the fill color\n   *  @param {Number} color - The color of the box below the median\n   *  @returns {SerieBox} The current serie instance\n   */\n  setBoxBelowLineColor() {\n    return this._style( 'boxBelowLineColor', ...arguments );\n  }\n\n  /**\n   *  Returns the fill color\n   * @return {String} The line color of the box below the median\n   */\n  getBoxBelowLineColor() {\n    return this._gstyle( 'boxBelowLineColor', ...arguments );\n  }\n\n  /**\n   *  Sets the fill color\n   *  @param {Number} width - The contour width of the box above the median\n   *  @returns {SerieBox} The current serie instance\n   */\n  setBoxAboveLineWidth() {\n    return this._style( 'boxAboveLineWidth', ...arguments );\n  }\n\n  /**\n   * Returns the line width of the box above the median\n   * @return {Number} The line width of the box above the median\n   */\n  getBoxAboveLineWidth() {\n    return this._gstyle( 'boxAboveLineWidth', ...arguments );\n  }\n\n  /**\n   *  Sets the fill color\n   *  @param {Number} width - The contour width of the box below the median\n   *  @returns {SerieBox} The current serie instance\n   */\n  setBoxBelowLineWidth() {\n    return this._style( 'boxBelowLineWidth', ...arguments );\n  }\n\n  /**\n   * Returns the line width of the box below the median\n   * @return {Number} The line width of the box below the median\n   */\n  getBoxBelowLineWidth() {\n    return this._gstyle( 'boxBelowLineWidth', ...arguments );\n  }\n\n  /**\n   *  Sets the fill color\n   *  @param {String} color - The fill color of the box above the median\n   *  @returns {SerieBox} The current serie instance\n   */\n  setBoxAboveFillColor() {\n    return this._style( 'boxAboveFillColor', ...arguments );\n  }\n\n  /**\n   * Returns the fill color of the box above the median\n   * @return {String} The fill color of the box above the median\n   */\n  getBoxAboveFillColor() {\n    return this._gstyle( 'boxAboveFillColor', ...arguments );\n  }\n\n  /**\n   *  Sets the fill color\n   *  @param {String} color - The fill color of the box below the median\n   *  @returns {SerieBox} The current serie instance\n   */\n  setBoxBelowFillColor() {\n    return this._style( 'boxBelowFillColor', ...arguments );\n  }\n\n  /**\n   * Returns the fill color of the box below the median\n   * @return {String} The fill color of the box below the median\n   */\n  getBoxBelowFillColor() {\n    return this._gstyle( 'boxBelowFillColor', ...arguments );\n  }\n\n  /**\n   *  Sets the fill color\n   *  @param {Number} opacity - The fill opacity of the box above the median\n   *  @returns {SerieBox} The current serie instance\n   */\n  setBoxAboveFillOpacity() {\n    return this._style( 'boxAboveFillOpacity', ...arguments );\n  }\n\n  /**\n   * Returns the fill opacity of the box above the median\n   * @return {Number} The fill opacity of the box above the median\n   */\n  getBoxAboveFillOpacity() {\n    return this._gstyle( 'boxAboveFillOpacity', ...arguments );\n  }\n\n  /**\n   *  Sets the fill color\n   *  @param {Number} opacity - The fill opacity of the box below the median\n   *  @returns {SerieBox} The current serie instance\n   */\n  setBoxBelowFillOpacity() {\n    return this._style( 'boxBelowFillOpacity', ...arguments );\n  }\n\n  /**\n   * Returns the fill opacity of the box below the median\n   * @return {Number} The fill opacity of the box below the median\n   */\n  getBoxBelowFillOpacity() {\n    return this._gstyle( 'boxBelowFillOpacity', ...arguments );\n  }\n\n  /**\n   *  Sets the whisker color\n   *  @param {String} color - The line color of the whisker above the median\n   *  @returns {SerieBox} The current serie instance\n   */\n  setBarAboveLineColor() {\n    return this._style( 'barAboveLineColor', ...arguments );\n  }\n\n  /**\n   * Returns the line color of the whisker above the median\n   * @return {String} The line color of the whisker above the median\n   */\n  getBarAboveLineColor() {\n    return this._gstyle( 'barAboveLineColor', ...arguments );\n  }\n\n  /**\n   *  Sets the fill color\n   *  @param {String} color - The line color of the whisker below the median\n   *  @returns {SerieBox} The current serie instance\n   */\n  setBarBelowLineColor() {\n    return this._style( 'barBelowLineColor', ...arguments );\n  }\n\n  /**\n   * Returns the line color of the whisker below the median\n   * @return {String} The line color of the whisker below the median\n   */\n  getBarBelowLineColor() {\n    return this._gstyle( 'barBelowLineColor', ...arguments );\n  }\n\n  /**\n   *  Sets the fill color\n   *  @param {Number} width - The line width of the whisker above the median\n   *  @returns {SerieBox} The current serie instance\n   */\n  setBarAboveLineWidth() {\n    return this._style( 'barAboveLineWidth', ...arguments );\n  }\n\n  /**\n   * Returns the line width of the whisker above the median\n   * @return {Number} The line width of the whisker above the median\n   */\n  getBarAboveLineWidth() {\n    return this._gstyle( 'barAboveLineWidth', ...arguments );\n  }\n\n  /**\n   *  Sets the fill color\n   *  @param {Number} width - The line width of the whisker below the median\n   *  @returns {SerieBox} The current serie instance\n   */\n  setBarBelowLineWidth() {\n    return this._style( 'barBelowLineWidth', ...arguments );\n  }\n\n  /**\n   * Returns the line width of the whisker below the median\n   * @return {Number} The line width of the whisker below the median\n   */\n  getBarBelowLineWidth() {\n    return this._gstyle( 'barBelowLineWidth', ...arguments );\n  }\n\n  /**\n   *  Sets the fill color\n   *  @param {String} color - The outlier stroke color\n   *  @returns {SerieBox} The current serie instance\n   */\n  setOutlierLineColor() {\n    return this._style( 'outlierLineColor', ...arguments );\n  }\n\n  /**\n   * Returns the line color of the outliers\n   * @return {String} The line color of the outliers\n   */\n  getOutlierLineColor() {\n    return this._gstyle( 'outlierLineColor', ...arguments );\n  }\n\n  /**\n   *  Sets the stroke width\n   *  @param {Number} width - The outlier stroke width\n   *  @returns {SerieBox} The current serie instance\n   */\n  setOutlierLineWidth() {\n    return this._style( 'outlierLineWidth', ...arguments );\n  }\n\n  /**\n   * Returns the line width of the outliers\n   * @return {Number} The line width of the outliers\n   */\n  getOutlierLineWidth() {\n    return this._gstyle( 'outlierLineWidth', ...arguments );\n  }\n\n  /**\n   *  Sets the fill color\n   *  @param {String} color - The outlier fill color\n   *  @returns {SerieBox} The current serie instance\n   */\n  setOutlierFillColor() {\n    return this._style( 'outlierFillColor', ...arguments );\n  }\n\n  /**\n   * Returns the fill color of the outliers\n   * @return {String} The fill color of the outliers\n   */\n  getOutlierFillColor() {\n    return this._gstyle( 'outlierFillColor', ...arguments );\n  }\n\n  /**\n   *  Sets the outlier fill opacity\n   *  @param {Number} opacity - The outlier fill opacity\n   *  @returns {SerieBox} The current serie instance\n   */\n  setOutlierFillOpacity() {\n    return this._style( 'outlierFillOpacity', ...arguments );\n  }\n\n  /**\n   * Returns the fill opacity of the outliers\n   * @return {Number} The fill opacity of the outliers\n   */\n  getOutlierFillOpacity() {\n    return this._gstyle( 'outlierFillOpacity', ...arguments );\n  }\n\n  /**\n   * Reapply the current style to the serie lines elements. Mostly used internally\n   *  @returns {SerieBox} The current serie instance\n   */\n  applyLineStyles() {\n    this.applyLineStyle( this.pathDom );\n  }\n\n  /**\n   * Applies the current style to a line element. Mostly used internally\n   * @memberof SerieBar\n   */\n  applyLineStyle( line ) {\n\n    line.setAttribute( 'stroke', this.getLineColor() );\n    line.setAttribute( 'stroke-width', this.getLineWidth() );\n    line.removeAttribute( 'stroke-dasharray' );\n    line.setAttribute( 'fill', this.getFillColor() );\n    line.setAttribute( 'fill-opacity', this.getFillOpacity() || 1 );\n  }\n\n  draw() {\n\n    if ( !this.data ) {\n      return;\n    }\n\n    let position;\n    let axis = this.options.orientation == 'y' ? this.getYAxis() : this.getXAxis();\n    let axis2 = this.options.orientation == 'y' ? this.getXAxis() : this.getYAxis();\n    let boxOtherDimension; // width or height of the box\n    let useCategories = false;\n    let mean, boxAbove, boxBelow, barAbove, barBelow, outliers, posAbove, posBelow;\n    let categoryNumber;\n\n    emptyDom( this.groupMain );\n\n    if ( axis2.getType() == 'category' ) {\n\n      boxOtherDimension = axis2.getRelPx( 0.8 / ( this.nbCategories ) );\n      useCategories = true;\n\n    } else {\n      // Get all the spacing and determine the smallest one\n      boxOtherDimension = this.options.maxBoxWidth;\n      console.log( boxOtherDimension );\n      for ( var i = 0, l = this.data.length; i < l - 1; i++ ) {\n\n        //     console.log( Math.abs( axis.getPx( this.data[ i + 1 ].pos ) - axis.getPx( this.data[ i ].pos ) ), axis.getPx( this.data[ i + 1 ].pos ), axis.getPx( this.data[ i ].pos ) );\n        boxOtherDimension = Math.max( 5, Math.min( boxOtherDimension, Math.abs( axis2.getPx( this.data[ i + 1 ].pos ) - axis2.getPx( this.data[ i ].pos ) ) ) );\n      }\n    }\n\n    for ( var i = 0, l = this.data.length; i < l; i++ ) {\n\n      if ( axis2.getType() == 'category' ) {\n\n        let cat = this.options.orientation == 'y' ? this.data[ i ].x : this.data[ i ].y;\n\n        if ( !this.categoryIndices.hasOwnProperty( cat ) ) {\n\n          if ( Array.isArray( this._linkedToScatterSeries ) ) {\n            for ( let scatter_serie of this._linkedToScatterSeries ) {\n\n              if ( scatter_serie.categoryIndices.hasOwnProperty( cat ) ) {\n\n                position = [ axis2.getPos( scatter_serie.categoryIndices[ cat ] ) + 1.2 * boxOtherDimension / 2 ];\n\n                if ( this.options.orientation == 'y' ) {\n                  axis = scatter_serie.getYAxis();\n                } else {\n                  axis = scatter_serie.getXAxis();\n                }\n\n                break;\n              }\n            }\n          }\n        } else {\n\n          position = [ axis2.getPos( this.categoryIndices[ cat ] ) + 1.2 * boxOtherDimension / 2 ];\n\n        }\n\n      } else {\n\n        position = [ axis2.getPos( this.options.orientation == 'y' ? this.data[ i ].x : this.data[ i ].y ), boxOtherDimension ];\n\n      }\n\n      mean = axis.getPos( this.data[ i ].Q2 );\n      boxAbove = axis.getPos( this.data[ i ].Q3 );\n      boxBelow = axis.getPos( this.data[ i ].Q1 );\n\n      this.data[ i ].whiskers.map( ( val ) => {\n\n        if ( val < this.data[ i ].Q1 ) {\n          barBelow = axis.getPos( val );\n        } else {\n          barAbove = axis.getPos( val );\n        }\n      } );\n\n      outliers = this.data[ i ].outliers.map( ( val ) => axis.getPos( val ) );\n\n      var lineMean = document.createElementNS( this.graph.ns, 'line' );\n\n      this.applyMeanStyle( lineMean );\n\n      var rectAbove = document.createElementNS( this.graph.ns, 'rect' );\n      var rectBelow = document.createElementNS( this.graph.ns, 'rect' );\n\n      if ( this.options.orientation == 'y' ) {\n\n        rectAbove.setAttribute( 'width', boxOtherDimension );\n        rectAbove.setAttribute( 'x', position[ 0 ] - boxOtherDimension / 2 );\n\n        rectBelow.setAttribute( 'width', boxOtherDimension );\n        rectBelow.setAttribute( 'x', position[ 0 ] - boxOtherDimension / 2 );\n\n        lineMean.setAttribute( 'x1', position[ 0 ] - boxOtherDimension / 2 );\n        lineMean.setAttribute( 'x2', position[ 0 ] + boxOtherDimension / 2 );\n        lineMean.setAttribute( 'y1', mean );\n        lineMean.setAttribute( 'y2', mean );\n\n      } else {\n\n        rectAbove.setAttribute( 'height', boxOtherDimension );\n        rectAbove.setAttribute( 'y', position[ 0 ] - boxOtherDimension / 2 );\n\n        rectBelow.setAttribute( 'height', boxOtherDimension );\n        rectBelow.setAttribute( 'y', position[ 0 ] - boxOtherDimension / 2 );\n\n        lineMean.setAttribute( 'y1', position[ 0 ] - boxOtherDimension / 2 );\n        lineMean.setAttribute( 'y2', position[ 0 ] + boxOtherDimension / 2 );\n        lineMean.setAttribute( 'x1', mean );\n        lineMean.setAttribute( 'x2', mean );\n      }\n\n      this.boxPos( rectAbove, mean, boxAbove, this.options.orientation == 'x' );\n      this.boxPos( rectBelow, mean, boxBelow, this.options.orientation == 'x' );\n\n      this.applyBoxStyle( rectAbove, rectBelow );\n\n      var whiskerAbove = document.createElementNS( this.graph.ns, 'line' );\n      var whiskerBelow = document.createElementNS( this.graph.ns, 'line' );\n\n      if ( this.options.orientation == 'y' ) {\n\n        if ( barAbove !== undefined ) {\n          whiskerAbove.setAttribute( 'y1', boxAbove );\n          whiskerAbove.setAttribute( 'y2', barAbove );\n          whiskerAbove.setAttribute( 'x1', position[ 0 ] );\n          whiskerAbove.setAttribute( 'x2', position[ 0 ] );\n        }\n\n        if ( barBelow !== undefined ) {\n          whiskerBelow.setAttribute( 'y1', boxBelow );\n          whiskerBelow.setAttribute( 'y2', barBelow );\n          whiskerBelow.setAttribute( 'x1', position[ 0 ] );\n          whiskerBelow.setAttribute( 'x2', position[ 0 ] );\n        }\n\n      } else {\n\n        if ( barAbove !== undefined ) {\n          whiskerAbove.setAttribute( 'x1', boxAbove );\n          whiskerAbove.setAttribute( 'x2', barAbove );\n          whiskerAbove.setAttribute( 'y1', position[ 0 ] );\n          whiskerAbove.setAttribute( 'y2', position[ 0 ] );\n        }\n\n        if ( barBelow !== undefined ) {\n          whiskerBelow.setAttribute( 'x1', boxBelow );\n          whiskerBelow.setAttribute( 'x2', barBelow );\n          whiskerBelow.setAttribute( 'y1', position[ 0 ] );\n          whiskerBelow.setAttribute( 'y2', position[ 0 ] );\n        }\n      }\n\n      outliers.map( ( outliervalue ) => {\n\n        let outlier = document.createElementNS( this.graph.ns, 'circle' );\n\n        outlier.setAttribute( 'r', 2 );\n\n        if ( this.options.orientation == 'y' ) {\n\n          outlier.setAttribute( 'cx', position[ 0 ] );\n          outlier.setAttribute( 'cy', outliervalue );\n\n        } else {\n\n          outlier.setAttribute( 'cy', position[ 0 ] );\n          outlier.setAttribute( 'cx', outliervalue );\n        }\n\n        this.setOutlierStyle( outlier );\n\n        this.groupMain.appendChild( outlier );\n      } );\n\n      if ( barAbove !== undefined ) {\n        this.groupMain.appendChild( whiskerAbove );\n      }\n\n      if ( barBelow !== undefined ) {\n        this.groupMain.appendChild( whiskerBelow );\n      }\n\n      if ( boxAbove !== undefined ) {\n        this.groupMain.appendChild( rectAbove );\n      }\n\n      if ( boxBelow !== undefined ) {\n        this.groupMain.appendChild( rectBelow );\n      }\n\n      this.groupMain.appendChild( lineMean );\n\n      this.applyWhiskerStyle( whiskerAbove, whiskerBelow );\n    }\n  }\n\n  applyBoxStyle( above, below ) {\n\n    above.setAttribute( 'stroke', this.getBoxAboveLineColor() );\n    above.setAttribute( 'stroke-width', this.getBoxAboveLineWidth() );\n\n    if ( this.getBoxAboveFillColor() !== undefined ) {\n      above.setAttribute( 'fill', this.getBoxAboveFillColor() );\n    }\n    if ( this.getBoxAboveFillOpacity() !== undefined ) {\n      above.setAttribute( 'fill-opacity', this.getBoxAboveFillOpacity() );\n    }\n\n    below.setAttribute( 'stroke', this.getBoxBelowLineColor() );\n    below.setAttribute( 'stroke-width', this.getBoxBelowLineWidth() );\n\n    if ( this.getBoxBelowFillColor() !== undefined ) {\n      below.setAttribute( 'fill', this.getBoxBelowFillColor() );\n    }\n    if ( this.getBoxAboveFillOpacity() !== undefined ) {\n      below.setAttribute( 'fill-opacity', this.getBoxBelowFillOpacity() );\n    }\n  }\n\n  applyWhiskerStyle( above, below ) {\n\n    above.setAttribute( 'stroke', this.getBarAboveLineColor() );\n    above.setAttribute( 'stroke-width', this.getBarAboveLineWidth() );\n\n    below.setAttribute( 'stroke', this.getBarBelowLineColor() );\n    below.setAttribute( 'stroke-width', this.getBarBelowLineWidth() );\n  }\n\n  applyMeanStyle( line ) {\n\n    line.setAttribute( 'stroke', this.getMeanLineColor() );\n    line.setAttribute( 'stroke-width', this.getMeanLineWidth() );\n  }\n\n  setOutlierStyle( outlier ) {\n\n    outlier.setAttribute( 'stroke', this.getOutlierLineColor() );\n    outlier.setAttribute( 'stroke-width', this.getOutlierLineWidth() );\n\n    if ( this.getBoxBelowFillColor() !== undefined ) {\n      outlier.setAttribute( 'fill', this.getOutlierFillColor() );\n    }\n    if ( this.getBoxAboveFillOpacity() !== undefined ) {\n      outlier.setAttribute( 'fill-opacity', this.getOutlierFillOpacity() );\n    }\n  }\n  /**\n   * Returns the index of a category based on its name\n   * @param {String} name - The name of the category\n   */\n  getCategoryIndex( name ) {\n\n    if ( !this.categories ) {\n      throw new Error( 'No categories were defined. Probably axis.setSeries was not called' );\n    }\n\n    for ( var i = 0; i < this.categories.length; i++ ) {\n\n      if ( this.categories[ i ].name == name ) {\n        return i;\n      }\n    }\n\n    return false;\n  }\n\n  // Markers now allowed\n  setMarkers() {}\n\n  boxPos( box, mean, extremity, blnX ) {\n\n    if ( mean > extremity ) {\n\n      box.setAttribute( blnX ? 'x' : 'y', extremity );\n      box.setAttribute( blnX ? 'width' : 'height', mean - extremity );\n\n    } else {\n\n      box.setAttribute( blnX ? 'x' : 'y', mean );\n      box.setAttribute( blnX ? 'width' : 'height', extremity - mean );\n    }\n  }\n\n  getUsedCategories() {\n    let xymode = this.options.orientation == 'y' ? 'x' : 'y';\n\n    let categories = this.data.map( ( d ) => d[ xymode ] );\n\n    if ( Array.isArray( this._linkedToScatterSeries ) ) {\n      this._linkedToScatterSeries.map( ( scatter_serie ) => {\n\n        scatter_serie.getUsedCategories().map( ( scatter_serie_cat ) => {\n          let index;\n          if ( ( index = categories.indexOf( scatter_serie_cat ) ) > -1 ) {\n            categories.splice( index, 1 );\n          }\n\n        } );\n      } );\n\n    }\n\n    return categories;\n  }\n\n  linkToScatterSerie( ...series ) {\n    this._linkedToScatterSeries = series;\n  }\n}\n\nexport default SerieBox;","import * as util from '../graph.util.js';\nimport ErrorBarMixin from '../mixins/graph.mixin.errorbars.js';\n\nimport SerieLine from './graph.serie.line.js';\n\n/**\n * Colored serie line\n * @example graph.newSerie( name, options, \"color\" );\n * @see Graph#newSerie\n * @augments SerieLine\n */\nclass SerieLineColor extends SerieLine {\n\n  constructor( graph, name, options ) {\n\n    super( ...arguments );\n    this.lines = this.lines || {};\n  }\n\n  setColors( colors ) {\n    this.colors = colors;\n  }\n\n  _draw() {\n\n    var self = this,\n      data = this._dataToUse,\n      toBreak,\n      i = 0,\n      j,\n      k,\n      m,\n      x,\n      y,\n      k,\n      o,\n      lastX = false,\n      lastY = false,\n      xpx,\n      ypx,\n      xpx2,\n      ypx2,\n      xAxis = this.getXAxis(),\n      yAxis = this.getYAxis(),\n      xMin = xAxis.getCurrentMin(),\n      yMin = yAxis.getCurrentMin(),\n      xMax = xAxis.getCurrentMax(),\n      yMax = yAxis.getCurrentMax();\n\n    // Y crossing\n    var yLeftCrossingRatio,\n      yLeftCrossing,\n      yRightCrossingRatio,\n      yRightCrossing,\n      xTopCrossingRatio,\n      xTopCrossing,\n      xBottomCrossingRatio,\n      xBottomCrossing;\n\n    var incrXFlip = 0;\n    var incrYFlip = 1;\n\n    var pointOutside = false;\n    var lastPointOutside = false;\n    var pointOnAxis;\n\n    this.eraseLines();\n\n    if ( this.isFlipped() ) {\n      incrXFlip = 1;\n      incrYFlip = 0;\n    }\n\n    this.currentLine = '';\n    m = this.waveform.getLength();\n\n    for ( j = 0; j < m; j += 2 ) {\n\n      x = this.waveform.getX( j );\n      y = this.waveform.getY( j );\n\n      if ( ( x < xMin && lastX < xMin ) || ( x > xMax && lastX > xMax ) || ( ( ( y < yMin && lastY < yMin ) || ( y > yMax && lastY > yMax ) ) && !this.options.lineToZero ) ) {\n        lastX = x;\n        lastY = y;\n        lastPointOutside = true;\n        continue;\n      }\n\n      this.counter2 = j;\n\n      if ( this.markersShown() ) {\n        this.getMarkerCurrentFamily( this.counter2 );\n      }\n\n      xpx2 = this.getX( x );\n      ypx2 = this.getY( y );\n\n      if ( xpx2 == xpx && ypx2 == ypx ) {\n        continue;\n      }\n\n      pointOutside = ( x < xMin || y < yMin || x > xMax || y > yMax );\n      /*\n              if ( this.options.lineToZero ) {\n                pointOutside = ( x < xMin || x > xMax );\n\n                if ( pointOutside ) {\n                  continue;\n                }\n              } else {\n\n                if ( pointOutside || lastPointOutside ) {\n\n                  if ( ( lastX === false || lastY === false ) && !lastPointOutside ) {\n\n                    xpx = xpx2;\n                    ypx = ypx2;\n                    lastX = x;\n                    lastY = y;\n\n                  } else {\n\n                    pointOnAxis = [];\n                    // Y crossing\n                    yLeftCrossingRatio = ( x - xMin ) / ( x - lastX );\n                    yLeftCrossing = y - yLeftCrossingRatio * ( y - lastY );\n                    yRightCrossingRatio = ( x - xMax ) / ( x - lastX );\n                    yRightCrossing = y - yRightCrossingRatio * ( y - lastY );\n\n                    // X crossing\n                    xTopCrossingRatio = ( y - yMin ) / ( y - lastY );\n                    xTopCrossing = x - xTopCrossingRatio * ( x - lastX );\n                    xBottomCrossingRatio = ( y - yMax ) / ( y - lastY );\n                    xBottomCrossing = x - xBottomCrossingRatio * ( x - lastX );\n\n                    if ( yLeftCrossingRatio < 1 && yLeftCrossingRatio > 0 && yLeftCrossing !== false && yLeftCrossing < yMax && yLeftCrossing > yMin ) {\n                      pointOnAxis.push( [ xMin, yLeftCrossing ] );\n                    }\n\n                    if ( yRightCrossingRatio < 1 && yRightCrossingRatio > 0 && yRightCrossing !== false && yRightCrossing < yMax && yRightCrossing > yMin ) {\n                      pointOnAxis.push( [ xMax, yRightCrossing ] );\n                    }\n\n                    if ( xTopCrossingRatio < 1 && xTopCrossingRatio > 0 && xTopCrossing !== false && xTopCrossing < xMax && xTopCrossing > xMin ) {\n                      pointOnAxis.push( [ xTopCrossing, yMin ] );\n                    }\n\n                    if ( xBottomCrossingRatio < 1 && xBottomCrossingRatio > 0 && xBottomCrossing !== false && xBottomCrossing < xMax && xBottomCrossing > xMin ) {\n                      pointOnAxis.push( [ xBottomCrossing, yMax ] );\n                    }\n\n                    if ( pointOnAxis.length > 0 ) {\n\n                      if ( !pointOutside ) { // We were outside and now go inside\n\n                        if ( pointOnAxis.length > 1 ) {\n                          console.error( \"Programmation error. Please e-mail me.\" );\n                          console.log( pointOnAxis, xBottomCrossing, xTopCrossing, yRightCrossing, yLeftCrossing, y, yMin, yMax, lastY );\n                        }\n\n                        this._createLine();\n                        this._addPoint( this.getX( pointOnAxis[ 0 ][ 0 ] ), this.getY( pointOnAxis[ 0 ][ 1 ] ), pointOnAxis[ 0 ][ 0 ], pointOnAxis[ 0 ][ 1 ], false, false, false );\n                        this._addPoint( xpx2, ypx2, lastX, lastY, false, false, true );\n\n                      } else if ( !lastPointOutside ) { // We were inside and now go outside\n\n                        if ( pointOnAxis.length > 1 ) {\n                          console.error( \"Programmation error. Please e-mail me.\" );\n                          console.log( pointOnAxis, xBottomCrossing, xTopCrossing, yRightCrossing, yLeftCrossing, y, yMin, yMax, lastY );\n                        }\n\n                        this._addPoint( this.getX( pointOnAxis[ 0 ][ 0 ] ), this.getY( pointOnAxis[ 0 ][ 1 ] ), pointOnAxis[ 0 ][ 0 ], pointOnAxis[ 0 ][ 1 ], false, false, false );\n\n                      } else {\n\n                        // No crossing: do nothing\n                        if ( pointOnAxis.length == 2 ) {\n                          this._createLine();\n\n                          this._addPoint( this.getX( pointOnAxis[ 0 ][ 0 ] ), this.getY( pointOnAxis[ 0 ][ 1 ] ), pointOnAxis[ 0 ][ 0 ], pointOnAxis[ 0 ][ 1 ], false, false, false );\n                          this._addPoint( this.getX( pointOnAxis[ 1 ][ 0 ] ), this.getY( pointOnAxis[ 1 ][ 1 ] ), pointOnAxis[ 0 ][ 0 ], pointOnAxis[ 0 ][ 1 ], false, false, false );\n                        }\n\n                      }\n                    } else if ( !pointOutside ) {\n                      this._addPoint( xpx2, ypx2, lastX, lastY, j, false, false );\n                    }\n                  }\n\n                  xpx = xpx2;\n                  ypx = ypx2;\n                  lastX = x;\n                  lastY = y;\n\n                  lastPointOutside = pointOutside;\n\n                  continue;\n                }\n\n              }*/\n\n      if ( isNaN( xpx2 ) || isNaN( ypx2 ) ) {\n        if ( this.counter > 0 ) {\n\n          //      this._createLine();\n        }\n        continue;\n      }\n\n      var color = this.colors[ j ];\n\n      this._addPoint( xpx2, ypx2, x, y, xpx, ypx, lastX, lastY, j, color, false, true );\n\n      xpx = xpx2;\n      ypx = ypx2;\n\n      lastX = x;\n      lastY = y;\n    }\n\n    this.latchLines();\n\n    if ( this._tracker ) {\n\n      if ( this._trackerDom ) {\n        this._trackerDom.remove();\n      }\n\n      var cloned = this.groupLines.cloneNode( true );\n      this.groupMain.appendChild( cloned );\n\n      for ( var i = 0, l = cloned.children.length; i < l; i++ ) {\n\n        cloned.children[ i ].setAttribute( 'stroke', 'transparent' );\n        cloned.children[ i ].setAttribute( 'stroke-width', '25px' );\n        cloned.children[ i ].setAttribute( 'pointer-events', 'stroke' );\n      }\n\n      self._trackerDom = cloned;\n\n      self.groupMain.addEventListener( 'mousemove', function( e ) {\n        var coords = self.graph._getXY( e ),\n          ret = self.handleMouseMove( false, false );\n        self._trackingCallback( self, ret, coords.x, coords.y );\n      } );\n\n      self.groupMain.addEventListener( 'mouseleave', function( e ) {\n        self._trackingOutCallback( self );\n      } );\n    }\n    return this;\n\n  }\n\n  _addPoint( xpx, ypx, x, y, xpxbefore, ypxbefore, xbefore, ybefore, j, color, move, allowMarker ) {\n\n    if ( xpxbefore === undefined || ypxbefore === undefined ) {\n      return;\n    }\n\n    if ( isNaN( xpx ) || isNaN( ypx ) ) {\n      return;\n    }\n\n    if ( color._rgb ) {\n      color = `rgba(${ color._rgb[ 0 ] },${ color._rgb[ 1 ] },${ color._rgb[ 2 ] },${ color._rgb[ 3 ] || 1 })`;\n    }\n\n    var line = this.lines[ color ];\n    if ( !line ) {\n      line = this.lines[ color ] = {\n        object: document.createElementNS( this.graph.ns, 'path' ),\n        path: '',\n        color: color\n      };\n      line.object.setAttribute( 'stroke', color );\n      line.color = color;\n      //      this.applyLineStyle( line );\n      this.groupLines.appendChild( line.object );\n    }\n\n    line.path += `M ${ xpxbefore } ${ ypxbefore } L ${ xpx } ${ ypx}`;\n\n    if ( this.hasErrors() ) {\n      this.errorAddPoint( j, x, y, xpx, ypx );\n    }\n\n    /*if ( this.markersShown() && allowMarker !== false ) {\n      drawMarkerXY( this, this.markerFamilies[ this.selectionType ][ this.markerCurrentFamily ], xpx, ypx );\n    }*/\n  }\n\n  removeExtraLines() {\n\n  }\n\n  // Returns the DOM\n  latchLines() {\n\n    for ( var i in this.lines ) {\n      this.lines[ i ].object.setAttribute( 'd', this.lines[ i ].path );\n    }\n  }\n\n  // Returns the DOM\n  eraseLines() {\n\n    for ( var i in this.lines ) {\n      this.lines[ i ].path = '';\n      this.lines[ i ].object.setAttribute( 'd', '' );\n    }\n  }\n\n  /**\n   * Applies the current style to a line element. Mostly used internally\n   * @memberof SerieLine\n   */\n  applyLineStyle( line ) {\n\n    //line.setAttribute( 'stroke', this.getLineColor() );\n    line.setAttribute( 'stroke-width', this.getLineWidth() );\n    if ( this.getLineDashArray() ) {\n      line.setAttribute( 'stroke-dasharray', this.getLineDashArray() );\n    } else {\n      line.removeAttribute( 'stroke-dasharray' );\n    }\n    line.setAttribute( 'fill', 'none' );\n    //\tline.setAttribute('shape-rendering', 'optimizeSpeed');\n  }\n}\n\nexport default SerieLineColor;","import * as util from '../graph.util.js';\nimport ErrorBarMixin from '../mixins/graph.mixin.errorbars.js';\n\nimport Serie from './graph.serie.js';\n\nconst defaults = {};\n\nvar type = 'scatter';\n\n/**\n * @static\n * @augments Serie\n * @example graph.newSerie( name, options, \"scatter\" );\n * @see Graph#newSerie\n */\nclass SerieScatter extends Serie {\n\n  constructor( graph, name, options ) {\n\n    super( ...arguments );\n    this.id = Math.random() + Date.now();\n    this.shapes = []; // Stores all shapes\n    this.shown = true;\n    this.data = [];\n\n    this.shapesDetails = [];\n    this.shapes = [];\n\n    this._type = type;\n\n    util.mapEventEmission( this.options, this );\n\n    this._isMinOrMax = {\n      x: {\n        min: false,\n        max: false\n      },\n      y: {\n        min: false,\n        max: false\n      }\n    };\n\n    this.groupPoints = document.createElementNS( this.graph.ns, 'g' );\n    this.groupMain = document.createElementNS( this.graph.ns, 'g' );\n\n    this.additionalData = {};\n\n    this.selectedStyleGeneral = {};\n    this.selectedStyleModifiers = {};\n\n    this.groupPoints.addEventListener( 'mouseover', ( e ) => {\n      var id = parseInt( e.target.parentElement.getAttribute( 'data-shapeid' ) );\n      this.emit( 'mouseover', id, this.waveform.getX( id ), this.waveform.getY( id ) );\n    } );\n\n    this.groupPoints.addEventListener( 'mouseout', ( e ) => {\n      var id = parseInt( e.target.parentElement.getAttribute( 'data-shapeid' ) );\n      this.emit( 'mouseout', id, this.waveform.getX( id ), this.waveform.getY( id ) );\n    } );\n\n    this.minX = Number.MAX_VALUE;\n    this.minY = Number.MAX_VALUE;\n    this.maxX = Number.MIN_VALUE;\n    this.maxY = Number.MIN_VALUE;\n\n    this.groupMain.appendChild( this.groupPoints );\n    this.currentAction = false;\n\n    if ( this.initExtended1 ) {\n      this.initExtended1();\n    }\n\n    this.styles = {};\n    this.styles.unselected = {};\n    this.styles.selected = {};\n\n    this.styles.unselected.default = {\n      shape: 'circle',\n      cx: 0,\n      cy: 0,\n      r: 3,\n      stroke: 'transparent',\n      fill: 'black'\n    };\n\n    this.styles.selected.default = {\n      shape: 'circle',\n      cx: 0,\n      cy: 0,\n      r: 4,\n      stroke: 'transparent',\n      fill: 'black'\n    };\n\n  }\n\n  /**\n   * Applies for x as the category axis\n   * @example serie.setDataCategory( { x: \"someName\", y: Waveform } );\n   */\n  setDataCategory( data ) {\n\n    let minY = +Infinity;\n    let maxY = -Infinity;\n\n    for ( let dataCategory of data ) {\n\n      this._checkY( dataCategory.y.getMaxY() );\n      this._checkY( dataCategory.y.getMinY() );\n\n    }\n\n    this.data = data;\n    this.dataHasChanged();\n    this.graph.updateDataMinMaxAxes();\n    return this;\n  }\n\n  /**\n   * Removes all DOM points\n   * @private\n   */\n  empty() {\n\n    while ( this.groupPoints.firstChild ) {\n      this.groupPoints.removeChild( this.groupPoints.firstChild );\n    }\n  }\n\n  getSymbolForLegend() {\n\n    if ( this.symbol ) {\n      return this.symbol;\n    }\n\n    var g = document.createElementNS( this.graph.ns, 'g' );\n    g.setAttribute( 'data-shapeid', -1 );\n    var shape = this.doShape( g, this.styles.unselected.default );\n\n    var style = this.getStyle( 'unselected', -1, true );\n\n    for ( var i in style[ -1 ] ) {\n      if ( i == 'shape' ) {\n        continue;\n      }\n      shape.setAttribute( i, style[ -1 ][ i ] );\n    }\n\n    return g;\n\n  }\n\n  /**\n   * Sets style to the scatter points\n   * First argument is the style applied by default to all points\n   * Second argument is an array of modifiers that allows customization of any point of the scatter plot. Data for each elements of the array will augment <code>allStyles</code>, so be sure to reset the style if needed.\n   * All parameters - except <code>shape</code> - will be set as parameters to the DOM element of the shape\n   *\n   * @example\n   * var modifiers = [];\n   * modifiers[ 20 ] = { shape: 'circle', r: 12, fill: 'rgba(0, 100, 255, 0.3)', stroke: 'rgb(0, 150, 255)' };\n   * serie.setStyle( { shape: 'circle', r: 2, fill: 'rgba(255, 0, 0, 0.3)', stroke: 'rgb(255, 100, 0)' }, modifiers ); // Will modify scatter point n20\n   *\n   * @param {Object} allStyles - The general style for all markers\n   * @param {Object} [ modifiers ] - The general style for all markers\n   * @param {String} [ selectionMode=\"unselected\" ] - The selection mode to which this style corresponds. Default is unselected\n   *\n   */\n  setStyle( all, modifiers, mode = 'unselected' ) {\n\n    if ( typeof modifiers == 'string' ) {\n      mode = modifiers;\n      modifiers = false;\n    }\n\n    /*\n    if( ! this.styles[ mode ] ) {\n\n    }\n\n    if ( mode !== \"selected\" && mode !== \"unselected\" ) {\n      throw \"Style mode is not correct. Should be selected or unselected\";\n    }\n*/\n\n    this.styles[ mode ] = this.styles[ mode ] || {};\n    this.styles[ mode ].all = all;\n    this.styles[ mode ].modifiers = modifiers;\n\n    this.styleHasChanged( mode );\n\n    return this;\n  }\n\n  /**\n   * Redraws the serie\n   * @private\n   * @param {force} Boolean - Forces redraw even if the data hasn't changed\n   */\n  draw( force ) { // Serie redrawing\n\n    if ( !force && !this.hasDataChanged() && !this.hasStyleChanged( 'unselected' ) ) {\n      return;\n    }\n\n    var x,\n      y,\n      xpx,\n      ypx,\n      j = 0,\n      k,\n      m,\n      currentLine,\n      max;\n\n    var isCategory = this.getXAxis().getType() == 'category';\n\n    this._drawn = true;\n\n    this.dataHasChanged( false );\n    this.styleHasChanged( false );\n    this.groupMain.removeChild( this.groupPoints );\n\n    var keys = [];\n\n    j = 0;\n    k = 0;\n\n    if ( this.hasErrors() ) {\n      this.errorDrawInit();\n    }\n\n    if ( isCategory ) {\n\n      let k = 0;\n\n      for ( ; j < this.data.length; j++ ) {\n\n        if ( !this.categoryIndices.hasOwnProperty( this.data[ j ].x ) ) {\n          continue;\n        }\n\n        if ( this.error ) {\n          //   this.errorAddPoint( j, position[ 0 ] + position[ 1 ] / 2, 0, this.getX( position[ 0 ] + position[ 1 ] / 2 ), ypx );\n        }\n\n        for ( var n = 0, l = this.data[ j ].y.getLength(); n < l; n++ ) {\n\n          //let xpos = i / ( l - 1 ) * ( position[ 1 ] ) + position[ 0 ];\n\n          ypx = this.getY( this.data[ j ].y.getY( n ) );\n          xpx = this.getX( n / ( l - 1 ) * ( 0.8 / this.nbCategories ) + this.categoryIndices[ this.data[ j ].x ] + 0.1 / this.nbCategories );\n          n++;\n\n          this.shapesDetails[ k ] = this.shapesDetails[ k ] || [];\n          this.shapesDetails[ k ][ 0 ] = xpx;\n          this.shapesDetails[ k ][ 1 ] = ypx;\n          keys.push( k );\n          k++;\n        }\n      }\n    } else {\n\n      for ( ; j < this.waveform.getLength(); j++ ) {\n\n        if (\n          this.waveform.getX( j ) < this.getXAxis().getCurrentMin() ||\n          this.waveform.getX( j ) > this.getXAxis().getCurrentMax() ||\n          this.waveform.getY( j ) < this.getYAxis().getCurrentMin() ||\n          this.waveform.getY( j ) > this.getYAxis().getCurrentMax()\n        ) {\n\n          if ( this.shapes[ j ] ) {\n            this.shapes[ j ].setAttribute( 'display', 'none' );\n          }\n          continue;\n        }\n\n        if ( this.shapes[ j ] ) {\n          this.shapes[ j ].setAttribute( 'display', 'initial' );\n        }\n\n        xpx = this.getX( this.waveform.getX( j ) );\n        ypx = this.getY( this.waveform.getY( j ) );\n\n        if ( this.hasErrors() ) {\n          this.errorAddPoint( j, this.waveform.getX( j ), this.waveform.getY( j ), xpx, ypx );\n        }\n\n        this.shapesDetails[ j ] = this.shapesDetails[ j ] || [];\n        this.shapesDetails[ j ][ 0 ] = xpx;\n        this.shapesDetails[ j ][ 1 ] = ypx;\n        keys.push( j );\n\n        //this.shapes[ j / 2 ] = this.shapes[ j / 2 ] || undefined;\n      }\n    }\n\n    if ( this.hasErrors() ) {\n      this.errorDraw();\n    }\n\n    // This will automatically create the shapes\n    this.applyStyle( 'unselected', keys );\n\n    this.groupMain.appendChild( this.groupPoints );\n  }\n\n  _addPoint( xpx, ypx, k ) {\n\n    let shape;\n    let g = document.createElementNS( this.graph.ns, 'g' );\n    g.setAttribute( 'transform', `translate(${ xpx }, ${ ypx })` );\n    g.setAttribute( 'data-shapeid', k );\n\n    if ( this.extraStyle && this.extraStyle[ k ] ) {\n\n      shape = this.doShape( g, this.extraStyle[ k ] );\n\n    } else if ( this.stdStylePerso ) {\n\n      shape = this.doShape( g, this.stdStylePerso );\n\n    } else {\n\n      shape = this.doShape( g, this.stdStyle );\n    }\n\n    this.shapes[ k ] = shape;\n    this.groupPoints.appendChild( g );\n  }\n\n  doShape( group, shape ) {\n    var el = document.createElementNS( this.graph.ns, shape.shape );\n    group.appendChild( el );\n    return el;\n  }\n\n  getStyle( selection, index, noSetPosition ) {\n\n    var selection = selection || 'unselected';\n    var indices;\n\n    var styles = {};\n\n    if ( typeof index == 'number' ) {\n      indices = [ index ];\n    } else if ( Array.isArray( index ) ) {\n      indices = index;\n    }\n\n    var shape, index, modifier, style, j; // loop variables\n    var styleAll;\n\n    if ( this.styles[ selection ].all !== undefined ) {\n\n      styleAll = this.styles[ selection ].all;\n\n      if ( typeof styleAll == 'function' ) {\n\n        styleAll = styleAll();\n\n      } else if ( styleAll === false ) {\n\n        styleAll = {};\n\n      }\n    }\n\n    var i = 0,\n      l = indices.length;\n\n    for ( ; i < l; i++ ) {\n\n      index = indices[ i ];\n      shape = this.shapes[ index ];\n\n      if ( ( modifier = this.styles[ selection ].modifiers ) && ( typeof modifier == 'function' || modifier[ index ] ) ) {\n\n        if ( typeof modifier == 'function' ) {\n\n          style = modifier( index, shape );\n\n        } else if ( modifier[ index ] ) {\n\n          style = modifier[ index ];\n\n        }\n\n        styles[ index ] = Object.assign( {}, styleAll, style );\n\n      } else if ( styleAll !== undefined ) {\n\n        styles[ index ] = styleAll;\n\n      } else {\n\n        styles[ index ] = this.styles[ selection ].default;\n\n      }\n\n      if ( !styles[ index ] ) {\n        styles[ index ] = styleAll;\n      }\n\n      if ( !shape ) { // Shape doesn't exist, let's create it\n\n        if ( !styles[ index ].shape ) {\n          console.error( style );\n          throw 'No shape was defined with this style.';\n        }\n\n        var g = document.createElementNS( this.graph.ns, 'g' );\n        g.setAttribute( 'data-shapeid', index );\n        this.shapes[ index ] = this.doShape( g, styles[ index ] );\n        this.groupPoints.appendChild( g );\n        shape = this.shapes[ index ];\n      }\n\n      if ( !noSetPosition ) {\n        shape.parentNode.setAttribute( 'transform', `translate(${ this.shapesDetails[ index ][ 0 ] }, ${ this.shapesDetails[ index ][ 1 ] })` );\n      }\n\n    }\n\n    return styles;\n  }\n\n  applyStyle( selection, index, noSetPosition ) {\n\n    var i, j;\n    var styles = this.getStyle( selection, index, noSetPosition );\n\n    for ( i in styles ) {\n\n      for ( j in styles[ i ] ) {\n\n        if ( j !== 'shape' ) {\n\n          if ( styles[ i ][ j ] ) {\n\n            this.shapes[ i ].setAttribute( j, styles[ i ][ j ] );\n\n          } else {\n\n            this.shapes[ i ].removeAttribute( j );\n\n          }\n\n        }\n\n      }\n\n    }\n\n  }\n\n  unselectPoint( index ) {\n    this.selectPoint( index, false );\n  }\n\n  selectPoint( index, setOn, selectionType ) {\n\n    if ( this.shapesDetails[ index ][ 2 ] && this.shapesDetails[ index ][ 2 ] == selectionType ) {\n      return;\n    }\n\n    if ( typeof setOn == 'string' ) {\n      selectionType = setOn;\n      setOn = undefined;\n    }\n\n    if ( Array.isArray( index ) ) {\n      return this.selectPoints( index );\n    }\n\n    if ( this.shapes[ index ] && this.shapesDetails[ index ] ) {\n\n      if ( ( this.shapesDetails[ index ][ 2 ] || setOn === false ) && setOn !== true ) {\n\n        var selectionStyle = this.shapesDetails[ index ][ 2 ];\n        this.shapesDetails[ index ][ 2 ] = false;\n\n        var allStyles = this.getStyle( selectionStyle, index, true );\n        for ( var i in allStyles[ index ] ) {\n          this.shapes[ index ].removeAttribute( i );\n        }\n\n        this.applyStyle( 'unselected', index, true );\n\n      } else {\n\n        selectionType = selectionType || 'selected';\n        this.shapesDetails[ index ][ 2 ] = selectionType;\n\n        this.applyStyle( selectionType, index, true );\n\n      }\n\n    }\n\n  }\n\n  getUsedCategories() {\n\n    if ( typeof this.data[ 0 ] == 'object' ) {\n      return this.data.map( ( d ) => d.x );\n    }\n\n    return [];\n  }\n\n}\n\nutil.mix( SerieScatter, ErrorBarMixin );\n\nexport default SerieScatter;","import Waveform from '../util/waveform.js';\nimport {\n  extend,\n  guid\n} from '../graph.util.js';\n\nimport Serie from './graph.serie.js';\n\n/**\n * @static\n * @extends Serie\n * @example graph.newSerie( name, options, \"scatter\" );\n * @see Graph#newSerie\n */\nclass SerieZone extends Serie {\n\n  static\n  default () {\n    return {\n      fillColor: 'rgba( 0, 0, 0, 0.1 )',\n      lineColor: 'rgba( 0, 0, 0, 1 )',\n      lineWidth: '1px'\n    };\n  }\n  constructor( graph, name, options ) {\n    super( ...arguments );\n\n    this.selectionType = 'unselected';\n    this.id = guid();\n\n    this.groupZones = document.createElementNS( this.graph.ns, 'g' );\n    this.groupMain = document.createElementNS( this.graph.ns, 'g' );\n    this.lineZone = document.createElementNS( this.graph.ns, 'path' );\n    this.lineZone.setAttribute( 'stroke', 'black' );\n    this.lineZone.setAttribute( 'stroke-width', '1px' );\n\n    this.groupMain.appendChild( this.groupZones );\n    this.groupZones.appendChild( this.lineZone );\n\n    this.applyLineStyle( this.lineZone );\n    this.styleHasChanged();\n\n    this.clip = document.createElementNS( this.graph.ns, 'clipPath' );\n    this.clipId = guid();\n    this.clip.setAttribute( 'id', this.clipId );\n\n    this.graph.defs.appendChild( this.clip );\n\n  }\n\n  /**\n   * Assigns a collection of waveforms that make up the zone\n   * The waveforms will appended one after the other, without break\n   * @param {...Waveform} waveforms - The collection of waveforms\n   * @return {SerieZone} - The current serie zone instance\n   * @memberof SerieZone\n   */\n  setWaveform( ...waveforms ) {\n    this.waveforms = waveforms;\n\n    this.waveforms = this.waveforms.map( ( wave ) => {\n\n      if ( !( wave instanceof Waveform ) ) {\n        return new Waveform( wave );\n      } else {\n        return wave;\n      }\n    } );\n\n    this.minX = this.waveforms[ 0 ].getXMin();\n    this.maxX = this.waveforms[ 0 ].getXMax();\n    this.minY = this.waveforms[ 0 ].getMin();\n    this.maxY = this.waveforms[ 0 ].getMax();\n\n    this.waveforms.map( ( wave ) => {\n\n      this.minX = Math.min( wave.getXMin(), this.minX );\n      this.maxX = Math.max( wave.getXMin(), this.maxX );\n      this.minY = Math.min( wave.getMin(), this.minY );\n      this.maxY = Math.max( wave.getMax(), this.maxY );\n    } );\n\n    this.graph.updateDataMinMaxAxes();\n    this.dataHasChanged();\n    return this;\n  }\n\n  setWaveforms() {\n    return this.setWaveform( ...arguments );\n  }\n\n  getWaveforms() {\n    return this.waveforms;\n  }\n\n  setMinMaxWaveforms( min, max ) {\n    this.waveforms = [ min, max.reverse() ];\n    return this;\n  }\n\n  /**\n   * Removes all the dom concerning this serie from the drawing zone\n   */\n  empty() {\n\n    while ( this.group.firstChild ) {\n      this.group.removeChild( this.group.firstChild );\n    }\n  }\n\n  /**\n   * Redraws the serie\n   * @private\n   *\n   * @param {force} Boolean - Forces redraw even if the data hasn't changed\n   */\n  draw( force ) { // Serie redrawing\n\n    if ( force || this.hasDataChanged() ) {\n\n      if ( !this.waveforms ) {\n        return;\n      }\n\n      let\n        dataX = 0,\n        dataY = 0,\n        xpx = 0,\n        ypx = 0,\n        j = 0,\n        line = '',\n        buffer,\n        move = false;\n\n      const xminpx = this.getXAxis().getMinPx(),\n        xmaxpx = this.getXAxis().getMaxPx(),\n        yminpx = this.getYAxis().getMinPx(),\n        ymaxpx = this.getYAxis().getMaxPx();\n\n      const xmin = this.getXAxis().getCurrentMin(),\n        xmax = this.getXAxis().getCurrentMax(),\n        ymin = this.getYAxis().getCurrentMin(),\n        ymax = this.getYAxis().getCurrentMax();\n\n      //this.clipRect.setAttribute( \"x\", Math.min( xmin, xmax ) );\n      //this.clipRect.setAttribute( \"y\", Math.min( ymin, ymax ) );\n      //this.clipRect.setAttribute( \"width\", Math.abs( xmax - xmin ) );\n      //this.clipRect.setAttribute( \"height\", Math.abs( ymax - ymin ) );\n\n      this.groupMain.removeChild( this.groupZones );\n\n      for ( let waveform of this.waveforms ) {\n\n        for ( j = 0; j < waveform.getLength(); j += 1 ) {\n          dataX = waveform.getX( j, true );\n          dataY = waveform.getY( j, true );\n\n          // The y axis in screen coordinate is inverted vs cartesians\n          if ( dataY[ j ] < ymin ) {\n            ypx = this.getY( ymin );\n          } else if ( dataY[ j ] > ymax ) {\n            ypx = this.getY( ymax );\n          }\n\n          if ( dataX !== dataX ) {\n            continue;\n          }\n\n          if ( dataY !== dataY ) {\n            // Let's make a new line\n\n            if ( line.length == 0 ) {\n              continue;\n            }\n\n            line += `L ${ xpx }, ${ this.getY( waveform.getMinY() )}`;\n            move = true;\n            continue;\n          }\n\n          ypx = this.getY( dataY );\n          xpx = this.getX( dataX );\n\n          if ( dataX < xmin || dataX > xmax ) {\n            buffer = [ dataX, dataY[ j ], xpx, ypx ];\n            continue;\n          }\n\n          if ( move ) {\n            line += ` M ${ xpx }, ${ this.getY( waveform.getMinY() ) } `;\n            move = false;\n          }\n\n          if ( line.length > 0 ) {\n            line += ' L ';\n          }\n\n          if ( buffer ) {\n            line += `${buffer[ 2 ] },${ buffer[ 3 ] } `;\n            buffer = false;\n          } else {\n            line += `${xpx },${ ypx } `;\n          }\n        }\n      }\n\n      if ( line !== '' ) {\n        this.lineZone.setAttribute( 'd', `M ${ line } z` );\n      } else {\n        this.lineZone.setAttribute( 'd', '' );\n      }\n      this.groupMain.appendChild( this.groupZones );\n    }\n\n    if ( this.hasStyleChanged( this.selectionType ) ) {\n      this.applyLineStyle( this.lineZone );\n      this.styleHasChanged( false );\n    }\n\n  }\n\n  /**\n   * Applies the computed style to the DOM element fed as a parameter\n   * @private\n   *\n   * @param {SVGLineElement} line - The line to which the style has to be applied to\n   */\n  applyLineStyle( line ) {\n\n    line.setAttribute( 'stroke', this.getLineColor() );\n    line.setAttribute( 'stroke-width', this.getLineWidth() );\n    line.setAttribute( 'fill', this.getFillColor() );\n    line.setAttribute( 'fill-opacity', this.getFillOpacity() );\n    line.setAttribute( 'stroke-opacity', this.getLineOpacity() );\n  }\n\n  /**\n   * Sets the line width\n   *\n   * @param {Number} width - The line width\n   * @returns {SerieZone} - The current serie\n   */\n  setLineWidth( width ) {\n    this.options.lineWidth = width;\n    this.styleHasChanged();\n    return this;\n  }\n\n  /**\n   * Gets the line width\n   *\n   * @returns {Number} - The line width\n   */\n  getLineWidth() {\n    return this.options.lineWidth;\n  }\n\n  /**\n   * Sets the line opacity\n   *\n   * @param {Number} opacity - The line opacity\n   * @returns {SerieZone} - The current serie\n   */\n  setLineOpacity( opacity ) {\n    this.options.lineOpacity = opacity;\n    this.styleHasChanged();\n    return this;\n  }\n\n  /**\n   * Gets the line opacity\n   *\n   * @returns {Number} - The line opacity\n   */\n  getLineOpacity() {\n    return this.options.lineOpacity;\n  }\n\n  /**\n   * Sets the line color\n   *\n   * @param {String} color - The line color\n   * @returns {SerieZone} - The current serie\n   */\n  setLineColor( color ) {\n    this.options.lineColor = color;\n    this.styleHasChanged();\n    return this;\n  }\n\n  /**\n   * Gets the line width\n   *\n   * @returns {Number} - The line width\n   */\n  getLineColor() {\n    return this.options.lineColor;\n  }\n\n  /**\n   * Sets the fill opacity\n   *\n   * @param {Number} opacity - The fill opacity\n   * @returns {SerieZone} - The current serie\n   */\n  setFillOpacity( opacity ) {\n    this.options.fillOpacity = opacity;\n    this.styleHasChanged();\n    return this;\n  }\n\n  /**\n   * Gets the fill opacity\n   *\n   * @returns {Number} - The fill opacity\n   */\n  getFillOpacity() {\n    return this.options.fillOpacity;\n  }\n\n  /**\n   * Sets the fill color\n   *\n   * @param {Number} width - The line width\n   * @returns {Number} - The line width\n   */\n  setFillColor( color ) {\n    this.options.fillColor = color;\n    this.styleHasChanged();\n    return this;\n  }\n\n  /**\n   * Gets the fill color\n   *\n   * @returns {Number} - The fill color\n   */\n  getFillColor() {\n    return this.options.fillColor;\n  }\n\n}\n\nexport default SerieZone;","import Graph from '../graph.core.js';\nimport Waveform from '../util/waveform.js';\nimport Serie3DMixin from '../mixins/graph.mixin.serie3d.js';\nimport * as util from '../graph.util.js';\n\nimport Serie from './graph.serie.zone.js';\n\n/**\n * Serie line with 3D projection\n * @example graph.newSerie( name, options, \"line\" );\n * @see Graph#newSerie\n * @extends SerieLine\n */\nclass SerieZone3D extends Serie {\n\n  static\n  default () {\n    return {\n      zpos: 0\n    };\n  }\n  constructor( graph, name, options ) {\n    super( ...arguments );\n  }\n\n  /**\n   * Sets the z-position\n   * @memberof SerieZone3D\n   * @param {Number} zPos - The position in the z axis\n   */\n  setZPos( zPos ) {\n    this.options.zpos = zPos;\n    return this;\n  }\n\n  setz() {\n    return this.setZPos( ...arguments );\n  }\n}\n\nutil.mix( SerieZone3D, Serie3DMixin );\nexport default SerieZone3D;","import * as util from '../graph.util.js';\n\nimport Serie from './graph.serie.js';\n\n/**\n * Density map serie\n * @example graph.newSerie( name, options, \"densitymap\" );\n * @see Graph#newSerie\n * @augments Serie\n */\nclass SerieDensityMap extends Serie {\n\n  constructor( graph, name, options ) {\n\n    super( ...arguments );\n    util.mapEventEmission( this.options, this ); // Register events\n\n    this.groupMain = document.createElementNS( this.graph.ns, 'g' );\n\n    this.rects = [];\n    this.paths = [];\n\n    this.recalculateBinsOnDraw = false;\n  }\n  /**\n   * Sets the data of the serie. Careful, only one format allowed for now.\n   * @memberof SerieDensityMap\n   * @param {Array} data - A vector containing 2-elements arrays\n   * @return {SerieDensityMap} The current instance\n   * @example serie.setData( [ [ x1, y1 ], [ x2, y2 ], ..., [ xn, yn ] ] );\n   */\n  setData( data ) {\n\n    this.minX = this.maxX = this.minY = this.maxY = 0;\n    var i = 0,\n      l = data.length;\n    this.data = data;\n\n    this.minX = Number.POSITIVE_INFINITY;\n    this.minY = Number.POSITIVE_INFINITY;\n    this.maxX = Number.NEGATIVE_INFINITY;\n    this.maxY = Number.NEGATIVE_INFINITY;\n\n    for ( i = 0; i < l; i++ ) {\n      this._checkX( data[ i ][ 0 ] );\n      this._checkY( data[ i ][ 1 ] );\n    }\n\n    this.dataHasChanged();\n    this.graph.updateDataMinMaxAxes();\n\n    return this;\n\n  }\n\n  /**\n   * Calculates the bins from the (x,y) dataset\n   * @memberof SerieDensityMap\n   * @param {Number} fromX - The first x element to consider\n   * @param {Number} deltaX - The x spacing between two bins\n   * @param {Number} numX - The number of x bins\n   * @param {Number} fromY - The first y element to consider\n   * @param {Number} deltaY - The y spacing between two bins\n   * @param {Number} numY - The number of y bins\n   * @return {Array} The generated density map\n   * @see SerieDensityMap#autoBins\n   * @see SerieDensityMap#autoColorMapBinBoundaries\n   * @see SerieDensityMap#setPxPerBin\n   */\n  calculateDensity( fromX, deltaX, numX, fromY, deltaY, numY ) {\n\n    var densitymap = [],\n      i,\n      l = this.data.length,\n      indexX, indexY;\n\n    var binMin = Number.POSITIVE_INFINITY;\n    var binMax = Number.NEGATIVE_INFINITY;\n\n    for ( i = 0; i < l; i++ ) {\n      indexX = ~~( ( this.data[ i ][ 0 ] - fromX ) / deltaX );\n      indexY = ~~( ( this.data[ i ][ 1 ] - fromY ) / deltaY );\n\n      if ( indexX > numX || indexY > numY || indexX < 0 || indexY < 0 ) {\n        continue;\n      }\n\n      densitymap[ indexX ] = densitymap[ indexX ] || [];\n      densitymap[ indexX ][ indexY ] = densitymap[ indexX ][ indexY ] + 1 || 1;\n\n      binMin = densitymap[ indexX ][ indexY ] < binMin ? densitymap[ indexX ][ indexY ] : binMin;\n      binMax = densitymap[ indexX ][ indexY ] > binMax ? densitymap[ indexX ][ indexY ] : binMax;\n      //binMax = Math.max( binMax, densitymap[ indexX ][ indexY ] );\n    }\n\n    this.maxIndexX = numX;\n    this.maxIndexY = numY;\n\n    this.binMin = binMin;\n    this.binMax = binMax;\n\n    this.deltaX = deltaX;\n    this.deltaY = deltaY;\n\n    this.fromX = fromX;\n    this.fromY = fromY;\n\n    this.numX = numX;\n    this.numY = numY;\n\n    this.densitymap = densitymap;\n    return densitymap;\n  }\n\n  /**\n   * Sets the density map from a precalculated data set\n   * @memberof SerieDensityMap\n   * @param {Array} densitymap - A 2D-array containing the map\n   * @param {Number} fromX - The first x element to consider\n   * @param {Number} deltaX - The x spacing between two bins\n   * @param {Number} fromY - The first y element to consider\n   * @param {Number} deltaY - The y spacing between two bins\n   * @return {Array} The generated density map\n   * @see SerieDensityMap#autoBins\n   * @see SerieDensityMap#autoColorMapBinBoundaries\n   * @see SerieDensityMap#setPxPerBin\n   */\n  setDensityMap( densitymap, fromX, deltaX, fromY, deltaY ) {\n\n    var i,\n      j,\n      indexX, indexY;\n\n    var binMin = Number.POSITIVE_INFINITY;\n    var binMax = Number.NEGATIVE_INFINITY;\n\n    for ( i = 0; i < densitymap.length; i++ ) {\n\n      for ( j = 0; j < densitymap[ i ].length; j++ ) {\n        binMin = densitymap[ i ][ j ] < binMin ? densitymap[ i ][ j ] : binMin;\n        binMax = densitymap[ i ][ j ] > binMax ? densitymap[ i ][ j ] : binMax;\n      }\n      //binMax = Math.max( binMax, densitymap[ indexX ][ indexY ] );\n    }\n\n    this.maxIndexX = densitymap.length;\n    this.maxIndexY = densitymap[ 0 ].length;\n    console.log( densitymap );\n    this.binMin = binMin;\n    this.binMax = binMax;\n\n    this.deltaX = deltaX;\n    this.deltaY = deltaY;\n\n    this.fromX = fromX;\n    this.fromY = fromY;\n\n    this.numX = this.maxIndexX;\n    this.numY = this.maxIndexY;\n\n    this.densitymap = densitymap;\n    return densitymap;\n  }\n\n  /**\n   * Calculates the bins from the (x,y) dataset using bin weighing\n   * Will assign a set of (x,y) to the 4 neighbouring bins according to its exact position\n   * @memberof SerieDensityMap\n   * @param {Number} fromX - The first x element to consider\n   * @param {Number} deltaX - The x spacing between two bins\n   * @param {Number} numX - The number of x bins\n   * @param {Number} fromY - The first y element to consider\n   * @param {Number} deltaY - The y spacing between two bins\n   * @param {Number} numY - The number of y bins\n   * @return {Array} The generated density map\n   * @see SerieDensityMap#autoBins\n   * @see SerieDensityMap#autoColorMapBinBoundaries\n   * @see SerieDensityMap#setPxPerBin\n   */\n  calculateDensityWeighted( fromX, deltaX, numX, fromY, deltaY, numY ) {\n\n    var densitymap = [],\n      i,\n      l = this.data.length,\n      indexX, indexY;\n\n    var binMin = Number.POSITIVE_INFINITY;\n    var binMax = Number.NEGATIVE_INFINITY;\n\n    var compX, compY;\n    var exactX, exactY;\n    var indexXLow, indexXHigh, indexYLow, indexYHigh;\n\n    for ( i = 0; i < l; i++ ) {\n      exactX = ( ( this.data[ i ][ 0 ] - fromX ) / deltaX ) - 0.5;\n      exactY = ( ( this.data[ i ][ 1 ] - fromY ) / deltaY ) - 0.5;\n\n      indexX = Math.floor( exactX );\n      indexY = Math.floor( exactY );\n\n      indexXLow = indexX; //Math.floor( exactX );\n      indexYLow = indexY; //Math.floor( exactY );\n\n      indexXHigh = indexX + 1; //Math.ceil( exactX );\n      indexYHigh = indexY + 1; //Math.ceil( exactY );\n\n      compX = ( 1 - ( exactX - indexX ) );\n      compY = ( 1 - ( exactY - indexY ) );\n\n      //console.log( exactY, indexY );\n      //console.log( compY, indexYLow, indexYHigh );\n      if ( indexX > numX || indexY > numY || indexX < 0 || indexY < 0 ) {\n        continue;\n      }\n\n      densitymap[ indexXLow ] = densitymap[ indexXLow ] || [];\n      densitymap[ indexXHigh ] = densitymap[ indexXHigh ] || [];\n\n      densitymap[ indexXLow ][ indexYLow ] = densitymap[ indexXLow ][ indexYLow ] || 0;\n      densitymap[ indexXHigh ][ indexYLow ] = densitymap[ indexXHigh ][ indexYLow ] || 0;\n      densitymap[ indexXLow ][ indexYHigh ] = densitymap[ indexXLow ][ indexYHigh ] || 0;\n      densitymap[ indexXHigh ][ indexYHigh ] = densitymap[ indexXHigh ][ indexYHigh ] || 0;\n\n      densitymap[ indexXLow ][ indexYLow ] += compX * compY;\n      densitymap[ indexXHigh ][ indexYLow ] += ( 1 - compX ) * compY;\n      densitymap[ indexXLow ][ indexYHigh ] += compX * ( 1 - compY );\n      densitymap[ indexXHigh ][ indexYHigh ] += ( 1 - compX ) * ( 1 - compY );\n\n      // A loop would be nicer, but would it be faster ?\n      binMin = densitymap[ indexXLow ][ indexYLow ] < binMin ? densitymap[ indexXLow ][ indexYLow ] : binMin;\n      binMax = densitymap[ indexXLow ][ indexYLow ] > binMax ? densitymap[ indexXLow ][ indexYLow ] : binMax;\n      binMin = densitymap[ indexXHigh ][ indexYLow ] < binMin ? densitymap[ indexXHigh ][ indexYLow ] : binMin;\n      binMax = densitymap[ indexXHigh ][ indexYLow ] > binMax ? densitymap[ indexXHigh ][ indexYLow ] : binMax;\n      binMin = densitymap[ indexXLow ][ indexYHigh ] < binMin ? densitymap[ indexXLow ][ indexYHigh ] : binMin;\n      binMax = densitymap[ indexXLow ][ indexYHigh ] > binMax ? densitymap[ indexXLow ][ indexYHigh ] : binMax;\n      binMin = densitymap[ indexXHigh ][ indexYHigh ] < binMin ? densitymap[ indexXHigh ][ indexYHigh ] : binMin;\n      binMax = densitymap[ indexXHigh ][ indexYHigh ] > binMax ? densitymap[ indexXHigh ][ indexYHigh ] : binMax;\n\n      //binMax = Math.max( binMax, densitymap[ indexX ][ indexY ] );\n    }\n\n    this.maxIndexX = numX;\n    this.maxIndexY = numY;\n\n    this.binMin = binMin;\n    this.binMax = binMax;\n\n    this.deltaX = deltaX;\n    this.deltaY = deltaY;\n\n    this.fromX = fromX;\n    this.fromY = fromY;\n\n    this.numX = numX;\n    this.numY = numY;\n\n    this.densitymap = densitymap;\n    return densitymap;\n  }\n\n  /**\n   * Calculates the density map based on the minimum and maximum values found in the data array\n   * @memberof SerieDensityMap\n   * @param {Number} [ numX = 400 ] - The number of x bins\n   * @param {Number} [ numY = numX ] - The number of y bins\n   * @return {SerieDensityMap} The current instance\n   * @see SerieDensityMap#calculateDensity\n   */\n  autoBins( numX, numY ) {\n\n    this.numX = numX || 400;\n    this.numY = numY || this.numX;\n\n    this.calculateDensity(\n      this.minX, ( this.maxX - this.minX ) / numX, numX,\n      this.minY, ( this.maxY - this.minY ) / numY, numY\n    );\n\n    this.recalculateBinsOnDraw = false;\n\n    return this;\n  }\n\n  /**\n   * Only calculates the density map upon redraw based on the current state of the graph. In this mode, a fixed number of pixels per bin is used to calculate the number of bins and fed into\n   * the calculation of the density map. In this method, the color map spans on the full scale of the density map values (i.e. a subrange cannot be defined, like you would do using {@link SerieDensityMap#setColorMapBinBoundaries}).\n   * @memberof SerieDensityMap\n   * @param {Number} pxPerBinX - The number of x bins per pixels. Should be an integer, but technically it doesn't have to\n   * @param {Number} pxPerBinY - The number of y bins per pixels. Should be an integer, but technically it doesn't have to\n   * @param {Boolean} weightedDensityMap - Whether jsGraph should use weighted density mapping or not\n   * @return {SerieDensityMap} The current instance\n   * @see SerieDensityMap#calculateDensity\n   */\n  setPxPerBin( pxPerBinX, pxPerBinY, weightedDensityMap ) {\n\n    if ( pxPerBinX ) {\n      this.calculationDensityMap( {\n        from: 'min',\n        to: 'max',\n        pxPerBin: pxPerBinX,\n        weighted: weightedDensityMap\n      } );\n    }\n\n    if ( pxPerBinY ) {\n      this.calculationDensityMap( false, {\n        from: 'min',\n        to: 'max',\n        pxPerBin: pxPerBinY,\n        weighted: weightedDensityMap\n      } );\n    }\n\n    return this;\n  }\n\n  /**\n   * Sets bins in the ```x``` or ```y``` direction based on a from value, a to value and a number of bins.\n   * @memberof SerieDensityMap\n   * @param {String} mode - ```x``` or ```y```\n   * @param {Number} from - The from value of the bin for the calculation with ```calculateDensityMap```\n   * @param {Number} to - The to value\n   * @param {Number} num - The number of bins\n   * @return {SerieDensityMap} The current instance\n   * @see SerieDensityMap#calculateDensity\n   */\n  setBinsFromTo( mode, from, to, num ) {\n\n    this.densityMapCalculation = this.densityMapCalculation || {};\n\n    this.densityMapCalculation[ mode ] = {\n      from: from,\n      to: to,\n      numBins: num\n    };\n    this.calculationDensityMap();\n    return this;\n  }\n\n  calculationDensityMap( x, y ) {\n\n    this.method = this.calculateDensityAdvanced;\n    this.densityMapCalculation = this.densityMapCalculation || {};\n\n    if ( x ) {\n      this.densityMapCalculation.x = x;\n    }\n\n    if ( y ) {\n      this.densityMapCalculation.y = y;\n    }\n  }\n\n  calculateDensityAdvanced() {\n\n    var results = {\n      x: {\n        from: 0,\n        num: 0,\n        delta: 0,\n        weighing: false\n      },\n\n      y: {\n        from: 0,\n        num: 0,\n        delta: 0,\n        weighing: false\n      }\n    };\n\n    var widthValues = {\n      x: this.graph.drawingSpaceWidth,\n      y: this.graph.drawingSpaceHeight\n    };\n    var axisGetter = {\n      x: this.getXAxis,\n      y: this.getYAxis\n    };\n\n    var weighing = false;\n\n    for ( var i in this.densityMapCalculation ) {\n\n      if ( this.densityMapCalculation[ i ].weighted ) {\n        weighing = true;\n        results[ i ].weighing = true;\n      }\n\n      if ( this.densityMapCalculation[ i ].pxPerBin ) {\n\n        // In value\n\n        var from = ( this.densityMapCalculation[ i ].from == 'min' ) ? axisGetter[ i ].call( this ).getCurrentMin() : this.densityMapCalculation[ i ].from;\n        var to = this.densityMapCalculation[ i ].to == 'max' ? axisGetter[ i ].call( this ).getCurrentMax() : this.densityMapCalculation[ i ].to;\n\n        // In px\n        var dimension = Math.abs( axisGetter[ i ].call( this ).getRelPx( to - from ) );\n        results[ i ].num = Math.ceil( widthValues[ i ] / this.densityMapCalculation[ i ].pxPerBin );\n\n        //console.log( from, from - axisGetter[ i ].call( this ).getRelVal( ( results[i ].num * this.densityMapCalculation[ i ].pxPerBin - dimension ) / 2 ), ( results[i ].num * this.densityMapCalculation[ i ].pxPerBin - dimension ) / 2 );\n        results[ i ].from = from - Math.abs( axisGetter[ i ].call( this ).getRelVal( ( ( results[ i ].num ) * this.densityMapCalculation[ i ].pxPerBin - dimension ) / 2 ) );\n        results[ i ].delta = Math.abs( axisGetter[ i ].call( this ).getRelVal( this.densityMapCalculation[ i ].pxPerBin ) );\n\n      } else {\n\n        results[ i ].num = this.densityMapCalculation[ i ].numBins || 400;\n        results[ i ].from = ( this.densityMapCalculation[ i ].from == 'min' ) ? axisGetter[ i ].call( this ).getCurrentMin() : this.densityMapCalculation[ i ].from;\n        results[ i ].delta = ( this.densityMapCalculation[ i ].to ) ? ( ( this.densityMapCalculation[ i ].to == 'max' ? axisGetter[ i ].call( this ).getCurrentMax() : this.densityMapCalculation[ i ].to ) - results[ i ].from ) / ( results[ i ].num ) : this.densityMapCalculate[ i ].delta;\n\n      }\n\n      //      console.log( axisGetter[ i ].call( this ).getCurrentMin(), axisGetter[ i ].call( this ).getCurrentMax(), )\n    }\n    //console.log( this.getYAxis().getCurrentMin(), this.getYAxis().getCurrentMax(), this.graph.drawingSpaceHeight );\n\n    //console.log( this.densityMapCalculation );\n\n    ( weighing ? this.calculateDensityWeighted : this.calculateDensity ).call( this,\n      results.x.from, results.x.delta, results.x.num,\n      results.y.from, results.y.delta, results.y.num\n    );\n  }\n\n  /**\n   * Selects a subrange of bins for the color mapping. There is no need to recalculate the color map after calling this method\n   * @memberof SerieDensityMap\n   * @param {Number} binMin - The minimum bin value\n   * @param {Number} binMax - The maximum bin value\n   * @return {SerieDensityMap} The current instance\n   * @example // In this case, all bins with values below binMin * 2 (the middle scale) will be rendered with the first color of the color map\n   * serie.setColorMapBinBoundaries( serie.binMin * 2, serie.binMax );\n   */\n  setColorMapBinBoundaries( min, max, _internal ) {\n    this.colorMapMin = min;\n    this.colorMapMax = max;\n\n    if ( !_internal ) {\n      // If the method is called externally, the bins must be fixed and not automatically scaled when the draw method is invoked.\n      this.callbackColorMapMinMax = 'manual';\n    }\n\n    return this;\n  }\n\n  /**\n   * Calls {@link SerieDensityMap#setColorMapBinBoundaries} using the minimum and maximum bin values calculated by {@link SerieDensityMap#calculateDensity}. This function must be called, since colorMinMap and colorMaxMap are not set automatically when the density map is calculated.\n   * @memberof SerieDensityMap\n   * @param {Number} binMin - The minimum bin value\n   * @param {Number} binMax - The maximum bin value\n   * @return {SerieDensityMap} The current instance\n   */\n  autoColorMapBinBoundaries() {\n    this.colorMapMin = this.binMin;\n    this.colorMapMax = this.binMax;\n    return this;\n  }\n\n  /**\n   * Allows the use of a callback to determine the color map min and max value just before the density map is redrawn. This is very useful when the density map is recalculate before redraw, such as in the case where bins per pixels are used\n   * @memberof SerieDensityMap\n   * @param {(String|Function)} callback - The callback function to call. Should return an array with two elements ```[ colorMapMin, colorMapMax ]```. This parameter can also take the value ```auto```, in which case ```autoColorMapBinBoundaries``` will be called before redraw\n   * @return {SerieDensityMap} The current instance\n   */\n  onRedrawColorMapBinBoundaries( callback ) {\n    this.callbackColorMapMinMax = callback;\n    return this;\n  }\n\n  /**\n   * Generates a color map based on a serie of HSL(A) values.\n   * @summary Colors can scale linearly, logarithmically (enhances short range differences) or exponentially (enhances long range differences).\n   * One word of advice though. SVG being not canvas, jsGraph has to create a path for each color value of the color map. In other words, if you're asking for 16-bit coloring (65536 values), 65536 SVG paths will be created and your browser will start to suffer from it.\n   * As of now, all the colors in colorStops will be places at equal distances from each other between <code>colorMapMin</code> and <code>colorMapMax</code> set by {@link autoColorMapBinBoundaries} or {@link setColorMapBinBoundaries}\n   * @memberof SerieDensityMap\n   * @param {Array<Object>} colorStops - An array of objects, each having the following format: <code>{ h: [ 0-360], s: 0-1, l: 0-1, a: 0-1}</code>\n   * @param {Number} numColors - The number of colors to compute.\n   * @param {String} [ method = \"linear\" ] - The method to use to calculate the density map: <code>linear</code>, <code>exp</code>, or <code>log</code>\n   * @return {SerieDensityMap} The current instance\n   */\n  colorMapHSL( colorStops, numColors, method ) {\n\n    method = method || 'linear';\n\n    var methods = {\n      'exp': function( value ) {\n        return ( Math.exp( value / numColors * 1 ) - Math.exp( 0 ) ) / ( Math.exp( 1 ) - Math.exp( 0 ) );\n      },\n      'log': function( value ) {\n        return ( Math.log( value + 1 ) - Math.log( 1 ) ) / ( Math.log( numColors + 1 ) - Math.log( 1 ) );\n      },\n      'linear': function( value ) {\n        return ( value - 0 ) / ( numColors - 0 );\n      }\n    };\n\n    var k = 0,\n      colorMap = [],\n      opacities = [];\n\n    var color = {\n      h: null,\n      s: null,\n      l: null,\n      a: null\n    };\n\n    var ratio, first;\n\n    var slices = colorStops.length - 1;\n\n    for ( var i = 0; i <= numColors; i++ ) {\n\n      ratio = methods[ method ]( i );\n\n      first = Math.floor( ratio * slices );\n\n      if ( first == colorStops.length - 1 ) { // Handle 1\n        first = slices - 1;\n      }\n\n      ratio = ( ratio - first / ( slices ) ) / ( 1 / ( slices ) );\n\n      for ( var j in color ) {\n        color[ j ] = ( colorStops[ first + 1 ][ j ] - colorStops[ first ][ j ] ) * ratio + colorStops[ first ][ j ];\n      }\n\n      colorMap[ k ] = `hsl(${ color.h }, ${ Math.round( color.s * 100 ) }%, ${ Math.round( color.l * 100 ) }%)`; //this.HSVtoRGB( color.h, color.s, color.v );\n      opacities[ k ] = color.a;\n      k++;\n    }\n\n    this.opacities = opacities;\n    this.colorMap = colorMap;\n    this.colorMapNum = numColors;\n\n    return this;\n  }\n\n  /**\n   * Calls {@link SerieDensityMap#colorMapHSV} using 100 colors.\n   * @memberof SerieDensityMap\n   * @param {Array<Object>} colorStops - An array of objects, each having the following format: <code>{ h: [ 0-360], s: 0-1, l: 0-1, a: 0-1}</code>\n   * @param {String} [ method = \"linear\" ] - The method to use to calculate the density map: <code>linear</code>, <code>exp</code> or <code>log</code>\n   * @return {SerieDensityMap} The current instance\n   */\n  autoColorMapHSL( colorStops, method = 'linear' ) {\n    this.colorMapHSL( colorStops, 100, method );\n    return this;\n  }\n\n  /*  byteToHex( b ) {\n        return hexChar[ ( b >> 4 ) & 0x0f ] + hexChar[ b & 0x0f ];\n      }\n      */\n  /*\n    HSVtoRGB( h, s, v ) {\n      var r, g, b, i, f, p, q, t;\n      if ( arguments.length === 1 ) {\n        s = h.s, v = h.v, h = h.h;\n      }\n      i = Math.floor( h * 6 );\n      f = h * 6 - i;\n      p = v * ( 1 - s );\n      q = v * ( 1 - f * s );\n      t = v * ( 1 - ( 1 - f ) * s );\n      switch ( i % 6 ) {\n        case 0:\n          r = v, g = t, b = p;\n          break;\n        case 1:\n          r = q, g = v, b = p;\n          break;\n        case 2:\n          r = p, g = v, b = t;\n          break;\n        case 3:\n          r = p, g = q, b = v;\n          break;\n        case 4:\n          r = t, g = p, b = v;\n          break;\n        case 5:\n          r = v, g = p, b = q;\n          break;\n      }\n      return \"#\" + this.byteToHex( Math.floor( r * 255 ) ) + this.byteToHex( Math.floor( g * 255 ) ) + this.byteToHex( Math.floor( b * 255 ) );\n    }\n  */\n\n  /**\n   * Returns the color index (```[ 0 - 1 ]```) for a certain value, based on colorMapMin and colorMapMax.\n   * @memberof SerieDensityMap\n   * @param {Number} binValue - The value of the bin\n   * @return {Number} The color index\n   */\n  getColorIndex( binValue ) {\n\n    return Math.max( 0, Math.min( this.colorMapNum, Math.floor( ( binValue - this.colorMapMin ) / ( this.colorMapMax - this.colorMapMin ) * this.colorMapNum ) ) );\n  }\n\n  /**\n   * Draws the serie\n   * @memberof SerieDensityMap\n   * @private\n   */\n  draw() {\n\n    var colorIndex;\n\n    if ( this.method ) {\n      this.method();\n    }\n\n    if ( !this.callbackColorMapMinMax || this.colorMapMin == undefined || this.colorMapMax == undefined || this.callbackColorMapMinMax == 'auto' ) {\n\n      this.autoColorMapBinBoundaries();\n\n    } else if ( typeof this.callbackColorMapMinMax == 'function' ) {\n\n      var val = this.callbackColorMapMinMax( this.binMin, this.binMax );\n      this.setColorMapBinBoundaries( val[ 0 ], val[ 1 ], true );\n    }\n\n    var deltaXPx = this.getXAxis().getRelPx( this.deltaX ),\n      deltaYPx = this.getYAxis().getRelPx( this.deltaY );\n\n    for ( var i = 0; i < this.paths.length; i++ ) {\n      this.paths[ i ] = '';\n    }\n\n    console.log( this.maxIndexX, this.maxIndexY );\n\n    for ( var i = 0; i < this.maxIndexX; i++ ) {\n\n      for ( var j = 0; j < this.maxIndexY; j++ ) {\n\n        if ( this.densitymap[ i ] == undefined || this.densitymap[ i ][ j ] == undefined ) {\n          continue;\n        }\n\n        colorIndex = this.getColorIndex( this.densitymap[ i ][ j ] );\n        if ( !this.paths[ colorIndex ] ) {\n          this.paths[ colorIndex ] = '';\n        }\n\n        this.paths[ colorIndex ] += ` M ${ this.getXAxis().getPx( i * this.deltaX + this.fromX ) } ${ this.getYAxis().getPx( j * this.deltaY + this.fromY ) } h ${ deltaXPx } v ${ deltaYPx } h -${ deltaXPx } z`;\n\n      }\n    }\n    /*\n        this.maxIndexX = indexX;\n        this.maxIndexY = indexY;*/\n\n    this.drawRects();\n  }\n\n  /**\n   * Draws the rectangles\n   * @memberof SerieDensityMap\n   * @private\n   */\n  drawRects() {\n\n    for ( var i = 0; i < this.paths.length; i++ ) {\n\n      if ( !this.rects[ i ] ) {\n        this.rects[ i ] = document.createElementNS( this.graph.ns, 'path' );\n        this.rects[ i ].setAttribute( 'shape-rendering', 'crispEdges' );\n\n      }\n\n      if ( this.paths[ i ] !== undefined ) {\n        this.rects[ i ].setAttribute( 'd', this.paths[ i ] );\n        this.rects[ i ].setAttribute( 'fill', this.colorMap[ i ] );\n        this.rects[ i ].setAttribute( 'fill-opacity', this.opacities[ i ] );\n      }\n      this.groupMain.appendChild( this.rects[ i ] );\n    }\n\n  }\n\n  /**\n   * Sets the options of the serie\n   * @see SerieDensityMapDefaultOptions\n   * @param {Object} options - A object containing the options to set\n   * @return {SerieDensityMap} The current serie\n   * @memberof SerieDensityMap\n   */\n  setOptions( options ) {\n    this.options = util.extend( true, {}, this.defaults(), ( options || {} ) );\n    // Unselected style\n\n    return this;\n  }\n}\n\nexport default SerieDensityMap;","import * as util from '../graph.util.js';\n\nimport SerieLine from './graph.serie.line.js';\n\n/**\n * Constructor for the contour serie. Do not use this constructor directly, but use the {@link Graph#newSerie} method\n * @private\n * @extends Serie\n * @example graph.newSerie( name, options, \"contour\" );\n * @see Graph#newSerie\n */\nclass SerieContour extends SerieLine {\n\n  constructor( graph, name, options ) {\n    super( ...arguments );\n\n    this.negativeDelta = 0;\n    this.positiveDelta = 0;\n\n    this.negativeThreshold = 0;\n    this.positiveThreshold = 0;\n\n    this.groupMain.setAttribute( 'clip-path', `url(#_clipplot${ graph._creation })` );\n  }\n\n  /**\n   * Sets the contour lines\n   * @memberof SerieContour.prototype\n   * @param {Object} data - The object data\n   * @param {Number} data.minX - The minimum x value\n   * @param {Number} data.maxX - The maximum x value\n   * @param {Number} data.minY - The minimum y value\n   * @param {Number} data.maxY - The maximum y value\n   * @param {Object[]} data.segments - The segments making up the contour lines\n   * @param {Number[]} data.segments.lines - An array of alternating (x1,y1,x2,y2) quadruplet\n   * @param {Number} data.segments.zValue - The corresponding z-value of this array\n   * @return {Serie} The current serie\n   */\n  setData( data, arg, type ) {\n\n    var z = 0;\n    var x, dx, arg = arg || '2D',\n      type = type || 'float',\n      i, l = data.length,\n      j, k,\n      arr, datas = [];\n\n    if ( !( data instanceof Array ) ) {\n\n      if ( typeof data == 'object' ) {\n        // Def v2\n        this.minX = data.minX;\n        this.minY = data.minY;\n        this.maxX = data.maxX;\n        this.maxY = data.maxY;\n\n        data = data.segments;\n        l = data.length;\n      }\n    }\n\n    for ( i = 0; i < l; i++ ) {\n      k = data[ i ].lines.length;\n      arr = this._addData( type, k );\n\n      for ( j = 0; j < k; j += 2 ) {\n\n        arr[ j ] = data[ i ].lines[ j ];\n        this._checkX( arr[ j ] );\n        arr[ j + 1 ] = data[ i ].lines[ j + 1 ];\n        this._checkY( arr[ j + 1 ] );\n      }\n\n      datas.push( {\n        lines: arr,\n        zValue: data[ i ].zValue\n      } );\n    }\n    this.data = datas;\n    this.graph.updateDataMinMaxAxes();\n\n    this.dataHasChanged( true );\n\n    return this;\n  }\n\n  /**\n   * Draws the serie if the data has changed\n   * @memberof SerieContour.prototype\n   * @param {Boolean} force - Forces redraw even if the data hasn't changed\n   * @return {Serie} The current serie\n   */\n  draw( force ) {\n\n    if ( force || this.hasDataChanged() ) {\n\n      this.currentLine = 0;\n      var x, y, xpx, ypx, xpx2, ypx2, i = 0,\n        l = this.data.length,\n        j = 0,\n        k, m, currentLine, domLine, arr;\n      this.minZ = Infinity;\n      this.maxZ = -Infinity;\n\n      var next = this.groupLines.nextSibling;\n      this.groupMain.removeChild( this.groupLines );\n      this.zValues = {};\n\n      var incrXFlip = 0;\n      var incrYFlip = 1;\n      if ( this.getFlip() ) {\n        incrXFlip = 0;\n        incrYFlip = 1;\n      }\n\n      var minY = this.getYAxis().getCurrentMin();\n      var minX = this.getXAxis().getCurrentMin();\n\n      var maxX = this.getXAxis().getCurrentMax();\n      var maxY = this.getYAxis().getCurrentMax();\n\n      this.counter = 0;\n      this.currentLineId = 0;\n\n      for ( ; i < l; i++ ) {\n        this.currentLine = '';\n        j = 0;\n        k = 0;\n\n        for ( arr = this.data[ i ].lines, m = arr.length; j < m; j += 4 ) {\n\n          var lastxpx, lastypx;\n\n          if ( ( arr[ j + incrXFlip ] < minX && arr[ j + 2 + incrXFlip ] < minX ) || ( arr[ j + incrYFlip ] < minY && arr[ j + 2 + incrYFlip ] < minY ) || ( arr[ j + incrYFlip ] > maxY && arr[ j + 2 + incrYFlip ] > maxY || ( arr[ j + incrXFlip ] > maxX && arr[ j + 2 + incrXFlip ] > maxX ) ) ) {\n            continue;\n          }\n\n          xpx2 = this.getX( arr[ j + incrXFlip ] );\n          ypx2 = this.getY( arr[ j + incrYFlip ] );\n\n          xpx = this.getX( arr[ j + 2 + incrXFlip ] );\n          ypx = this.getY( arr[ j + 2 + incrYFlip ] );\n\n          if ( xpx == xpx2 && ypx == ypx2 ) {\n            continue;\n          }\n\n          /*\tif( j > 0 && ( lastxpx !== undefined && lastypx !== undefined && Math.abs( xpx2 - lastxpx ) <= 30 && Math.abs( ypx2 - lastypx ) <= 30 ) ) {\n  \t\t\t\t\t\tcurrentLine += \"L\";\n  \t\t\t\t\t} else {\n  \t\t\t\t\t\tcurrentLine += \"M\";\n  \t\t\t\t\t}\n  */\n\n          this.currentLine += 'M ';\n          this.currentLine += xpx2;\n          this.currentLine += ' ';\n          this.currentLine += ypx2;\n\n          this.currentLine += 'L ';\n          this.currentLine += xpx;\n          this.currentLine += ' ';\n          this.currentLine += ypx;\n\n          this.counter++;\n\n          lastxpx = xpx;\n          lastypx = ypx;\n\n          k++;\n        }\n\n        this.currentLine += ' z';\n\n        domLine = this._createLine();\n        domLine.setAttribute( 'data-zvalue', this.data[ i ].zValue );\n\n        this.zValues[ this.data[ i ].zValue ] = {\n          dom: domLine\n        };\n\n        this.minZ = Math.min( this.minZ, this.data[ i ].zValue );\n        this.maxZ = Math.max( this.maxZ, this.data[ i ].zValue );\n      }\n\n      i++;\n\n      for ( i = this.currentLine + 1; i < this.lines.length; i++ ) {\n        this.groupLines.removeChild( this.lines[ i ] );\n        this.lines.splice( i, 1 );\n      }\n\n      i = 0;\n\n      for ( ; i < l; i++ ) {\n        this.setColorTo( this.lines[ i ], this.data[ i ].zValue, this.minZ, this.maxZ );\n      }\n\n      this.onMouseWheel( 0, {\n        shiftKey: false\n      } );\n      this.groupMain.insertBefore( this.groupLines, next );\n\n    } else if ( this.hasStyleChanged( this.selectionType ) ) {\n\n      for ( ; i < l; i++ ) {\n        this.setColorTo( this.lines[ i ], this.data[ i ].zValue, this.minZ, this.maxZ );\n      }\n\n    }\n\n  }\n\n  onMouseWheel( delta, e, fixed, positive ) {\n\n    delta /= 250;\n\n    if ( fixed !== undefined ) {\n\n      if ( !positive ) {\n        this.negativeThreshold = -fixed * this.minZ;\n        this.negativeDelta = -Math.pow( Math.abs( ( this.negativeThreshold / ( -this.minZ ) ) ), 1 / 3 );\n      }\n\n      if ( positive ) {\n        this.positiveThreshold = fixed * this.maxZ;\n        this.positiveDelta = Math.pow( this.positiveThreshold / ( this.maxZ ), 1 / 3 );\n      }\n\n    } else {\n\n      if ( ( !e.shiftKey ) || !this.options.hasNegative ) {\n\n        this.positiveDelta = Math.min( 1, Math.max( 0, this.positiveDelta + Math.min( 0.1, Math.max( -0.1, delta ) ) ) );\n        this.positiveThreshold = this.maxZ * ( Math.pow( this.positiveDelta, 3 ) );\n\n      } else {\n\n        this.negativeDelta = Math.min( 0, Math.max( -1, this.negativeDelta + Math.min( 0.1, Math.max( -0.1, delta ) ) ) );\n        this.negativeThreshold = -this.minZ * ( Math.pow( this.negativeDelta, 3 ) );\n\n      }\n\n    }\n\n    if ( isNaN( this.positiveDelta ) ) {\n      this.positiveDelta = 0;\n    }\n\n    if ( isNaN( this.negativeDelta ) ) {\n      this.negativeDelta = 0;\n    }\n\n    for ( var i in this.zValues ) {\n\n      this.zValues[ i ].dom.setAttribute( 'display', ( ( i >= 0 && i >= this.positiveThreshold ) || ( i <= 0 && i <= this.negativeThreshold ) ) ? 'block' : 'none' );\n\n    }\n\n    if ( this._shapeZoom ) {\n\n      if ( !this.options.hasNegative ) {\n        this._shapeZoom.hideHandleNeg();\n      } else {\n\n        this._shapeZoom.setHandleNeg( -( Math.pow( this.negativeDelta, 3 ) ), this.minZ );\n        this._shapeZoom.showHandleNeg();\n      }\n\n      this._shapeZoom.setHandlePos( ( Math.pow( this.positiveDelta, 3 ) ), this.maxZ );\n    }\n  }\n\n  handleMouseMove( xValue, doMarker, yValue ) {\n\n    var valX = xValue || this.getXAxis().getMouseVal(),\n      valY = yValue || this.getYAxis().getMouseVal();\n\n    return {\n      trueX: valX,\n      interpolatedY: valY,\n      xClosest: valX,\n      yClosest: valY\n    };\n  }\n\n  /**\n   * Sets rainbow colors based on hsl format\n   * @memberof SerieContour.prototype\n   * @param {Object} colors\n   * @param {Object} colors.fromPositive\n   * @param {Number} colors.fromPositive.h\n   * @param {Number} colors.fromPositive.s\n   * @param {Number} colors.fromPositive.l\n\n   * @param {Object} colors.toPositive\n   * @param {Number} colors.toPositive.h\n   * @param {Number} colors.toPositive.s\n   * @param {Number} colors.toPositive.l\n\n\n   * @param {Object} colors.fromNegative\n   * @param {Number} colors.fromNegative.h\n   * @param {Number} colors.fromNegative.s\n   * @param {Number} colors.fromNegative.l\n\n\n   * @param {Object} colors.toNegative\n   * @param {Number} colors.toNegative.h\n   * @param {Number} colors.toNegative.s\n   * @param {Number} colors.toNegative.l\n   * @return {Serie} The current serie\n   */\n  setDynamicColor( colors ) {\n    this.lineColors = colors;\n\n    this.styleHasChanged();\n  }\n\n  setNegative( bln ) {\n    this.options.hasNegative = bln;\n\n    if ( bln ) {\n      this.negativeThreshold = 0;\n    }\n  }\n\n  setColorTo( line, zValue, min, max ) {\n\n    if ( !this.lineColors ) {\n      return;\n    }\n\n    var hsl = {\n      h: 0,\n      s: 0,\n      l: 0\n    };\n\n    for ( var i in hsl ) {\n\n      if ( zValue > 0 ) {\n        hsl[ i ] = this.lineColors.fromPositive[ i ] + ( ( this.lineColors.toPositive[ i ] - this.lineColors.fromPositive[ i ] ) * ( zValue / max ) );\n      } else {\n        hsl[ i ] = this.lineColors.fromNegative[ i ] + ( ( this.lineColors.toNegative[ i ] - this.lineColors.fromNegative[ i ] ) * ( zValue / min ) );\n      }\n    }\n\n    hsl.h /= 360;\n\n    var rgb = util.hslToRgb( hsl.h, hsl.s, hsl.l );\n\n    line.setAttribute( 'stroke', `rgb(${ rgb.join() })` );\n  }\n\n  getSymbolForLegend() {\n\n    if ( !this.lineForLegend ) {\n\n      var line = document.createElementNS( this.graph.ns, 'ellipse' );\n\n      line.setAttribute( 'cx', 7 );\n      line.setAttribute( 'cy', 0 );\n      line.setAttribute( 'rx', 8 );\n      line.setAttribute( 'ry', 3 );\n\n      line.setAttribute( 'cursor', 'pointer' );\n      this.lineForLegend = line;\n\n    }\n\n    this.applyLineStyle( this.lineForLegend, this.maxZ );\n\n    return this.lineForLegend;\n  }\n\n  applyLineStyle( line, overwriteValue ) {\n    line.setAttribute( 'stroke', this.getLineColor() );\n    line.setAttribute( 'stroke-width', this.getLineWidth() + ( this.isSelected() ? 2 : 0 ) );\n    if ( this.getLineDashArray() ) {\n      line.setAttribute( 'stroke-dasharray', this.getLineDashArray() );\n    }\n    line.setAttribute( 'fill', 'none' );\n\n    this.setColorTo( line, ( ( overwriteValue !== undefined ) ? overwriteValue : line.getAttribute( 'data-zvalue' ) ), this.minZ, this.maxZ );\n    //  line.setAttribute('shape-rendering', 'optimizeSpeed');\n\n    this.hasStyleChanged( false );\n  }\n\n  setShapeZoom( shape ) {\n    this._shapeZoom = shape;\n  }\n\n}\n\nexport default SerieContour;","import GraphPosition from '../graph.position.js';\nimport * as util from '../graph.util.js';\nimport EventEmitter from '../dependencies/eventEmitter/EventEmitter.js';\n\n/**\n * Shape class that should be extended\n * @class Shape\n * @static\n */\nclass Shape extends EventEmitter {\n\n  constructor() {\n    super();\n  }\n\n  /**\n   * Initializes the shape\n   * @param {Graph} graph - The graph containing the shape\n   * @param {Object} properties - The properties object (not copied)\n   * @return {Shape} The current shape\n   */\n  init( graph, properties ) {\n\n    var self = this;\n\n    this.graph = graph;\n    this.properties = properties || {};\n    this.handles = [];\n    this.options = this.options || {};\n\n    this.group = document.createElementNS( this.graph.ns, 'g' );\n\n    this.group.setAttribute( 'clip-path', `url(#_clipplot${ graph._creation })` );\n\n    this._selected = false;\n    this.createDom();\n\n    if ( this._dom ) {\n      this._dom.jsGraphIsShape = this;\n    }\n\n    this.group.jsGraphIsShape = this;\n\n    this.classes = [];\n    this.transforms = [];\n\n    if ( this._data.masker ) {\n\n      var maskPath = document.createElementNS( this.graph.ns, 'mask' );\n      this.maskingId = Math.random();\n      maskPath.setAttribute( 'id', this.maskingId );\n\n      this.maskDomWrapper = document.createElementNS( this.graph.ns, 'rect' );\n      this.maskDomWrapper.setAttribute( 'fill', 'white' );\n      maskPath.appendChild( this.maskDomWrapper );\n\n      var maskDom = this._dom.cloneNode();\n      maskPath.appendChild( maskDom );\n\n      this.maskDom = maskDom;\n\n      this.graph.defs.appendChild( maskPath );\n    }\n\n    if ( this.group ) {\n\n      if ( this._dom && !this.isHTML() ) {\n        this.group.appendChild( this._dom );\n      }\n\n      this.group.addEventListener( 'mouseover', function( e ) {\n\n        self.handleMouseOver( e );\n\n      } );\n\n      this.group.addEventListener( 'mouseout', function( e ) {\n\n        self.handleMouseOut( e );\n\n      } );\n\n      this.group.addEventListener( 'mousedown', function( e ) {\n\n        self.graph.focus();\n\n        self.handleMouseDown( e );\n      } );\n\n      this.group.addEventListener( 'click', this.handleClick.bind( this ) );\n\n      this.group.addEventListener( 'dblclick', function( e ) {\n\n        //e.preventDefault();\n        // e.stopPropagation();\n\n        self.handleDblClick( e );\n      } );\n    }\n\n    //\t\t\tthis.group.appendChild(this.rectEvent);\n\n    this.initImpl();\n\n    this.graph.emit( 'shapeNew', this );\n\n    return this;\n  }\n\n  /**\n   * Implentation of the init method. To be extended if necessary on extended Shape classes\n   */\n  initImpl() {}\n\n  /**\n   * @return {Object} The shape's underlying data object\n   */\n  getData() {\n    return this._data;\n  }\n\n  /**\n   * @returns {String} The type of the shape\n   */\n  getType() {\n    return this.type;\n  }\n\n  /**\n   * Removes the shape from the DOM and unlinks it from the graph\n   */\n  kill( keepDom ) {\n\n    if ( this._inDom && !keepDom ) {\n      this.graph.removeShapeFromDom( this );\n    }\n\n    if ( !keepDom ) {\n      this.graph._removeShape( this );\n    }\n\n    this.graph.stopElementMoving( this );\n    this.graph.emit( 'shapeRemoved', this );\n    this.emit( 'removed', this );\n\n    this._inDom = false;\n  }\n\n  /**\n   * Hides the shape\n   * @return {Shape} The current shape\n   */\n  hide() {\n\n    if ( this.hidden ) {\n      return this;\n    }\n\n    this.hidden = true;\n    if ( !this.isHTML() ) {\n      this.group.style.display = 'none';\n    } else {\n      this._dom.style.display = 'none';\n    }\n    return this;\n  }\n\n  /**\n   *  Returns whether the shape is hidden or not\n   *  @return {Boolean} true if the shape is hidden, false otherwise\n   */\n  isHidden() {\n    return this.hidden;\n  }\n\n  /**\n   *  Returns whether the shape is visible or not\n   *  @return {Boolean} true if the shape is visible, false if it is hidden\n   */\n  isVisible() {\n    return !this.hidden;\n  }\n\n  /**\n   * Shows the shape\n   * @return {Shape} The current shape\n   */\n  show() {\n\n    if ( !this.hidden ) {\n      return this;\n    }\n\n    this.hidden = false;\n    if ( !this.isHTML() ) {\n      this.group.style.display = 'initial';\n    } else {\n      this._dom.style.display = 'initial';\n    }\n\n    this.redraw();\n    return this;\n\n  }\n\n  /**\n   * Adds a class to the shape DOM\n   * @param {String} className - The class to add\n   * @return {Shape} The current shape\n   */\n  addClass( className ) {\n    this.classes = this.classes || [];\n    if ( this.classes.indexOf( className ) == -1 ) {\n      this.classes.push( className );\n    }\n    this.makeClasses();\n    return this;\n  }\n\n  /**\n   * Removes a class from the shape DOM\n   * @param {String} className - The class to remove\n   * @return {Shape} The current shape\n   */\n  removeClass( className ) {\n    this.classes.splice( this.classes.indexOf( className ), 1 );\n    this.makeClasses();\n    return this;\n  }\n\n  /**\n   * Builds the classes\n   * @private\n   * @return {Shape} The current shape\n   */\n  makeClasses() {\n\n    if ( this._dom ) {\n      this._dom.setAttribute( 'class', this.classes.join( ' ' ) );\n    }\n\n    return this;\n  }\n\n  /**\n   * Triggers a ```shapeChanged``` event on the graph and a ```changed``` event on the shape\n   * @return {Shape} The current shape\n   */\n  changed( event, parameters ) {\n\n    if ( event ) {\n      this.graph.emit( event, this, parameters );\n      this.emit( event, this, parameters );\n    }\n\n    this.emit( 'changed', this, parameters );\n    this.graph.emit( 'shapeChanged', this, parameters );\n    return this;\n  }\n\n  /**\n   * Creates an event receptacle with the coordinates of the shape bounding box\n   * @return {Shape} The current shape\n   */\n  setEventReceptacle() {\n\n    if ( !this.rectEvent ) {\n      this.rectEvent = document.createElementNS( this.graph.ns, 'rect' );\n      this.rectEvent.setAttribute( 'pointer-events', 'fill' );\n      this.rectEvent.setAttribute( 'fill', 'transparent' );\n      this.group.appendChild( this.rectEvent );\n      this.rectEvent.jsGraphIsShape = this;\n    }\n\n    var box = this.group.getBBox();\n    this.rectEvent.setAttribute( 'x', box.x );\n    this.rectEvent.setAttribute( 'y', box.y - 10 );\n    this.rectEvent.setAttribute( 'width', box.width );\n    this.rectEvent.setAttribute( 'height', box.height + 20 );\n\n  }\n\n  /**\n   * Assigns a serie to the shape\n   * @param {Serie} The serie that owns the shape\n   * @return {Shape} The current shape\n   */\n  setSerie( serie ) {\n\n    if ( !serie ) {\n      return;\n    }\n\n    this.serie = serie;\n\n    if ( !serie.getXAxis || !serie.getYAxis ) {\n      console.error( serie );\n      throw 'Serie does not implement the getXAxis or getYAxis method';\n    }\n    this.xAxis = serie.getXAxis();\n    this.yAxis = serie.getYAxis();\n    return this;\n  }\n\n  /**\n   * @return {Serie} The serie associated to the shape\n   */\n  getSerie() {\n    return this.serie;\n  }\n\n  /**\n   * Assigns the shape to the default x and y axes of the graph, only if they don't exist yet\n   * @return {Shape} The current shape\n   * @see Graph#getXAxis\n   * @see Graph#getYAxis\n   */\n  autoAxes() {\n\n    if ( !this.xAxis ) {\n      this.xAxis = this.graph.getXAxis();\n    }\n\n    if ( !this.yAxis ) {\n      this.yAxis = this.graph.getYAxis();\n    }\n\n    return this;\n  }\n\n  /**\n   * Assigns the shape to an x axis\n   * @param {XAxis} The X axis related to the shape\n   * @return {Shape} The current shape\n   */\n  setXAxis( axis ) {\n    this.xAxis = axis;\n    return this;\n  }\n\n  /**\n   * Assigns the shape to an y axis\n   * @param {YAxis} The Y axis related to the shape\n   * @return {Shape} The current shape\n   */\n  setYAxis( axis ) {\n    this.yAxis = axis;\n  }\n\n  /**\n   * Returns the x axis associated to the shape. If non-existent, assigns it automatically\n   * @return {XAxis} The x axis associated to the shape.\n   */\n  getXAxis() {\n\n    if ( !this.xAxis ) {\n      this.autoAxes();\n    }\n\n    return this.xAxis;\n  }\n\n  /**\n   * Returns the y axis associated to the shape. If non-existent, assigns it automatically\n   * @return {YAxis} The y axis associated to the shape.\n   */\n  getYAxis() {\n\n    if ( !this.yAxis ) {\n      this.autoAxes();\n    }\n\n    return this.yAxis;\n  }\n\n  /**\n   * Sets the layer of the shape\n   * @param {Number} layer - The layer number (1 being the lowest)\n   * @return {Shape} The current shape\n   * @see Shape#getLayer\n   */\n  setLayer( layer ) {\n    this.setProp( 'layer', layer );\n    return this;\n  }\n\n  /**\n   * Returns the layer on which the shape is placed\n   * @return {Number} The layer number (1 being the lowest layer)\n   */\n  getLayer() {\n    var layer = this.getProp( 'layer' );\n\n    if ( layer !== undefined ) {\n      return layer;\n    }\n\n    return 1;\n  }\n\n  /**\n   * Initial drawing of the shape. Adds it to the DOM and creates the labels. If the shape was already in the DOM, the method simply recreates the labels and reapplies the shape style, unless ```force``` is set to ```true```\n   * @param {Boolean} force - Forces adding the shape to the DOM (useful if the shape has changed layer)\n   * @param {Boolean} preventRedraw - Prevents the redraw method\n   * @return {Shape} The current shape\n   */\n  draw( force, preventRedraw ) {\n\n    if ( !this._inDom || force ) {\n\n      this.appendToDom();\n      this._inDom = true;\n    }\n\n    this.makeLabels();\n\n    if ( !preventRedraw ) {\n      this.redraw();\n    }\n\n    this.applyStyle();\n\n    return this;\n  }\n\n  /**\n   * Redraws the shape. Repositions it, applies the style and updates the labels\n   * @return {Shape} The current shape\n   */\n  redraw() {\n\n    if ( this.hidden ) {\n      return this;\n    }\n\n    this.position = this.applyPosition();\n\n    this.redrawImpl();\n    if ( !this.position ) {\n      this.updateLabels();\n      return this;\n    }\n\n    this.updateLabels();\n    this._applyTransforms();\n    return this;\n  }\n\n  /**\n   * Implementation of the redraw method. Extended Shape classes should override this method\n   */\n  redrawImpl() {}\n\n  /**\n   * Sets all dumpable properties of the shape\n   * @param {Object} properties - The properties object\n   * @return {Shape} The current shape\n   */\n  setProperties( properties ) {\n    this.properties = properties;\n\n    if ( !Array.isArray( this.properties.position ) ) {\n      this.properties.position = [ this.properties.position ];\n    }\n    var self = this;\n    for ( var i = 0, l = this.properties.position.length; i < l; i++ ) {\n\n      var pos = GraphPosition.check( this.properties.position[ i ], function( relativeTo ) {\n        return self.getRelativePosition( relativeTo );\n      } );\n\n      this.properties.position[ i ] = pos;\n    }\n\n    this.emit( 'propertiesChanged' );\n    return this;\n  }\n\n  getRelativePosition( relativePosition ) {\n\n    var result;\n    if ( ( result = /position([0-9]*)/.exec( relativePosition ) ) !== null ) {\n      return this.getPosition( result[ 1 ] );\n    } else if ( ( result = /labelPosition([0-9]*)/.exec( relativePosition ) ) !== null ) {\n      return this.getLabelPosition( result[ 1 ] );\n    }\n\n  }\n\n  /**\n   * Gets all dumpable properties of the shape\n   * @return {Object} properties - The properties object\n   */\n  getProperties( properties ) {\n    return this.properties;\n  }\n\n  /**\n   * Sets a property to the shape that is remembered and can be later reexported (or maybe reimported)\n   * @param {String} prop - The property to save\n   * @param val - The value to save\n   * @param [ index = 0 ] - The index of the property array to save the property\n   * @return {Shape} The current shape\n   */\n  setProp( prop, val, index ) {\n    this.properties = this.properties || {};\n    this.properties[ prop ] = this.properties[ prop ] || [];\n    this.properties[ prop ][ index || 0 ] = val;\n    this.emit( 'propertyChanged', prop );\n    return this;\n  }\n\n  /**\n   * Returns a property of the shape\n   * @param {String} prop - The property to retrieve\n   * @param [ index = 0 ] - The index of the property array\n   */\n  getProp( prop, index ) {\n    return ( this.properties[ prop ] || [] )[ index || 0 ];\n  }\n\n  /**\n   * Returns all the properties of the shape\n   * @param {String} prop - The property to retrieve\n   */\n  getProps( prop, index ) {\n    return ( this.properties[ prop ] || [] );\n  }\n\n  /**\n   * Adds a property to the property array\n   * @param {String} prop - The property to add\n   * @param val - The value to save\n   */\n  addProp( prop, value ) {\n    this.properties[ prop ] = this.properties[ prop ] || [];\n    this.properties[ prop ].push( value );\n  }\n\n  /**\n   * Resets the property array\n   * @param {String} prop - The property to reset\n   */\n  resetProp( prop ) {\n    this.properties[ prop ] = [];\n  }\n\n  /**\n   * Sets a DOM property to the shape\n   */\n  setDom( prop, val, noForce ) {\n    if ( this._dom ) {\n\n      if ( !noForce || !util.hasSavedAttribute( this._dom, prop ) ) {\n        this._dom.setAttribute( prop, val );\n      }\n    }\n  }\n\n  /**\n   * Sets a DOM property to the shape group\n   */\n  setDomGroup( prop, val ) {\n    if ( this.group ) {\n      this.group.setAttribute( prop, val );\n    }\n  }\n\n  /**\n   * Saves the stroke color\n   * @return {Shape} The current shape\n   */\n  setStrokeColor( color ) {\n    this.setProp( 'strokeColor', color );\n    this.overwriteSavedProp( 'stroke', color );\n    this.applySelectedStyle();\n    return this;\n  }\n\n  /**\n   * Returns the stroke color\n   * @return {String} The stroke color of the shape\n   */\n  getStrokeColor() {\n    return this.getProp( 'strokeColor' );\n  }\n\n  /**\n   * Saves the fill color\n   * @param {String} color - The filling color\n   * @return {Shape} The current shape\n   */\n  setFillColor( color ) {\n\n    this.setProp( 'fillColor', color );\n    this.overwriteSavedProp( 'fill', color );\n    this.applySelectedStyle();\n    return this;\n  }\n\n  /**\n   * Returns the fill color\n   * @return {String} The fill color of the shape\n   */\n  getFillColor() {\n    return this.getProp( 'fillColor' );\n  }\n\n  /**\n   * Saves the opacity of the filling color of the shape\n   * @param {Number} opacity - The filling opacity (0 to 1)\n   * @return {Shape} The current shape\n   */\n  setFillOpacity( opacity ) {\n    this.setProp( 'fillOpacity', opacity );\n    this.overwriteSavedProp( 'fill-opacity', opacity );\n    this.applySelectedStyle();\n    return this;\n  }\n\n  /**\n   * Saves the stroke width\n   * @param {String} width - The stroke width\n   * @return {Shape} The current shape\n   */\n  setStrokeWidth( width ) {\n    this.setProp( 'strokeWidth', width );\n    this.overwriteSavedProp( 'stroke-width', width );\n    this.applySelectedStyle();\n    return this;\n  }\n\n  /**\n   * Returns the stroke width\n   * @return {String} The stroke width of the shape\n   */\n  getStrokeWidth() {\n    return this.getProp( 'strokeWidth' );\n  }\n\n  /**\n   * Saves the stroke dash array\n   * @param {String} dasharray - The dasharray string\n   * @example shape.setStrokeDasharray(\"5,5,1,4\");\n   * shape.applyStyle();\n   * @return {Shape} The current shape\n   */\n  setStrokeDasharray( dasharray ) {\n    this.setProp( 'strokeDasharray', dasharray );\n    this.overwriteSavedProp( 'stroke-dasharray', dasharray );\n    this.applySelectedStyle();\n    return this;\n  }\n\n  /**\n   * Sets any extra attributes to the DOM element of the shape\n   * @param {Object<String,String>} attributes - An extra attribute array to apply to the shape DOM\n   * @example shape.setAttributes( { \"data-bindable\" : true } );\n   * shape.applyStyle();\n   * @return {Shape} The current shape\n   */\n  setAttributes( attributes ) {\n    this.setProp( 'attributes', attributes );\n    return this;\n  }\n\n  overwriteSavedProp( prop, newValue ) {\n    util.overwriteDomAttribute( this._dom, prop, newValue );\n  }\n\n  /**\n   * Adds an extra attribute to the shape\n   * @param {String} attributeName - The name of the attribute\n   * @param {String} attributeValue - The value of the attribute\n   * @return {Shape} The current shape\n   */\n  addAttribute( attributeName, attributeValue ) {\n    var added = {};\n    added[ attributeName ] = attributeValue;\n    this.addProp( 'attributes', added );\n    return this;\n  }\n\n  /**\n   * Adds a transform property to the shape.\n   * @param {String} type - The transform type (\"rotate\", \"transform\" or \"scale\")\n   * @param {String} args - The arguments following the transform\n   * @return {Shape} The current shape\n   */\n  addTransform( type, args ) {\n    this.addProp( 'transforms', {\n      type: type,\n      arguments: Array.isArray( args ) ? args : [ args ]\n    } );\n    return this;\n  }\n\n  /**\n   * Resets the transforms\n   * @see Shape#addTransform\n   * @return {Shape} The current shape\n   */\n  resetTransforms() {\n    this.resetProp( 'transforms' );\n    return this;\n  }\n\n  /**\n   * Sets the text of the label\n   * @param {String} text - The text of the label\n   * @param {Number} [ index = 0 ] - The index of the label\n   * @return {Shape} The current shape\n   */\n  setLabelText( text, index = 0 ) {\n    this.setProp( 'labelText', text, index );\n    return this;\n  }\n\n  /**\n   * Sets the text of the label\n   * @param {String} data - Some additional HTML tags that will be set to the label\n   * @param {Number} [ index = 0 ] - The index of the label\n   * @return {Shape} The current shape\n   */\n  setLabelData( data, text, index = 0 ) {\n    this.setProp( 'labelData', text, index );\n    return this;\n  }\n\n  /**\n   * Returns the text of the label\n   * @param {Number} [ index = 0 ] - The index of the label\n   * @return {String} The text of the label\n   */\n  getLabelText( text, index = 0 ) {\n    return this.getProp( 'labelText', index );\n  }\n\n  /**\n   * Displays a hidden label\n   * @param {Number} [ index = 0 ] - The index of the label\n   * @return {Shape} The current shape\n   */\n  displayLabel( index = 0 ) {\n    this.setProp( 'labelVisible', true, index );\n    return this;\n  }\n\n  /**\n   * Hides a displayed label\n   * @param {Number} [ index = 0 ] - The index of the label\n   * @return {Shape} The current shape\n   */\n  hideLabel( index = 0 ) {\n    this.setProp( 'labelVisible', false, index );\n    return this;\n  }\n\n  /**\n   * Sets the color of the label\n   * @param {String} color - The color of the label\n   * @param {Number} [ index = 0 ] - The index of the label\n   * @return {Shape} The current shape\n   */\n  setLabelColor( color, index = 0 ) {\n    this.setProp( 'labelColor', color, index );\n    return this;\n  }\n\n  /**\n   * Sets the font size of the label\n   * @param {String} size - The font size (in px) of the label\n   * @param {Number} [ index = 0 ] - The index of the label\n   * @return {Shape} The current shape\n   */\n  setLabelFontSize( size, index = 0 ) {\n    this.setProp( 'labelFontSize', size, index );\n    return this;\n  }\n\n  /**\n   * Returns the position of the label\n   * @param {Number} [ index = 0 ] - The index of the label\n   * @return {Position} The current position of the label\n   */\n  getLabelPosition( index = 0 ) {\n    return this.getProp( 'labelPosition', index );\n  }\n\n  /**\n   * Sets the position of the label\n   * @param {Position} position - The position of the label\n   * @param {Number} [ index = 0 ] - The index of the label\n   * @return {Shape} The current shape\n   */\n  setLabelPosition( position, index ) {\n\n    var self;\n    var pos = GraphPosition.check( position, function( relativeTo ) {\n      return self.getRelativePosition( relativeTo );\n    } );\n\n    this.setProp( 'labelPosition', pos, index || 0 );\n    return this;\n  }\n\n  /**\n   * Sets the angle of the label\n   * @param {Number} angle - The angle of the label in degrees (0 to 360)\n   * @param {Number} [ index = 0 ] - The index of the label\n   * @return {Shape} The current shape\n   */\n  setLabelAngle( angle, index ) {\n    this.setProp( 'labelAngle', angle, index || 0 );\n    return this;\n  }\n\n  /**\n   * Sets the baseline of the label, which affects its y position with respect to the text direction. For text along the x direction, different baselines will reference differently the text to the ```y``` coordinate.\n   * @param {String} baseline - The baseline of the label. Most common baselines are ```no-change```, ```central```, ```middle``` and ```hanging```. You will find an explanation of those significations on the [corresponding MDN article]{@link https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/dominant-baseline}\n   * @param {Number} [ index = 0 ] - The index of the label\n   * @return {Shape} The current shape\n   */\n  setLabelBaseline( baseline, index ) {\n    this.setProp( 'labelBaseline', baseline, index || 0 );\n    return this;\n  }\n\n  /**\n   * Sets the anchoring of the label.\n   * @param {String} anchor - The anchor of the label. Values can be ```start```, ```middle```, ```end``` or ```inherit```.\n   * @param {Number} [ index = 0 ] - The index of the label\n   * @return {Shape} The current shape\n   */\n  setLabelAnchor( anchor, index ) {\n    this.setProp( 'labelAnchor', anchor, index || 0 );\n    return this;\n  }\n\n  /**\n   * Sets the anchoring of the label.\n   * @param {String} size - The font size in px\n   * @param {Number} [ index = 0 ] - The index of the label\n   * @return {Shape} The current shape\n   */\n  setLabelSize( size, index ) {\n    this.setProp( 'labelSize', size, index || 0 );\n    return this;\n  }\n\n  /**\n   * Sets the color of the stroke of the label.\n   * @param {String} color - The color of the stroke\n   * @param {Number} [ index = 0 ] - The index of the label\n   * @return {Shape} The current shape\n   */\n  setLabelStrokeColor( color, index ) {\n    this.setProp( 'labelStrokeColor', color, index || 0 );\n    return this;\n  }\n\n  /**\n   * Sets the width of the stroke of the label.\n   * @param {Number} width - The width of the stroke\n   * @param {Number} [ index = 0 ] - The index of the label\n   * @return {Shape} The current shape\n   */\n  setLabelStrokeWidth( width, index ) {\n    this.setProp( 'labelStrokeWidth', width, index || 0 );\n    return this;\n  }\n\n  /**\n   * Sets the color of the background of the label.\n   * @param {String} color - The color of the background\n   * @param {Number} [ index = 0 ] - The index of the label\n   * @return {Shape} The current shape\n   */\n  setLabelBackgroundColor( color, index ) {\n    this.setProp( 'labelBackgroundColor', color, index || 0 );\n    return this;\n  }\n\n  /**\n   * Sets the opacity of the background of the label.\n   * @param {Number} opacity - The opacity of the background, between 0 and 1\n   * @param {Number} [ index = 0 ] - The index of the label\n   * @return {Shape} The current shape\n   */\n  setLabelBackgroundOpacity( opacity, index ) {\n    this.setProp( 'labelBackgroundOpacity', opacity, index || 0 );\n    return this;\n  }\n\n  /**\n   * Applies the generic style to the shape. This is a method that applies to most shapes, hence should not be overridden. However if you create a bundle of shapes that extend another one, you may use it to set common style properties to all your shapes.\n   * @return {Shape} The current shape\n   */\n  applyGenericStyle() {\n\n    this.setDom( 'fill', this.getProp( 'fillColor' ), true );\n    this.setDom( 'fill-opacity', this.getProp( 'fillOpacity' ), true );\n    this.setDom( 'stroke', this.getProp( 'strokeColor' ), true );\n    this.setDom( 'stroke-width', this.getProp( 'strokeWidth' ), true );\n    this.setDom( 'stroke-dasharray', this.getProp( 'strokeDasharray' ), true );\n\n    var attributes = this.getProps( 'attributes' );\n    for ( var j = 0, l = attributes.length; j < l; j++ ) {\n\n      for ( var i in attributes[ j ] ) {\n        this.setDom( i, typeof attributes[ j ][ i ] == 'function' ? attributes[ j ][ i ].call( this, i ) : attributes[ j ][ i ], true );\n      }\n\n    }\n\n    this._applyTransforms();\n\n    return this;\n  }\n\n  /**\n   * Applies the style to the shape. This method can be extended to apply specific style to the shapes\n   * @return {Shape} The current shape\n   */\n  applyStyle() {\n\n    return this.applyGenericStyle();\n  }\n\n  /**\n   * Returns a computed position object\n   * @param {(Number|Position)} [ index = 0 ] - The index of the position to compute\n   * @param {Position} relToPosition - A base position from which to compute the position (useful for <code>dx</code> values)\n   * @return {Object} The computed position object in the format <code>{ x: x_in_px, y: y_in_px }</code>\n   */\n  calculatePosition( index ) {\n\n    var position;\n\n    position = ( index instanceof GraphPosition ) ? index : this.getPosition( index );\n\n    if ( !position ) {\n      return;\n    }\n\n    if ( position && position.compute ) {\n      return position.compute( this.graph, this.getXAxis(), this.getYAxis(), this.getSerie() );\n    }\n\n    this.graph.throw();\n  }\n\n  /**\n   * Returns a stored position object\n   * @param {Number} [ index = 0 ] - The index of the position to compute\n   * @return {Position} The position at the proper index, or undefined\n   */\n  getPosition( index ) {\n\n    var pos = this.getProp( 'position', ( index || 0 ) );\n    this.setProp( 'position', ( pos = GraphPosition.check( pos ) ), index );\n    return pos;\n  }\n\n  /**\n   * Sets a position object\n   * @param {Position} position - The position object to store\n   * @param {Number} [ index = 0 ] - The index of the position to store\n   * @return {Shape} The current shape\n   */\n  setPosition( position, index ) {\n\n    var self = this;\n    var pos = GraphPosition.check( position, function( relativeTo ) {\n      return self.getRelativePosition( relativeTo );\n    } );\n\n    return this.setProp( 'position', pos, ( index || 0 ) );\n  }\n\n  /**\n   * Sorts the positions\n   * @param {Function} sortFunction - Function passed into the ```Array.sort``` method\n   * @return {Position} The current shape\n   */\n  sortPositions( sortFunction ) {\n    this.getProps( 'position' ).sort( sortFunction );\n    return this;\n  }\n\n  /**\n   * Applies the style to the shape. This method can be extended to apply specific style to the shapes\n   * @private\n   * @return {Shape} The current shape\n   */\n  _applyTransforms() {\n\n    var transforms = this.getProp( 'transforms' ),\n      transformString = '';\n\n    if ( !transforms ) {\n      return;\n    }\n    transforms = Array.isArray( transforms ) ? transforms : [ transforms ];\n\n    if ( transforms.length == 0 ) {\n      return;\n    }\n\n    for ( var i = 0; i < transforms.length; i++ ) {\n\n      transformString += `${transforms[ i ].type }(`;\n\n      switch ( transforms[ i ].type ) {\n\n        case 'translate':\n\n          let transform = transforms[ i ].arguments[ 0 ].compute( this.graph, this.getXAxis(), this.getYAxis(), this.getSerie() );\n\n          transformString += transform.x;\n          transformString += ', ';\n          transformString += transform.y;\n          break;\n\n        case 'rotate':\n\n          transformString += transforms[ i ].arguments[ 0 ];\n          transformString += ', ';\n\n          if ( transforms[ i ].arguments.length == 1 ) {\n            var p = this.computePosition( 0 );\n            transformString += `${p.x }, ${ p.y}`;\n\n          } else {\n\n            transformString += GraphPosition.getDeltaPx( transforms[ i ].arguments[ 1 ], this.getXAxis() ).replace( 'px', '' );\n            transformString += ', ';\n            transformString += GraphPosition.getDeltaPx( transforms[ i ].arguments[ 2 ], this.getYAxis() ).replace( 'px', '' );\n          }\n\n          break;\n      }\n\n      transformString += ') ';\n    }\n\n    this.setDomGroup( 'transform', transformString );\n    return this;\n  }\n\n  /**\n   * Creates all the labels\n   * @private\n   * @returns {Shape} The current shape\n   */\n  makeLabels() {\n\n    this._labels = this._labels || [];\n    this._labelsBackground = this._labelsBackground || [];\n\n    this._labels.map( ( label ) => {\n      this.group.removeChild( label );\n    } );\n\n    this._labelsBackground.map( ( bg ) => {\n      this.group.removeChild( bg );\n    } );\n\n    this._labels = [];\n    this._labelsBackground[ i ] = [];\n\n    var i = 0;\n\n    while ( this.getProp( 'labelText', i ) !== undefined ) {\n\n      if ( !this._labels[ i ] ) {\n\n        this._labels[ i ] = document.createElementNS( this.graph.ns, 'text' );\n        this._labels[ i ].setAttribute( 'data-label-i', i );\n        this._labels[ i ].jsGraphIsShape = this;\n\n        this._labelsBackground[ i ] = document.createElementNS( this.graph.ns, 'rect' );\n        this._labelsBackground[ i ].setAttribute( 'data-label-i', i );\n        this._labelsBackground[ i ].jsGraphIsShape = this;\n\n        this.group.appendChild( this._labelsBackground[ i ] );\n        this.group.appendChild( this._labels[ i ] );\n\n        this._labels[ i ].addEventListener( 'dblclick', ( e ) => {\n          e.stopPropagation();\n\n          this.labelDblClickListener( e );\n        } );\n\n        this._labelsBackground[ i ].addEventListener( 'dblclick', ( e ) => {\n          e.stopPropagation();\n\n          this.labelDblClickListener( e );\n        } );\n\n      }\n\n      i++;\n    }\n\n    this.updateLabels();\n\n    return this;\n  }\n\n  /**\n   * Determines if the label is editable\n   * @param {Number} labelIndex - The index of the label\n   * @return {Boolean} ```true``` if the label is editable, ```false``` otherwise\n   */\n  isLabelEditable( labelIndex ) {\n    return this.getProp( 'labelEditable', labelIndex || 0 );\n  }\n\n  /**\n   * Applies the label data to the dom object\n   * @private\n   * @param {Number} labelIndex - The index of the label\n   * @returns {Shape} The current shape\n   */\n  updateLabels() {\n\n    var self = this;\n    this._labels = this._labels || [];\n\n    for ( var i = 0, l = this._labels.length; i < l; i++ ) {\n      this._applyLabelData( i );\n    }\n\n  }\n\n  /**\n   * Applies the label data to the dom object\n   * @private\n   * @param {Number} labelIndex - The index of the label\n   * @returns {Shape} The current shape\n   */\n  _applyLabelData( labelIndex ) {\n\n    labelIndex = labelIndex || 0;\n\n    /** Sets the position */\n\n    var visible = this.getProp( 'labelVisible', labelIndex );\n\n    if ( visible === false ) {\n      this._labels[ labelIndex ].setAttribute( 'display', 'none' );\n      this._labelsBackground[ labelIndex ].setAttribute( 'display', 'none' );\n      return;\n    } else {\n      this._labels[ labelIndex ].setAttribute( 'display', 'initial' );\n      this._labelsBackground[ labelIndex ].setAttribute( 'display', 'initial' );\n    }\n\n    var position = this.calculatePosition( GraphPosition.check( this.getProp( 'labelPosition', labelIndex ) ) );\n\n    if ( isNaN( position.x ) || isNaN( position.y ) || position.y === false || position.x === false ) {\n      /*console.warn( \"Cannot compute positioning for labelIndex \" + labelIndex + \" with text \" + this.getProp( \"labelText\", labelIndex ) );\n      console.log( this, this._labels );\n      console.trace();*/\n      return;\n\n    }\n\n    if ( position.x != 'NaNpx' && !isNaN( position.x ) && position.x !== 'NaN' && position.x !== false ) {\n\n      this._labels[ labelIndex ].setAttribute( 'x', position.x );\n      this._labels[ labelIndex ].setAttribute( 'y', position.y );\n    }\n\n    /** Sets the angle */\n    var currAngle = this.getProp( 'labelAngle', labelIndex ) || 0;\n    if ( currAngle != 0 ) {\n\n      var x = this._labels[ labelIndex ].getAttribute( 'x' ),\n        y = this._labels[ labelIndex ].getAttribute( 'y' );\n\n      this._labels[ labelIndex ].setAttribute( 'transform', `rotate(${ currAngle } ${ x } ${ y })` );\n      //  this._labelsBackground[ labelIndex ].setAttribute( 'transform', 'rotate(' + currAngle + ' ' + x + ' ' + y + ')' );\n    }\n\n    let labelData = this.getProp( 'labelHTMLData', labelIndex ) || {};\n\n    for ( var i in labelData ) {\n\n      this._labels[ labelIndex ].setAttribute( i, labelData[ i ] );\n      this._labelsBackground[ labelIndex ].setAttribute( i, labelData[ i ] );\n    }\n\n    /** Sets the baseline */\n    this._labels[ labelIndex ].setAttribute( 'dominant-baseline', this.getProp( 'labelBaseline', labelIndex ) || 'no-change' );\n\n    /** Sets the text */\n    this._labels[ labelIndex ].textContent = this.getProp( 'labelText', labelIndex );\n\n    /** Sets the color */\n    this._labels[ labelIndex ].setAttribute( 'fill', this.getProp( 'labelColor', labelIndex ) || 'black' );\n\n    /** Sets the size */\n    this._labels[ labelIndex ].setAttribute( 'font-size', `${this.getProp( 'labelSize', labelIndex ) }px` || '12px' );\n\n    /** Sets the anchor */\n    this._labels[ labelIndex ].setAttribute( 'text-anchor', this._getLabelAnchor( labelIndex ) );\n\n    /** Sets the stroke */\n    this._labels[ labelIndex ].setAttribute( 'stroke', this.getProp( 'labelStrokeColor', labelIndex ) || 'black' );\n\n    /** Sets the stroke */\n    this._labels[ labelIndex ].setAttribute( 'stroke-width', this.getProp( 'labelStrokeWidth', labelIndex ) || `${0 }px` );\n\n    this._labels[ labelIndex ].setAttribute( 'stroke-location', 'outside' );\n\n    let rect = this._labels[ labelIndex ].getBBox();\n\n    this._labelsBackground[ labelIndex ].setAttribute( 'x', rect.x );\n    this._labelsBackground[ labelIndex ].setAttribute( 'y', rect.y );\n    this._labelsBackground[ labelIndex ].setAttribute( 'width', rect.width );\n    this._labelsBackground[ labelIndex ].setAttribute( 'height', rect.height );\n\n    this._labelsBackground[ labelIndex ].setAttribute( 'fill', this.getProp( 'labelBackgroundColor' ) || 'transparent' );\n    this._labelsBackground[ labelIndex ].setAttribute( 'fill-opacity', this.getProp( 'labelBackgroundOpacity' ) || 1 );\n\n    return this;\n  }\n\n  /**\n   *  Temporarily empties the labels, until the next rendering.\n   *  This is used when the shape should not be displayed\n   *  @returns {Shape} The current shape instance\n   */\n  emptyLabels() {\n\n    for ( var i = 0, l = this._labels.length; i < l; i++ ) {\n      /** Sets the baseline */\n      this._labels[ i ].textContent = '';\n    }\n\n    return this;\n  }\n\n  /**\n   * Returns the anchor of the label\n   * @private\n   * @param {Number} labelIndex - The index of the label\n   * @returns {String} The anchor in SVG string\n   */\n  _getLabelAnchor( labelIndex ) {\n    var anchor = this.getProp( 'labelAnchor', labelIndex );\n    switch ( anchor ) {\n      case 'middle':\n      case 'start':\n      case 'end':\n        return anchor;\n        break;\n\n      case 'right':\n        return 'end';\n        break;\n\n      case 'left':\n        return 'start';\n        break;\n\n      default:\n        return 'start';\n        break;\n    }\n  }\n\n  /**\n   * Returns the shape selection status\n   * @returns {Boolean} true is the shape is selected, false otherwise\n   */\n  isSelected() {\n    return this._selectStatus || false;\n  }\n\n  /**\n   * Sets or queries whether the shape can have handles. Even if the property is set to false, the getter can return true if the property ```statichandles``` is true (used when handles never disappear)\n   * @param {Boolean} setter - If used, defined if the shape has handles or not\n   * @returns {Boolean} true is the shape has handles, false otherwise\n   * @example Shape.hasHandles( true ); // Sets that the shape has handles\n   * @example Shape.hasHandles( false ); // Sets that the shape has no handles\n   * @example Shape.hasHandles( ); // Queries the shape to determine if it has handles or not. Also returns true if handles are static\n   */\n  hasHandles( setter ) {\n\n    if ( setter !== undefined ) {\n      this.setProp( 'handles', setter );\n    }\n\n    return !!this.getProp( 'handles' ) || !!this.getProp( 'staticHandles' );\n  }\n\n  /**\n   * Adds shape handles\n   * @private\n   * @return {Shape} The current shape\n   */\n  addHandles() {\n\n    if ( this.isLocked() ) {\n      return;\n    }\n\n    if ( !this.handlesInDom ) {\n\n      this.handlesInDom = true;\n\n      for ( var i = 1; i < this.handles.length; i++ ) {\n\n        if ( this.handles[ i ] ) {\n          this.group.appendChild( this.handles[ i ] );\n        }\n      }\n    }\n\n    return this;\n  }\n\n  /**\n   * Remove shape handles\n   * @private\n   * @return {Shape} The current shape\n   */\n  removeHandles() {\n\n    this.hideHandles();\n    this.handles = [];\n  }\n\n  /**\n   * Hide shape handles\n   * @private\n   * @return {Shape} The current shape\n   */\n  hideHandles() {\n\n    if ( !this.handlesInDom ) {\n      return this;\n    }\n\n    for ( var i = 1; i < this.handles.length; i++ ) {\n      this.group.removeChild( this.handles[ i ] );\n    }\n\n    this.handlesInDom = false;\n    return this;\n  }\n\n  /**\n   * @protected\n   * @return {Boolean} ```true``` if the handles are in the DOM\n   */\n  areHandlesInDom() {\n\n    return this.handlesInDom;\n  }\n\n  /**\n   * Selects the shape. Should only be called from jsGraph main instance\n   * @private\n   * @param {Boolean} [ mute = false ] - Mutes the method (no event emission)\n   * @returns {Shape} the current shape\n   */\n  _select( mute ) {\n\n    if ( !this.isSelectable() ) {\n      return false;\n    }\n\n    // Put on the stack\n    this.appendToDom();\n    //this.graph.appendShapeToDom( this ); // Put the shape on top of the stack !\n\n    this._selectStatus = true;\n\n    this.applySelectedStyle();\n\n    if ( this.hasHandles() && !this.hasStaticHandles() ) {\n\n      this.addHandles();\n      this.setHandles();\n\n    }\n\n    if ( !mute ) {\n      this.graph.emit( 'shapeSelected', this );\n    }\n  }\n\n  applySelectedStyle() {\n\n    if ( !this._selectStatus ) {\n      return;\n    }\n\n    var style = this.getSelectStyle();\n    var style2 = {};\n    for ( var i in style ) {\n      if ( typeof style[ i ] == 'function' ) {\n        style2[ i ] = style[ i ].call( this );\n      } else {\n        style2[ i ] = style[ i ];\n      }\n    }\n\n    util.saveDomAttributes( this._dom, style2, 'select' );\n  }\n\n  /**\n   * Unselects the shape. Should only be called from jsGraph main instance\n   * @private\n   * @param {Boolean} [ mute = false ] - Mutes the method (no event emission)\n   * @returns {Shape} the current shape\n   */\n  _unselect( mute ) {\n\n    this._selectStatus = false;\n\n    util.restoreDomAttributes( this._dom, 'select' );\n\n    if ( this.hasHandles() && !this.hasStaticHandles() ) {\n      this.hideHandles();\n    }\n\n    if ( !mute ) {\n      this.graph.emit( 'shapeUnselected', this );\n    }\n  }\n\n  /**\n   * Returns the special style of the shape when it is selected.\n   * @see Shape#setSelectStyle\n   * @param {Object<String,String>} The SVG attributes to apply to the shape\n   */\n  getSelectStyle() {\n    return this.selectStyle;\n  }\n\n  /**\n   * Defines the style that is applied to the shape when it is selected. The style extends the default style of the shape\n   * @param {Object<String,String>} [ attr = {} ] - The SVG attributes to apply to the shape\n   * @example rectangle.setSelectStyle( { fill: 'red' } );\n   * @returns {Shape} the current shape\n   */\n  setSelectStyle( attr ) {\n    this.selectStyle = attr;\n    this.applySelectedStyle(); // Maybe the shape is already selected\n    return this;\n  }\n\n  /**\n   * Assigns static handles to the shape. In this mode, handles will not disappear\n   * @param {Boolean} staticHandles - true to enable static handles, false to disable them.\n   * @returns {Shape} the current shape\n   */\n  setStaticHandles( staticHandles ) {\n    this.setProp( 'staticHandles', staticHandles );\n  }\n\n  /**\n   * @returns {Boolean} ```true``` if the shape has static handles, ```false``` otherwise\n   */\n  hasStaticHandles( staticHandles ) {\n    return !!this.getProp( 'staticHandles' );\n  }\n\n  /**\n   * Creates the handles for the shape\n   * @param {Number} nb - The number of handles\n   * @param {String} type - The type of SVG shape to use\n   * @param {Object<String,String>} [ attr = {} ] - The SVG attributes to apply to the handles\n   * @param {Function} [ callbackEach ] - An additional callback the user can provide to further personalize the handles\n   * @returns {Shape} the current shape\n   * @private\n   */\n  _createHandles( nb, type, attr, callbackEach ) {\n\n    if ( this.handles && this.handles.length > 0 ) {\n      return;\n    }\n\n    var self = this;\n\n    for ( var i = 1, l = nb; i <= l; i++ ) {\n\n      ( ( j ) => {\n\n        var self = this;\n\n        var handle = document.createElementNS( self.graph.ns, type );\n        handle.jsGraphIsShape = true;\n\n        if ( attr ) {\n          for ( var k in attr ) {\n            handle.setAttribute( k, attr[ k ] );\n          }\n        }\n\n        handle\n          .addEventListener( 'mousedown', ( e ) => {\n\n            if ( self.isResizable() ) {\n\n              e.preventDefault();\n              e.stopPropagation();\n\n              self.graph.emit( 'beforeShapeResize', self );\n              this.emit( 'beforeShapeResize' );\n\n              if ( !self.graph.prevent( false ) ) {\n\n                self.resizing = true;\n                self.handleSelected = j;\n                self.handleMouseDown( e );\n              }\n            }\n\n          } );\n\n        if ( callbackEach ) {\n          callbackEach( self.handles[ j ] );\n        }\n\n        self.handles[ j ] = handle;\n\n      } ).call( this, i );\n\n    }\n\n    return this.handles;\n  }\n\n  /**\n   * Creates the handles for the shape. Should be implemented by the children shapes classes.\n   */\n  createHandles() {\n\n    if ( this.hasStaticHandles() ) {\n      this.addHandles();\n      this.setHandles();\n    }\n\n  }\n\n  /**\n   * Handles mouse down event\n   * @private\n   * @param {Event} e - The native event.prototype\n   */\n  handleMouseDownImpl() {}\n\n  /**\n   * Handles the mouse move event\n   * @private\n   * @param {Event} e - The native event.prototype\n   */\n  handleMouseMoveImpl() {}\n\n  /**\n   * Handles mouse up event\n   * @private\n   * @param {Event} e - The native event.prototype\n   */\n  handleMouseUpImpl() {}\n\n  /**\n   * Called when the shape is created\n   * @private\n   * @param {Event} e - The native event.prototype\n   */\n  handleCreateImpl() {}\n\n  /**\n   * Handles mouse down events\n   * @param {Event} e - The native event\n   * @return The result of the {@link Shape#handleMouseDownImpl} method.prototype\n   */\n  handleMouseDown( e ) {\n\n    //this.handleSelected = false;\n\n    if ( this.isLocked() ) {\n      return;\n    }\n\n    if ( this.isMovable() || this.isResizable() ) {\n\n      this.graph.elementMoving( this );\n    }\n\n    if ( this.getProp( 'selectOnMouseDown' ) ) {\n      this.graph.selectShape( this );\n    }\n\n    if ( this.isMovable() ) {\n      if ( !this.resizing ) {\n\n        this.graph.emit( 'beforeShapeMove', self );\n\n        if ( !this.graph.prevent( false ) ) {\n\n          this.moving = true;\n          this.moved = false;\n        }\n      }\n    }\n\n    this._mouseCoords = this.graph._getXY( e );\n    return this.handleMouseDownImpl( e, this._mouseCoords );\n  }\n\n  /**\n   * Handles mouse click events\n   * @param {Event} e - The native event\n   * @return The result of the {@link Shape#handleMouseDownClick} method\n   * @private\n   */\n  handleClick( e ) {\n\n    this.graph.emit( 'shapeClicked', this );\n    this.emit( 'shapeClicked' );\n\n    if ( !this.isSelectable() ) {\n      return false;\n    }\n\n    if ( !e.shiftKey ) {\n      this.graph.unselectShapes();\n    }\n\n    if ( this.getProp( 'selectOnClick' ) ) {\n\n      this.graph.selectShape( this );\n    }\n  }\n\n  /**\n   * Handles mouse click events\n   * @param {Event} e - The native event\n   * @return The result of the {@link Shape#handleMouseUpImpl} method\n   * @private\n   */\n  handleMouseMove( e ) {\n    //console.log( this.resizinh, this.moving, this.isSelected(), this._mouseCoords );\n    if ( ( this.resizing || this.moving ) && !this.isSelected() ) {\n      this.graph.selectShape( this );\n    }\n\n    this.graph.emit( 'beforeShapeMouseMove', this );\n    this.emit( 'beforeShapeMouseMove' );\n\n    if ( this.graph.prevent( false ) || !this._mouseCoords ) {\n      return false;\n    }\n\n    this.moved = true;\n    var coords = this.graph._getXY( e );\n    var\n      deltaX = this.getXAxis().getRelVal( coords.x - this._mouseCoords.x ),\n      deltaY = this.getYAxis().getRelVal( coords.y - this._mouseCoords.y );\n\n    if ( deltaX != 0 || deltaY !== 0 ) {\n      this.preventUnselect = true;\n    }\n\n    this._mouseCoords = coords;\n\n    var ret = this.handleMouseMoveImpl( e, deltaX, deltaY, coords.x - this._mouseCoords.x, coords.y - this._mouseCoords.y );\n\n    return ret;\n\n  }\n\n  /**\n   * Handles mouse up events\n   * @param {Event} e - The native event\n   * @return The result of the {@link Shape#handleMouseUpImpl} method\n   * @private\n   */\n  handleMouseUp( e ) {\n\n    if ( this.moving && this.moved ) {\n\n      this.graph.emit( 'shapeMoved', this );\n      this.emit( 'shapeMoved' );\n\n    }\n\n    if ( this.handleSelected || this.resize ) {\n\n      this.graph.emit( 'shapeResized', this );\n      this.emit( 'shapeResized' );\n\n    }\n\n    this.moving = false;\n    this.resizing = false;\n    this.handleSelected = false;\n    this.graph.elementMoving( false );\n\n    return this.handleMouseUpImpl( e );\n  }\n\n  /**\n   * Handles double click events\n   * @param {Event} e - The native event\n   * @return The result of the {@link Shape#handleMouseDblClickImpl} method\n   * @private\n   */\n  handleDblClick( e ) {\n\n  }\n\n  /**\n   * Handles mouse over events\n   * @param {Event} e - The native event\n   * @return The result of the {@link Shape#handleMouseOverImpl} method\n   * @private\n   */\n  handleMouseOver() {\n\n    if ( this.getProp( 'highlightOnMouseOver' ) ) {\n\n      if ( !this.moving && !this.resizing ) {\n        this.highlight();\n      }\n    }\n\n    this.graph.emit( 'shapeMouseOver', this );\n  }\n\n  /**\n   * Handles mouse out events\n   * @param {Event} e - The native event\n   * @return The result of the {@link Shape#handleMouseOutImpl} method\n   * @private\n   */\n  handleMouseOut() {\n\n    if ( this.getProp( 'highlightOnMouseOver' ) ) {\n      this.unHighlight();\n    }\n\n    this.graph.emit( 'shapeMouseOut', this );\n  }\n\n  /*\n   *  Updated July 1st, 2015\n   */\n\n  /**\n   * Locks the shape (prevents selection, resizing and moving)\n   * @return {Shape} The current shape\n   */\n  lock() {\n    this.setProp( 'locked', true );\n    return this;\n  }\n\n  /**\n   * Unlocks the shape (prevents selection, resizing and moving)\n   * @return {Shape} The current shape\n   */\n  unlock() {\n    this.setProp( 'locked', false );\n    return this;\n  }\n\n  /**\n   * @return {Boolean} True if the shape is locked, false otherwise\n   */\n  isLocked() {\n    return this.getProp( 'locked' ) || this.graph.shapesLocked;\n  }\n\n  /**\n   * Makes the shape moveable\n   * @return {Shape} The current shape\n   */\n  movable( bln ) {\n    this.setProp( 'movable', true );\n  }\n\n  /**\n   * Makes the shape non-moveable\n   * @return {Shape} The current shape\n   */\n  unmovable() {\n    this.setProp( 'movable', false );\n    return false;\n  }\n\n  /**\n   * @return {Boolean} True if the shape is movable, false otherwise\n   */\n  isMovable() {\n    return this.getProp( 'movable' );\n  }\n\n  /**\n   * Makes the shape resizable\n   * @return {Shape} The current shape\n   */\n  resizable() {\n    this.setProp( 'resizable', true );\n  }\n\n  /**\n   * Makes the shape non-resizable\n   * @return {Shape} The current shape\n   */\n  unresizable() {\n    this.setProp( 'resizable', false );\n  }\n\n  /**\n   * @return {Boolean} True if the shape is resizable, false otherwise\n   */\n  isResizable() {\n    return this.getProp( 'resizable' );\n  }\n\n  /**\n   * Makes the shape selectable\n   * @return {Shape} The current shape\n   */\n  selectable() {\n    this.setProp( 'selectable', true );\n  }\n\n  /**\n   * Makes the shape non-selectable\n   * @return {Shape} The current shape\n   */\n  unselectable() {\n    this.graph.unselectShape( this );\n    this.setProp( 'selectable', false );\n  }\n\n  /**\n   * @return {Boolean} True if the shape is selectable, false otherwise\n   */\n  isSelectable() {\n    return this.getProp( 'selectable' );\n  }\n\n  /**\n   * Highlights the shape with attributes\n   * @returns {Shape} The current shape\n   * @param {Object<String,String>} [ attributes ] - A hashmap of attributes to apply. If omitted, {@link Shape#getHighlightAttributes} will be called\n   * @param {String} [ saveDomName=highlight ] - The name to which the current shape attributes will be saved to be recovered later with the {@link Shape#unHighlight} method\n   * @example shape.highlight( { fill: 'red', 'fill-opacity': 0.5 } );\n   * @see Shape#unHighlight\n   */\n  highlight( attributes, saveDomName ) {\n\n    if ( !attributes ) {\n      attributes = this.getHighlightAttributes();\n    }\n\n    if ( !saveDomName ) {\n      saveDomName = 'highlight';\n    }\n\n    util.saveDomAttributes( this._dom, attributes, saveDomName );\n    this.highlightImpl();\n    return this;\n  }\n\n  /**\n   * Removes the highlight properties from the same\n   * @returns {Shape} The current shape\n   * @param {String} [ saveDomName=highlight ] - The name to which the current shape attributes will be saved to be recovered later with the {@link Shape#unHighlight} method\n   * @see Shape#highlight\n   */\n  unHighlight( saveDomName ) {\n\n    if ( !saveDomName ) {\n      saveDomName = 'highlight';\n    }\n\n    util.restoreDomAttributes( this._dom, saveDomName );\n    this.unHighlightImpl();\n    return this;\n  }\n\n  highlightImpl() {}\n  unHighlightImpl() {}\n\n  /**\n   * @returns {Object} The attributes taken by the shape when highlighted\n   * @see Shape#highlight\n   */\n  getHighlightAttributes() {\n    return this._highlightAttributes;\n  }\n\n  /**\n   * Sets the attributes the shape will take when highlighted\n   * @param {Object<String,String>} [ attributes ] - A hashmap of attributes to apply when the shape is highlighted\n   * @returns {Shape} The current shape\n   * @see Shape#highlight\n   */\n  setHighlightAttributes( attributes ) {\n    this._highlightAttributes = attributes;\n    return this;\n  }\n\n  /**\n   * Returns the masking id of the shape. Returns null if the shape does not behave as a mask\n   * @returns {String} The ```id``` attribute of the shape\n   */\n  getMaskingID() {\n    return this.maskingId;\n  }\n\n  /**\n   * Masks the current shape with another shape passed as the first parameter of the method\n   * @param {Shape} maskingShape - The shape used to mask the current shape\n   * @return {Shape} The current shape\n   */\n  maskWith( maskingShape ) {\n\n    const maskingId = maskingShape.getMaskingID();\n\n    if ( maskingId ) {\n\n      this._dom.setAttribute( 'mask', `url(#${ maskingId })` );\n\n    } else {\n\n      this._dom.removeAttribute( 'mask' );\n    }\n  }\n\n  /**\n   * Manually updates the mask of the shape. This is needed because the shape needs to be surrounded by a white rectangle (because transparent is treated as black and will not render the shape)\n   * This method will work well for rectangles but should be overridden for other shapes\n   * @return {Shape} The current shape\n   * @todo Explore a way to make it compatible for all kinds of shapes. Maybe the masker position should span the whole graph...\n   */\n  updateMask() {\n    return;\n    if ( !this.maskDom ) {\n      return; // eslint-disable-line no-useless-return\n    }\n\n    var position = {\n      x: 'min',\n      y: 'min'\n    };\n    var position2 = {\n      x: 'max',\n      y: 'max'\n    };\n\n    position = this._getPosition( position );\n    position2 = this._getPosition( position2 );\n\n    this.maskDomWrapper.setAttribute( 'x', Math.min( position.x, position2.x ) );\n    this.maskDomWrapper.setAttribute( 'y', Math.min( position.y, position2.y ) );\n\n    this.maskDomWrapper.setAttribute( 'width', Math.abs( position2.x - position.x ) );\n    this.maskDomWrapper.setAttribute( 'height', Math.abs( position2.y - position.y ) );\n\n    for ( var i = 0; i < this._dom.attributes.length; i++ ) {\n      this.maskDom.setAttribute( this._dom.attributes[ i ].name, this._dom.attributes[ i ].value );\n    }\n\n    this.maskDom.setAttribute( 'fill', 'black' );\n\n    return this;\n  }\n\n  labelDblClickListener( e ) {\n\n    var i = parseInt( e.target.getAttribute( 'data-label-i' ) );\n\n    var self = this;\n\n    if ( isNaN( i ) ) {\n      return;\n    }\n\n    if ( !this.isLabelEditable( i ) ) {\n      return;\n    }\n\n    e.preventDefault();\n    e.stopPropagation();\n\n    var shapeLabel = document.createElement( 'input' );\n    shapeLabel.setAttribute( 'type', 'text' );\n    shapeLabel.setAttribute( 'value', self.getProp( 'labelText', i ) );\n\n    self.graph.wrapper.prepend( shapeLabel );\n    shapeLabel.select();\n\n    util.setCSS( shapeLabel, {\n      position: 'absolute',\n      marginTop: `${parseInt( e.target.getAttribute( 'y' ).replace( 'px', '' ) ) + this.graph.getPaddingTop() - 10 }px`,\n      marginLeft: `${parseInt( e.target.getAttribute( 'x' ).replace( 'px', '' ) ) + this.graph.getPaddingLeft() - 50 }px`,\n      textAlign: 'center',\n      width: '100px'\n    } );\n\n    const previousValue = self.getLabelText( i );\n\n    const blurEvent = function() {\n\n      self.setLabelText( shapeLabel.value, i );\n      self._labels[ i ].textContent = shapeLabel.value;\n\n      const nextValue = shapeLabel.value;\n\n      shapeLabel.remove();\n      shapeLabel.removeEventListener( 'blur', blurEvent );\n      shapeLabel = false;\n\n      self.changed( 'shapeLabelChanged', {\n        previousValue: previousValue,\n        nextValue: nextValue\n      } );\n    };\n\n    shapeLabel.addEventListener( 'blur', blurEvent );\n\n    shapeLabel.addEventListener( 'keyup', function( e ) {\n\n      if ( e.keyCode === 13 ) {\n        blurEvent();\n      }\n    } );\n    shapeLabel.addEventListener( 'keypress', function( e ) {\n      e.stopPropagation();\n    } );\n    shapeLabel.addEventListener( 'keydown', function( e ) {\n      e.stopPropagation();\n    } );\n    shapeLabel.focus();\n\n  }\n\n  /**\n   * Appends the shape DOM to its parent\n   * @private\n   * @return {Shape} The current shape\n   */\n  appendToDom() {\n\n    if ( this._forcedParentDom ) {\n\n      this._forcedParentDom.appendChild( this.group );\n    } else {\n      this.graph.appendShapeToDom( this );\n    }\n    return this;\n  }\n\n  /**\n   * Forces the DOM parent (instead of the normal layer)\n   * @return {Shape} The current shape\n   */\n  forceParentDom( dom ) {\n\n    this._forcedParentDom = dom;\n\n    return this;\n  }\n\n  isHTML() {\n    return false;\n  }\n}\n\n/**\n * @alias Shape#calculatePosition\n */\nShape.prototype.computePosition = Shape.prototype.calculatePosition;\n\n/**\n * @alias Shape#displayLabel\n */\nShape.prototype.showLabel = Shape.prototype.displayLabel;\n\n/**\n * @alias Shape#kill\n */\nShape.prototype.remove = Shape.prototype.kill;\n\nexport default Shape;","import Shape from './graph.shape.js';\n\n/**\n *  Displays a surface under a line serie\n *  @extends GraphShape\n */\nclass ShapeSurfaceUnderCurve extends Shape {\n\n  createDom() {\n    this._dom = document.createElementNS( this.graph.ns, 'path' );\n  }\n\n  createHandles() {\n\n    this._createHandles( 2, 'line', {\n      'stroke-width': '3',\n      'stroke': 'transparent',\n      'pointer-events': 'stroke',\n      'cursor': 'ew-resize'\n    } );\n\n  }\n\n  handleMouseMoveImpl( e, deltaX, deltaY ) {\n\n    if ( this.isLocked() ) {\n      return;\n    }\n\n    if ( this.moving ) {\n\n      this.getPosition( 0 ).deltaPosition( 'x', deltaX, this.getXAxis() );\n      this.getPosition( 1 ).deltaPosition( 'x', deltaX, this.getXAxis() );\n\n    } else if ( this.serie && this.handleSelected ) {\n\n      this.resizingPosition = this.handleSelected == 1 ? this.getPosition( 0 ) : this.getPosition( 1 );\n\n      var value = this.serie.searchClosestValue( this.getXAxis().getVal( this.graph._getXY( e ).x - this.graph.getPaddingLeft() ) );\n\n      if ( !value ) {\n        return;\n      }\n\n      if ( this.resizingPosition.x != value.xMin ) {\n        this.preventUnselect = true;\n      }\n\n      this.resizingPosition.x = value.xMin;\n\n    } else if ( this.handleSelected ) {\n\n      this.resizingPosition = this.handleSelected == 1 ? this.getPosition( 0 ) : this.getPosition( 1 );\n      this.resizingPosition.deltaPosition( 'x', deltaX, this.getXAxis() );\n    }\n\n    this.applyPosition();\n  }\n  /*\n      redrawImpl: function() {\n        //var doDraw = this.setPosition();\n        //\tthis.setDom('fill', 'url(#' + 'patternFill' + this.graph._creation + ')')\n\n        if ( this.position != this.doDraw ) {\n          this.group.setAttribute( \"visibility\", this.position ? \"visible\" : 'hidden' );\n          this.doDraw = this.position;\n        }\n      },\n  */\n  applyPosition() {\n\n    if ( !this.serie ) {\n      return;\n    }\n\n    var posXY = this.computePosition( 0 ),\n      posXY2 = this.computePosition( 1 ),\n      w = Math.abs( posXY.x - posXY2.x ),\n      x = Math.min( posXY.x, posXY2.x );\n\n    //  this.reversed = x == posXY2.x;\n\n    if ( w < 2 || x + w < 0 || x > this.graph.getDrawingWidth() ) {\n      this.setDom( 'd', '' );\n      return false;\n    }\n\n    var v1 = this.serie.searchClosestValue( this.getPosition( 0 ).x ),\n      v2 = this.serie.searchClosestValue( this.getPosition( 1 ).x ),\n      v3,\n      i,\n      j,\n      init,\n      max,\n      k,\n      x,\n      y,\n      firstX,\n      firstY,\n      currentLine,\n      maxY = 0,\n      minY = Number.MAX_VALUE;\n\n    if ( !v1 || !v2 ) {\n      return false;\n    }\n\n    if ( v1.xBeforeIndex > v2.xBeforeIndex ) {\n      v3 = v1;\n      v1 = v2;\n      v2 = v3;\n\n      //this.handleSelected = ( this.handleSelected == 1 ) ? 2 : 1;\n    }\n\n    this.counter = 0;\n\n    for ( i = v1.dataIndex; i <= v2.dataIndex; i++ ) {\n      this.currentLine = '';\n      init = i == v1.dataIndex ? v1.xBeforeIndexArr : 0;\n      max = i == v2.dataIndex ? v2.xBeforeIndexArr : this.serie.data[ i ].length;\n      k = 0;\n\n      if ( init == max ) {\n        max++;\n      }\n\n      for ( j = init; j <= max; j += 2 ) {\n\n        x = this.serie.getX( this.serie.data[ i ][ j + 0 ] );\n        y = this.serie.getY( this.serie.data[ i ][ j + 1 ] );\n\n        maxY = Math.max( this.serie.data[ i ][ j + 1 ], maxY );\n        minY = Math.min( this.serie.data[ i ][ j + 1 ], minY );\n\n        if ( j == init ) {\n          this.firstX = x;\n          this.firstY = y;\n        }\n\n        if ( k > 0 ) {\n          this.currentLine += ` L ${ x } ${ y } `;\n        } else {\n          this.currentLine += ` M ${ x } ${ y } `;\n        }\n\n        //this.serie._addPoint( x, y, false, this.currentLine );\n        k++;\n\n      }\n\n      this.lastX = x;\n      this.lastY = y;\n\n      if ( !this.firstX || !this.firstY || !this.lastX || !this.lastY ) {\n        return;\n      }\n\n      this.currentLine += ` V ${ this.getYAxis().getPx( 0 ) } H ${ this.firstX } z`;\n      this.setDom( 'd', this.currentLine );\n    }\n\n    this.maxY = this.serie.getY( maxY );\n    this.setHandles();\n\n    this.changed();\n\n    return true;\n  }\n\n  setHandles() {\n\n    if ( !this.firstX ) {\n      return;\n    }\n\n    var posXY = this.computePosition( 0 ),\n      posXY2 = this.computePosition( 1 );\n\n    if ( posXY.x < posXY2.x ) {\n\n      this.handles[ 1 ].setAttribute( 'x1', this.firstX );\n      this.handles[ 1 ].setAttribute( 'x2', this.firstX );\n\n      this.handles[ 2 ].setAttribute( 'x1', this.lastX );\n      this.handles[ 2 ].setAttribute( 'x2', this.lastX );\n\n    } else {\n\n      this.handles[ 1 ].setAttribute( 'x1', this.lastX );\n      this.handles[ 1 ].setAttribute( 'x2', this.lastX );\n\n      this.handles[ 2 ].setAttribute( 'x1', this.firstX );\n      this.handles[ 2 ].setAttribute( 'x2', this.firstX );\n\n    }\n    this.handles[ 1 ].setAttribute( 'y1', this.getYAxis().getMaxPx() );\n    this.handles[ 1 ].setAttribute( 'y2', this.serie.getY( 0 ) );\n\n    this.handles[ 2 ].setAttribute( 'y1', this.getYAxis().getMaxPx() );\n    this.handles[ 2 ].setAttribute( 'y2', this.serie.getY( 0 ) );\n  }\n}\n\nexport default ShapeSurfaceUnderCurve;","import GraphShape from './graph.shape.js';\n\n/**\n * Represents a line\n * @extends Shape\n * @see Graph#newShape\n */\nclass ShapeLine extends GraphShape {\n\n  constructor( graph, options ) {\n    super( graph, options );\n  }\n\n  /**\n   * Creates the DOM\n   * @private\n   * @return {Shape} The current shape\n   */\n  createDom() {\n\n    this._dom = document.createElementNS( this.graph.ns, 'line' );\n\n    if ( !this.getStrokeColor() ) {\n      this.setStrokeColor( 'black' );\n    }\n\n    if ( !this.getStrokeWidth() ) {\n      this.setStrokeWidth( 1 );\n    }\n\n  }\n\n  /**\n   * Creates the handles\n   * @private\n   * @return {Shape} The current shape\n   */\n  createHandles() {\n\n    this._createHandles( 2, 'rect', {\n      transform: 'translate(-3 -3)',\n      width: 6,\n      height: 6,\n      stroke: 'black',\n      fill: 'white',\n      cursor: 'nwse-resize'\n    } );\n  }\n\n  /**\n   * Recalculates the positions and applies them\n   * @private\n   * @return {Boolean} Whether the shape should be redrawn\n   */\n  applyPosition() {\n\n    var position = this.calculatePosition( 0 );\n    var position2 = this.calculatePosition( 1 );\n\n    if ( !position || !position.x || !position.y ) {\n      return;\n    }\n\n    this.setDom( 'x2', position.x );\n    this.setDom( 'y2', position.y );\n\n    this.setDom( 'y1', position2.y );\n    this.setDom( 'x1', position2.x );\n\n    this.currentPos2x = position2.x;\n    this.currentPos2y = position2.y;\n\n    this.currentPos1x = position.x;\n    this.currentPos1y = position.y;\n\n    return true;\n  }\n\n  /**\n   * Handles mouse move events\n   * @private\n   */\n  handleMouseMoveImpl( e, deltaX, deltaY, deltaXPx, deltaYPx ) {\n\n    if ( this.isLocked() ) {\n      return;\n    }\n\n    var pos = this.getPosition( 0 );\n    var pos2 = this.getPosition( 1 );\n\n    var posToChange;\n    if ( this.handleSelected == 1 ) {\n\n      posToChange = pos;\n\n    } else if ( this.handleSelected == 2 ) {\n\n      posToChange = pos2;\n    }\n\n    if ( posToChange ) {\n\n      if ( !this._data.vertical ) {\n        posToChange.deltaPosition( 'x', deltaX, this.getXAxis() );\n      }\n\n      if ( !this._data.horizontal ) {\n        posToChange.deltaPosition( 'y', deltaY, this.getYAxis() );\n      }\n    }\n\n    if ( this.moving ) {\n      console.log( this._data );\n      // If the pos2 is defined by a delta, no need to move them\n      if ( pos.x && !this._data.noX ) {\n        pos.deltaPosition( 'x', deltaX, this.getXAxis() );\n      }\n      if ( pos.y && !this._data.noY ) {\n        pos.deltaPosition( 'y', deltaY, this.getYAxis() );\n      }\n\n      // If the pos2 is defined by a delta, no need to move them\n      if ( pos2.x && !this._data.noX ) {\n        pos2.deltaPosition( 'x', deltaX, this.getXAxis() );\n      }\n      if ( pos2.y && !this._data.noY ) {\n        pos2.deltaPosition( 'y', deltaY, this.getYAxis() );\n      }\n\n    }\n\n    if ( this._data.forcedCoords ) {\n\n      var forced = this._data.forcedCoords;\n\n      if ( forced.y !== undefined ) {\n\n        if ( typeof forced.y == 'function' ) {\n          pos2.y = pos.y = forced.y( this );\n        } else {\n          pos2.y = forced.y;\n          pos.y = forced.y;\n        }\n      }\n\n      if ( forced.x !== undefined ) {\n\n        if ( typeof forced.x == 'function' ) {\n          pos2.x = pos.x = forced.x( this );\n        } else {\n          pos2.x = forced.x;\n          pos.x = forced.x;\n        }\n      }\n    }\n\n    if ( this.rectEvent ) {\n      this.setEventReceptacle();\n    }\n\n    this.redraw();\n    this.changed();\n    this.setHandles();\n\n    return true;\n  }\n\n  /**\n   * Sets the handle position\n   * @private\n   */\n  setHandles() {\n\n    if ( !this.areHandlesInDom() ) {\n      return;\n    }\n\n    if ( isNaN( this.currentPos1x ) ) {\n      return;\n    }\n\n    this.handles[ 1 ].setAttribute( 'x', this.currentPos1x );\n    this.handles[ 1 ].setAttribute( 'y', this.currentPos1y );\n\n    this.handles[ 2 ].setAttribute( 'x', this.currentPos2x );\n    this.handles[ 2 ].setAttribute( 'y', this.currentPos2y );\n  }\n\n  /**\n   * Creates an line receptacle with the coordinates of the line, but continuous and thicker\n   * @return {Shape} The current shape\n   */\n  setEventReceptacle() {\n\n    if ( !this.currentPos1x ) {\n      return;\n    }\n\n    if ( !this.rectEvent ) {\n      this.rectEvent = document.createElementNS( this.graph.ns, 'line' );\n      this.rectEvent.setAttribute( 'pointer-events', 'stroke' );\n      this.rectEvent.setAttribute( 'stroke', 'transparent' );\n      this.rectEvent.jsGraphIsShape = this;\n      this.group.appendChild( this.rectEvent );\n    }\n\n    this.rectEvent.setAttribute( 'x1', this.currentPos1x );\n    this.rectEvent.setAttribute( 'y1', this.currentPos1y );\n    this.rectEvent.setAttribute( 'x2', this.currentPos2x );\n    this.rectEvent.setAttribute( 'y2', this.currentPos2y );\n    this.rectEvent.setAttribute( 'stroke-width', this.getProp( 'strokeWidth' ) + 2 );\n  }\n}\n\nexport default ShapeLine;","import ShapeLine from './graph.shape.line.js';\n\n/**\n *  Displays an arrow\n *  @extends GraphShapeLine\n */\nclass ShapeArrow extends ShapeLine {\n\n  constructor( graph ) {\n\n    super( graph );\n\n  }\n\n  createDom() {\n\n    this._dom = document.createElementNS( this.graph.ns, 'line' );\n    this._dom.setAttribute( 'marker-end', `url(#arrow${ this.graph._creation })` );\n\n    this.createHandles( this.nbHandles, 'rect', {\n      transform: 'translate(-3 -3)',\n      width: 6,\n      height: 6,\n      stroke: 'black',\n      fill: 'white',\n      cursor: 'nwse-resize'\n    } );\n\n    this.setStrokeColor( 'black' );\n    this.setStrokeWidth( 1 );\n  }\n}\n\nexport default ShapeArrow;","import * as util from '../graph.util.js';\n\nimport Shape from './graph.shape.js';\n\n/**\n * Displays an ellipse\n * @extends Shape\n */\nclass ShapeEllipse extends Shape {\n\n  constructor( graph, options ) {\n    super( graph, options );\n  }\n\n  createDom() {\n    this._dom = document.createElementNS( this.graph.ns, 'ellipse' );\n  }\n\n  applyPosition() {\n\n    var pos = this.computePosition( 0 );\n\n    this.setDom( 'cx', pos.x || 0 );\n    this.setDom( 'cy', pos.y || 0 );\n\n    let posR = this.graph.newPosition( {\n\n      dx: this.getProp( 'rx' ),\n      dy: this.getProp( 'ry' ) || this.getProp( 'rx' )\n\n    } );\n\n    let posComputed = this.calculatePosition( posR );\n\n    this.setDom( 'rx', Math.abs( posComputed.x ) || 0 );\n    this.setDom( 'ry', Math.abs( posComputed.y ) || 0 );\n    return true;\n  }\n\n  setR( rx, ry ) {\n    this.setProp( 'rx', rx );\n    this.setProp( 'ry', ry );\n    return this;\n  }\n\n  handleMouseUpImpl() {\n    this.triggerChange();\n  }\n\n  handleMouseMoveImpl( e, deltaX, deltaY, deltaXPx, deltaYPx ) {\n\n  }\n}\n\nexport default ShapeEllipse;","import GraphShape from './graph.shape.js';\n\n/**\n * Blank shape used to display label\n * Use myShapelabel.setLabelText(); and associated methods\n * @extend GraphShape\n */\nclass ShapeLabel extends GraphShape {\n\n  constructor( graph, options ) {\n\n    super( graph, options );\n  }\n\n  createDom() {\n    return false;\n  }\n\n  applyPosition() {\n    return true;\n  }\n}\n\nexport default ShapeLabel;","import Shape from './graph.shape.js';\n\n/**\n * Represents a line that extends the Shape class. Used by the plugin {@link PluginSerieLineDifference}\n * @extends Shape\n * @see Graph#newShape\n */\nclass ShapePolyline extends Shape {\n\n  constructor( graph, options ) {\n    super( graph, options );\n  }\n\n  /**\n   * Creates the DOM\n   * @private\n   * @return {Shape} The current shape\n   */\n  createDom() {\n\n    this._dom = document.createElementNS( this.graph.ns, 'path' );\n\n    if ( !this.getStrokeColor() ) {\n      this.setStrokeColor( 'black' );\n    }\n\n    if ( this.getStrokeWidth() == undefined ) {\n      this.setStrokeWidth( 1 );\n    }\n  }\n\n  /**\n   * No handles for the polyline\n   * @private\n   * @return {Shape} The current shape\n   */\n  createHandles() {}\n\n  /**\n   *  Force the points of the polyline already computed in pixels\n   *  @param {String} a SVG string to be used in the ```d``` attribute of the path.\n   *  @return {ShapePolyline} The current polyline instance\n   */\n  setPointsPx( points ) {\n    this.setProp( 'pxPoints', points );\n    return this;\n  }\n\n  /**\n   * Recalculates the positions and applies them\n   * @private\n   * @return {Boolean} Whether the shape should be redrawn\n   */\n  applyPosition() {\n\n    let pxPoints;\n    let pos = this.computePosition( 0 );\n\n    if ( ( pxPoints = this.getProp( 'pxPoints' ) ) ) {\n\n      pxPoints = ` M ${ pos.x } ${ pos.y } ${ pxPoints}`;\n      this.setDom( 'd', pxPoints );\n\n    } else if ( this.points ) {\n\n      var xAxis, yAxis;\n\n      if ( this.serie ) {\n\n        xAxis = this.serie.getXAxis();\n        yAxis = this.serie.getYAxis();\n\n      } else if ( this.xAxis && this.yAxis ) {\n\n        xAxis = this.xAxis;\n        yAxis = this.yAxis;\n      }\n\n      this.setDom( 'd', `M ${ this.points.map( function( p ) {\n        return `${xAxis.getPx( p[ 0 ] ) }, ${ yAxis.getPx( p[ 1 ] )}`;\n      } ).join( ' L ' )}` );\n    }\n\n    this.changed();\n    return true;\n  }\n}\n\nexport default ShapePolyline;","import GraphPosition from '../graph.position.js';\n\nimport Shape from './graph.shape.js';\n\n/**\n * Displays an integral with NMR style\n * @extends ShapeSurfaceUnderCurve\n */\nclass ShapeNMRIntegral extends Shape {\n\n  constructor( graph, options ) {\n\n    super( graph, options );\n\n    this.nbHandles = 2;\n  }\n\n  createDom() {\n    this._dom = document.createElementNS( this.graph.ns, 'path' );\n    this._domShadow = document.createElementNS( this.graph.ns, 'path' );\n    this._domShadow.jsGraphIsShape = this;\n    this._dom.setAttribute( 'pointer-events', 'stroke' );\n    this._domShadow.setAttribute( 'pointer-events', 'stroke' );\n    this._domShadow.setAttribute( 'stroke-width', '12' );\n    this._domShadow.setAttribute( 'fill', 'transparent' );\n    this._domShadow.setAttribute( 'stroke', 'transparent' );\n    this.group.appendChild( this._domShadow );\n  }\n\n  initImpl() {\n    this.setFillColor( 'transparent' );\n    this.setStrokeColor( 'black' );\n  }\n\n  createHandles() {\n\n    this._createHandles( 2, 'rect', {\n      transform: 'translate(-3 -3)',\n      width: 6,\n      height: 6,\n      stroke: 'black',\n      fill: 'white'\n    } );\n\n    this.handles[ 1 ].setAttribute( 'fill', 'red' );\n  }\n\n  xor( a, b ) {\n    return ( a && !b ) || ( !a && b );\n  }\n\n  applyPosition() {\n\n    let\n      x,\n      y,\n      xVal,\n      yVal,\n      axis = this.getAxis(),\n      points = [];\n\n    let currentLine = '',\n      baseLine = this.getProp( 'baseLine', 0 ) || 300,\n      ratio;\n\n    if ( !this.serie ) {\n      throw 'No serie exists for this shape';\n    }\n    /*\n        this.sortPositions( ( a, b ) => {\n          return a.x - b.x;\n        } );\n\n        */\n    let pos1 = this.getPosition( 0 );\n    let pos2 = this.getPosition( 1 );\n\n    if ( ( pos1.x < this.serie.getXAxis().getCurrentMin() && pos2.x < this.serie.getXAxis().getCurrentMin() ) || ( pos1.x > this.serie.getXAxis().getCurrentMax() && pos2.x > this.serie.getXAxis().getCurrentMax() ) ) {\n      this.setDom( 'd', '' );\n      this._domShadow.setAttribute( 'd', '' );\n\n      this.hideLabel( 0 );\n      return false;\n    }\n\n    this.showLabel( 0 );\n\n    let sum = 0;\n\n    let j;\n    let waveform = this.serie.getWaveform();\n\n    if ( !waveform ) {\n      return;\n    }\n\n    let index1 = waveform.getIndexFromX( pos1[ axis ], true, Math.floor ),\n      index2 = waveform.getIndexFromX( pos2[ axis ], true, Math.ceil ),\n      index3,\n      flipped = false;\n\n    if ( index1 == index2 ) { // At least one px please !\n      if ( waveform.getReductionType() == 'aggregate' ) {\n        index2 += 4; // Aggregated state\n      } else {\n        index2++; // Non aggregated state\n      }\n    }\n\n    if ( index2 < index1 ) {\n      index3 = index1;\n      index1 = index2;\n      index2 = index3;\n      flipped = true;\n    }\n\n    let firstX, firstY, firstXVal, firstYVal, lastX, lastXVal, lastY, lastYVal;\n    let data = waveform.getDataInUse();\n\n    let condition, incrementation;\n\n    let normalSums = true;\n    if ( waveform.getReductionType() == 'aggregate' ) {\n      normalSums = false;\n    }\n\n    if (\n      ( waveform.getXMonotoneousAscending() && // Ascending\n        1 == 1 ) ||\n      ( !waveform.getXMonotoneousAscending() && // Ascending\n        1 == 2 )\n    ) {\n\n      j = index2;\n      condition = true;\n      incrementation = -1;\n\n    } else {\n\n      j = index1;\n      condition = false;\n      incrementation = 1;\n    }\n\n    for ( ; condition ? j >= index1 : j <= index2; j += incrementation ) {\n\n      xVal = waveform.getX( j, true );\n      yVal = waveform.getY( j, true );\n\n      x = this.serie.getX( xVal );\n      y = this.serie.getY( yVal );\n\n      /*\n            if ( ! normalSums && j % 4 == 0 && j >= index1 && data.sums ) { // Sums are located every 4 element\n\n              sum += data.sums[ j ];// * ( waveform.getX( j, true ) - waveform.getX( j - 3, true ) ); // y * (out-in)\n\n            } else if( normalSums ) {\n      */\n      sum += waveform.getY( j, true ); // * ( waveform.getX( j, true ) - waveform.getX( j - 1, true ) ); // y * (out-in)\n      //}\n\n      if ( !firstX ) {\n\n        firstX = x;\n        firstY = y;\n        firstXVal = waveform.getX( j );\n        firstYVal = waveform.getY( j );\n      }\n\n      if ( lastX == undefined ) {\n\n        lastX = x;\n        lastY = y;\n        lastXVal = waveform.getX( j );\n        lastYVal = waveform.getY( j );\n        continue;\n      }\n\n      if ( x == lastX && y == lastY ) {\n        //continue;\n      }\n\n      lastX = x;\n      lastY = y;\n      //console.log( data, data[ j ] );\n\n      points.push( [ x, y, sum ] );\n      lastXVal = xVal;\n    }\n\n    lastXVal = false;\n    lastYVal = false;\n    lastX = false;\n    lastY = false;\n\n    if ( sum == 0 ) {\n      sum = 1;\n    }\n\n    this._sumVal = waveform.integrate( pos1.x, pos2.x );\n\n    if ( !this.ratio ) {\n      // 150px / unit\n      ratio = 200 / sum;\n\n    } else {\n      // Already existing\n      ratio = this.ratio * ( this.sumVal / sum );\n    }\n    let py;\n\n    if ( points.length == 0 ) {\n      return;\n    }\n\n    for ( var i = 0, l = points.length; i < l; i++ ) {\n\n      py = baseLine - ( points[ i ][ 2 ] ) * ratio;\n\n      if ( i > 0 && ( ( points[ i - 1 ][ 2 ] > sum / 2 && points[ i ][ 2 ] <= sum / 2 ) || ( points[ i - 1 ][ 2 ] < sum / 2 && points[ i ][ 2 ] >= sum / 2 ) ) ) {\n\n        let pos = baseLine - ( points[ i - 1 ][ 2 ] + points[ i ][ 2 ] ) / 2 * ratio;\n\n        this.setPosition( {\n          x: `${points[ i ][ 0 ] }px`,\n          y: `${pos }px`\n\n        }, 3 );\n\n        this.setLabelPosition( this.getPosition( 3 ), 0 );\n      }\n\n      currentLine += ` L ${ points[ i ][ 0 ] }, ${ py } `;\n\n      this.lastPointX = points[ i ][ 0 ];\n      this.lastPointY = py;\n    }\n\n    this.points = points;\n    this._sum = sum;\n\n    if ( this.serie.isFlipped() ) {\n      currentLine = ` M ${ baseLine }, ${ firstX } ${ currentLine}`;\n    } else {\n      currentLine = ` M ${ firstX }, ${ baseLine } ${ currentLine}`;\n    }\n\n    this.firstPointX = firstX;\n    this.firstPointY = baseLine;\n\n    this.setDom( 'd', currentLine );\n    this._domShadow.setAttribute( 'd', currentLine );\n\n    this.firstX = firstX;\n    this.firstY = firstY;\n    /*\n          if ( this._selected ) {\n            this.select();\n          }\n\n          this.setHandles();*/\n\n    ( this.serie.ratioLabel && this.updateIntegralValue( this.serie.ratioLabel ) ) || this.updateLabels();\n\n    this.changed();\n    this.handleCondition = !this.xor( incrementation == -1, flipped );\n    this.setHandles();\n\n    this.updateIntegralValue();\n\n    return true;\n  }\n\n  updateIntegralValue( ratioLabel = this.serie.ratioLabel, forceValue ) {\n    console.log( ratioLabel );\n    if ( ratioLabel ) {\n      this.serie.ratioLabel = ratioLabel;\n    }\n\n    if ( !isNaN( forceValue ) && !isNaN( this.sumVal ) && this.sumVal ) {\n      this.serie.ratioLabel = forceValue / this.sumVal;\n    }\n\n    this.setLabelText( ratioLabel ? ( Math.round( 100 * this.sumVal * ratioLabel ) / 100 ).toPrecision( 3 ) : 'N/A', 0 );\n    this.updateLabels();\n    return this.serie.ratioLabel;\n  }\n\n  getAxis() {\n    return this._data.axis || 'x';\n  }\n\n  /**\n   * User to screen coordinate transform. In (unit)/(px), (unit) being the unit of the integral (x * y)\n   * @type {Number}\n   */\n  set ratio( r ) {\n    this._ratio = r;\n  }\n\n  get ratio() {\n    return this._ratio;\n  }\n\n  get sum() {\n    return this._sum;\n  }\n\n  get sumVal() {\n    return this._sumVal;\n  }\n\n  selectStyle() {\n    this.setDom( 'stroke-width', '2px' );\n  }\n\n  selectHandles() {} // Cancel areaundercurve\n\n  setHandles() {\n\n    if ( this.points == undefined ) {\n      return;\n    }\n\n    if ( !this.isSelected() ) {\n      return;\n    }\n\n    this.addHandles();\n\n    if ( this.handleCondition ) {\n\n      this.handles[ 1 ].setAttribute( 'x', this.firstPointX );\n      this.handles[ 1 ].setAttribute( 'y', this.firstPointY );\n      this.handles[ 2 ].setAttribute( 'x', this.lastPointX );\n      this.handles[ 2 ].setAttribute( 'y', this.lastPointY );\n\n    } else {\n\n      this.handles[ 2 ].setAttribute( 'x', this.firstPointX );\n      this.handles[ 2 ].setAttribute( 'y', this.firstPointY );\n      this.handles[ 1 ].setAttribute( 'x', this.lastPointX );\n      this.handles[ 1 ].setAttribute( 'y', this.lastPointY );\n\n    }\n  }\n\n  /**\n   * Handles mouse move events\n   * @private\n   */\n  handleMouseMoveImpl( e, deltaX, deltaY, deltaXPx, deltaYPx ) {\n\n    if ( this.isLocked() ) {\n      return;\n    }\n\n    var pos = this.getPosition( 0 );\n    var pos2 = this.getPosition( 1 );\n\n    var posToChange;\n\n    if ( this.handleSelected == 1 ) {\n\n      posToChange = pos;\n\n    } else if ( this.handleSelected == 2 ) {\n\n      posToChange = pos2;\n    }\n\n    if ( posToChange ) {\n\n      if ( !this._data.vertical ) {\n        posToChange.deltaPosition( 'x', deltaX, this.getXAxis() );\n      }\n    }\n\n    if ( this.moving ) {\n\n      // If the pos2 is defined by a delta, no need to move them\n      if ( pos.x ) {\n        pos.deltaPosition( 'x', deltaX, this.getXAxis() );\n      }\n\n      // If the pos2 is defined by a delta, no need to move them\n      if ( pos2.x ) {\n        pos2.deltaPosition( 'x', deltaX, this.getXAxis() );\n      }\n    }\n\n    if ( this.rectEvent ) {\n      this.setEventReceptacle();\n    }\n\n    this.redraw();\n    this.changed();\n\n    return true;\n  }\n}\n\nexport default ShapeNMRIntegral;","import * as util from '../graph.util.js';\n\nimport GraphShape from './graph.shape.js';\n\n/**\n * Represents a rectangle that extends the Shape class\n * @class ShapeRectangle\n * @augments Shape\n * @see Graph#newShape\n */\nclass ShapeRectangle extends GraphShape {\n\n  constructor( graph, options ) {\n    super( graph, options );\n\n  }\n\n  /**\n   * Creates the DOM\n   * @private\n   * @return {Shape} The current shape\n   */\n  createDom() {\n    this._dom = document.createElementNS( this.graph.ns, 'rect' );\n\n    if ( !this.getStrokeColor() ) {\n      this.setStrokeColor( 'black' );\n    }\n\n    if ( !this.getStrokeWidth() ) {\n      this.setStrokeWidth( 1 );\n    }\n\n    if ( !this.getFillColor() ) {\n      this.setFillColor( 'transparent' );\n    }\n\n    return this;\n  }\n\n  /**\n   * Creates the Handles\n   * @private\n   * @return {Shape} The current shape\n   */\n  createHandles() {\n    if ( !this.hasHandles() ) {\n      return;\n    }\n\n    /*\n          this._data.handles = this._data.handles || {\n            type: 'corners'\n          };\n    */\n\n    var handles = this.getProp( 'handles' );\n\n    if ( typeof handles != 'object' ) {\n      handles = {};\n    }\n\n    if ( !handles.type ) {\n      handles.type = 'corners';\n    }\n\n    switch ( handles.type ) {\n\n      case 'sides':\n\n        util.extend( handles, {\n          sides: {\n            top: true,\n            bottom: true,\n            left: true,\n            right: true\n          }\n        } );\n\n        var j = 0;\n        for ( var i in handles.sides ) {\n          if ( handles.sides[ i ] ) {\n            j++;\n          }\n        }\n\n        this._createHandles( j, 'g' ).map( function( g ) {\n\n          var r = document.createElementNS( self.graph.ns, 'rect' );\n          r.setAttribute( 'x', '-3' );\n          r.setAttribute( 'width', '6' );\n          r.setAttribute( 'y', '-6' );\n          r.setAttribute( 'height', '12' );\n          r.setAttribute( 'stroke', 'black' );\n          r.setAttribute( 'fill', 'white' );\n          r.setAttribute( 'cursor', 'pointer' );\n\n          g.appendChild( r );\n\n        } );\n\n        var j = 1;\n\n        for ( var i in handles.sides ) {\n          if ( handles.sides[ i ] ) {\n            this.handles[ i ] = this[ `handle${ j}` ];\n            this.sides[ j ] = i;\n            j++;\n          }\n        }\n\n        break;\n\n      case 'corners':\n        this._createHandles( 4, 'rect', {\n          transform: 'translate(-3 -3)',\n          width: 6,\n          height: 6,\n          stroke: 'black',\n          fill: 'white'\n        } );\n\n        if ( this.handles ) {\n          this.handles[ 2 ].setAttribute( 'cursor', 'nesw-resize' );\n          this.handles[ 4 ].setAttribute( 'cursor', 'nesw-resize' );\n\n          this.handles[ 1 ].setAttribute( 'cursor', 'nwse-resize' );\n          this.handles[ 3 ].setAttribute( 'cursor', 'nwse-resize' );\n        }\n\n        break;\n\n      case 'seamlessX':\n\n        this._createHandles( 2, 'rect', {\n          transform: 'translate(-3 -3)',\n          stroke: 'transparent',\n          fill: 'transparent',\n          width: '20px',\n          cursor: 'ew-resize'\n        } );\n\n        break;\n    }\n\n    super.createHandles();\n\n    return this;\n  }\n\n  /**\n   * Updates the position\n   * @memberof ShapeRectangle\n   * @private\n   * @return {Shape} The current shape\n   */\n  applyPosition() {\n\n    var pos = this.computePosition( 0 ),\n      pos2 = this.computePosition( 1 ),\n      x,\n      y,\n      width,\n      height;\n\n    if ( pos.x < pos2.x ) {\n      x = pos.x;\n      width = pos2.x - pos.x;\n    } else {\n      x = pos2.x;\n      width = pos.x - pos2.x;\n    }\n\n    if ( pos.y < pos2.y ) {\n      y = pos.y;\n      height = pos2.y - pos.y;\n    } else {\n      y = pos2.y;\n      height = pos.y - pos2.y;\n    }\n\n    this.currentX = x;\n    this.currentY = y;\n    this.currentW = width;\n    this.currentH = height;\n\n    if ( !isNaN( x ) && !isNaN( y ) && x !== false && y !== false ) {\n\n      this.setDom( 'width', width );\n      this.setDom( 'height', height );\n      this.setDom( 'x', x );\n      this.setDom( 'y', y );\n\n      this.setHandles();\n      this.updateMask();\n\n      return true;\n    }\n\n    return false;\n  }\n\n  /**\n   * Implements mouse move event\n   * @private\n   * @return {Shape} The current shape\n   */\n  handleMouseMoveImpl( e, deltaX, deltaY, deltaXPx, deltaYPx ) {\n\n    var handles = this.getProp( 'handles' );\n\n    if ( !this.moving && !this.handleSelected ) {\n      return;\n    }\n\n    var pos = this.getPosition( 0 );\n    var pos2 = this.getPosition( 1 );\n\n    var invX = this.getXAxis().isFlipped(),\n      invY = this.getYAxis().isFlipped(),\n      posX = pos.x,\n      posY = pos.y,\n      pos2X = pos2.x,\n      pos2Y = pos2.y;\n\n    if ( this.moving ) {\n\n      pos.deltaPosition( 'x', deltaX, this.getXAxis() );\n      pos.deltaPosition( 'y', deltaY, this.getYAxis() );\n\n      pos2.deltaPosition( 'x', deltaX, this.getXAxis() );\n      pos2.deltaPosition( 'y', deltaY, this.getYAxis() );\n\n    } else {\n\n      switch ( handles.type ) {\n\n        case 'seamlessX':\n          // Do nothing for now\n\n          switch ( this.handleSelected ) {\n\n            case 1:\n              pos.deltaPosition( 'x', deltaX, this.getXAxis() );\n              break;\n\n            case 2:\n              pos2.deltaPosition( 'x', deltaX, this.getXAxis() );\n              break;\n          }\n\n          break;\n\n        case 'sides':\n          // Do nothing for now\n\n          switch ( this.sides[ this.handleSelected ] ) {\n\n            case 'left':\n              pos.deltaPosition( 'x', deltaX, this.getXAxis() );\n              break;\n\n            case 'right':\n              pos2.deltaPosition( 'x', deltaX, this.getXAxis() );\n              break;\n\n            case 'top':\n              pos.deltaPosition( 'y', deltaY, this.getYAxis() );\n              break;\n\n            case 'bottom':\n              pos2.deltaPosition( 'y', deltaY, this.getYAxis() );\n              break;\n\n          }\n\n          break;\n\n        case 'corners':\n        default:\n\n          if ( this.handleSelected == 1 ) {\n\n            pos.deltaPosition( 'x', deltaX, this.getXAxis() );\n            pos.deltaPosition( 'y', deltaY, this.getYAxis() );\n\n          } else if ( this.handleSelected == 2 ) {\n\n            pos2.deltaPosition( 'x', deltaX, this.getXAxis() );\n            pos.deltaPosition( 'y', deltaY, this.getYAxis() );\n\n          } else if ( this.handleSelected == 3 ) {\n\n            pos2.deltaPosition( 'y', deltaY, this.getYAxis() );\n            pos2.deltaPosition( 'x', deltaX, this.getXAxis() );\n\n          } else if ( this.handleSelected == 4 ) {\n\n            pos.deltaPosition( 'x', deltaX, this.getXAxis() );\n            pos2.deltaPosition( 'y', deltaY, this.getYAxis() );\n\n          }\n\n          break;\n\n      }\n    }\n\n    this.redraw();\n    this.changed();\n    this.setHandles();\n\n    return true;\n\n  }\n\n  /**\n   * Places handles properly\n   * @private\n   * @return {Shape} The current shape\n   */\n  setHandles() {\n\n    if ( this.isLocked() || ( !this.isSelectable() && !this._staticHandles ) ) {\n      return;\n    }\n\n    if ( !this.handlesInDom ) {\n      return;\n    }\n\n    var pos = this.computePosition( 0 );\n    var pos2 = this.computePosition( 1 );\n\n    var handles = this.getProp( 'handles' );\n\n    switch ( handles.type ) {\n\n      case 'seamlessX':\n\n        if ( this.handles[ 1 ] ) {\n          this.handles[ 1 ].setAttribute( 'transform', `translate(-10) translate(${ pos.x })` );\n          this.handles[ 1 ].setAttribute( 'height', Math.abs( ( pos2.y - pos.y ) ) );\n          this.handles[ 1 ].setAttribute( 'y', Math.min( pos2.y, pos.y ) );\n        }\n\n        if ( this.handles[ 2 ] ) {\n          this.handles[ 2 ].setAttribute( 'transform', `translate(-10)  translate(${ pos2.x })` );\n          this.handles[ 2 ].setAttribute( 'height', Math.abs( ( pos2.y - pos.y ) ) );\n          this.handles[ 2 ].setAttribute( 'y', Math.min( pos2.y, pos.y ) );\n        }\n\n        break;\n\n      case 'sides':\n\n        if ( this.handles.left ) {\n          this.handles.left.setAttribute( 'transform', `translate(${ this.currentX } ${ this.currentY + this.currentH / 2 })` );\n        }\n\n        if ( this.handles.right ) {\n          this.handles.right.setAttribute( 'transform', `translate( ${ this.currentX + this.currentW } ${ this.currentY + this.currentH / 2 })` );\n        }\n\n        if ( this.handles.top ) {\n          this.handles.top.setAttribute( 'transform', `translate( ${ this.currentX + this.currentW / 2 } ${ this.currentY })` );\n        }\n\n        if ( this.handles.bottom ) {\n          this.handles.bottom.setAttribute( 'transform', `translate( ${ this.currentX + this.currentW / 2 } ${ this.currentY + this.currentH })` );\n        }\n\n        break;\n\n      case 'corners':\n      default:\n\n        this.handles[ 1 ].setAttribute( 'x', pos.x );\n        this.handles[ 1 ].setAttribute( 'y', pos.y );\n\n        this.handles[ 2 ].setAttribute( 'x', pos2.x );\n        this.handles[ 2 ].setAttribute( 'y', pos.y );\n\n        this.handles[ 3 ].setAttribute( 'x', pos2.x );\n        this.handles[ 3 ].setAttribute( 'y', pos2.y );\n\n        this.handles[ 4 ].setAttribute( 'x', pos.x );\n        this.handles[ 4 ].setAttribute( 'y', pos2.y );\n\n        break;\n\n    }\n\n  }\n\n}\n\nexport default ShapeRectangle;","import ShapeRect from './graph.shape.rect.js';\n\nclass ShapePeakIntegration2D extends ShapeRect {\n\n  constructor( graph, options ) {\n\n    super( graph, options );\n    this.nbHandles = 4;\n  }\n\n  createDom() {\n\n    this._dom = document.createElementNS( this.graph.ns, 'rect' );\n    this._dom.element = this;\n\n    this.createHandles( this.nbHandles, 'rect', {\n      transform: 'translate(-3 -3)',\n      width: 6,\n      height: 6,\n      stroke: 'black',\n      fill: 'white',\n      cursor: 'nwse-resize'\n    } );\n  }\n\n  redrawImpl() {\n\n    this.setPosition();\n    this.setHandles();\n    this.setBindableToDom( this._dom );\n  }\n\n}\n\nexport default ShapePeakIntegration2D;","import Shape from './graph.shape.js';\n\n/**\n *  Displays a cross\n *  @extends Shape\n */\nclass ShapeCross extends Shape {\n\n  constructor( graph, options ) {\n    super( graph, options );\n    this.nbHandles = 1;\n  }\n\n  /**\n   * Width of the cross, also available from the constructor\n   * @type {Number} width\n   */\n  get width() {\n    return this.options.width || 10;\n  }\n\n  set width( l ) {\n    this.options.width = l;\n  }\n\n  createDom() {\n\n    this._dom = document.createElementNS( this.graph.ns, 'path' );\n    this._dom.setAttribute( 'd', `M -${ this.width / 2 } 0 h ${ this.width } m -${ this.width / 2 } -${ this.width / 2 } v ${ this.width }` );\n\n  }\n\n  createHandles() {\n\n    this._createHandles( this.nbHandles, 'rect', {\n      transform: 'translate(-3 -3)',\n      width: 6,\n      height: 6,\n      stroke: 'black',\n      fill: 'white',\n      cursor: 'nwse-resize'\n    } );\n\n  }\n  applyPosition() {\n\n    var position = this.calculatePosition( 0 );\n    if ( !position || !position.x || !position.y ) {\n      return;\n    }\n\n    this.setDom( 'transform', `translate( ${ position.x }, ${ position.y })` );\n\n    this.currentPos1x = position.x;\n    this.currentPos1y = position.y;\n\n    return true;\n  }\n\n  redrawImpl() {\n\n    this.setHandles();\n  }\n\n  handleCreateImpl() {\n\n  }\n\n  handleMouseDownImpl( e ) {\n\n    this.moving = true;\n\n    return true;\n  }\n\n  handleMouseUpImpl() {\n\n    this.triggerChange();\n    return true;\n  }\n\n  handleMouseMoveImpl( e, deltaX, deltaY, deltaXPx, deltaYPx ) {\n\n    if ( this.isLocked() ) {\n      return;\n    }\n\n    var pos = this.getFromData( 'pos' );\n\n    if ( this.moving ) {\n\n      pos.x = this.graph.deltaPosition( pos.x, deltaX, this.getXAxis() );\n      pos.y = this.graph.deltaPosition( pos.y, deltaY, this.getYAxis() );\n    }\n\n    this.redrawImpl();\n\n    return true;\n\n  }\n\n  setHandles() {\n\n    if ( !this.areHandlesInDom() ) {\n      return;\n    }\n\n    if ( isNaN( this.currentPos1x ) ) {\n      return;\n    }\n\n    this.handles[ 1 ].setAttribute( 'x', this.currentPos1x );\n    this.handles[ 1 ].setAttribute( 'y', this.currentPos1y );\n  }\n\n  selectStyle() {\n    this.setDom( 'stroke', 'red' );\n    this.setDom( 'stroke-width', '2' );\n  }\n}\n\nexport default ShapeCross;","import ShapeLine from './graph.shape.line.js';\n\n/**\n *  Shows a horizontal line with three little vertical bars. Very useful to demonstrate a peak start, end and middle value\n *  @extends ShapeLine\n */\nclass ShapePeakBoundaries extends ShapeLine {\n\n  constructor( graph ) {\n    super( graph );\n    this.lineHeight = 6;\n  }\n\n  createDom() {\n\n    this._dom = document.createElementNS( this.graph.ns, 'line' );\n    this.line1 = document.createElementNS( this.graph.ns, 'line' );\n    this.line2 = document.createElementNS( this.graph.ns, 'line' );\n    this.line3 = document.createElementNS( this.graph.ns, 'line' );\n\n    this.rectBoundary = document.createElementNS( this.graph.ns, 'path' );\n\n    this.rectBoundary.setAttribute( 'fill', 'transparent' );\n    this.rectBoundary.setAttribute( 'stroke', 'none' );\n    this.rectBoundary.setAttribute( 'pointer-events', 'fill' );\n\n    this.rectBoundary.jsGraphIsShape = true;\n\n    this.group.appendChild( this.rectBoundary );\n    this.group.appendChild( this.line1 );\n    this.group.appendChild( this.line2 );\n    this.group.appendChild( this.line3 );\n    this._dom.element = this;\n  }\n\n  createHandles() {\n    this._createHandles( 3, 'rect', {\n      transform: 'translate(-3 -3)',\n      width: 6,\n      height: 6,\n      stroke: 'black',\n      fill: 'white',\n      cursor: 'nwse-resize'\n    } );\n  }\n\n  redrawImpl() {\n\n    this.line1.setAttribute( 'stroke', this.getStrokeColor() );\n    this.line2.setAttribute( 'stroke', this.getStrokeColor() );\n    this.line3.setAttribute( 'stroke', this.getStrokeColor() );\n\n    this.line1.setAttribute( 'stroke-width', this.getStrokeWidth() );\n    this.line2.setAttribute( 'stroke-width', this.getStrokeWidth() );\n    this.line3.setAttribute( 'stroke-width', this.getStrokeWidth() );\n\n    this.setHandles();\n    this.redrawLines();\n  }\n\n  /**\n   * @memberof ShapePeakBoundaries\n   * Redraws the vertical lines according to the positions.\n   * Position 0 is the left line, position 1 is the right line and position 2 is the center line\n   * @returns {ShapePeakBoundaries} The shape instance\n   */\n  redrawLines() {\n\n    var posLeft = this.computePosition( 0 );\n    var posRight = this.computePosition( 1 );\n    var posCenter = this.computePosition( 2 );\n\n    if ( posLeft.x && posRight.x && posCenter.x && this.posYPx ) {\n\n      var height = this.lineHeight;\n      this.rectBoundary.setAttribute( 'd', `M ${ posLeft.x } ${ this.posYPx - height } v ${ 2 * height } H ${ posRight.x } v ${ -2 * height }z` );\n      this.line1.setAttribute( 'x1', posLeft.x );\n      this.line1.setAttribute( 'x2', posLeft.x );\n\n      this.line2.setAttribute( 'x1', posRight.x );\n      this.line2.setAttribute( 'x2', posRight.x );\n\n      this.line3.setAttribute( 'x1', posCenter.x );\n      this.line3.setAttribute( 'x2', posCenter.x );\n\n      this._dom.setAttribute( 'x1', posLeft.x );\n      this._dom.setAttribute( 'x2', posRight.x );\n\n      this.redrawY( height );\n    }\n\n    return this;\n  }\n\n  /**\n   * @memberof ShapePeakBoundaries\n   * Redraws the vertical positions of the shape\n   * @returns {ShapePeakBoundaries} The shape instance\n   */\n  redrawY() {\n\n    if ( !this.posYPx ) {\n      return this;\n    }\n\n    var height = this.lineHeight;\n\n    this.line1.setAttribute( 'y1', this.posYPx - height );\n    this.line1.setAttribute( 'y2', this.posYPx + height );\n\n    this.line2.setAttribute( 'y1', this.posYPx - height );\n    this.line2.setAttribute( 'y2', this.posYPx + height );\n\n    this.line3.setAttribute( 'y1', this.posYPx - height );\n    this.line3.setAttribute( 'y2', this.posYPx + height );\n\n    this._dom.setAttribute( 'y1', this.posYPx );\n    this._dom.setAttribute( 'y2', this.posYPx );\n\n    return this;\n  }\n\n  setHandles() {\n\n    if ( !this.posYPx ) {\n      return;\n    }\n\n    var posLeft = this.computePosition( 0 );\n    var posRight = this.computePosition( 1 );\n    var posCenter = this.computePosition( 2 );\n\n    if ( posLeft.x && posRight.x && posCenter.x ) {\n\n      this.handles[ 1 ].setAttribute( 'x', posLeft.x );\n      this.handles[ 1 ].setAttribute( 'y', this.posYPx );\n\n      this.handles[ 2 ].setAttribute( 'x', posRight.x );\n      this.handles[ 2 ].setAttribute( 'y', this.posYPx );\n\n      this.handles[ 3 ].setAttribute( 'x', posCenter.x );\n      this.handles[ 3 ].setAttribute( 'y', this.posYPx );\n    }\n  }\n\n  /**\n   * @memberof ShapePeakBoundaries\n   * Sets the y position of the shape\n   * @param {Number} y - The y position in px\n   * @returns {ShapePeakBoundaries} The shape instance\n   */\n  setY( y ) {\n    this.posYPx = y;\n    return this;\n  }\n\n  /**\n   * @memberof ShapePeakBoundaries\n   * Sets the height of the peak lines\n   * @param {Number} height - The height of the lines in px\n   * @returns {ShapePeakBoundaries} The shape instance\n   */\n  setLineHeight( height ) {\n    this.lineHeihgt = height;\n  }\n\n  handleMouseMoveImpl( e, deltaX, deltaY ) {\n\n    if ( this.isLocked() ) {\n      return;\n    }\n\n    var posLeft = this.getPosition( 0 );\n    var posRight = this.getPosition( 1 );\n    var posCenter = this.getPosition( 2 );\n\n    switch ( this.handleSelected ) {\n\n      case 1: // left\n        posLeft.deltaPosition( 'x', deltaX, this.getXAxis() );\n\n        if ( Math.abs( posCenter.x - posRight.x ) > Math.abs( posRight.x - posLeft.x ) || Math.abs( posCenter.x - posLeft.x ) > Math.abs( posRight.x - posLeft.x ) ) {\n          posCenter.x = posLeft.x + ( posRight.x - posLeft.x ) * 0.1;\n        }\n        break;\n\n      case 2: // left\n\n        posRight.deltaPosition( 'x', deltaX, this.getXAxis() );\n\n        if ( Math.abs( posCenter.x - posRight.x ) > Math.abs( posRight.x - posLeft.x ) || Math.abs( posCenter.x - posLeft.x ) > Math.abs( posRight.x - posLeft.x ) ) {\n          posCenter.x = posRight.x + ( posLeft.x - posRight.x ) * 0.1;\n        }\n\n        break;\n\n      case 3: // left\n\n        posCenter.deltaPosition( 'x', deltaX, this.getXAxis() );\n\n        if ( Math.abs( posCenter.x - posRight.x ) > Math.abs( posRight.x - posLeft.x ) || Math.abs( posCenter.x - posLeft.x ) > Math.abs( posRight.x - posLeft.x ) ) {\n          return;\n        }\n\n        break;\n\n    }\n\n    this.setLabelPosition( {\n      y: this.getLabelPosition( 0 ).y,\n      x: posCenter.x\n    } );\n\n    this.updateLabels();\n    this.redrawLines();\n    this.setHandles();\n  }\n\n  applyPosition() {\n\n    this.redrawLines();\n    return true;\n  }\n\n}\n\nexport default ShapePeakBoundaries;","import {\n  isNumeric\n} from '../graph.util.js';\n\nimport GraphShape from './graph.shape.js';\n\n/**\n * Represents a line\n * @extends Shape\n * @see Graph#newShape\n */\nclass ShapeHTML extends GraphShape {\n\n  constructor( graph, options ) {\n    super( graph, options );\n  }\n\n  /**\n   * Creates the DOM\n   * @private\n   * @return {Shape} The current shape\n   */\n  createDom() {\n\n    this._dom = document.createElement( 'div' );\n    //  this._dom.setAttribute( \"requiredExtensions\", \"http://www.w3.org/1999/xhtml\" );\n\n    this._dom.setAttribute( 'style', 'position: absolute' );\n    let div = document.createElement( 'div' );\n    this._dom.appendChild( div );\n    this.div = div;\n  }\n\n  /**\n   * Creates the handles\n   * @private\n   * @return {Shape} The current shape\n   */\n  createHandles() {\n\n  }\n\n  setHeight( height ) {\n    this.setProp( 'height', height );\n  }\n\n  setWidth( width ) {\n    this.setProp( 'width', width );\n  }\n\n  setContent( content ) {\n    this.setProp( 'content', content );\n  }\n\n  setRenderer( method ) {\n    this._renderer = method;\n  }\n\n  redraw() {\n\n    if ( this._renderer ) {\n      this._renderer( this.div );\n    } else {\n      this.div.innerHTML = this.getProp( 'content' );\n    }\n    super.redraw( ...arguments );\n  }\n\n  /**\n   * Recalculates the positions and applies them\n   * @private\n   * @return {Boolean} Whether the shape should be redrawn\n   */\n  applyPosition() {\n\n    var position = this.calculatePosition( 0 );\n\n    if ( !position || !isNumeric( position.x ) || !isNumeric( position.y ) ) {\n      return;\n    }\n    this._dom.style.left = `${position.x }px`;\n    this._dom.style.top = `${position.y }px`;\n\n    this.currentPosX = position.x;\n    this.currentPosY = position.y;\n\n    return true;\n  }\n\n  /**\n   * Handles mouse move events\n   * @private\n   */\n  handleMouseMoveImpl( e, deltaX, deltaY, deltaXPx, deltaYPx ) {\n\n    return true;\n  }\n\n  /**\n   * Sets the handle position\n   * @private\n   */\n  setHandles() {\n\n  }\n\n  isHTML() {\n    return true;\n  }\n}\n\nexport default ShapeHTML;","import EventEmitter from '../dependencies/eventEmitter/EventEmitter.js';\n\n/**\n * Represents a plugin\n * @interface\n */\nclass Plugin extends EventEmitter {\n\n  static\n  default () {\n    return {};\n  }\n\n  constructor( options ) {\n    super( ...arguments );\n    this.options = Object.assign( {}, Plugin.default(), this.constructor.default(), options );\n  }\n\n  /**\n   * Init function called by jsGraph on load\n   */\n  init( graph ) {\n    this.graph = graph;\n  }\n\n  /**\n   * Handles the mousedown event from jsGraph\n   * @param {Graph} graph - The graph instance\n   * @param {Number} x - The x position in px\n   * @param {Number} y - The y position in px\n   * @param {Event} e - The original event\n   * @param {SVGElement} target - The target element\n   */\n  onMouseDown() {}\n\n  /**\n   * Handles the mouseup event from jsGraph\n   * @param {Graph} graph - The graph instance\n   * @param {Number} x - The x position in px\n   * @param {Number} y - The y position in px\n   * @param {Event} e - The original event\n   * @param {SVGElement} target - The target element\n   */\n  onMouseUp() {}\n\n  /**\n   * Handles the mousemove event from jsGraph\n   * @param {Graph} graph - The graph instance\n   * @param {Number} x - The x position in px\n   * @param {Number} y - The y position in px\n   * @param {Event} e - The original event\n   * @param {SVGElement} target - The target element\n   */\n  onMouseMove() {}\n}\n\nexport default Plugin;","import Plugin from './graph.plugin.js';\n\n/**\n * Constructor for the drag plugin. Do not use this constructor directly.\n * @class PluginDrag\n * @implements Plugin\n */\nclass PluginDrag extends Plugin {\n\n  static\n  default () {\n    return {\n\n      dragX: true,\n      dragY: true,\n      persistanceX: false,\n      persistanceY: false\n\n    };\n  }\n\n  /**\n   * @private\n   */\n  init( graph ) {\n\n    this.graph = graph;\n    this.time = null;\n    this.totaltime = 2000;\n  }\n\n  /**\n   * @private\n   */\n  onMouseDown( graph, x, y, e, target ) {\n    this._draggingX = x;\n    this._draggingY = y;\n\n    this._lastDraggingX = this._draggingX;\n    this._lastDraggingY = this._draggingY;\n\n    this.stopAnimation = true;\n\n    this.moved = false;\n\n    return true;\n  }\n\n  /**\n   * @memberof PluginDrag\n   * @private\n   */\n  onMouseMove( graph, x, y, e, target ) {\n\n    var deltaX = x - this._draggingX;\n    var deltaY = y - this._draggingY;\n\n    if ( this.options.dragX ) {\n      graph._applyToAxes( function( axis ) {\n        axis.setCurrentMin( axis.getVal( axis.getMinPx() - deltaX ) );\n        axis.setCurrentMax( axis.getVal( axis.getMaxPx() - deltaX ) );\n      }, false, true, false );\n    }\n\n    if ( this.options.dragY ) {\n\n      graph._applyToAxes( function( axis ) {\n        axis.setCurrentMin( axis.getVal( axis.getMinPx() - deltaY ) );\n        axis.setCurrentMax( axis.getVal( axis.getMaxPx() - deltaY ) );\n      }, false, false, true );\n    }\n\n    this._lastDraggingX = this._draggingX;\n    this._lastDraggingY = this._draggingY;\n\n    this._draggingX = x;\n    this._draggingY = y;\n\n    this.moved = true;\n\n    this.time = Date.now();\n\n    this.emit( 'dragging' );\n\n    graph.draw( true );\n\n  }\n\n  onMouseUp( graph, x, y, e, target ) {\n\n    var dt = ( Date.now() - this.time );\n\n    if ( x == this._lastDraggingX || y == this._lastDraggingY ) {\n\n      if ( this.moved ) {\n        this.emit( 'dragged' );\n      }\n\n      return;\n    }\n\n    this.speedX = ( x - this._lastDraggingX ) / dt;\n    this.speedY = ( y - this._lastDraggingY ) / dt;\n\n    if ( isNaN( this.speedX ) || isNaN( this.speedY ) ) {\n      this.emit( 'dragged' );\n      return;\n    }\n\n    graph._applyToAxes( function( axis ) {\n      axis._pluginDragMin = axis.getCurrentMin();\n      axis._pluginDragMax = axis.getCurrentMax();\n    }, false, true, true );\n\n    this.stopAnimation = false;\n    this.accelerationX = -this.speedX / this.totaltime;\n    this.accelerationY = -this.speedY / this.totaltime;\n\n    if ( this.options.persistanceX || this.options.persistanceY ) {\n\n      this._persistanceMove( graph );\n\n    } else {\n\n      this.emit( 'dragged' );\n    }\n\n  }\n\n  _persistanceMove( graph ) {\n\n    var self = this;\n\n    if ( self.stopAnimation ) {\n      self.emit( 'dragged' );\n      return;\n    }\n\n    window.requestAnimationFrame( function() {\n\n      var dt = Date.now() - self.time;\n      var dx = ( 0.5 * self.accelerationX * dt + self.speedX ) * dt;\n      var dy = ( 0.5 * self.accelerationY * dt + self.speedY ) * dt;\n\n      if ( self.options.persistanceX ) {\n\n        graph._applyToAxes( function( axis ) {\n\n          axis.setCurrentMin( -axis.getRelVal( dx ) + axis._pluginDragMin );\n          axis.setCurrentMax( -axis.getRelVal( dx ) + axis._pluginDragMax );\n\n          axis.cacheCurrentMin();\n          axis.cacheCurrentMax();\n          axis.cacheInterval();\n\n        }, false, true, false );\n      }\n\n      if ( self.options.persistanceY ) {\n\n        graph._applyToAxes( function( axis ) {\n\n          axis.setCurrentMin( -axis.getRelVal( dy ) + axis._pluginDragMin );\n          axis.setCurrentMax( -axis.getRelVal( dy ) + axis._pluginDragMax );\n\n          axis.cacheCurrentMin();\n          axis.cacheCurrentMax();\n          axis.cacheInterval();\n\n        }, false, false, true );\n      }\n\n      graph.draw();\n\n      if ( dt < self.totaltime ) {\n        self.emit( 'dragging' );\n        self._persistanceMove( graph );\n      } else {\n        self.emit( 'dragged' );\n      }\n\n    } );\n\n  }\n}\n\nexport default PluginDrag;","import * as util from '../graph.util.js';\n\nimport Plugin from './graph.plugin.js';\n\n/**\n * @class PluginShape\n * @implements Plugin\n */\nclass PluginShape extends Plugin {\n\n  constructor() {\n    super( ...arguments );\n  }\n\n  static\n  default () {\n    return {};\n  }\n\n  /**\n   * Init method\n   * @private\n   */\n  init( graph, options ) {\n\n    super.init( graph, options );\n    this.shapeType = options.type;\n  }\n\n  /**\n   * Sets the shape that is created by the plugin\n   * @param {String} shapeType - The type of the shape\n   */\n  setShape( shapeType ) {\n    this.shapeInfo.shapeType = shapeType;\n  }\n\n  /**\n   * @private\n   */\n  onMouseDown( graph, x, y, e, target ) {\n\n    if ( !this.shapeType && !this.options.url ) {\n      return;\n    }\n\n    var self = this,\n      selfPlugin = this;\n\n    var xVal, yVal;\n\n    this.count = this.count || 0;\n\n    x -= graph.getPaddingLeft();\n    y -= graph.getPaddingTop();\n\n    xVal = graph.getXAxis().getVal( x );\n    yVal = graph.getYAxis().getVal( y );\n\n    var shapeInfo = {\n\n      position: [ {\n        x: xVal,\n        y: yVal\n      }, {\n        x: xVal,\n        y: yVal\n      } ],\n\n      onChange: function( newData ) {\n        graph.triggerEvent( 'onAnnotationChange', newData );\n      },\n\n      locked: false,\n      selectable: true,\n      resizable: true,\n      movable: true\n    };\n\n    let shapeProperties = this.options.properties;\n\n    util.extend( true, shapeInfo, this.options );\n\n    this.emit( 'beforeNewShape', e, shapeInfo );\n\n    if ( this.graph.prevent( false ) ) {\n      return;\n    }\n\n    var shape = graph.newShape( shapeInfo.type, shapeInfo, false, shapeProperties );\n\n    this.emit( 'createdShape', e, shape );\n\n    if ( shape ) {\n      self.currentShape = shape;\n      self.currentShapeEvent = e;\n    }\n\n    graph.once( 'mouseUp', () => {\n      console.log( this.currentShape );\n      if ( !this.currentShape ) { // The mouse has moved\n        self.emit( 'newShape', e, shape );\n      }\n    } );\n  }\n\n  /**\n   * @private\n   */\n  onMouseMove( graph, x, y, e ) {\n\n    if ( this.currentShape ) {\n      console.log( 'mv' );\n      this.count++;\n\n      var shape = this.currentShape;\n\n      this.currentShape = false;\n\n      if ( graph.selectedSerie && !shape.serie ) {\n        shape.setSerie( graph.selectedSerie );\n      }\n\n      shape.resizing = true;\n\n      if ( shape.options && shape.options.onCreate ) {\n        shape.options.onCreate.call( shape );\n      }\n\n      shape.draw();\n      graph.selectShape( shape );\n      shape.handleMouseDown( this.currentShapeEvent, true );\n      shape.handleSelected = this.options.handleSelected || 1;\n      shape.handleMouseMove( e, true );\n    }\n  }\n\n  /**\n   * @private\n   */\n  onMouseUp() {\n\n    if ( this.currentShape ) {\n      // No need to kill it as it hasn't been actually put in the dom right now\n\n      // Norman 30 July 2017: Yes but it's added in the jsGraph stack. We need to remove it. See #176\n      // From now on killing the shape will result in removing it from the stack as well.\n      this.currentShape.kill();\n      this.currentShape = false;\n    }\n  }\n\n}\n\nexport default PluginShape;","import * as util from '../graph.util.js';\n\nimport Plugin from './graph.plugin.js';\n\n/**\n * @extends Plugin\n */\nclass PluginSelectScatter extends Plugin {\n\n  constructor() {\n    super( ...arguments );\n  }\n\n  static\n  default () {\n    return {};\n  }\n  /**\n   * Init method\n   * @private\n   */\n  init( graph, options ) {\n\n    this._path = document.createElementNS( graph.ns, 'path' );\n\n    util.setAttributeTo( this._path, {\n      'display': 'none',\n      'fill': 'rgba(0,0,0,0.1)',\n      'stroke': 'rgba(0,0,0,1)',\n      'shape-rendering': 'crispEdges',\n      'x': 0,\n      'y': 0,\n      'height': 0,\n      'width': 0,\n      'd': ''\n    } );\n\n    this.graph = graph;\n\n    graph.dom.appendChild( this._path );\n  }\n\n  /**\n   * Assigns the scatter serie that should be selected to the plugin\n   * @param {ScatterSerie} serie - The serie\n   * @return {PluginSelectScatter} The current plugin instance\n   */\n  setSerie( serie ) {\n    this.serie = serie;\n  }\n\n  /**\n   * @private\n   */\n  onMouseDown( graph, x, y, e, mute ) {\n\n    if ( !this.serie ) {\n      return;\n    }\n\n    this.path = `M ${ x } ${ y } `;\n    this.currentX = x;\n    this.currentY = y;\n\n    this.xs = [ this.serie.getXAxis().getVal( x - graph.getPaddingLeft() ) ];\n    this.ys = [ this.serie.getYAxis().getVal( y - graph.getPaddingTop() ) ];\n    this._path.setAttribute( 'd', '' );\n    this._path.setAttribute( 'display', 'block' );\n\n  }\n\n  /**\n   * @private\n   */\n  onMouseMove( graph, x, y, e, mute ) {\n\n    if ( Math.pow( ( x - this.currentX ), 2 ) + Math.pow( ( y - this.currentY ), 2 ) > 25 ) {\n\n      this.path += ` L ${ x } ${ y } `;\n      this.currentX = x;\n      this.currentY = y;\n\n      this.xs.push( this.serie.getXAxis().getVal( x - graph.getPaddingLeft() ) );\n      this.ys.push( this.serie.getYAxis().getVal( y - graph.getPaddingTop() ) );\n\n      this._path.setAttribute( 'd', `${this.path } z` );\n\n      this.findPoints();\n    }\n  }\n\n  /**\n   * @private\n   */\n  findPoints() {\n\n    var data = this.serie.waveform;\n    var selected = [];\n    var counter = 0,\n      j2;\n    for ( var i = 0, l = data.getLength(); i < l; i += 1 ) {\n\n      counter = 0;\n      for ( var j = 0, k = this.xs.length; j < k; j += 1 ) {\n\n        if ( j == k - 1 ) {\n          j2 = 0;\n        } else {\n          j2 = j + 1;\n        }\n\n        if ( ( ( this.ys[ j ] < data.getY( i ) && this.ys[ j2 ] > data.getY( i ) ) || ( this.ys[ j ] > data.getY( i ) && this.ys[ j2 ] < data.getY( i ) ) ) ) {\n\n          if ( data.getX( i ) > ( ( data.getY( i ) - this.ys[ j ] ) / ( this.ys[ j2 ] - this.ys[ j ] ) ) * ( this.xs[ j2 ] - this.xs[ j ] ) + this.xs[ j ] ) {\n            counter++;\n          }\n        }\n      }\n\n      if ( counter % 2 == 1 ) {\n        selected.push( i );\n        this.serie.selectPoint( i, true, 'selected' );\n      } else {\n        this.serie.unselectPoint( i );\n      }\n\n    }\n\n    this.selected = selected;\n    this.emit( 'selectionProcess', selected );\n  }\n\n  /**\n   * @private\n   */\n  onMouseUp( graph, x, y, e ) {\n    this._path.setAttribute( 'display', 'none' );\n    this.emit( 'selectionEnd', this.selected );\n  }\n\n}\n\nexport default PluginSelectScatter;","import * as util from '../graph.util.js';\n\nimport Plugin from './graph.plugin.js';\n\n/**\n * @class PluginZoom\n * @implements Plugin\n */\nclass PluginZoom extends Plugin {\n\n  constructor() {\n    super( ...arguments );\n  }\n\n  static\n  default () {\n\n    return {\n      'axes': 'all'\n    };\n  }\n\n  /**\n   * Init method\n   * @private\n   */\n  init( graph, options ) {\n\n    this._zoomingGroup = document.createElementNS( graph.ns, 'g' );\n    this._zoomingSquare = document.createElementNS( graph.ns, 'rect' );\n    this._zoomingSquare.setAttribute( 'display', 'none' );\n\n    util.setAttributeTo( this._zoomingSquare, {\n      'display': 'none',\n      'fill': 'rgba(171,12,12,0.2)',\n      'stroke': 'rgba(171,12,12,1)',\n      'shape-rendering': 'crispEdges',\n      'x': 0,\n      'y': 0,\n      'height': 0,\n      'width': 0,\n      'pointer-events': 'none'\n    } );\n\n    this.graph = graph;\n    graph.groupEvent.appendChild( this._zoomingGroup );\n    this._zoomingGroup.appendChild( this._zoomingSquare );\n  }\n\n  /**\n   * @private\n   */\n  onMouseDown( graph, x, y, e, mute ) {\n\n    var zoomMode = this.options.zoomMode;\n\n    if ( !zoomMode ) {\n      return;\n    }\n\n    this._zoomingMode = zoomMode;\n\n    if ( x === undefined ) {\n      this._backedUpZoomMode = this._zoomingMode;\n      this._zoomingMode = 'y';\n      x = 0;\n    }\n\n    if ( y === undefined ) {\n      this._backedUpZoomMode = this._zoomingMode;\n      this._zoomingMode = 'x';\n      y = 0;\n    }\n\n    this._zoomingXStart = x;\n    this._zoomingYStart = y;\n    this.x1 = x - graph.getPaddingLeft();\n    this.y1 = y - graph.getPaddingTop();\n\n    this._zoomingSquare.setAttribute( 'width', 0 );\n    this._zoomingSquare.setAttribute( 'height', 0 );\n    this._zoomingSquare.setAttribute( 'display', 'block' );\n\n    switch ( this._zoomingMode ) {\n\n      case 'x':\n        this._zoomingSquare.setAttribute( 'y', graph.options.paddingTop );\n        this._zoomingSquare.setAttribute( 'height', graph.getDrawingHeight() - graph.shift.bottom );\n        break;\n\n      case 'y':\n        this._zoomingSquare.setAttribute( 'x', graph.options.paddingLeft /* + this.shift[1]*/ );\n        this._zoomingSquare.setAttribute( 'width', graph.getDrawingWidth() /* - this.shift[1] - this.shift[2]*/ );\n        break;\n\n      case 'forceY2':\n\n        this.y2 = graph.getYAxis().getPx( this.options.forcedY ) + graph.options.paddingTop;\n\n        break;\n\n    }\n\n    if ( this.options.onZoomStart && !mute ) {\n      this.options.onZoomStart( graph, x, y, e, mute );\n    }\n  }\n\n  /**\n   * @private\n   */\n  onMouseMove( graph, x, y, e, mute ) {\n\n    //\tthis._zoomingSquare.setAttribute('display', 'none');\n\n    //\tthis._zoomingSquare.setAttribute('transform', 'translate(' + Math.random() + ', ' + Math.random() + ') scale(10, 10)');\n    switch ( this._zoomingMode ) {\n\n      case 'xy':\n        this._zoomingSquare.setAttribute( 'x', Math.min( this._zoomingXStart, x ) );\n        this._zoomingSquare.setAttribute( 'y', Math.min( this._zoomingYStart, y ) );\n        this._zoomingSquare.setAttribute( 'width', Math.abs( this._zoomingXStart - x ) );\n        this._zoomingSquare.setAttribute( 'height', Math.abs( this._zoomingYStart - y ) );\n\n        break;\n\n      case 'forceY2':\n        this._zoomingSquare.setAttribute( 'y', Math.min( this._zoomingYStart, this.y2 ) );\n        this._zoomingSquare.setAttribute( 'height', Math.abs( this._zoomingYStart - this.y2 ) );\n        this._zoomingSquare.setAttribute( 'x', Math.min( this._zoomingXStart, x ) );\n        this._zoomingSquare.setAttribute( 'width', Math.abs( this._zoomingXStart - x ) );\n\n        break;\n\n      case 'x':\n        this._zoomingSquare.setAttribute( 'x', Math.min( this._zoomingXStart, x ) );\n        this._zoomingSquare.setAttribute( 'width', Math.abs( this._zoomingXStart - x ) );\n\n        break;\n\n      case 'y':\n        this._zoomingSquare.setAttribute( 'y', Math.min( this._zoomingYStart, y ) );\n        this._zoomingSquare.setAttribute( 'height', Math.abs( this._zoomingYStart - y ) );\n        break;\n\n    }\n\n    if ( this.options.onZoomMove && !mute ) {\n\n      this.options.onZoomMove( graph, x, y, e, mute );\n    }\n    //\t\tthis._zoomingSquare.setAttribute('display', 'block');\n\n  }\n\n  /**\n   * @private\n   */\n  onMouseUp( graph, x, y, e, mute ) {\n    var self = this;\n    this.removeZone();\n\n    var _x = x - graph.options.paddingLeft;\n    var _y = y - graph.options.paddingTop;\n\n    this.emit( 'beforeZoom', {\n      graph: graph,\n      x: x,\n      y: y,\n      e: e,\n      mute: mute\n    } );\n\n    if ( graph.prevent( false ) ) {\n\n      // This doesn't work !\n      //graph.prevent( true ); // Cancel future click event\n      return;\n    }\n\n    if ( ( x - this._zoomingXStart == 0 && this._zoomingMode != 'y' ) || ( y - this._zoomingYStart == 0 && this._zoomingMode != 'x' ) ) {\n      return;\n    }\n\n    if ( this.options.transition || this.options.smooth ) {\n\n      let modeX = false,\n        modeY = false;\n\n      if ( this._zoomingMode == 'x' || this._zoomingMode == 'xy' || this._zoomingMode == 'forceY2' ) {\n\n        this.fullX = false;\n        this.toAxes( function( axis ) {\n\n          axis._pluginZoomMin = axis.getCurrentMin();\n          axis._pluginZoomMax = axis.getCurrentMax();\n\n          axis._pluginZoomMinFinal = Math.min( axis.getVal( _x ), axis.getVal( self.x1 ) );\n          axis._pluginZoomMaxFinal = Math.max( axis.getVal( _x ), axis.getVal( self.x1 ) );\n        }, false, true, false );\n\n        modeX = true;\n\n      }\n\n      if ( this._zoomingMode == 'y' || this._zoomingMode == 'xy' ) {\n\n        this.fullY = false;\n        this.toAxes( function( axis ) {\n\n          axis._pluginZoomMin = axis.getCurrentMin();\n          axis._pluginZoomMax = axis.getCurrentMax();\n\n          axis._pluginZoomMinFinal = Math.min( axis.getVal( _y ), axis.getVal( self.y1 ) );\n          axis._pluginZoomMaxFinal = Math.max( axis.getVal( _y ), axis.getVal( self.y1 ) );\n\n        }, false, false, true );\n\n        modeY = true;\n      }\n\n      if ( this._zoomingMode == 'forceY2' ) {\n\n        this.fullY = false;\n        this.toAxes( function( axis ) {\n\n          axis._pluginZoomMin = axis.getCurrentMin();\n          axis._pluginZoomMax = axis.getCurrentMax();\n\n          axis._pluginZoomMinFinal = Math.min( axis.getVal( self.y2 ), axis.getVal( self.y1 ) );\n          axis._pluginZoomMaxFinal = Math.max( axis.getVal( self.y2 ), axis.getVal( self.y1 ) );\n\n        }, false, false, true );\n\n        modeY = true;\n      }\n\n      this.transition( modeX, modeY, 'zoomEnd' );\n\n    } else {\n\n      switch ( this._zoomingMode ) {\n        case 'x':\n          this.fullX = false;\n          this.toAxes( '_doZoom', [ _x, this.x1 ], true, false );\n          break;\n        case 'y':\n          this.fullY = false;\n          this.toAxes( '_doZoom', [ _y, this.y1 ], false, true );\n          break;\n        case 'xy':\n          this.fullX = false;\n          this.fullY = false;\n          this.toAxes( '_doZoom', [ _x, this.x1 ], true, false );\n          this.toAxes( '_doZoom', [ _y, this.y1 ], false, true );\n          break;\n\n        case 'forceY2':\n\n          this.fullX = false;\n          this.fullY = false;\n\n          this.toAxes( '_doZoom', [ _x, this.x1 ], true, false );\n          this.toAxes( '_doZoom', [ this.y1, this.y2 ], false, true );\n\n          break;\n      }\n\n      //  graph.prevent( true ); // WHat are you doing ??\n      graph.draw();\n\n      if ( this._backedUpZoomMode ) {\n        this._zoomingMode = this._backedUpZoomMode;\n      }\n\n      this.emit( 'zoomed' );\n\n      graph.pluginYieldActiveState();\n\n    }\n\n  }\n\n  /**\n   * @private\n   */\n  removeZone() {\n\n    this._zoomingSquare.setAttribute( 'display', 'none' );\n  }\n\n  /**\n   * @private\n   */\n  onMouseWheel( delta, e, coordX, coordY, options ) {\n\n    if ( !options ) {\n      options = {};\n    }\n\n    if ( !options.baseline ) {\n      options.baseline = 0;\n    }\n\n    let baseline = options.baseline;\n\n    if ( options.baseline == 'mousePosition' ) {\n      baseline = this.graph.getYAxis().getVal( coordY );\n      console.log( baseline );\n    }\n\n    /*var serie;\n    if ( ( serie = this.graph.getSelectedSerie() ) ) {\n\n      if ( serie.getYAxis().handleMouseWheel( delta, e ) ) {\n        return;\n      }\n    }*/\n\n    var doX = ( options.direction == 'x' );\n    var doY = !( options.direction !== 'y' );\n\n    this.toAxes( 'handleMouseWheel', [ delta, e, baseline ], doX, doY );\n\n    this.graph.drawSeries();\n\n  }\n\n  /**\n   * @private\n   */\n  onDblClick( x, y, e, pref, mute ) {\n\n    var graph = this.graph;\n    this.emit( 'beforeDblClick', {\n      graph: graph,\n      x: x,\n      y: y,\n      pref: pref,\n      e: e,\n      mute: mute\n    } );\n\n    if ( graph.prevent( false ) ) {\n      return;\n    }\n\n    if ( this.options.transition || this.options.smooth ) {\n\n      var modeX = false,\n        modeY = false;\n\n      if ( pref.mode == 'xtotal' || pref.mode == 'total' ) {\n\n        this.toAxes( function( axis ) {\n          axis._pluginZoomMin = axis.getCurrentMin();\n          axis._pluginZoomMax = axis.getCurrentMax();\n\n          axis._pluginZoomMinFinal = axis.getMinValue() - ( axis.options.axisDataSpacing.min * axis.getInterval() );\n          axis._pluginZoomMaxFinal = axis.getMaxValue() + ( axis.options.axisDataSpacing.max * axis.getInterval() );\n\n        }, false, true, false );\n\n        modeX = true;\n\n      }\n\n      if ( pref.mode == 'ytotal' || pref.mode == 'total' ) {\n\n        this.toAxes( function( axis ) {\n\n          axis._pluginZoomMin = axis.getCurrentMin();\n          axis._pluginZoomMax = axis.getCurrentMax();\n\n          axis._pluginZoomMinFinal = axis.getMinValue() - ( axis.options.axisDataSpacing.min * axis.getInterval() );\n          axis._pluginZoomMaxFinal = axis.getMaxValue() + ( axis.options.axisDataSpacing.max * axis.getInterval() );\n\n        }, false, false, true );\n\n        modeY = true;\n\n      }\n\n      let x, y;\n\n      if ( pref.mode == 'gradualX' || pref.mode == 'gradualY' || pref.mode == 'gradual' || pref.mode == 'gradualXY' ) {\n\n        x = false,\n          y = false;\n\n        if ( pref.mode == 'gradualX' || pref.mode == 'gradual' || pref.mode == 'gradualXY' ) {\n          x = true;\n          modeX = true;\n        }\n\n        if ( pref.mode == 'gradualY' || pref.mode == 'gradual' || pref.mode == 'gradualXY' ) {\n          y = true;\n          modeY = true;\n        }\n\n        this.toAxes( function( axis ) {\n\n          axis._pluginZoomMin = axis.getCurrentMin();\n          axis._pluginZoomMax = axis.getCurrentMax();\n\n          axis._pluginZoomMinFinal = axis.getCurrentMin() - ( axis.getCurrentMax() - axis.getCurrentMin() );\n          axis._pluginZoomMaxFinal = axis.getCurrentMax() + ( axis.getCurrentMax() - axis.getCurrentMin() );\n\n        }, false, x, y );\n\n      }\n\n      this.transition( modeX, modeY, 'dblClick' );\n      return;\n    }\n\n    var xAxis = this.graph.getXAxis(),\n      yAxis = this.graph.getYAxis();\n\n    if ( pref.mode == 'xtotal' ) {\n\n      this.toAxes( 'setMinMaxToFitSeries', null, true, false );\n      this.fullX = true;\n      this.fullY = false;\n\n    } else if ( pref.mode == 'ytotal' ) {\n\n      this.toAxes( 'setMinMaxToFitSeries', null, false, true );\n      this.fullX = false;\n      this.fullY = true;\n\n    } else if ( pref.mode == 'total' ) {\n\n      this.toAxes( 'setMinMaxToFitSeries', null, true, true );\n\n      this.fullX = true;\n      this.fullY = true;\n      // Nothing to do here\n      /*        this.graph._applyToAxes( function( axis ) {\n\n          axis.emit( 'zoom', axis.currentAxisMin, axis.currentAxisMax, axis );\n\n        }, null, true, true );\n*/\n    } else {\n\n      x -= this.graph.options.paddingLeft;\n      y -= this.graph.options.paddingTop;\n\n      var\n        xMin = xAxis.getCurrentMin(),\n        xMax = xAxis.getCurrentMax(),\n        xActual = xAxis.getVal( x ),\n        diffX = xMax - xMin,\n\n        yMin = yAxis.getCurrentMin(),\n        yMax = yAxis.getCurrentMax(),\n        yActual = yAxis.getVal( y ),\n        diffY = yMax - yMin;\n\n      if ( pref.mode == 'gradualXY' || pref.mode == 'gradualX' ) {\n\n        var ratio = ( xActual - xMin ) / ( xMax - xMin );\n        xMin = Math.max( xAxis.getMinValue() - xAxis.getInterval() * xAxis.options.axisDataSpacing.min, xMin - diffX * ratio );\n        xMax = Math.min( xAxis.getMaxValue() + xAxis.getInterval() * xAxis.options.axisDataSpacing.max, xMax + diffX * ( 1 - ratio ) );\n        xAxis.setCurrentMin( xMin );\n        xAxis.setCurrentMax( xMax );\n\n        if ( xAxis.options.onZoom ) {\n          xAxis.options.onZoom( xMin, xMax );\n        }\n\n        xAxis.cacheCurrentMin();\n        xAxis.cacheCurrentMax();\n        xAxis.cacheInterval();\n\n      }\n\n      if ( pref.mode == 'gradualXY' || pref.mode == 'gradualY' ) {\n\n        var ratio = ( yActual - yMin ) / ( yMax - yMin );\n        yMin = Math.max( yAxis.getMinValue() - yAxis.getInterval() * yAxis.options.axisDataSpacing.min, yMin - diffY * ratio );\n        yMax = Math.min( yAxis.getMaxValue() + yAxis.getInterval() * yAxis.options.axisDataSpacing.max, yMax + diffY * ( 1 - ratio ) );\n        yAxis.setCurrentMin( yMin );\n        yAxis.setCurrentMax( yMax );\n\n        if ( yAxis.options.onZoom ) {\n          yAxis.options.onZoom( yMin, yMax );\n        }\n\n        yAxis.cacheCurrentMin();\n        yAxis.cacheCurrentMax();\n        yAxis.cacheInterval();\n\n      }\n\n    }\n\n    graph.pluginYieldActiveState();\n\n    this.graph.draw();\n    /*\n        this.emit( \"dblClick\", {\n          graph: graph,\n          x: x,\n          y: y,\n          pref: pref,\n          e: e,\n          mute: mute\n        } );\n\n        if ( this.options.onDblClick && !mute ) {\n          this.options.onDblClick( graph, x, y, e, mute );\n        }*/\n\n  }\n\n  transition( modeX, modeY, eventName ) {\n\n    var self = this,\n      maxTime = 500;\n\n    if ( !self.gradualUnzoomStart ) {\n      self.gradualUnzoomStart = Date.now();\n    }\n\n    window.requestAnimationFrame( function() {\n\n      var dt = Date.now() - self.gradualUnzoomStart;\n\n      if ( dt > maxTime ) {\n        dt = maxTime;\n      }\n      var progress = Math.sin( dt / maxTime * Math.PI / 2 );\n\n      self.toAxes( function( axis ) {\n\n        axis.setCurrentMin( axis._pluginZoomMin + ( axis._pluginZoomMinFinal - axis._pluginZoomMin ) * progress );\n        axis.setCurrentMax( axis._pluginZoomMax + ( axis._pluginZoomMaxFinal - axis._pluginZoomMax ) * progress );\n\n        axis.cacheCurrentMin();\n        axis.cacheCurrentMax();\n        axis.cacheInterval();\n\n      }, false, modeX, modeY );\n\n      self.graph.draw();\n\n      if ( dt < maxTime ) {\n\n        self.transition( modeX, modeY, eventName );\n        self.emit( 'zooming' );\n\n      } else {\n\n        self.emit( 'zoomed' );\n        self.graph.pluginYieldActiveState();\n\n        if ( eventName ) {\n          self.emit( eventName );\n        }\n        self.gradualUnzoomStart = 0;\n\n      }\n\n    } );\n  }\n\n  isFullX() {\n    return this.fullX;\n  }\n\n  isFullY() {\n    return this.fullY;\n  }\n\n  toAxes( func, params, tb, lr ) {\n\n    var axes = this.options.axes;\n\n    if ( !axes || ( axes == 'serieSelected' && !this.graph.getSelectedSerie() ) ) {\n      axes = 'all';\n    }\n\n    switch ( axes ) {\n\n      case 'all':\n        this.graph._applyToAxes.apply( this.graph, arguments );\n        break;\n\n      case 'serieSelected':\n\n        var serie = this.graph.getSelectedSerie();\n        if ( serie ) {\n\n          if ( tb ) {\n\n            if ( typeof func == 'string' ) {\n              serie.getXAxis()[ func ].apply( serie.getXAxis(), params );\n            } else {\n              func.apply( serie.getXAxis(), params );\n            }\n          }\n\n          if ( lr ) {\n\n            if ( typeof func == 'string' ) {\n              serie.getYAxis()[ func ].apply( serie.getYAxis(), params );\n            } else {\n              func.apply( serie.getYAxis(), params );\n            }\n\n          }\n        }\n\n        break;\n\n      default:\n\n        if ( !Array.isArray( axes ) ) {\n          axes = [ axes ];\n        }\n\n        for ( let axis of axes ) {\n\n          if ( axis.isX() && tb ) { // Not the best check\n\n            if ( typeof func == 'string' ) {\n              axis[ func ].apply( axis, params );\n            } else {\n              func.apply( axis, params );\n            }\n\n          } else if ( axis.isY() && lr ) { // Not the best check\n\n            if ( typeof func == 'string' ) {\n              axis[ func ].apply( axis, params );\n            } else {\n              func.apply( axis, params );\n            }\n\n          }\n        }\n        break;\n    }\n  }\n\n}\n\nexport default PluginZoom;","var memory = {},\n  memoryHead = {},\n  memoryCount = {},\n  memoryLimit = {};\n\nfunction emptyMemory( store ) {\n  memory[ store ] = {};\n  memoryCount[ store ] = 0;\n}\n\nfunction createStoreMemory( store, limit ) {\n  limit = limit || 50;\n  if ( !memory[ store ] ) {\n    memory[ store ] = {};\n    memoryCount[ store ] = 0;\n  }\n\n  memoryLimit[ store ] = limit;\n}\n\nfunction getFromMemory( store, index ) {\n  var obj, head;\n\n  if ( memory[ store ] && memory[ store ][ index ] ) {\n\n    head = memoryHead[ store ];\n\n    obj = memory[ store ][ index ];\n    obj.prev = head;\n    obj.next = head.next;\n    head.next.prev = obj;\n    head.next = obj;\n\n    memoryHead[ store ] = obj;\n    return obj.data;\n  }\n}\n\nfunction storeInMemory( store, index, data ) {\n\n  var toStore, toDelete, head;\n  if ( memory[ store ] && memoryCount[ store ] !== undefined && memoryLimit[ store ] ) {\n    head = memoryHead[ store ];\n\n    if ( memory[ store ][ index ] ) {\n\n      getFromMemory( store, index );\n      memory[ store ][ index ].data.data = data;\n      memory[ store ][ index ].data.timeout = Date.now();\n\n    } else {\n\n      toStore = {\n        data: {\n          data: data,\n          timeout: Date.now()\n        }\n      };\n\n      if ( typeof head == 'undefined' ) {\n        toStore.prev = toStore;\n        toStore.next = toStore;\n      } else {\n        toStore.prev = head.prev;\n        toStore.next = head.next;\n        head.next.prev = toStore;\n        head.next = toStore;\n      }\n\n      memoryHead[ store ] = toStore;\n      memory[ store ][ index ] = toStore;\n      memoryCount[ store ]++;\n    }\n\n    // Remove oldest one\n    if ( memoryCount[ store ] > memoryLimit[ store ] && head ) {\n      toDelete = head.next;\n      head.next.next.prev = head;\n      head.next = head.next.next;\n      toDelete.next.next = undefined;\n      toDelete.next.prev = undefined;\n      memoryCount[ store ]--;\n    }\n\n    return data;\n  }\n}\n\nexport function create( store, limitMemory ) {\n  createStoreMemory( store, limitMemory );\n}\n\nexport function get( store, index ) {\n  var result;\n  if ( ( result = getFromMemory( store, index ) ) != undefined ) {\n    return result;\n  }\n}\n\nexport function store( store, index, value ) {\n  storeInMemory( store, index, value );\n  return value;\n}\n\nexport function empty( store ) {\n  emptyMemory( store );\n}\n\nexport function exist( store ) {\n  return ( memory[ store ] );\n}\n\nexport default get;","import Graph from '../graph.core.js';\nimport LRU from '../graph.lru.js';\nimport * as util from '../graph.util.js';\n\nimport Plugin from './graph.plugin.js';\n\n/**\n * @class PluginTimeSerieManager\n * @implements Plugin\n */\nclass PluginTimeSerieManager extends Plugin {\n\n  constructor() {\n\n    super( ...arguments );\n\n    this.series = [];\n    this.plugins = [];\n    this.currentSlots = {};\n\n    this.requestLevels = new Map();\n    this.update = ( noRecalculate, force ) => {\n\n      this.series.forEach( function( serie ) {\n\n        this.updateSerie( serie, noRecalculate );\n\n      } );\n\n      if ( !noRecalculate ) {\n        this.recalculateSeries( force );\n      }\n    };\n\n  }\n\n  static\n  default () {\n\n    return {\n\n      LRUName: 'PluginTimeSerieManager',\n      intervals: [ 1000, 15000, 60000, 900000, 3600000, 8640000 ],\n      maxParallelRequests: 3,\n      optimalPxPerPoint: 2,\n      nbPoints: 1000,\n      url: ''\n    };\n  }\n\n  /**\n   * Init method\n   * @private\n   * @memberof PluginTimeSerieManager\n   */\n  init( graph, options ) {\n    this.graph = graph;\n    LRU.create( this.options.LRUName, 200 );\n    this.requestsRunning = 0;\n\n  }\n\n  setURL( url ) {\n    this.options.url = url;\n    return this;\n  }\n\n  setAvailableIntervals() {\n    this.options.intervals = arguments;\n  }\n\n  newSerie( serieName, serieOptions, serieType, dbElements, noZoneSerie ) {\n    var s = this.graph.newSerie( serieName, serieOptions, serieType );\n\n    this.currentSlots[ serieName ] = {\n      min: 0,\n      max: 0,\n      interval: 0\n    };\n\n    s.on( 'hide', function() {\n\n      if ( s._zoneSerie ) {\n\n        s._zoneSerie.hide();\n      }\n    } );\n\n    s.on( 'show', function() {\n\n      if ( s._zoneSerie ) {\n        s._zoneSerie.show();\n      }\n    } );\n\n    s.setInfo( 'timeSerieManagerDBElements', dbElements );\n\n    if ( !noZoneSerie ) {\n      s._zoneSerie = this.graph.newSerie( `${serieName }_zone`, {}, Graph.SERIE_ZONE );\n    }\n\n    this.series.push( s );\n    return s;\n  }\n\n  registerPlugin( plugin, event ) {\n\n    var index;\n    if ( ( index = this.plugins.indexOf( plugin ) ) > -1 ) {\n\n      for ( var i = 1; i < arguments.length; i++ ) {\n        plugin.removeListener( arguments[ i ], this.update );\n      }\n    }\n\n    for ( var i = 1; i < arguments.length; i++ ) {\n      plugin.on( arguments[ i ], this.update );\n    }\n  }\n\n  updateSerie( serie, noRecalculate ) {\n\n    var self = this;\n    var from = serie.getXAxis().getCurrentMin();\n    var to = serie.getXAxis().getCurrentMax();\n    var priority = 1;\n\n    var optimalInterval = this.getOptimalInterval( to - from );\n    var optimalIntervalIndex = this.options.intervals.indexOf( optimalInterval );\n    var interval;\n\n    this.cleanRegister( optimalIntervalIndex );\n\n    for ( var i = optimalIntervalIndex; i <= optimalIntervalIndex + 1; i++ ) {\n\n      interval = this.options.intervals[ i ];\n      var startSlotId = self.computeSlotID( from, interval );\n      var endSlotId = self.computeSlotID( to, interval );\n\n      var intervalMultipliers = [\n        [ 2, 5, 6 ],\n        [ 1, 2, 4 ],\n        [ 0, 1, 3 ]\n      ];\n\n      intervalMultipliers.forEach( function( multiplier ) {\n\n        var firstSlotId = startSlotId - multiplier[ 0 ] * ( endSlotId - startSlotId );\n        var lastSlotId = endSlotId + multiplier[ 0 ] * ( endSlotId - startSlotId );\n\n        var slotId = firstSlotId;\n\n        while ( slotId <= lastSlotId ) {\n\n          if ( self.computeTimeMin( slotId, interval ) > Date.now() ) {\n            break;\n          }\n\n          self.register( serie, slotId, interval, interval == optimalInterval ? multiplier[ 1 ] : multiplier[ 2 ], true, noRecalculate );\n          slotId++;\n        }\n\n      } );\n\n    }\n\n    this.processRequests();\n  }\n\n  cleanRegister( interval ) {\n\n    if ( !this.requestLevels ) {\n      return;\n    }\n\n    this.requestLevels.forEach( ( levelArray ) => {\n\n      levelArray.forEach( ( levelElement, levelIndex ) => {\n\n        if ( levelElement[ 4 ] < interval ) {\n          levelArray.splice( levelIndex, 1 );\n        }\n      } );\n\n    } );\n  }\n\n  register( serie, slotId, interval, priority, noProcess, noRecalculate ) {\n\n    var id = this.computeUniqueID( serie, slotId, interval );\n\n    var data = LRU.get( this.options.LRUName, id );\n\n    if ( !data || ( this.computeTimeMax( slotId, interval ) > Date.now() && data.timeout < ( Date.now() - ( noRecalculate ? 5000 : 100000 ) ) ) && priority == 1 ) {\n\n      this.request( serie, slotId, interval, priority, id, noProcess );\n    }\n  }\n\n  request( serie, slotId, interval, priority, slotName, noProcess ) {\n\n    for ( var i in this.requestLevels ) {\n\n      if ( i == priority ) {\n        continue;\n      }\n\n      if ( this.requestLevels[ i ][ slotName ] ) {\n\n        if ( this.requestLevels[ i ][ slotName ][ 0 ] !== 1 ) { // If the request is not pending\n\n          delete this.requestLevels[ i ][ slotName ];\n\n        } else {\n          this.requestLevels[ i ][ slotName ][ 5 ] = priority;\n        }\n\n      }\n    }\n\n    if ( this.requestLevels[ priority ] && this.requestLevels[ priority ][ slotName ] ) {\n      return;\n    }\n\n    this.requestLevels[ priority ] = this.requestLevels[ priority ] || {};\n    this.requestLevels[ priority ][ slotName ] = [ 0, slotName, serie.getName(), slotId, interval, priority, serie.getInfo( 'timeSerieManagerDBElements' ) ];\n\n    if ( !noProcess ) {\n      this.processRequests();\n    }\n  }\n\n  processRequests() {\n\n    if ( this.requestsRunning >= this.options.maxParallelRequests ) {\n      return;\n    }\n\n    var self = this,\n      currentLevelChecking = 1,\n      requestToMake;\n\n    while ( true ) {\n\n      for ( var i in this.requestLevels[ currentLevelChecking ] ) {\n\n        if ( this.requestLevels[ currentLevelChecking ][ i ][ 0 ] == 1 ) { // Running request\n          continue;\n        }\n\n        requestToMake = this.requestLevels[ currentLevelChecking ][ i ];\n        break;\n      }\n\n      if ( requestToMake ) {\n        break;\n      }\n\n      currentLevelChecking++;\n\n      if ( currentLevelChecking > 10 ) {\n        return;\n      }\n\n    }\n\n    this.requestsRunning++;\n\n    if ( !requestToMake ) {\n      return;\n    }\n\n    requestToMake[ 0 ] = 1;\n\n    util.ajaxGet( {\n\n      url: this.getURL( requestToMake ),\n      method: 'GET',\n      json: true\n\n    } ).done( function( data ) {\n\n      if ( data.status == 1 ) { // Success\n\n        self.requestsRunning--;\n\n        delete self.requestLevels[ currentLevelChecking ][ i ];\n\n        LRU.store( self.options.LRUName, requestToMake[ 1 ], data.data ); // Element 1 is the unique ID\n        self.processRequests();\n\n        if ( requestToMake[ 5 ] == 1 && Object.keys( self.requestLevels[ 1 ] ).length == 0 ) {\n\n          self.recalculateSeries( true );\n        }\n      }\n\n    } );\n  }\n\n  computeTimeMax( slotId, interval ) {\n    return ( slotId + 1 ) * ( interval * this.options.nbPoints );\n  }\n\n  computeTimeMin( slotId, interval ) {\n    return ( slotId ) * ( interval * this.options.nbPoints );\n  }\n\n  getURL( requestElements ) {\n\n    var url = this.options.url\n      .replace( '<measurementid>', requestElements[ 2 ] )\n      .replace( '<from>', this.computeTimeMin( requestElements[ 3 ], requestElements[ 4 ] ) )\n      .replace( '<to>', this.computeTimeMax( requestElements[ 3 ], requestElements[ 4 ] ) )\n      .replace( '<interval>', requestElements[ 4 ] );\n\n    var dbElements = requestElements[ 6 ] || {};\n\n    for ( var i in dbElements ) {\n      url = url.replace( `<${ i }>`, dbElements[ i ] );\n    }\n\n    return url;\n  }\n\n  getOptimalInterval( totalspan ) {\n\n    var optimalInterval = ( this.options.optimalPxPerPoint || 1 ) * totalspan / this.graph.getDrawingWidth(),\n      diff = Infinity,\n      optimalIntervalAmongAvailable;\n\n    this.options.intervals.forEach( function( interval ) {\n\n      var newDiff = Math.min( diff, Math.abs( interval - optimalInterval ) );\n      if ( diff !== newDiff ) {\n\n        optimalIntervalAmongAvailable = interval;\n        diff = newDiff;\n      }\n    } );\n\n    return optimalIntervalAmongAvailable || 1000;\n  }\n\n  computeUniqueID( serie, slotId, interval ) {\n    var extra = '';\n    var info = serie.getInfo( 'timeSerieManagerDBElements' );\n    for ( var i in info ) {\n      extra += `;${ i }:${ info[ i ]}`;\n    }\n\n    return `${serie.getName() };${ slotId };${ interval }${extra}`;\n  }\n\n  computeSlotID( time, interval ) {\n    return Math.floor( time / ( interval * this.options.nbPoints ) );\n  }\n\n  computeSlotTime( slotId, interval ) {\n    return slotId * ( interval * this.options.nbPoints );\n  }\n\n  getZoneSerie( serie ) {\n    return serie._zoneSerie;\n  }\n\n  updateZoneSerie( serieName ) {\n\n    var serie = this.graph.getSerie( serieName );\n\n    if ( !serie ) {\n      return;\n    }\n\n    if ( !serie._zoneSerie ) {\n      return;\n    }\n\n    serie._zoneSerie.setXAxis( serie.getXAxis() );\n    serie._zoneSerie.setYAxis( serie.getYAxis() );\n    serie._zoneSerie.setFillColor( serie.getLineColor() );\n    serie._zoneSerie.setLineColor( serie.getLineColor() );\n    serie._zoneSerie.setFillOpacity( 0.2 );\n    serie._zoneSerie.setLineOpacity( 0.3 );\n  }\n\n  recalculateSeries( force ) {\n\n    var self = this;\n\n    if ( this.locked ) {\n      return;\n    }\n\n    this.changed = false;\n\n    this.series.map( function( serie ) {\n      self.recalculateSerie( serie, force );\n    } );\n\n    /*if ( this.changed ) {\n        self.graph._applyToAxes( \"scaleToFitAxis\", [ this.graph.getXAxis(), false, undefined, undefined, false, true ], false, true );\n      }\n  */\n    this.changed = false;\n    //self.graph.autoscaleAxes();\n\n    self.graph.draw();\n  }\n\n  recalculateSerie( serie, force ) {\n\n    var from = serie.getXAxis().getCurrentMin(),\n      to = serie.getXAxis().getCurrentMax(),\n      interval = this.getOptimalInterval( to - from );\n\n    var startSlotId = this.computeSlotID( from, interval );\n    var endSlotId = this.computeSlotID( to, interval );\n\n    var data = [];\n    var dataMinMax = [];\n\n    if ( !force && interval == this.currentSlots[ serie.getName() ].interval && this.currentSlots[ serie.getName() ].min <= startSlotId && this.currentSlots[ serie.getName() ].max >= endSlotId ) {\n      return;\n    }\n\n    startSlotId -= 2;\n    endSlotId += 2;\n\n    this.currentSlots[ serie.getName() ].min = startSlotId;\n    this.currentSlots[ serie.getName() ].max = endSlotId;\n    this.currentSlots[ serie.getName() ].interval = interval;\n\n    var slotId = startSlotId;\n\n    while ( slotId <= endSlotId ) {\n\n      const lruData = LRU.get( this.options.LRUName, this.computeUniqueID( serie, slotId, interval ) );\n      if ( lruData ) {\n\n        data = data.concat( lruData.data.mean );\n        dataMinMax = dataMinMax.concat( lruData.data.minmax );\n\n      } else {\n\n        this.recalculateSerieUpwards( serie, slotId, interval, data, dataMinMax );\n      }\n\n      slotId++;\n    }\n\n    this.changed = true;\n\n    serie.setData( data );\n\n    if ( serie._zoneSerie ) {\n      serie._zoneSerie.setData( dataMinMax );\n    }\n  }\n\n  setIntervalCheck( interval ) {\n\n    if ( this.interval ) {\n      clearInterval( this.interval );\n    }\n\n    this.update( true, true );\n    this.interval = setInterval( () => {\n      this.update( true, false );\n    }, interval );\n  }\n\n  recalculateSerieUpwards( serie, downSlotId, downInterval, data, dataMinMax ) {\n\n    var intervals = this.options.intervals.slice( 0 );\n    intervals.sort();\n\n    var nextInterval = intervals[ intervals.indexOf( downInterval ) + 1 ] || -1;\n    if ( nextInterval < 0 ) {\n      return [];\n    }\n\n    var newSlotTime = this.computeSlotTime( downSlotId, downInterval );\n    var newSlotTimeEnd = this.computeSlotTime( downSlotId + 1, downInterval );\n    var newSlotId = this.computeSlotID( newSlotTime, nextInterval ),\n      start = false;\n\n    const lruData = LRU.get( this.options.LRUName, this.computeUniqueID( serie, newSlotId, nextInterval ) );\n    if ( lruData ) {\n\n      for ( var i = 0, l = lruData.data.mean.length; i < l; i += 2 ) {\n\n        if ( lruData.data.mean[ i ] < newSlotTime ) {\n          continue;\n\n        } else if ( start === false ) {\n          start = i;\n        }\n\n        if ( lruData.data.mean[ i ] >= newSlotTimeEnd ) {\n\n          data = data.concat( lruData.data.mean.slice( start, i ) );\n          dataMinMax = data.concat( lruData.data.minmax.slice( start, i ) );\n\n          return;\n        }\n      }\n    }\n\n    return this.recalculateSerieUpwards( serie, newSlotId, nextInterval, data, dataMinMax );\n  }\n\n  lockRedraw() {\n    this.locked = true;\n  }\n\n  unlockRedraw() {\n    this.locked = false;\n  }\n\n  isRedrawLocked() {\n    return !!this.locked;\n  }\n}\n\nexport default PluginTimeSerieManager;","import Plugin from './graph.plugin.js';\n\n/**\n * @class PluginSerieLineDifference\n * @implements Plugin\n */\nclass PluginSerieLineDifference extends Plugin {\n\n  constructor() {\n    super( ...arguments );\n  }\n\n  static\n  default () {\n    return {\n\n      positiveStyle: {\n\n        fillColor: 'green',\n        fillOpacity: 0.2,\n        strokeWidth: 0\n      },\n\n      negativeStyle: {\n        fillColor: 'red',\n        fillOpacity: 0.2,\n        strokeWidth: 0\n      },\n\n      from: 0,\n      to: 0\n    };\n  }\n\n  /**\n   * Init method\n   * @private\n   */\n  init( graph, options ) {\n    this.graph = graph;\n\n    this.pathsPositive = [];\n    this.pathsNegative = [];\n\n    this.positivePolyline = this.graph.newShape( 'polyline' ).draw();\n\n    this.positivePolyline.\n    setFillColor( this.options.positiveStyle.fillColor ).\n    setFillOpacity( this.options.positiveStyle.fillOpacity ).\n    setStrokeWidth( this.options.positiveStyle.strokeWidth ).\n    applyStyle();\n\n    this.negativePolyline = this.graph.newShape( 'polyline' ).draw();\n\n    this.negativePolyline.\n    setFillColor( this.options.negativeStyle.fillColor ).\n    setFillOpacity( this.options.negativeStyle.fillOpacity ).\n    setStrokeWidth( this.options.negativeStyle.strokeWidth ).\n    applyStyle();\n  }\n\n  /**\n   * Assigns the two series for the shape. Postive values are defined when ```serieTop``` is higher than ```serieBottom```.\n   * @param {SerieLine} serieTop - The top serie\n   * @param {SerieLine} serieBottom - The bottom serie\n   */\n  setSeries( serieTop, serieBottom ) {\n    this.serie1 = serieTop;\n    this.serie2 = serieBottom;\n  }\n\n  /**\n   * Assigns the boundaries\n   */\n  setBoundaries( from, to ) {\n    this.options.from = from;\n    this.options.to = to;\n  }\n\n  /**\n   * @returns the starting value used to draw the zone\n   */\n  getFrom() {\n    return this.options.from;\n  }\n\n  /**\n   * @returns the ending value used to draw the zone\n   */\n  getTo() {\n    return this.options.to;\n  }\n\n  /**\n   * Calculates and draws the zone series\n   * @returns {Plugin} The current plugin instance\n   */\n  draw() {\n\n    var self = this;\n    var s1 = this.serie1.searchClosestValue( this.getFrom() );\n    var i1, j1, i2, j2, y, y2, crossing;\n\n    var top = [];\n    var bottom = [];\n\n    var bottomBroken;\n\n    if ( !s1 ) {\n      i1 = 0;\n      j1 = 0;\n    } else {\n\n      i1 = s1.dataIndex;\n      j1 = s1.xAfterIndex * 2;\n    }\n\n    y = this.interpolate( this.serie1, this.getFrom() );\n    top.push( this.getFrom() ); // x\n    top.push( y ); // y\n\n    y = this.interpolate( this.serie2, this.getFrom() );\n    bottom.push( this.getFrom() ); // x\n    bottom.push( y ); // y\n\n    var s2;\n\n    var order;\n\n    function nextSet() {\n\n      if ( order === true ) {\n        self.pathsPositive.push( [ top, bottom ] );\n      } else if ( order === false ) {\n        self.pathsNegative.push( [ top, bottom ] );\n      }\n\n      top = [];\n      bottom = [];\n      order = undefined;\n    }\n    var ended;\n    for ( ; i1 < this.serie1.data.length; i1++ ) {\n\n      for ( ; j1 < this.serie1.data[ i1 ].length; j1 += 2 ) {\n\n        if ( this.serie1.data[ i1 ][ j1 ] > this.getTo() ) { // FINISHED !\n\n          y = this.interpolate( this.serie1, this.getTo() );\n          y2 = this.interpolate( this.serie2, this.getTo() );\n\n          crossing = this.computeCrossing(\n            top[ top.length - 2 ], top[ top.length - 1 ],\n            this.getTo(), y,\n            bottom[ bottom.length - 2 ], bottom[ bottom.length - 1 ],\n            this.getTo(), y2\n          );\n\n          if ( crossing ) {\n\n            top.push( crossing.x );\n            top.push( crossing.y );\n            bottom.push( crossing.x );\n            bottom.push( crossing.y );\n            nextSet();\n            top.push( crossing.x );\n            top.push( crossing.y );\n            bottom.push( crossing.x );\n            bottom.push( crossing.y );\n\n            order = this.serie1.data[ i1 ][ j1 + 1 ] > this.serie2.data[ i2 ][ j2 + 1 ];\n          }\n\n          top.push( this.getTo() ); // x\n          top.push( y ); // y\n\n          bottom.push( this.getTo() ); // x\n          bottom.push( y2 ); // y\n\n          ended = true;\n          break;\n        }\n\n        if ( !s2 ) {\n          s2 = this.serie2.searchClosestValue( this.serie1.data[ i1 ][ j1 ] ); // Finds the first point\n\n          if ( s2 ) {\n            i2 = s2.dataIndex;\n            j2 = s2.xBeforeIndex * 2;\n\n            // TODO: Add here first points\n\n            y = this.interpolate( this.serie2, this.serie1.data[ i1 ][ j1 ] );\n\n            top.push( this.serie1.data[ i1 ][ j1 ] ); // x\n            top.push( this.serie1.data[ i1 ][ j1 + 1 ] ); // y\n\n            bottom.push( this.serie1.data[ i1 ][ j1 ] ); // x\n            bottom.push( y ); // y\n\n            order = this.serie1.data[ i1 ][ j1 + 1 ] > y;\n\n          } else {\n            continue;\n          }\n        }\n\n        bottomBroken = false;\n\n        crossing = this.computeCrossing(\n          top[ top.length - 2 ], top[ top.length - 1 ],\n          this.serie1.data[ i1 ][ j1 ], this.serie1.data[ i1 ][ j1 + 1 ],\n          bottom[ bottom.length - 2 ], bottom[ bottom.length - 1 ],\n          this.serie2.data[ i2 ][ j2 ], this.serie2.data[ i2 ][ j2 + 1 ]\n        );\n\n        if ( crossing ) {\n\n          top.push( crossing.x );\n          top.push( crossing.y );\n          bottom.push( crossing.x );\n          bottom.push( crossing.y );\n          nextSet();\n          top.push( crossing.x );\n          top.push( crossing.y );\n          bottom.push( crossing.x );\n          bottom.push( crossing.y );\n\n          order = this.serie1.data[ i1 ][ j1 + 1 ] > this.serie2.data[ i2 ][ j2 + 1 ];\n        }\n\n        while ( this.serie2.data[ i2 ][ j2 ] < this.serie1.data[ i1 ][ j1 ] ) {\n\n          bottom.push( this.serie2.data[ i2 ][ j2 ] );\n          bottom.push( this.serie2.data[ i2 ][ j2 + 1 ] );\n\n          j2 += 2;\n          if ( j2 == this.serie2.data[ i2 ].length ) {\n            bottomBroken = this.serie2.data[ i2 ][ j2 - 2 ];\n            i2++;\n            j2 = 0;\n            break;\n          }\n\n          crossing = this.computeCrossing(\n            top[ top.length - 2 ], top[ top.length - 1 ],\n            this.serie1.data[ i1 ][ j1 ], this.serie1.data[ i1 ][ j1 + 1 ],\n            bottom[ bottom.length - 2 ], bottom[ bottom.length - 1 ],\n            this.serie2.data[ i2 ][ j2 ], this.serie2.data[ i2 ][ j2 + 1 ]\n          );\n\n          if ( crossing ) {\n\n            top.push( crossing.x );\n            top.push( crossing.y );\n            bottom.push( crossing.x );\n            bottom.push( crossing.y );\n            nextSet();\n            top.push( crossing.x );\n            top.push( crossing.y );\n            bottom.push( crossing.x );\n            bottom.push( crossing.y );\n\n            order = this.serie1.data[ i1 ][ j1 + 1 ] > this.serie2.data[ i2 ][ j2 + 1 ];\n          }\n\n        }\n\n        if ( bottomBroken === false ) {\n          top.push( this.serie1.data[ i1 ][ j1 ] );\n          top.push( this.serie1.data[ i1 ][ j1 + 1 ] );\n        } else {\n\n          top.push( bottomBroken );\n          top.push( this.interpolate( this.serie1, bottomBroken ) );\n\n          s2 = false;\n          j1 -= 2;\n          nextSet();\n        }\n\n      }\n\n      if ( ended ) {\n        nextSet();\n        break;\n      }\n      // End of X\n\n      y = this.interpolate( this.serie2, top[ top.length - 2 ] );\n      if ( y ) {\n        bottom.push( top[ top.length - 2 ] );\n        bottom.push( y );\n      }\n\n      nextSet();\n\n      j1 = 0;\n      s2 = false;\n    }\n\n    var d = this.pathsPositive.reduce( makePaths, '' );\n    this.positivePolyline.setPointsPx( d ).redraw();\n\n    var d = this.pathsNegative.reduce( makePaths, '' );\n    this.negativePolyline.setPointsPx( d ).redraw();\n\n    //pathsBottom.map( function( map ) { makePaths( map, self.options.negativeStyle ); } );\n\n    function makePaths( d, path ) {\n\n      for ( var i = 0; i < path[ 0 ].length; i += 2 ) {\n        if ( i == 0 ) {\n          d += 'M ';\n        }\n        d += ` ${ Math.round( self.serie1.getXAxis().getPx( path[ 0 ][ i ] ) ) }, ${ Math.round( self.serie1.getYAxis().getPx( path[ 0 ][ i + 1 ] ) )}`;\n        if ( i < path[ 0 ].length - 2 ) {\n          d += ' L ';\n        }\n      }\n\n      for ( var i = path[ 1 ].length - 2; i >= 0; i -= 2 ) {\n        d += ` L ${ Math.round( self.serie2.getXAxis().getPx( path[ 1 ][ i ] ) ) }, ${ Math.round( self.serie2.getYAxis().getPx( path[ 1 ][ i + 1 ] ) )}`;\n        if ( i == 0 ) {\n          d += ' z ';\n        }\n      }\n      return d;\n    }\n\n  }\n\n  /**\n   * Finds the interpolated y value at point ```valX``` of the serie ```serie```\n   * @returns {(Number|Boolean)} The interpolated y value is possible, ```false``` otherwise\n   * @param {Serie} serie - The serie for which the y value should be computed\n   * @param {Number} valX - The x value\n   */\n  interpolate( serie, valX ) {\n\n    var value = serie.searchClosestValue( valX );\n\n    if ( !value ) {\n      return false;\n    }\n\n    if ( value.xMax == undefined ) {\n      return value.yMin;\n    }\n\n    if ( value.xMin == undefined ) {\n      return value.yMax;\n    }\n\n    var ratio = ( valX - value.xMin ) / ( value.xMax - value.xMin );\n    return ( ( 1 - ratio ) * value.yMin + ratio * value.yMax );\n  }\n\n  /**\n   * Finds the crossing point between two vector and returns it, or ```false``` if it is not within the x boundaries\n   * @returns {(Object|Boolean)} An object containing the crossing point in the following format: ```{ x: xCrossing, y: yCrossing }``` or ```false``` if no crossing point can be found\n   * @param {Number} x11 - First x point of the first vector\n   * @param {Number} y11 - First y point of the first vector\n   * @param {Number} x12 - Second x point of the first vector\n   * @param {Number} y12 - Second y point of the first vector\n   * @param {Number} x21 - First x point of the second vector\n   * @param {Number} y21 - First y point of the second vector\n   * @param {Number} y22 - Second x point of the second vector\n   * @param {Number} y22 - Second y point of the second vector\n   */\n  computeCrossing( x11, y11, x12, y12, x21, y21, x22, y22 ) {\n    var a1 = ( y12 - y11 ) / ( x12 - x11 );\n    var a2 = ( y22 - y21 ) / ( x22 - x21 );\n\n    var b1 = y12 - a1 * x12;\n    var b2 = y22 - a2 * x22;\n\n    if ( x11 == x12 || x21 == x22 ) {\n\n      return false;\n    }\n\n    if ( a1 == a2 ) {\n      return {\n        x: x11,\n        y1: y11,\n        y2: y11\n      };\n    }\n\n    var x = ( b1 - b2 ) / ( a2 - a1 );\n\n    if ( x > x12 || x < x11 || x < x21 || x > x22 ) {\n      return false;\n    }\n\n    return {\n      x: x,\n      y: a1 * x + b1\n    };\n  }\n\n  /**\n   * @returns The positive polyline\n   */\n  getPositivePolyline() {\n    return this.positivePolyline;\n  }\n\n  /**\n   * @returns The negative polyline\n   */\n  getNegativePolyline() {\n    return this.negativePolyline;\n  }\n\n}\n\nexport default PluginSerieLineDifference;","import Graph from '../graph.core.js';\nimport AxisX from '../graph.axis.x.js';\nimport AxisY from '../graph.axis.y.js';\nimport * as util from '../graph.util.js';\nimport SerieLine from '../series/graph.serie.line.js';\nimport SerieScatter from '../series/graph.serie.scatter.js';\nimport Axis from '../graph.axis.js';\n\nimport Plugin from './graph.plugin.js';\n\nclass SerieLineExtended extends SerieLine {\n\n  constructor() {\n    super( ...arguments );\n    this.subSeries = [];\n  }\n\n  draw() {\n    this.eraseMarkers();\n    return this;\n  }\n\n  getSymbolForLegend() {\n    if ( !this.subSeries[ 0 ] ) {\n      return false;\n    }\n\n    return this.subSeries[ 0 ].getSymbolForLegend();\n  }\n\n  getMarkerForLegend() {\n    if ( !this.subSeries[ 0 ] ) {\n      return false;\n    }\n\n    return this.subSeries[ 0 ].getMarkerForLegend();\n  }\n}\n\nclass SerieScatterExtended extends SerieScatter {\n\n  constructor() {\n    super( ...arguments );\n    this.subSeries = [];\n  }\n\n  draw() {\n    return this;\n  }\n\n  getSymbolForLegend() {\n    if ( !this.subSeries[ 0 ] ) {\n      return false;\n    }\n\n    return this.subSeries[ 0 ].getSymbolForLegend();\n  }\n\n  getMarkerForLegend() {\n    if ( !this.subSeries[ 0 ] ) {\n      return false;\n    }\n\n    return this.subSeries[ 0 ].getMarkerForLegend();\n  }\n}\n\nvar excludingMethods = [\n  'constructor',\n  'init',\n  'draw',\n  'setLineColor',\n  'setLineWidth',\n  'setLineStyle',\n  'getLineColor',\n  'getLineWidth',\n  'getLineStyle',\n  'setMarkers',\n  'showMarkers',\n  'hideMarkers',\n  'getMarkerDom',\n  'getMarkerDomIndependant',\n  'getMarkerPath',\n  'eraseMarkers',\n  '_recalculateMarkerPoints'\n];\nvar addMethods = [];\n\nObject.getOwnPropertyNames( SerieLine.prototype ).concat( addMethods ).map( function( i ) {\n\n  if ( excludingMethods.indexOf( i ) > -1 ) {\n    return;\n  }\n\n  SerieLineExtended.prototype[ i ] = ( function( j ) {\n\n    return function() {\n\n      var args = arguments;\n      this.subSeries.map( ( subSerie ) => {\n        console.log( j );\n        subSerie[ j ]( ...args );\n      } );\n    };\n\n  } )( i );\n} );\n\n/**\n * Axis splitting plugin\n * @augments Plugin\n */\nclass PluginAxisSplitting extends Plugin {\n\n  constructor( options ) {\n    super( ...arguments );\n    this.series = new Map();\n  }\n\n  static\n  default () {\n\n    return {\n      axes: {\n        margins: {\n          high: 5,\n          low: 5\n        }\n      }\n    };\n  }\n\n  init( graph ) {\n    this.graph = graph;\n  }\n\n  /**\n   *  Creates a new bottom split axis\n   *  @param {Object} [ options = {} ] The axis options\n   *  @return {Axis} The newly created split axis\n   */\n  newXAxis( options ) {\n    return this.newBottomAxis( options );\n  }\n\n  /**\n   *  Creates a new left split axis\n   *  @param {Object} [ options = {} ] The axis options\n   *  @return {Axis} The newly created split axis\n   */\n  newYAxis( options ) {\n    return this.newLeftAxis( options );\n  }\n\n  /**\n   *  Creates a new top split axis\n   *  @param {Object} [ options = {} ] The axis options\n   *  @return {Axis} The newly created split axis\n   */\n  newTopAxis( options ) {\n    options = this.getOptions( options );\n    return new SplitXAxis( this.graph, 'top', options );\n  }\n\n  /**\n   *  Creates a new bottom split axis\n   *  @param {Object} [ options = {} ] The axis options\n   *  @return {Axis} The newly created split axis\n   */\n  newBottomAxis( options ) {\n    options = this.getOptions( options );\n    return new SplitXAxis( this.graph, 'bottom', options );\n  }\n\n  /**\n   *  Creates a new left split axis\n   *  @param {Object} [ options = {} ] The axis options\n   *  @return {Axis} The newly created split axis\n   */\n  newLeftAxis( options ) {\n    options = this.getOptions( options );\n    return new SplitYAxis( this.graph, 'left', options );\n  }\n\n  /**\n   *  Creates a new right split axis\n   *  @param {Object} [ options = {} ] The axis options\n   *  @return {Axis} The newly created split axis\n   */\n  newRightAxis( options ) {\n    options = this.getOptions( options );\n    return new SplitYAxis( this.graph, 'right', options );\n  }\n\n  getOptions( options ) {\n    var defaults = {\n      marginMin: this.options.axes.margins.low,\n      marginMax: this.options.axes.margins.high,\n    };\n    return util.extend( true, defaults, options );\n  }\n\n  preDraw() {\n\n    var xAxis, yAxis;\n\n    //    for ( let { serie } of this.series.values() ) {\n    this.series.forEach( ( {\n      serie\n    } ) => {\n\n      xAxis = serie.getXAxis();\n      yAxis = serie.getYAxis();\n\n      let splits = 1;\n\n      if ( xAxis.splitNumber ) {\n        splits *= xAxis.splitNumber;\n      }\n\n      if ( yAxis.splitNumber ) {\n        splits *= yAxis.splitNumber;\n      }\n\n      while ( serie.subSeries.length < splits ) {\n\n        const name = `${serie.getName() }_${ serie.subSeries.length}`;\n\n        const s = this.graph.newSerie( name, {}, serie.getType() || Graph.SERIE_LINE );\n\n        s.excludedFromLegend = true;\n        s.styles = serie.styles;\n        s.waveform = serie.waveform; // Copy data\n\n        if ( serie.getType() == Graph.SERIE_LINE ) {\n          s.markerPoints = serie.markerPoints;\n          s.markerFamilies = serie.markerFamilies;\n        }\n\n        serie.subSeries.push( s );\n        serie.postInit();\n      }\n\n      while ( serie.subSeries.length > splits ) {\n\n        let subserie = this.graph.getSerie( `${serie.getName() }_${ serie.subSeries.length - 1}` );\n\n        if ( subserie && subserie.kill ) {\n          subserie.kill();\n        }\n        serie.subSeries.pop();\n\n      }\n\n      if ( !serie.getXAxis().splitNumber && serie.getXAxis().splitAxis ) {\n        serie.getXAxis().splitAxis();\n      }\n\n      if ( !serie.getYAxis().splitNumber && serie.getYAxis().splitAxis ) {\n        serie.getYAxis().splitAxis();\n      }\n\n      // Re-assign axes to the sub series\n      serie.subSeries.map( ( sserie, index ) => {\n\n        var xSubAxis, ySubAxis;\n\n        //sserie.groupMarkers = firstSubSerie.groupMarkers;\n\n        if ( serie.getXAxis().getSubAxis ) {\n          let subAxisIndex = index % ( ( xAxis.splitNumber || 1 ) );\n          xSubAxis = serie.getXAxis().getSubAxis( subAxisIndex );\n        } else {\n          xSubAxis = serie.getXAxis();\n        }\n\n        sserie.setXAxis( xSubAxis );\n\n        if ( serie.getYAxis().getSubAxis ) {\n\n          let subAxisIndex = Math.floor( index / ( ( xAxis.splitNumber || 1 ) ) );\n          ySubAxis = serie.getYAxis().getSubAxis( subAxisIndex );\n        } else {\n          ySubAxis = serie.getYAxis();\n        }\n\n        sserie.setYAxis( ySubAxis );\n\n        sserie.draw( true );\n      } );\n      //}\n\n    } );\n\n  }\n\n  /**\n   *  Creates a new serie\n   *  @param {(String|Number)} name - The name of the serie\n   *  @param {Object} [ options = {} ] The options of the serie\n   *  @param {String} type - The type of the serie\n   *  @return {Serie} The created serie\n   */\n  newSerie( name, options = {}, type ) {\n\n    switch ( type ) {\n\n      case 'line':\n        return this.newLineSerie( name, options );\n        break;\n\n      case 'scatter':\n        return this.newScatterSerie( name, options );\n        break;\n    }\n\n    throw `Cannot create a split serie of type ${ type}`;\n  }\n\n  /**\n   *  Creates a new line serie\n   *  @param {(String|Number)} name - The name of the serie\n   *  @param {Object} [ options = {} ] The options of the serie\n   *  @return {Serie} The created serie\n   */\n  newLineSerie( name, options ) {\n    var serieObj = {\n      type: 'lineSerie',\n      serie: new SerieLineExtended( this.graph, name, options, 'line' )\n    };\n    this.series.set( name, serieObj );\n    this.graph.series.push( serieObj.serie );\n    return serieObj.serie;\n  }\n\n  /**\n   *  Creates a new scatter serie\n   *  @param {(String|Number)} name - The name of the serie\n   *  @param {Object} [ options = {} ] The options of the serie\n   *  @return {Serie} The created serie\n   */\n  newScatterSerie( name, options ) {\n    var serieObj = {\n      type: 'scatterSerie',\n      serie: new SerieScatterExtended( this.graph, name, options, 'scatter' )\n    };\n    this.series.set( name, serieObj );\n    this.graph.series.push( serieObj.serie );\n    return serieObj.serie;\n  }\n\n}\n\nvar defaultAxisConstructorOptions = {\n  splitMarks: true\n};\n\nvar SplitAxis = function( mixin ) {\n\n  var delegateMethods = [\n\n    'turnGridsOff',\n    'turnGridsOn',\n    'gridsOff',\n    'gridsOn',\n    'setEngineering',\n    'setScientificScaleExponent',\n    'setScientific',\n    'setLabelColor',\n    'setSecondaryGridDasharray',\n    'setPrimaryGridDasharray',\n    'setSecondaryGridsOpacity',\n    'setPrimaryGridOpacity',\n    'setSecondaryGridWidth',\n    'setPrimaryGridWidth',\n    'setSecondaryGridColor',\n    'setPrimaryGridColor',\n    'setTicksLabelColor',\n    'setSecondaryTicksColor',\n    'setPrimaryTicksColor',\n    'setAxisColor',\n    'secondaryGridOn',\n    'secondaryGridOff',\n    'primaryGridOff',\n    'primaryGridOn',\n    'setSecondaryGrid',\n    'setPrimaryGrid',\n    'setGrids',\n    'setTickPosition',\n    'setExponentialFactor',\n    'setExponentialLabelFactor',\n    'setGridLinesStyle',\n    'forcePrimaryTickUnitMin',\n    'forcePrimaryTickUnitMax',\n    'forcePrimaryTickUnit',\n    'flip',\n    'show',\n    'hide',\n    'setDisplay'\n  ];\n\n  /**\n   * Split axis\n   * @mixes AxisX\n   * @mixes AxisY\n   * @name SplitAxis\n   * @static\n   */\n  var cl = class SplitAxis extends mixin {\n\n    constructor( graph, position, options = {} ) {\n\n      super( graph, position, options );\n      this.axes = [];\n      this.position = position;\n      this.constructorOptions = util.extend( true, {}, defaultAxisConstructorOptions, options );\n\n      this._splitVal = [];\n    }\n\n    /**\n     *  Calls a callback onto each chunk axes. The callback receives two parameters: 1) the ```axis``` itself and 2) the ```index``` of the axis in the stack\n     *  @param {Function} callback - The callback to be applied to each axes\n     *  @return {SplitAxis} The current axis instance\n     */\n    all( callback ) {\n\n      if ( !( typeof callback == 'function' ) ) {\n        return;\n      }\n\n      this.axes.map( callback );\n      return this;\n    }\n\n    /**\n     *  Splits the axis into chunks at the positions defined as a list of parameters.\n     *  @param {Function} ...splits - The positions of axis splitting\n     *  @return {SplitAxis} The current axis instance\n     *  @example axis.splitAxis( 0.2, 0.5, 0.8 ); // Creates 4 chunks (0-20%, 20%-50%, 50%-80%, 80%-100%)\n     */\n    splitAxis( ...splits ) {\n\n      splits.push( 1 );\n      let splitNumber = splits.length;\n\n      while ( this.axes.length > splitNumber ) {\n        this.axes.pop().kill( true, true );\n      }\n\n      while ( this.axes.length < splitNumber ) {\n        let axis = new( this.getConstructor() )( this.graph, this.position, this.constructorOptions );\n        this.axes.push( axis );\n        axis.zoomLock = true;\n        axis.init( this.graph, this.constructorOptions );\n      }\n\n      let from = 0;\n      let i = 0;\n      for ( let axis of this.axes ) {\n\n        axis.options.marginMin = 10;\n        axis.options.marginMax = 10;\n\n        if ( i == 0 ) {\n          axis.options.marginMin = 0;\n        }\n\n        if ( i == this.axes.length - 1 ) {\n          axis.options.marginMax = 0;\n        }\n\n        axis.setSpan( from, ( from = splits[ i ] ) );\n        axis.setMinMaxFlipped();\n        i++;\n      }\n\n      this._splits = splits;\n      return this;\n    }\n\n    /**\n     *  Fixes the major tick interval of all axes based on the one provided as a parameter\n     *  @param {Number} axisIndex - The index of the reference axis (starting at 0)\n     *  @return {SplitAxis} The current axis instance\n     */\n    fixGridIntervalBasedOnAxis( axisIndex ) {\n\n      this.fixGridFor = axisIndex;\n      this.graph._axisHasChanged();\n      return this;\n    }\n\n    /**\n     *  Spreads the chunks of the axis based on the relative interval of each one of them, so that the unit / px is constant for each chunk\n     *  @param {Boolean} bln - ```true``` to enable the spread, ```false``` otherwise\n     *  @return {SplitAxis} The current axis instance\n     */\n    splitSpread( bln ) {\n      this.autoSpread = !!bln;\n      return this;\n    }\n\n    hasAxis( axis ) {\n      return this.axes.indexOf( axis ) > -1;\n    }\n\n    _splitSpread() {\n\n      let splits = [],\n        total = 0,\n        currentSplit = 0;\n      //console.log( this._splitVal );\n      for ( let split of this._splitVal ) {\n        total += split[ 1 ] - split[ 0 ];\n      }\n\n      for ( let split of this._splitVal ) {\n\n        splits.push( currentSplit += ( split[ 1 ] - split[ 0 ] ) / total );\n      }\n\n      splits.pop();\n      this.splitAxis( ...splits );\n    }\n\n    /**\n     *  Defines the boundaries of each chunk in axis unit.\n     *  @param {Array<(Array|Number)>} values - An array of either 2-component arrays (from-to) or number (mean)\n     *  @example axis.setChunkBoundaries( [ [ 12, 20 ], [ 100, 200 ] ] ); // First chunk from 12 to 20, second one from 100 to 200\n     *  @example axis.setChunkBoundaries( [ 12, [ 100, 200 ] ] ); // Second chunk from 100 to 200, first chunk with a mean at 12 and min / max determined by the relative widths of the chunks\n     *  @return {SplitAxis} The current axis instance\n     */\n    setChunkBoundaries( values ) {\n\n      let index = 0,\n        baseWidth,\n        baseWidthIndex;\n\n      for ( let axis of this.axes ) { // List all axes\n\n        // Two elements in the array => becomes the new reference\n        if ( Array.isArray( values[ index ] ) && values[ index ].length > 1 && !baseWidth ) {\n          baseWidth = values[ index ][ 1 ] - values[ index ][ 0 ];\n          baseWidthIndex = index;\n        }\n\n        if ( values[ index ].length == 1 || !Array.isArray( values[ index ] ) ) {\n          axis._mean = values[ index ];\n\n          if ( Array.isArray( axis._mean ) ) {\n            axis._mean = axis._mean[ 0 ];\n          }\n\n        } else {\n\n          axis\n            .forceMin( values[ index ][ 0 ] )\n            .forceMax( values[ index ][ 1 ] );\n        }\n\n        index++;\n      }\n\n      this._baseWidthVal = baseWidth;\n      this._baseWidthIndex = baseWidthIndex;\n\n      this._splitVal = values;\n\n      this.graph._axisHasChanged();\n\n      return this;\n    }\n\n    setMinMaxToFitSeries() {\n\n      if ( !this._splitVal || this._splitVal.length < 1 ) {\n        super.setMinMaxToFitSeries( ...arguments );\n        this._splitVal[ 0 ] = this._splitVal[ 0 ] || [];\n        this._splitVal[ this._splitVal.length - 1 ] = this._splitVal[ this._splitVal.length - 1 ] || [];\n\n        this._splitVal[ 0 ][ 0 ] = this.getCurrentMin();\n        this._splitVal[ this._splitVal.length - 1 ][ 1 ] = this.getCurrentMax();\n        this.setChunkBoundaries( this._splitVal );\n      }\n    }\n\n    draw() {\n\n      if ( this.autoSpread ) {\n        this._splitSpread();\n      }\n\n      let max = 0;\n      let unit;\n      let subAxis;\n      let spanReference;\n\n      if ( this._baseWidthIndex >= 0 && ( subAxis = this.getSubAxis( this._baseWidthIndex ) ) ) {\n        spanReference = subAxis.getSpan();\n      }\n\n      subAxis = undefined;\n\n      if ( this.fixGridFor >= 0 && ( subAxis = this.getSubAxis( this.fixGridFor ) ) ) {\n\n        if ( subAxis._mean !== undefined ) {\n          let width = ( subAxis.getSpan()[ 1 ] - subAxis.getSpan()[ 0 ] ) / ( spanReference[ 1 ] - spanReference[ 0 ] ) * this._baseWidthVal;\n          subAxis.forceMin( subAxis._mean - width / 2 );\n          subAxis.forceMax( subAxis._mean + width / 2 );\n        }\n\n        max = subAxis.draw();\n        unit = subAxis.getPrimaryTickUnit();\n      }\n\n      this.axes.map( ( axis ) => {\n\n        if ( subAxis === axis ) {\n          return;\n        }\n\n        if ( axis._mean !== undefined ) {\n          let width = ( axis.getSpan()[ 1 ] - axis.getSpan()[ 0 ] ) / ( spanReference[ 1 ] - spanReference[ 0 ] ) * this._baseWidthVal;\n          axis.forceMin( axis._mean - width / 2 );\n          axis.forceMax( axis._mean + width / 2 );\n        }\n\n        if ( unit ) {\n          axis.forcePrimaryTickUnit( unit );\n        }\n\n        max = Math.max( max, axis.draw() );\n\n      } );\n\n      //    this.drawLabel();\n      this.writeUnit();\n\n      return max;\n    }\n\n    setMinPx( min ) {\n\n      super.setMinPx( min );\n      for ( let axis of this.axes ) {\n        axis.setMinPx( min );\n      }\n    }\n\n    setMaxPx( max ) {\n\n      super.setMaxPx( max );\n\n      for ( let axis of this.axes ) {\n        axis.setMaxPx( max );\n      }\n    }\n\n    setShift() {\n\n      super.setShift( ...arguments );\n\n      for ( let axis of this.axes ) {\n        axis.setShift( ...arguments );\n      }\n    }\n\n    init() {\n      super.init( ...arguments );\n      this.splitAxis();\n    }\n\n    getAxisPosition() {\n      var max = 0;\n\n      this.axes.map( ( axis ) => {\n        max = Math.max( max, axis.getAxisPosition() );\n      } );\n\n      return max;\n    }\n\n    getSubAxis( index ) {\n\n      if ( this.axes.length <= index ) {\n        throw `Impossible to reach axis. Index ${ index } is out of range`;\n      }\n\n      return this.axes[ index ];\n    }\n\n    get splitNumber() {\n      return this._splits.length;\n    }\n  };\n\n  delegateMethods.map( ( methodName ) => {\n\n    cl.prototype[ methodName ] = ( function( method ) {\n\n      return function() {\n        //super[ method ]( ...arguments )\n\n        this.axes.map( ( axis ) => {\n          axis[ method ]( ...arguments );\n        } );\n        return this;\n      };\n\n    } )( methodName );\n  } );\n\n  return cl;\n};\n\nclass SplitXAxis extends SplitAxis( AxisX ) {\n\n  constructor( graph, topbottom, options ) {\n    super( ...arguments );\n    this.topbottom = topbottom;\n  }\n\n  getConstructor() {\n    return AxisX;\n  }\n\n  getAxisPosition() {\n    var max = super.getAxisPosition( ...arguments );\n\n    this.labelPosY = max;\n\n    if ( this.getLabel() ) {\n      max += this.graph.options.fontSize;\n    }\n\n    return max;\n  }\n\n  drawLabel() {\n    super.drawLabel();\n    this.label.setAttribute( 'y', ( this.top ? -1 : 1 ) * ( this.graph.options.fontSize + this.labelPosY ) );\n  }\n\n  draw() {\n    var height = super.draw( ...arguments );\n    this.drawLabel();\n    return height;\n  }\n\n}\n\nclass SplitYAxis extends SplitAxis( AxisY ) {\n\n  constructor( graph, leftright, options ) {\n    super( ...arguments );\n    ///this.leftright = leftright;\n  }\n\n  getConstructor() {\n    return AxisY;\n  }\n  /*\n    draw() {\n\n      if ( this.getLabel() ) {\n        this.axes.map( ( axis ) => {\n          axis.setAxisPosition( this.graph.options.fontSize );\n        } ); // Extra shift allowed for the label\n        //this.setShift( this.graph.options.fontSize );\n      }\n      return super.draw( ...arguments );\n    }\n  */\n  drawLabel() {\n    super.drawLabel();\n  }\n\n  equalizePosition( width ) {\n\n    var widthAfter = width;\n\n    if ( this.getLabel() ) {\n      this.axes.map( ( axis ) => {\n        widthAfter = Math.max( axis.equalizePosition( width ), widthAfter );\n      } ); // Extra shift allowed for the label\n      //this.setShift( this.graph.options.fontSize );\n    }\n\n    if ( this.getLabel() ) {\n      this.placeLabel( this.left ? -widthAfter : widthAfter );\n      return widthAfter + this.graph.options.fontSize;\n    }\n  }\n\n}\n\nutil.mix( SplitXAxis, new AxisX() );\nutil.mix( SplitYAxis, new AxisY() );\n\nexport default PluginAxisSplitting;","import * as util from '../graph.util.js';\n\nimport Plugin from './graph.plugin.js';\n\n/**\n * The intent of this plugin is to provide methods for the user to make the traces on the graph automatically different\n * Options to provide colorization, markers and line styles should be provided\n * @extends Plugin\n */\nclass PluginMakeTracesDifferent extends Plugin {\n\n  constructor() {\n    super( ...arguments );\n  }\n\n  init( graph, options ) {\n    super.init( graph, options );\n  }\n  // Load this with defaults\n  static\n  default () {\n\n    return {\n\n    };\n  }\n\n  checkHSL( color ) {\n\n    let result = {},\n      hue, saturation, lightness;\n\n    if ( ( hue = ( color.h || color.hue ) ) ) {\n\n      if ( hue < 1 ) {\n        hue = Math.round( hue * 360 );\n      }\n\n      result.hue = hue;\n    } else {\n      result.h = 0;\n    }\n\n    if ( ( saturation = ( color.s || color.saturation ) ) ) {\n\n      if ( saturation > 1 ) {\n        saturation /= 100;\n      }\n\n      result.saturation = saturation;\n    } else {\n      result.saturation = 0.75;\n    }\n\n    if ( ( lightness = ( color.lightness || color.l ) ) ) {\n\n      if ( lightness > 1 ) {\n        lightness /= 100;\n      }\n\n      result.lightness = lightness;\n    } else {\n      result.lightness = 0.5;\n    }\n\n    return result;\n  }\n\n  buildHSLString( hsl ) {\n    return `hsl( ${ Math.round( hsl.h ) }, ${ Math.round( hsl.s * 100 ) }%, ${ Math.round( hsl.l * 100 ) }%)`;\n  }\n\n  colorizeAll( options, callback = false ) {\n\n    let series,\n      seriesLength;\n\n    if ( options.serieTypes ) {\n\n      if ( !Array.isArray( options.serieTypes ) ) {\n        options.serieTypes = [ options.serieTypes ];\n      }\n\n      series = this.graph.allSeries( ...options.serieTypes );\n    } else {\n      series = this.graph.getSeries();\n    }\n\n    seriesLength = series.length;\n\n    if ( !options.startingColorHSL ) {\n\n      if ( options.colorHSL ) {\n        options.startingColorHSL = this.checkHSL( options.colorHSL );\n      } else {\n        throw 'No starting color was provided. There must exist either options.colorHSL or options.startingColorHSL';\n      }\n    }\n\n    if ( !options.endingColorHSL ) {\n\n      if ( !options.affect || ![ 'h', 's', 'l', 'hue', 'saturation', 'lightness' ].include( options.affect ) ) {\n        options.affect = 'h';\n      }\n\n      switch ( options.affect ) {\n\n        case 'h':\n        case 'hue':\n          options.endingColorHSL = {\n            h: options.startingColorHSL.h + 300,\n            s: options.startingColorHSL.s,\n            l: options.startingColorHSL.l\n          };\n          break;\n\n        case 'saturation':\n        case 's':\n          let endS;\n\n          if ( options.startingColorHSL.s > 0.5 ) {\n            endS = 0;\n          } else {\n            endS = 1;\n          }\n\n          options.endingColorHSL = {\n            h: options.startingColorHSL.h,\n            s: endS,\n            l: options.startingColorHSL.l\n          };\n          break;\n\n        case 'lightness':\n        case 'l':\n          let endL;\n\n          if ( options.startingColorHSL.l > 0.5 ) {\n            endL = 0;\n          } else {\n            endL = 0.75;\n          }\n\n          options.endingColorHSL = {\n            h: options.startingColorHSL.h,\n            s: options.startingColorHSL.s,\n            l: endL\n          };\n          break;\n      }\n    } else {\n      options.endingColorHSL = Object.assign( {}, options.startingColorHSL, options.endingColorHSL );\n    }\n\n    return series.map( ( serie, index ) => {\n\n      if ( !serie.setLineColor ) {\n        throw `The serie ${ serie.getName() } does not implement the method \\`startingColor\\``;\n      }\n\n      let colorString;\n\n      if ( seriesLength == 1 ) {\n\n        colorString = this.buildHSLString( {\n          h: options.startingColorHSL.h,\n          s: options.startingColorHSL.s,\n          l: options.startingColorHSL.l\n        } );\n\n      } else {\n\n        colorString = this.buildHSLString( {\n          h: options.startingColorHSL.h + index / ( seriesLength - 1 ) * ( options.endingColorHSL.h - options.startingColorHSL.h ),\n          s: options.startingColorHSL.s + index / ( seriesLength - 1 ) * ( options.endingColorHSL.s - options.startingColorHSL.s ),\n          l: options.startingColorHSL.l + index / ( seriesLength - 1 ) * ( options.endingColorHSL.l - options.startingColorHSL.l )\n        } );\n      }\n\n      serie.setLineColor( colorString );\n\n      if ( typeof callback == 'function' ) {\n        callback( index, colorString );\n      }\n\n      return colorString;\n    } );\n  }\n}\n\nexport default PluginMakeTracesDifferent;","import * as util from '../graph.util.js';\n\nimport Plugin from './graph.plugin.js';\n\n/*\n  What is it ?\n    It is a plugin for automatic peak detection on a line serie\n\n  How to use ?\n    Basic usage:\n\n    let graph = new Graph(\"dom\", {\n      plugins: {\n        'peakPicking': {}\n      }\n      }\n    );\n\n    let wv = Graph.newWaveform();\n    wv.setData( [ 1, 2, 1, 2, 1, 2, 1, 2, 1, 2 ] );\n    let s = graph.newSerie(\"serie\").setWaveform( wv ).autoAxis();\n\n    graph.getPlugin('peakPicking').setSerie( s );\n    graph.draw();\n*/\n\n/**\n * @extends Plugin\n */\nclass PluginPeakPicking extends Plugin {\n  constructor() {\n    super( ...arguments );\n  }\n\n  static\n  default () {\n    return {\n      autoPeakPicking: false,\n      autoPeakPickingNb: 4,\n      autoPeakPickingMinDistance: 10,\n      autoPeakPickingFormat: false,\n      autoPeakPickingAllowAllY: false\n    };\n  }\n\n  init( graph, options ) {\n    super.init( graph, options );\n    this.picks = [];\n\n    for ( var n = 0, m = this.options.autoPeakPickingNb; n < m; n++ ) {\n      var shape = this.graph.newShape( {\n        type: 'label',\n        label: {\n          text: '',\n          position: {\n            x: 0\n          },\n          anchor: 'middle'\n        },\n\n        selectable: true,\n\n        shapeOptions: {\n          minPosY: 15\n        }\n      } );\n\n      shape.draw();\n\n      this.picks.push( shape );\n    }\n  }\n\n  setSerie( serie ) {\n    this.serie = serie;\n\n    this.picks.map( ( pick ) => {\n      pick.show();\n    } );\n  }\n\n  serieRemoved( serie ) {\n    if ( this.serie == serie ) {\n      this.picks.map( ( pick ) => {\n        pick.hide();\n      } );\n    }\n  }\n\n  preDraw() {\n    if ( !this.serie ) {\n      return;\n    }\n\n    this.detectedPeaks = [];\n    this.lastYPeakPicking = false;\n  }\n\n  postDraw() {\n    if ( !this.serie ) {\n      return;\n    }\n    let lookForMaxima = true;\n    let lookForMinima = false;\n    let lastYPeakPicking;\n    let peaks = [];\n\n    let waveform = this.serie.getWaveform();\n\n    if ( !waveform ) {\n      throw 'The serie must have a waveform for the peak picking to work';\n    }\n\n    let length = waveform.getLength(),\n      i = 0,\n      y;\n\n    for ( ; i < length; i++ ) {\n      y = waveform.getY( i );\n\n      if ( this.serie.options.lineToZero ) {\n        peaks.push( [ waveform.getX( i ), y ] );\n        continue;\n      }\n\n      if ( !lastYPeakPicking ) {\n        lastYPeakPicking = [ waveform.getX( i ), y ];\n        continue;\n      }\n\n      if (\n        ( y >= lastYPeakPicking[ 1 ] && lookForMaxima ) ||\n        ( y <= lastYPeakPicking[ 1 ] && lookForMinima )\n      ) {\n        lastYPeakPicking = [ waveform.getX( i ), y ];\n      } else if (\n        ( y < lastYPeakPicking[ 1 ] && lookForMaxima ) ||\n        ( y > lastYPeakPicking[ 1 ] && lookForMinima )\n      ) {\n        if ( lookForMinima ) {\n          lookForMinima = false;\n          lookForMaxima = true;\n        } else {\n          lookForMinima = true;\n          lookForMaxima = false;\n\n          peaks.push( lastYPeakPicking );\n          lastYPeakPicking = false;\n        }\n\n        lastYPeakPicking = [ waveform.getX( i ), y ];\n      }\n    }\n\n    var ys = peaks;\n    var x,\n      px,\n      passed = [],\n      px,\n      l = ys.length,\n      k,\n      m,\n      index;\n\n    i = 0;\n\n    var selected = this.graph.selectedShapes.map( function( shape ) {\n      return shape.getProp( 'xval' );\n    } );\n\n    ys.sort( function( a, b ) {\n      return b[ 1 ] - a[ 1 ];\n    } );\n\n    m = 0;\n\n    for ( ; i < l; i++ ) {\n      x = ys[ i ][ 0 ];\n      px = this.serie.getX( x );\n      k = 0;\n      y = this.serie.getY( ys[ i ][ 1 ] );\n\n      if (\n        px < this.serie.getXAxis().getMinPx() ||\n        px > this.serie.getXAxis().getMaxPx()\n      ) {\n        continue;\n      }\n\n      if ( !this.options.autoPeakPickingAllowAllY &&\n        ( y > this.serie.getYAxis().getMinPx() ||\n          y < this.serie.getYAxis().getMaxPx() )\n      ) {\n        continue;\n      }\n\n      // Distance check\n      for ( ; k < passed.length; k++ ) {\n        if (\n          Math.abs( passed[ k ] - px ) < this.options.autoPeakPickingMinDistance\n        ) {\n          break;\n        }\n      }\n      if ( k < passed.length ) {\n        continue;\n      }\n\n      // Distance check end\n\n      // If the retained one has already been selected somewhere, continue;\n      if ( ( index = selected.indexOf( x ) ) > -1 ) {\n        passed.push( px );\n        continue;\n      }\n\n      if ( !this.picks[ m ] ) {\n        return;\n      }\n\n      //console.log( this.getYAxis().getDataMax(), this.getYAxis().getCurrentMin(), y );\n      //    this.picks[ m ].show();\n\n      if ( this.serie.getYAxis().getPx( ys[ i ][ 1 ] ) - 20 < 0 ) {\n        this.picks[ m ].setLabelPosition( {\n          x: x,\n          y: '5px'\n        } );\n\n        this.picks[ m ].setLabelBaseline( 'hanging' );\n      } else {\n        this.picks[ m ].setLabelBaseline( 'no-change' );\n\n        this.picks[ m ].setLabelPosition( {\n          x: x,\n          y: ys[ i ][ 1 ],\n          dy: '-15px'\n        } );\n      }\n\n      this.picks[ m ].setProp( 'xval', x );\n\n      if ( this.options.autoPeakPickingFormat ) {\n        this.picks[ m ].setLabelText(\n          this.options.autoPeakPickingFormat.call( this.picks[ m ], x, m )\n        );\n      } else {\n        this.picks[ m ].setLabelText( String( Math.round( x * 1000 ) / 1000 ) );\n      }\n\n      this.picks[ m ].makeLabels();\n\n      m++;\n      while ( this.picks[ m ] && this.picks[ m ].isSelected() ) {\n        m++;\n      }\n\n      if ( passed.length == this.options.autoPeakPickingNb ) {\n        break;\n      }\n    }\n  }\n\n  /**\n   * Hides the automatic peak picking (see the autoPeakPicking option)\n   * @memberof SerieLine\n   */\n  hidePeakPicking( lock ) {\n    if ( !this._hidePeakPickingLocked ) {\n      this._hidePeakPickingLocked = lock;\n    }\n\n    if ( !this.picks ) {\n      return;\n    }\n    for ( var i = 0; i < this.picks.length; i++ ) {\n      this.picks[ i ].hide();\n    }\n  }\n\n  /**\n   * Shows the automatic peak picking (see the autoPeakPicking option)\n   * @memberof SerieLine\n   */\n  showPeakPicking( unlock ) {\n    if ( this._hidePeakPickingLocked && !unlock ) {\n      return;\n    }\n\n    if ( !this.picks ) {\n      return;\n    }\n\n    for ( var i = 0; i < this.picks.length; i++ ) {\n      this.picks[ i ].show();\n    }\n  }\n\n  killPeakPicking() {\n    if ( this.picks ) {\n      for ( var i = 0, l = this.picks.length; i < l; i++ ) {\n        this.picks[ i ].kill();\n      }\n    }\n  }\n\n  getSerie() {\n    return this.serie;\n  }\n}\n\nexport default PluginPeakPicking;","import Graph from './graph.core.js';\nimport GraphPosition from './graph.position.js';\nimport GraphLegend from './graph.legend.js';\nimport AxisX from './graph.axis.x.js';\nimport AxisY from './graph.axis.y.js';\nimport AxisXBar from './graph.axis.x.bar.js';\nimport AxisXTime from './graph.axis.x.time.js';\nimport SerieLine from './series/graph.serie.line.js';\nimport SerieLine3D from './series/graph.serie.line.3d.js';\nimport SerieBar from './series/graph.serie.bar.js';\nimport SerieBox from './series/graph.serie.box.js';\nimport SerieLineColor from './series/graph.serie.line.colored.js';\nimport SerieScatter from './series/graph.serie.scatter.js';\nimport SerieZone from './series/graph.serie.zone.js';\nimport SerieZone3D from './series/graph.serie.zone.3d.js';\nimport SerieDensityMap from './series/graph.serie.densitymap.js';\nimport SerieContour from './series/graph.serie.contour.js';\nimport Shape from './shapes/graph.shape.js';\nimport ShapeAreaUnderCurve from './shapes/graph.shape.areaundercurve.js';\nimport ShapeArrow from './shapes/graph.shape.arrow.js';\nimport ShapeEllipse from './shapes/graph.shape.ellipse.js';\nimport ShapeLabel from './shapes/graph.shape.label.js';\nimport ShapePolyline from './shapes/graph.shape.polyline.js';\nimport ShapeLine from './shapes/graph.shape.line.js';\nimport ShapeNMRIntegral from './shapes/graph.shape.nmrintegral.js';\nimport ShapePeakIntegration2D from './shapes/graph.shape.peakintegration2d.js';\nimport ShapeRect from './shapes/graph.shape.rect.js';\nimport ShapeCross from './shapes/graph.shape.cross.js';\nimport ShapePeakBoundariesCenter from './shapes/graph.shape.peakboundariescenter.js';\nimport ShapeHTML from './shapes/graph.shape.html.js';\nimport GraphPlugin from './plugins/graph.plugin.js';\nimport GraphPluginDrag from './plugins/graph.plugin.drag.js';\nimport GraphPluginShape from './plugins/graph.plugin.shape.js';\nimport GraphPluginSelectScatter from './plugins/graph.plugin.selectScatter.js';\nimport GraphPluginZoom from './plugins/graph.plugin.zoom.js';\nimport GraphPluginTimeSerieManager from './plugins/graph.plugin.timeseriemanager.js';\nimport GraphPluginSerieLineDifference from './plugins/graph.plugin.serielinedifference.js';\nimport GraphPluginAxisSplitting from './plugins/graph.plugin.axissplitting.js';\nimport GraphPluginMakeTracesDifferent from './plugins/graph.plugin.makeTracesDifferent.js';\nimport GraphPluginPeakPicking from './plugins/graph.plugin.peakpicking.js';\nimport Waveform from './util/waveform.js';\nimport FitLM from './util/fit_lm.js';\n\n// Corrent naming is important here !\n\nGraph.registerConstructor( 'graph.position', GraphPosition );\n\nGraph.registerConstructor( 'graph.axis.x', AxisX );\nGraph.registerConstructor( 'graph.axis.y', AxisY );\nGraph.registerConstructor( 'graph.axis.x.bar', AxisXBar );\nGraph.registerConstructor( 'graph.axis.x.time', AxisXTime );\n\nGraph.registerConstructor( 'graph.serie.line', SerieLine );\nGraph.registerConstructor( 'graph.serie.line.3d', SerieLine3D );\nGraph.registerConstructor( 'graph.serie.line.color', SerieLineColor );\nGraph.registerConstructor( 'graph.serie.contour', SerieContour );\nGraph.registerConstructor( 'graph.serie.bar', SerieBar );\nGraph.registerConstructor( 'graph.serie.box', SerieBox );\nGraph.registerConstructor( 'graph.serie.scatter', SerieScatter );\nGraph.registerConstructor( 'graph.serie.zone', SerieZone );\nGraph.registerConstructor( 'graph.serie.zone.3d', SerieZone3D );\nGraph.registerConstructor( 'graph.serie.densitymap', SerieDensityMap );\n\nGraph.registerConstructor( Graph.SERIE_LINE, SerieLine );\nGraph.registerConstructor( Graph.SERIE_LINE_3D, SerieLine3D );\nGraph.registerConstructor( Graph.SERIE_LINE_COLORED, SerieLineColor );\nGraph.registerConstructor( Graph.SERIE_CONTOUR, SerieContour );\nGraph.registerConstructor( Graph.SERIE_BAR, SerieBar );\nGraph.registerConstructor( Graph.SERIE_BOX, SerieBox );\nGraph.registerConstructor( Graph.SERIE_SCATTER, SerieScatter );\nGraph.registerConstructor( Graph.SERIE_ZONE, SerieZone );\nGraph.registerConstructor( Graph.SERIE_ZONE_3D, SerieZone3D );\nGraph.registerConstructor( Graph.SERIE_DENSITYMAP, SerieDensityMap );\n\n//Graph.registerConstructor( \"graph.serie.line.broken\", GraphSerieLineBroken );\n\nGraph.registerConstructor( 'graph.plugin.shape', GraphPluginShape );\nGraph.registerConstructor( 'graph.plugin.drag', GraphPluginDrag );\nGraph.registerConstructor( 'graph.plugin.zoom', GraphPluginZoom );\nGraph.registerConstructor( 'graph.plugin.selectScatter', GraphPluginSelectScatter );\nGraph.registerConstructor( 'graph.plugin.timeSerieManager', GraphPluginTimeSerieManager );\nGraph.registerConstructor( 'graph.plugin.serielinedifference', GraphPluginSerieLineDifference );\nGraph.registerConstructor( 'graph.plugin.serieLineDifference', GraphPluginSerieLineDifference );\nGraph.registerConstructor( 'graph.plugin.axissplitting', GraphPluginAxisSplitting );\nGraph.registerConstructor( 'graph.plugin.makeTracesDifferent', GraphPluginMakeTracesDifferent );\nGraph.registerConstructor( 'graph.plugin.peakPicking', GraphPluginPeakPicking );\n\nGraph.registerConstructor( 'graph.shape', Shape );\nGraph.registerConstructor( 'graph.shape.areaundercurve', ShapeAreaUnderCurve );\nGraph.registerConstructor( 'graph.shape.arrow', ShapeArrow );\nGraph.registerConstructor( 'graph.shape.ellipse', ShapeEllipse );\nGraph.registerConstructor( 'graph.shape.label', ShapeLabel );\nGraph.registerConstructor( 'graph.shape.polyline', ShapePolyline );\nGraph.registerConstructor( 'graph.shape.line', ShapeLine );\nGraph.registerConstructor( 'graph.shape.nmrintegral', ShapeNMRIntegral );\nGraph.registerConstructor( 'graph.shape.html', ShapeHTML );\nGraph.registerConstructor( 'graph.shape.peakintegration2d', ShapePeakIntegration2D );\n//  Graph.registerConstructor( \"graph.shape.peakinterval\", GraphShapePeakInterval );\n//  Graph.registerConstructor( \"graph.shape.peakinterval2\", GraphShapePeakInterval2 );\n//  Graph.registerConstructor( \"graph.shape.rangex\", GraphShapeRangeX );\nGraph.registerConstructor( 'graph.shape.rect', ShapeRect );\nGraph.registerConstructor( 'graph.shape.rectangle', ShapeRect );\nGraph.registerConstructor( 'graph.shape.cross', ShapeCross );\n//Graph.registerConstructor( \"graph.shape.zoom2d\", GraphShapeZoom2D );\nGraph.registerConstructor( 'graph.shape.peakboundariescenter', ShapePeakBoundariesCenter );\n\n//   Graph.registerConstructor( \"graph.toolbar\", GraphToolbar );\nGraph.registerConstructor( 'graph.legend', GraphLegend );\nGraph.registerConstructor( 'graph.waveform', Waveform );\n\nexport default Graph;"],"names":["_parsePx","px","indexOf","parseInt","replace","isNumeric","n","isNaN","parseFloat","isFinite","Position","constructor","x","y","dx","dy","duplicate","compute","graph","xAxis","yAxis","serie","hasXAxis","hasYAxis","throw","_compute","relativeTo","_relativeTo","relativeToComputed","parsed","pos","getXAxis","getYAxis","i","axis","val","dval","undefined","console","warn","closest","searchClosestValue","Error","getName","getY","yClosest","error","getPx","def","yMin","_parsePercent","_getPositionPx","getRelPx","value","getDrawingWidth","getDrawingHeight","getPos","percent","getDeltaPx","v","deltaPosition","mode","delta","ref","refd","refPx","deltaPx","getValPosition","getRelVal","rel","getMaxValue","getMinValue","getMinPx","getMaxPx","getPxRel","check","callback","posObject","position","setAttributeTo","to","params","ns","setAttributeNS","setAttribute","mapEventEmission","options","source","eventName","substring","toLowerCase","on","j","apply","arguments","guid","c","r","Math","random","toString","throwError","message","obj","Array","isArray","hue2rgb","p","q","t","hslToRgb","h","s","l","g","b","round","saveDomAttributes","attributes","identification","_savedAttributesIds","restoreDomAttributes","_savedAttributes","_attributes","push","getAttribute","hasSavedAttribute","dom","attr","overwriteDomAttribute","attribute","newValue","splice","attrs","length","debounce","func","wait","immediate","timeout","context","args","later","callNow","clearTimeout","setTimeout","SVGParser","svgString","parser","DOMParser","doc","parseFromString","getOffset","el","rect","getBoundingClientRect","top","left","setCSS","element","values","style","ajaxGet","Promise","resolve","reject","request","XMLHttpRequest","open","type","url","json","setRequestHeader","onload","status","response","responseText","JSON","parse","onerror","send","hasOwn","Object","prototype","hasOwnProperty","toStr","arr","call","isPlainObject","hasOwnConstructor","hasIsPrototypeOf","key","extend","name","src","copy","copyIsArray","clone","target","deep","mix","baseClass","mixin","prop","emptyDom","firstChild","removeChild","EventEmitter","proto","indexOfListener","listeners","listener","alias","aliasClosure","getListeners","evt","events","_getEvents","RegExp","test","flattenListeners","flatListeners","getListenersAsObject","addListener","listenerIsWrapped","once","addOnceListener","defineEvent","defineEvents","evts","removeListener","index","off","addListeners","manipulateListeners","removeListeners","remove","single","multiple","removeEvent","_events","removeAllListeners","emitEvent","_getOnceReturnValue","trigger","emit","slice","setOnceReturnValue","_onceReturnValue","FitHost","DELTAP","BIGVAL","WEIGHT","setYData","dataY","setXData","dataX","setWeight","weight","setInitialParams","subsetIndex","setSubset","setFunction","function","progress","hookIteration","data","parms","map","NPARMS","fromIndex","toIndex","_from","_to","f","_hookIteration","buildFit","_func","init","NPTS","getLength","arrY","getDataY","arrX","getDataX","resid","fill","jac","fit","log","join","LM","_result","done","param","computeResiduals","sumsq","nudge","dp","buildJacobian","FACTOR","d","k","getResidualElement","getJacobianElement","xmin","getMin","xmax","getMax","waveformResult","waveform","setData","gH","gnadj","gnpnts","hook","LMITER","LMBOOST","LMSHRINK","LAMBDAZERO","LAMBDAMAX","LMTOL","sos","sosprev","lambda","myH","nadj","npts","beta","alpha","amatrix","niter","bLMiter","rrise","gaussj","a","N","det","big","save","L","ik","jk","abs","Waveform","xOffset","xScale","errors","nb","bars","above","below","boxes","BELOW","ABOVE","BOX","BAR","forEach","setXWaveform","newData","_makeArray","warnNaN","nanable","isNaNAllowed","_setData","optimized","dataInUse","getScale","getShift","xdata","computeXMinMax","hasXWaveform","getXWaveform","wave","append","getX","rescaleX","offset","scale","getTypedArrayClass","_typedArrayClass","setTypedArrayClass","isUnsigned","from","Float32Array","Float64Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","recalculateMinMaxNewPoint","minX","maxX","minY","maxY","prepend","unshift","monotoneous","getMonotoneousAscending","_monotoneousAscending","monoDir","Number","MAX_VALUE","_monotoneous","min","max","hasErrorBars","getMaxError","b1","b2","getDataInUse","getIndexFromVal","useDataToUse","roundingMethod","getIndexFromData","dataInUseType","getIndexFromX","xval","getData","getIndexFromXY","yval","scaleX","scaleY","ydata","isXMonotoneous","getXMin","getXMax","getIndexFromDataXY","valX","valY","getXShift","getXScale","euclidianSearch","valCollection","isAscending","isMonotoneous","trace","binarySearch","getReductionType","getYMin","getYMax","getMinX","getMaxX","getMinY","getMaxY","getDataMaxX","getDataMinX","getDataMaxY","setShift","shift","setScale","setXShift","setXScale","getDataToUseFlat","self","resolver","rejector","FitLM","util","results","getXRaw","_integrateP","temp","sum","deltaTot","diff","integrateP","integrate","fromX","toX","average","p0","p1","getAverageP","mean","getAverageX","_integrateX","checkMonotonicity","dir","requireXMonotonicity","requireMonotonicity","invert","reverse","resampleForDisplay","inverting","dataMinMax","resampleSum","resampleMin","resampleMax","resampleNum","resample_x_start","resample_x_px_start","x_px","doing_mean","firstPointIndex","xPosition","resampleToPx","xpos","interpolate","yData","xIndex","xData","e","NaN","xIndexF","floor","interpolateIndex_X","indexStart","getXMonotoneousAscending","isXMonotoneousAscending","divide","numberOrWave","_arithmetic","DIVIDE","divideBy","multiply","MULTIPLY","multiplyBy","logBase","ln","E","base","add","ADD","addBy","subtract","SUBTRACT","subtractBy","math","method","operator","_waveArithmetic","_numberArithmetic","num","operation","yDataThis","aggregate","direction","_dataAggregating","_dataAggregated","_dataAggregationDirection","toUpperCase","pow2","pow2floor","aggregator","numPoints","then","event","aggregates","hasAggregation","selectAggregatedData","pxWidth","level","pow2ceil","alsoDuplicateXWave","newWaveform","xShift","subrangeX","fromP","toP","findLocalMinMax","xRef","xWithin","indexPlus","indexMinus","findLocalMinMaxIndex","tmp","curr","currI","NEGATIVE_INFINITY","POSITIVE_INFINITY","text","setUnit","unit","setXUnit","xunit","getUnit","getXUnit","hasXUnit","hasUnit","findLevels","box","edge","rounding","rangeP","lastLvlIndex","lvlIndex","indices","findLevel","ceil","rangeX","increment","getIndexInterpolate","normalize","factor","total","minValue","maxValue","ratio","setErrorBarX","xWave","setErrorBar","setErrorBarXBelow","setErrorBarBelow","setErrorBarXAbove","setErrorBarAbove","setErrorBoxX","setErrorBoxAbove","setErrorBoxBelow","setErrorBoxXBelow","setErrorBoxXAbove","checkMinMax","bottom","setErrorBox","side","getMaxErrorType","stack","getErrorBarXBelow","getErrorX","getErrorBarXAbove","getErrorBoxXBelow","getErrorBoxXAbove","getErrorBarYBelow","getError","getErrorBarYAbove","getErrorBoxYBelow","getErrorBoxYAbove","Symbol","valueBefore","valueAfter","indexBefore","indexAfter","targetX","targetY","haystackX","haystackY","distance","distance_i","haystack","seedA","seedB","seedInt","nanDirection","GraphOptionsDefault","title","paddingTop","paddingBottom","paddingLeft","paddingRight","close","right","closeColor","fontSize","fontFamily","plugins","pluginAction","mouseActions","keyActions","wheel","dblclick","shapesUnselectOnClick","shapesUniqueSelection","defaultScatterStyle","shape","_constructors","Map","Graph","wrapper","_creation","_drawn","HTMLElement","document","getElementById","doDom","bind","setWrapper","prevented","shapes","shapesLocked","plugin","selectedShapes","series","_axesHaveChanged","padding","currentAction","nsxlink","getTopAxis","getLeftAxis","getRightAxis","getBottomAxis","_pluginsInit","appendChild","outline","height","width","wrapperStyle","getComputedStyle","w","setSize","_resize","_registerEvents","getDom","getId","getWrapper","setOption","setTitle","domTitle","textContent","displayTitle","hideTitle","hide","display","show","redraw","onlyIfAxesHaveChanged","force","sizeSet","executeRedrawSlaves","haveAxesChanged","hasSizeChanged","refreshDrawingZone","_pluginsExecute","draw","drawn","updateLegend","drawSeries","delayUpdate","_lockUpdate","doUpdate","legend","update","resumeUpdate","isDelayedUpdate","setWidth","skipResize","setHeight","resize","getWidth","getHeight","getPaddingTop","getPaddingLeft","getPaddingBottom","getPaddingRight","useCache","innerHeight","innerWidth","cacheOffset","offsetCached","uncacheOffset","_getAxis","setXAxis","setBottomAxis","setYAxis","setLeftAxis","kill","setRightAxis","setTopAxis","killAxis","noRedraw","noSerieKill","isX","isY","axisGroup","group","groupPrimaryGrids","gridPrimary","groupSecondaryGrids","gridSecondary","hasTopAxis","hasBottomAxis","hasLeftAxis","hasRightAxis","hasAxis","axisList","autoscaleAxes","_applyToAxes","autoscale","autoScale","autoScaleAxes","autoScaleAxis","setMinMaxToFitSeries","setBackgroundColor","color","rectEvent","getAxisState","state","getCurrentMin","getCurrentMax","setAxisState","setCurrentMin","setCurrentMax","saveAxisState","savedName","savedAxisState","recallAxisState","_applyToAxis","getBoundaryAxis","minmax","usingZValues","valSeries","getBoundaryAxisFromSeries","func2use","infinity2use","Infinity","serieValue","getSeriesFromAxis","isShown","updateDataMinMaxAxes","axisvars","setMaxValueData","setMinValueData","tb","lr","ax","findAxesLinkedTo","axes","linkedToAxis","getConstructor","_axisHasChanged","newSerie","SERIE_LINE","getSerie","makeSerie","postInit","getSeries","allSeries","types","filter","include","getType","drawSerie","resetSeries","removeSeries","killSeries","selectSerie","selectName","selectedSerie","selectionType","unselectSerie","triggerEvent","select","getSelectedSerie","unselect","getShapesOfSerie","makeToolbar","toolbarData","toolbar","getShapes","newShape","shapeType","shapeData","mute","shapeProperties","prevent","_id","_data","properties","setProperties","props","setProp","setPosition","GraphPosition","fillColor","setFillColor","fillOpacity","setFillOpacity","strokeColor","setStrokeColor","strokeWidth","setStrokeWidth","layer","setLayer","locked","lock","movable","selectable","resizable","handles","selectOnMouseDown","selectOnClick","transforms","addTransform","highlightOnMouseOver","labelEditable","labels","label","showLabel","setLabelText","setLabelPosition","setLabelColor","setLabelSize","size","setLabelAngle","angle","setLabelBaseline","baseline","setLabelAnchor","anchor","setLabelBackgroundColor","backgroundColor","setLabelBackgroundOpacity","backgroundOpacity","setSerie","createHandles","applyStyle","newPosition","varArgs","redrawShapes","removeShapes","selectShape","isSelectable","unselectShapes","_select","getSelectedShapes","unselectShape","cancelUnselectShape","_unselect","_removeShape","appendShapeToDom","isHTML","insertBefore","_dom","getLayer","removeShapeFromDom","appendSerieToDom","groupMain","removeSerieFromDom","layers","createElementNS","prevLayer","plotGroup","nextSibling","focus","elementMoving","movingElement","bypassHandleMouse","stopElementMoving","_makeClosingLines","closingLines","els","line","graphingZone","isActionAllowed","action","enabled","keyCode","keyCheck","ctrl","meta","alt","shiftKey","ctrlKey","metaKey","altKey","forcePlugin","forcedPlugin","unforcePlugin","funcName","_pluginExecute","which","pluginYieldActiveState","activePlugin","_serieExecute","pluginName","pluginOptions","getPlugin","hasPlugin","makeLegend","onlyIfRequired","getLegend","requireLegendUpdate","requireDelayedUpdate","orthogonalProjectionSetup","zAxis","maxZ","minZ","shiftX","shiftY","orthogonalProjectionUpdate","groupGrids","refAxisX","refAxisY","x0","y0","getZProj","sort","getZPos","sa","sb","_removeSerie","contextListen","menuElements","onContextMenuListen","lockShapes","moving","resizing","unlockShapes","arg","_getXY","clientX","clientY","_sizeChanged","updateGraphingZone","getDrawingSpaceWidth","drawingSpaceWidth","getDrawingSpaceHeight","drawingSpaceHeight","getDrawingSpaceMinX","drawingSpaceMinX","getDrawingSpaceMinY","drawingSpaceMinY","getDrawingSpaceMaxX","drawingSpaceMaxX","getDrawingSpaceMaxY","drawingSpaceMaxY","trackingLine","enable","sOptions","addSerieToTrackingLine","disableTracking","noLine","trackingObject","stroke","trackingLineShapeOptions","serieO","assign","enableTracking","getPosition","trueX","_trackingLegend","_trackingLegendSerie","textMethod","output","valueToHtml","yValue","trackingShape","setKatexRenderer","renderer","_katexRenderer","hasKatexRenderer","renderWithKatex","katexValue","katexElement","div","createElement","fromJSON","schema","schemaAxis","axisOptions","labelValue","unitWrapperAfter","unitWrapperBefore","forcedMin","forcedMax","flip","flipped","_jsGraphIndex","schemaSerie","serieType","serieOptions","serieAxis","SERIE_LINE_COLORED","SERIE_SCATTER","SERIE_BOX","orientation","id","lineStyle","unselected","entries","styleName","styleSerie","lineWidth","lineColor","setStyle","defaultStyle","defaultStyles","styles","individualStyles","styleNames","Set","keys","concat","eachStyleElement","zoom","points","setMarkers","setColors","errorBarsXAbove","errorBarsXBelow","errorBarsYAbove","errorBarsYBelow","errorBoxesXAbove","errorBoxesXBelow","errorBoxesYAbove","errorBoxesYBelow","errorX","errorBarX","errorBoxX","errorY","errorBarY","errorBoxY","setErrorBarStyle","setErrorBoxStyle","autoAxis","setWaveform","exportToSchema","axesPositions","axesExport","allaxes","axisPosition","seriesExport","toType","SERIE_BAR","exportData","isFlipped","linestyle","stylename","styleObj","markers","getLabel","registerConstructor","constructorName","has","set","softFail","get","getAxisLevelFromSpan","span","possible","m","levels","_painted","hideGroup","showGroup","floating","getSpan","setLevel","getAxisPosition","shiftTop","reduce","prev","shiftBottom","current","getLevel","setMinPx","setMaxPx","shift2","equalizePosition","shiftLeft","shiftRight","floatingAxis","getFloatingAxis","floatingValue","getFloatingValue","floatingPx","_closeLine","clipRect","drawLines","_handleKey","checkKeyActions","parameters","methodName","keyComb","preventDefault","stopPropagation","removeSelectedShape","keepInDom","defs","groupEvent","clip","markerArrow","pathArrow","markerHorizontalSplit","path","markerVerticalSplit","vertLineArrow","pathVertLine","addEventListener","coords","_handleMouseMove","_handleMouseLeave","_handleMouseDown","_handleMouseUp","_handleDblClick","_handleClick","deltaY","wheelDeltaY","wheelDelta","_handleMouseWheel","checkMouseActions","handleMouseMove","snapToSerie","xClosest","withinPx","withinVal","onMouseMoveData","executed","xValue","justCreated","_makeTrackingLegend","getVal","serieShape","rx","getLineWidth","ry","getLineColor","forceParentDom","onCreated","onChanged","magnet","magnetOptions","within","minmaxpos","forceTrackingLegendMode","_trackingLegendMove","txt","innerHTML","toY","skip","start","Date","now","offsetHeight","startX","marginLeft","startY","marginTop","offsetWidth","next","window","requestAnimationFrame","borderRadius","boxShadow","border","pointerEvents","pref","handleMouseUp","jsGraphIsShape","inst","_availableAxes","time","bar","axisInstance","broken","x1","x2","y1","y2","isDisplayed","coordX","coordY","handleMouseLeave","SERIE_CONTOUR","SERIE_ZONE","SERIE_DENSITYMAP","SERIE_LINE_3D","SERIE_ZONE_3D","TICKS_OUTSIDE","TICKS_INSIDE","TICKS_CENTERED","legendDefaults","frame","frameWidth","frameColor","frameRounding","shapesToggleable","isSerieHideable","isSerieSelectable","Legend","svg","subG","groups","rectBottom","transformX","transformY","setEvents","eyeId","eyeCrossedId","eyeClosed","eye","adoptNode","documentElement","alignToX","alignToY","setDraggable","bln","setAutoPosition","autoPosition","buildLegendBox","posX","posY","excludedFromLegend","bbox","getBBox","cursor","calculatePosition","poscoords","_setPosition","_requiredUpdate","hasChildNodes","lastChild","fullWidth","getSymbolForLegend","marker","getMarkerForLegend","getTextForLegend","isHideable","eyeUse","hideShapesOnHideSerie","isSelected","notHideable","hideable","seriesHideable","isToggleShapes","mousedown","mousemove","deltaX","fixSeries","fixSeriesAdd","svgElement","defaults","lineAt","axisDataSpacing","unitModification","primaryGrid","secondaryGrid","primaryGridColor","secondaryGridColor","primaryGridWidth","secondaryGridWidth","hideWhenNoSeriesShown","shiftToZero","tickPosition","nbTicksPrimary","nbTicksSecondary","ticklabelratio","exponentialFactor","exponentialLabelFactor","logScale","marginMin","marginMax","scientificScale","scientificScaleExponent","engineeringScale","unitInTicks","splitMarks","tickLabelOffset","useKatexForLabel","highestMax","lowestMin","Axis","overwriteoptions","unitModificationTimeTicks","hasChanged","_lines","groupTicks","groupTickLabels","labelTspan","preunit","unitTspan","expTspan","expTspanExp","setTickPosition","gridLinePath","primary","secondary","setGridLinesStyle","groupSeries","widthHeightTick","ticks","ticksLabels","tickScaling","currentTick","lastCurrentTick","totalDelta","handleMouseMoveLocal","addLabel","setDisplay","bool","accumulator","_hidden","setLineAt","atValues","adaptTo","thisValue","foreignValue","preference","adapt","foreign","currentAxisMin","currentAxisMax","_zoomed","getInterval","use","setFloating","setAxisDataSpacing","val1","val2","dataSpacing","setAxisDataSpacingMin","setAxisDataSpacingMax","minPx","setMinMaxFlipped","maxPx","minPxFlipped","maxPxFlipped","getMathMaxPx","getMathMinPx","dataMin","dataMax","getDataMax","getDataMin","setLowestMin","forceMin","noRescale","setHighestMax","forceMax","getForcedMin","getForcedMax","forceToAxis","getNbTicksPrimary","setNbTicksPrimary","getNbTicksSecondary","setNbTicksSecondary","mouseVal","handleMouseWheel","_doZoomVal","zoomLock","_zoomLocked","forceLock","_doZoom","px1","px2","cacheCurrentMin","cacheCurrentMax","cacheInterval","_hasChanged","getSerieShift","_serieShift","getSerieScale","_serieScale","getMouseVal","getUnitPerTick","nbTick","valrange","pxPerTick","nbTicks","unitPerTick","breaked","unitPerTickCorrect","decimals","numberToNatural","pow","possibleTicks","noNotify","interval","cache","getCurrentInterval","cachedInterval","cachedCurrentMin","cachedCurrentMax","_draw","widthPx","scientificExponent","letter","unitDecade","getEngineeringExponent","getExponentGreekLetter","writeUnit","string","preunitTspan","hideTicks","resetTicksLength","widthHeight","drawLinkedToAxisTicksWrapper","drawLinearTicksWrapper","drawLogTicks","removeUselessTicks","removeUselessTickLabels","_drawLine","_hideLine","tickPrimaryUnit","primaryTickUnit","maxPrimaryTickUnit","minPrimaryTickUnit","drawTicks","secondaryTicks","forcePrimaryTickUnit","primaryInterval","forcePrimaryTickUnitMax","forcePrimaryTickUnitMin","getPrimaryTickUnit","incrTick","setTickLabelRatio","tickRatio","doesHideWhenNoSeriesShown","_widthLabels","secondaryIncr","subIncrTick","loop","loop2","drawTickWrapper","getMaxSizeTick","nextTick","tick","nextTickLabel","lastCurrentTickLabel","currentTickLabel","tickLabel","nextGridLine","setGridLineStyle","gridLine","getPrimaryGridColor","getSecondaryGridColor","getPrimaryGridWidth","getSecondaryGridWidth","getPrimaryGridOpacity","getSecondaryGridOpacity","dasharray","getPrimaryGridDasharray","getSecondaryGridDasharray","incr","optsMain","exponential","overwrite","drawTick","linkToAxis","scalingFunction","opts","delta2","String","getRoundedPx","exp","valueToText","toFixed","getExponentialFactor","getExponentialLabelFactor","modifyUnit","dec","noScaling","noUnits","getModifiedValue","umin","units","valueRounded","setExponentialFactor","setExponentialLabelFactor","setLabel","setLabelFont","font","labelFont","setSpan","_level","tickPx1","tickPx2","setGrids","setPrimaryGrid","setSecondaryGrid","primaryGridOn","primaryGridOff","secondaryGridOn","secondaryGridOff","gridsOn","gridsOff","turnGridsOff","turnGridsOn","setColor","axisColor","primaryTicksColor","secondaryTicksColor","ticksLabelColor","labelColor","setAxisColor","getAxisColor","setTickLabelOffset","offsetValue","setPrimaryTicksColor","getPrimaryTicksColor","setSecondaryTicksColor","getSecondaryTicksColor","setTicksLabelColor","getTicksLabelColor","setPrimaryGridColor","setSecondaryGridColor","setPrimaryGridWidth","setSecondaryGridWidth","setPrimaryGridOpacity","opacity","primaryGridOpacity","setSecondaryGridOpacity","secondaryGridOpacity","setPrimaryGridDasharray","primaryGridDasharray","setSecondaryGridDasharray","secondaryGridDasharray","getLabelColor","setTickContent","tspan","setUnitInTicks","setUnitWrapper","before","after","setUnitDecade","setScientific","setScientificScaleExponent","setEngineering","engineeringScaling","setLogScale","isZoomed","getValue","AxisX","topbottom","forcedPos","dominantBaseline","drawLabel","tickWidth","drawSpecifics","zValue","AxisY","leftright","setAxisPosition","shiftPosition","getAdditionalWidth","tickMargin","longestTick","getComputedTextLength","fullwidthlabel","placeLabel","xshift","isLeft","isRight","scaleToFitAxis","excludeSerie","end","maxV","minV","AxisXBar","categories","_barCategories","elements","autoSeries","setSeries","setCategoryConfig","_getUsedCategories","usedCategories","getUsedCategories","cat","dispatchedCategories","scategories","setDataIndices","axisFormat","threshold","increments","format","dateFormat","token","timezone","timezoneClip","pad","len","getWeek","onejan","date","mask","utc","dF","SyntaxError","masks","default","_","D","H","M","o","getTimezoneOffset","flags","dd","ddd","i18n","dayNames","dddd","mm","mmm","monthNames","mmmm","yy","yyyy","hh","HH","MM","ss","tt","T","TT","Z","match","pop","S","W","$0","shortDate","mediumDate","longDate","fullDate","shortTime","mediumTime","longTime","isoDate","isoTime","isoDateTime","isoUtcDateTime","getClosestIncrement","basis","roundDate","setSeconds","getSeconds","setMilliseconds","setMinutes","getMinutes","setHours","getHours","setDate","getDate","setMonth","getMonth","incrementDate","setFullYear","getFullYear","getGroup","number","line1","line2","cloneNode","hideGroups","getDateText","renderGroup","x1B","x2B","substr","GraphTimeAxis","widthTime","timePerPx","maxVal","minVal","currentFormat","xVal1","xVal2","dateFirst","currentDate","getTime","ErrorBarMixin","makeBarY","origin","makeBoxY","makeBarX","makeBoxX","errorstyle","errorbarStyle","_setErrorStyle","errorboxStyle","errorstyles","pairs","makePath","strokeOpacity","all","errorDrawInit","paths","errorAddPoint","xpx","ypx","errorAddPointBarChart","doErrorDraw","errorDraw","Serie","redrawShapesAfterDraw","beforeDraw","afterDraw","oneDimensional","_addData","howmany","clearData","setOptions","noLegendUpdate","hideShapes","hidden","hideImpl","hidePeakPicking","showShapes","showImpl","showPeakPicking","toggleDisplay","axisCheck","selected","_checkX","_checkY","autoAxes","xaxis","yaxis","setAxes","getWaveform","getWaveforms","dataHasChanged","lineForLegend","applyLineStyle","setLegendSymbolStyle","updateStyle","textForLegend","getIndex","setFlip","getFlip","layerIndex","newLayer","styleHasChanged","_changedStyles","hasStyleChanged","_dataHasChanged","hasDataChanged","setInfo","infos","getInfo","setAdditionalData","additionalData","getAdditionalData","hoverCallback","outCallback","_tracker","_trackingCallback","_trackingOutCallback","_trackerDom","allowTrackingLine","_type","_excludedFromLegend","categoryIndices","nbCategories","hasErrors","SerieLine","trackMouse","trackMouseLabel","trackMouseLabelRouding","lineToZero","selectableOnClick","markersIndependant","overflowX","overflowY","markerFamilies","markersDom","shown","_isMinOrMax","groupLines","domMarker","markerLabel","markerLabelSquare","domMarkerHover","domMarkerSelect","markerHovered","groupMarkerSelected","markerPoints","lines","groupMarkers","independantMarkers","initExtended1","extendStyles","applyLineStyles","onMouseOverMarker","toggledOn","toggleMarker","onMouseOutMarker","markersOffHover","hover","_on","setMarkerStyleTo","getMarkerCurrentFamily","getMarkerPath","split","markersOffSelect","onClickOnMarker","onSelectMarker","onUnselectMarker","onToggleMarker","_getMarkerIndexFromEvent","searchIndexByPxXY","onMouseWheel","empty","areMarkersShown","degrade","pxPerP","degradationPx","drawInit","currentLineId","counter","currentLine","_dataToUse","numberOfPointsInTotal","promise","_xDataToUse","removeLinesGroup","_afterLinesGroup","insertLinesGroup","removeExtraLines","slotToUse","_slotToUse","eraseMarkers","lookForMaxima","lookForMinima","markerFamily","pos0","insertMarkers","lastX","lastY","xpx2","ypx2","xMin","xMax","yMax","yLeftCrossingRatio","yLeftCrossing","yRightCrossingRatio","yRightCrossing","xTopCrossingRatio","xTopCrossing","xBottomCrossingRatio","xBottomCrossing","yshift","yscale","pointOutside","lastPointOutside","pointOnAxis","_markersShown","markersShown","_createLine","counter2","_addPoint","cloned","children","ret","family","z","markerCurrentFamily","getMarkerDom","hideTrackingMarker","move","allowMarker","drawMarkerXY","getLineDashArray","removeAttribute","getMarkerDomIndependent","oldDist","xyindex","dist","p_x","p_y","indexX","returnObj","indexMin","indexMax","indexClosest","xExact","doMarker","intY","xBefore","xAfter","yBefore","yAfter","interpolatedY","start2","end2","v1","v2","initJ","maxJ","dataIndex","xBeforeIndexArr","setLineStyle","applyToSelected","getLineStyle","getStyle","extendStyle","styleTarget","styleOrigin","_recalculateMarkerPoints","setLineWidth","setLineColor","showMarkers","hideMarkers","isMarkersShown","families","setMarkersPoints","_extendMarkers","setMarkersColor","setMarkersType","setMarkersZoom","setMarkersStrokeColor","setMarkersStrokeWidth","setMarkersFillColor","recalculatePoints","markerPath","currentMarkersSelectionType","markerForLegend","parentNode","xmonotoneous","markerDom","Serie3DMixin","zpos","useZValues","getZCorrectedValue","valFinal","wf","SerieLine3D","setZPos","zPos","setz","SerieBar","pathDom","MAX_SAFE_INTEGER","MIN_SAFE_INTEGER","getFillColor","getFillOpacity","SerieBox","maxBoxWidth","meanLineColor","meanLineWidth","boxAboveLineWidth","boxAboveLineColor","boxAboveFillColor","boxAboveFillOpacity","boxBelowLineWidth","boxBelowLineColor","boxBelowFillColor","boxBelowFillOpacity","barAboveLineColor","barAboveLineWidth","barBelowLineColor","barBelowLineWidth","outlierLineWidth","outlierLineColor","outlierFillColor","outlierFillOpacity","axisref","axisval","methodref","methodval","blnX","Q2","Q3","Q1","whiskers","outliers","_style","styleValue","_set","_gstyle","setMeanLineColor","getMeanLineColor","setMeanLineWidth","getMeanLineWidth","setBoxAboveLineColor","getBoxAboveLineColor","setBoxBelowLineColor","getBoxBelowLineColor","setBoxAboveLineWidth","getBoxAboveLineWidth","setBoxBelowLineWidth","getBoxBelowLineWidth","setBoxAboveFillColor","getBoxAboveFillColor","setBoxBelowFillColor","getBoxBelowFillColor","setBoxAboveFillOpacity","getBoxAboveFillOpacity","setBoxBelowFillOpacity","getBoxBelowFillOpacity","setBarAboveLineColor","getBarAboveLineColor","setBarBelowLineColor","getBarBelowLineColor","setBarAboveLineWidth","getBarAboveLineWidth","setBarBelowLineWidth","getBarBelowLineWidth","setOutlierLineColor","getOutlierLineColor","setOutlierLineWidth","getOutlierLineWidth","setOutlierFillColor","getOutlierFillColor","setOutlierFillOpacity","getOutlierFillOpacity","axis2","boxOtherDimension","boxAbove","boxBelow","barAbove","barBelow","useCategories","_linkedToScatterSeries","scatter_serie","lineMean","applyMeanStyle","rectAbove","rectBelow","boxPos","applyBoxStyle","whiskerAbove","whiskerBelow","outliervalue","outlier","setOutlierStyle","applyWhiskerStyle","getCategoryIndex","extremity","xymode","scatter_serie_cat","linkToScatterSerie","SerieLineColor","colors","toBreak","eraseLines","incrXFlip","latchLines","xpxbefore","ypxbefore","xbefore","ybefore","_rgb","object","SerieScatter","shapesDetails","groupPoints","selectedStyleGeneral","selectedStyleModifiers","parentElement","MIN_VALUE","cx","cy","setDataCategory","dataCategory","symbol","doShape","modifiers","isCategory","extraStyle","stdStylePerso","stdStyle","selection","noSetPosition","modifier","styleAll","unselectPoint","selectPoint","setOn","selectPoints","selectionStyle","allStyles","SerieZone","groupZones","lineZone","clipId","waveforms","setWaveforms","setMinMaxWaveforms","buffer","xminpx","xmaxpx","yminpx","ymaxpx","ymin","ymax","getLineOpacity","setLineOpacity","lineOpacity","SerieZone3D","SerieDensityMap","rects","recalculateBinsOnDraw","calculateDensity","numX","fromY","numY","densitymap","indexY","binMin","binMax","maxIndexX","maxIndexY","setDensityMap","calculateDensityWeighted","compX","compY","exactX","exactY","indexXLow","indexXHigh","indexYLow","indexYHigh","autoBins","setPxPerBin","pxPerBinX","pxPerBinY","weightedDensityMap","calculationDensityMap","pxPerBin","weighted","setBinsFromTo","densityMapCalculation","numBins","calculateDensityAdvanced","weighing","widthValues","axisGetter","dimension","densityMapCalculate","setColorMapBinBoundaries","_internal","colorMapMin","colorMapMax","callbackColorMapMinMax","autoColorMapBinBoundaries","onRedrawColorMapBinBoundaries","colorMapHSL","colorStops","numColors","methods","colorMap","opacities","first","slices","colorMapNum","autoColorMapHSL","getColorIndex","binValue","colorIndex","deltaXPx","deltaYPx","drawRects","SerieContour","negativeDelta","positiveDelta","negativeThreshold","positiveThreshold","datas","segments","domLine","zValues","incrYFlip","lastxpx","setColorTo","fixed","positive","hasNegative","_shapeZoom","hideHandleNeg","setHandleNeg","showHandleNeg","setHandlePos","setDynamicColor","lineColors","setNegative","hsl","fromPositive","toPositive","fromNegative","toNegative","rgb","overwriteValue","setShapeZoom","Shape","_selected","createDom","classes","masker","maskPath","maskingId","maskDomWrapper","maskDom","handleMouseOver","handleMouseOut","handleMouseDown","handleClick","handleDblClick","initImpl","keepDom","_inDom","isHidden","isVisible","addClass","className","makeClasses","removeClass","changed","setEventReceptacle","getProp","preventRedraw","appendToDom","makeLabels","applyPosition","redrawImpl","updateLabels","_applyTransforms","getRelativePosition","relativePosition","result","exec","getLabelPosition","getProperties","getProps","addProp","resetProp","setDom","noForce","setDomGroup","overwriteSavedProp","applySelectedStyle","getStrokeColor","getStrokeWidth","setStrokeDasharray","setAttributes","addAttribute","attributeName","attributeValue","added","resetTransforms","setLabelData","getLabelText","displayLabel","hideLabel","setLabelFontSize","setLabelStrokeColor","setLabelStrokeWidth","applyGenericStyle","sortPositions","sortFunction","transformString","transform","computePosition","_labels","_labelsBackground","bg","labelDblClickListener","isLabelEditable","labelIndex","_applyLabelData","visible","currAngle","labelData","_getLabelAnchor","emptyLabels","_selectStatus","hasHandles","setter","addHandles","isLocked","handlesInDom","removeHandles","hideHandles","areHandlesInDom","hasStaticHandles","setHandles","getSelectStyle","style2","selectStyle","setSelectStyle","setStaticHandles","staticHandles","_createHandles","callbackEach","handle","isResizable","handleSelected","handleMouseDownImpl","handleMouseMoveImpl","handleMouseUpImpl","handleCreateImpl","isMovable","moved","_mouseCoords","preventUnselect","highlight","unHighlight","unlock","unmovable","unresizable","unselectable","saveDomName","getHighlightAttributes","highlightImpl","unHighlightImpl","_highlightAttributes","setHighlightAttributes","getMaskingID","maskWith","maskingShape","updateMask","position2","_getPosition","shapeLabel","textAlign","previousValue","blurEvent","nextValue","removeEventListener","_forcedParentDom","ShapeSurfaceUnderCurve","resizingPosition","posXY","posXY2","v3","firstX","firstY","xBeforeIndex","ShapeLine","GraphShape","currentPos2x","currentPos2y","currentPos1x","currentPos1y","pos2","posToChange","vertical","horizontal","noX","noY","forcedCoords","forced","ShapeArrow","nbHandles","ShapeEllipse","posR","posComputed","setR","triggerChange","ShapeLabel","ShapePolyline","setPointsPx","pxPoints","ShapeNMRIntegral","_domShadow","xor","xVal","yVal","getAxis","baseLine","pos1","index1","index2","index3","firstXVal","firstYVal","lastXVal","lastYVal","condition","incrementation","normalSums","_sumVal","sumVal","py","lastPointX","lastPointY","_sum","firstPointX","firstPointY","ratioLabel","updateIntegralValue","handleCondition","forceValue","toPrecision","_ratio","selectHandles","ShapeRectangle","sides","currentX","currentY","currentW","currentH","invX","invY","pos2X","pos2Y","_staticHandles","ShapePeakIntegration2D","ShapeRect","setBindableToDom","ShapeCross","getFromData","ShapePeakBoundaries","lineHeight","line3","rectBoundary","redrawLines","posLeft","posRight","posCenter","posYPx","redrawY","setY","setLineHeight","lineHeihgt","ShapeHTML","setContent","content","setRenderer","_renderer","currentPosX","currentPosY","Plugin","onMouseDown","onMouseUp","onMouseMove","PluginDrag","dragX","dragY","persistanceX","persistanceY","totaltime","_draggingX","_draggingY","_lastDraggingX","_lastDraggingY","stopAnimation","dt","speedX","speedY","_pluginDragMin","_pluginDragMax","accelerationX","accelerationY","_persistanceMove","PluginShape","setShape","shapeInfo","count","onChange","currentShape","currentShapeEvent","onCreate","PluginSelectScatter","_path","xs","ys","findPoints","j2","PluginZoom","_zoomingGroup","_zoomingSquare","zoomMode","_zoomingMode","_backedUpZoomMode","_zoomingXStart","_zoomingYStart","forcedY","onZoomStart","onZoomMove","removeZone","_x","_y","transition","smooth","modeX","modeY","fullX","toAxes","_pluginZoomMin","_pluginZoomMax","_pluginZoomMinFinal","_pluginZoomMaxFinal","fullY","doX","doY","onDblClick","xActual","diffX","yActual","diffY","onZoom","maxTime","gradualUnzoomStart","sin","PI","isFullX","isFullY","memory","memoryHead","getFromMemory","store","head","PluginTimeSerieManager","currentSlots","requestLevels","noRecalculate","updateSerie","recalculateSeries","LRUName","intervals","maxParallelRequests","optimalPxPerPoint","nbPoints","LRU","create","requestsRunning","setURL","setAvailableIntervals","serieName","dbElements","noZoneSerie","_zoneSerie","registerPlugin","optimalInterval","getOptimalInterval","optimalIntervalIndex","cleanRegister","startSlotId","computeSlotID","endSlotId","intervalMultipliers","multiplier","firstSlotId","lastSlotId","slotId","computeTimeMin","register","processRequests","levelArray","levelElement","levelIndex","priority","noProcess","computeUniqueID","computeTimeMax","slotName","currentLevelChecking","requestToMake","getURL","requestElements","totalspan","optimalIntervalAmongAvailable","newDiff","extra","info","computeSlotTime","getZoneSerie","updateZoneSerie","recalculateSerie","lruData","recalculateSerieUpwards","setIntervalCheck","clearInterval","setInterval","downSlotId","downInterval","nextInterval","newSlotTime","newSlotTimeEnd","newSlotId","lockRedraw","unlockRedraw","isRedrawLocked","PluginSerieLineDifference","positiveStyle","negativeStyle","pathsPositive","pathsNegative","positivePolyline","negativePolyline","serieTop","serieBottom","serie1","serie2","setBoundaries","getFrom","getTo","s1","i1","j1","i2","crossing","bottomBroken","xAfterIndex","s2","order","nextSet","ended","computeCrossing","makePaths","x11","y11","x12","y12","x21","y21","x22","y22","a1","a2","getPositivePolyline","getNegativePolyline","SerieLineExtended","subSeries","SerieScatterExtended","excludingMethods","addMethods","getOwnPropertyNames","subSerie","PluginAxisSplitting","margins","high","low","newXAxis","newBottomAxis","newYAxis","newLeftAxis","newTopAxis","getOptions","SplitXAxis","SplitYAxis","newRightAxis","preDraw","splits","splitNumber","subserie","splitAxis","sserie","xSubAxis","ySubAxis","getSubAxis","subAxisIndex","newLineSerie","newScatterSerie","serieObj","defaultAxisConstructorOptions","SplitAxis","delegateMethods","cl","constructorOptions","_splitVal","_splits","fixGridIntervalBasedOnAxis","axisIndex","fixGridFor","splitSpread","autoSpread","_splitSpread","currentSplit","setChunkBoundaries","baseWidth","baseWidthIndex","_mean","_baseWidthVal","_baseWidthIndex","subAxis","spanReference","labelPosY","widthAfter","PluginMakeTracesDifferent","checkHSL","hue","saturation","lightness","buildHSLString","colorizeAll","seriesLength","serieTypes","startingColorHSL","colorHSL","endingColorHSL","affect","endS","endL","colorString","PluginPeakPicking","autoPeakPicking","autoPeakPickingNb","autoPeakPickingMinDistance","autoPeakPickingFormat","autoPeakPickingAllowAllY","picks","shapeOptions","minPosY","pick","serieRemoved","detectedPeaks","lastYPeakPicking","postDraw","peaks","passed","_hidePeakPickingLocked","killPeakPicking","AxisXTime","GraphPluginShape","GraphPluginDrag","GraphPluginZoom","GraphPluginSelectScatter","GraphPluginTimeSerieManager","GraphPluginSerieLineDifference","GraphPluginAxisSplitting","GraphPluginMakeTracesDifferent","GraphPluginPeakPicking","ShapeAreaUnderCurve","ShapePeakBoundariesCenter","GraphLegend"],"mappings":"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"}