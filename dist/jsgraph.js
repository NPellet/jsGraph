/*! For license information please see jsGraph.js.LICENSE.txt */
(()=>{var t={9282:(t,e,i)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}var s,n,o=i(2136).codes,a=o.ERR_AMBIGUOUS_ARGUMENT,h=o.ERR_INVALID_ARG_TYPE,l=o.ERR_INVALID_ARG_VALUE,u=o.ERR_INVALID_RETURN_VALUE,c=o.ERR_MISSING_ARGS,p=i(5961),d=i(9539).inspect,g=i(9539).types,f=g.isPromise,y=g.isRegExp,m=Object.assign?Object.assign:i(8091).assign,x=Object.is?Object.is:i(609);function v(){var t=i(9158);s=t.isDeepEqual,n=t.isDeepStrictEqual}new Map;var b=!1,_=t.exports=w,A={};function S(t){if(t.message instanceof Error)throw t.message;throw new p(t)}function M(t,e,i,r){if(!i){var s=!1;if(0===e)s=!0,r="No value argument passed to `assert.ok()`";else if(r instanceof Error)throw r;var n=new p({actual:i,expected:!0,message:r,operator:"==",stackStartFn:t});throw n.generatedMessage=s,n}}function w(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];M.apply(void 0,[w,e.length].concat(e))}_.fail=function t(e,i,r,s,n){var o,a=arguments.length;if(0===a)o="Failed";else if(1===a)r=e,e=void 0;else{if(!1===b){b=!0;var h=process.emitWarning?process.emitWarning:console.warn.bind(console);h("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")}2===a&&(s="!=")}if(r instanceof Error)throw r;var l={actual:e,expected:i,operator:void 0===s?"fail":s,stackStartFn:n||t};void 0!==r&&(l.message=r);var u=new p(l);throw o&&(u.message=o,u.generatedMessage=!0),u},_.AssertionError=p,_.ok=w,_.equal=function t(e,i,r){if(arguments.length<2)throw new c("actual","expected");e!=i&&S({actual:e,expected:i,message:r,operator:"==",stackStartFn:t})},_.notEqual=function t(e,i,r){if(arguments.length<2)throw new c("actual","expected");e==i&&S({actual:e,expected:i,message:r,operator:"!=",stackStartFn:t})},_.deepEqual=function t(e,i,r){if(arguments.length<2)throw new c("actual","expected");void 0===s&&v(),s(e,i)||S({actual:e,expected:i,message:r,operator:"deepEqual",stackStartFn:t})},_.notDeepEqual=function t(e,i,r){if(arguments.length<2)throw new c("actual","expected");void 0===s&&v(),s(e,i)&&S({actual:e,expected:i,message:r,operator:"notDeepEqual",stackStartFn:t})},_.deepStrictEqual=function t(e,i,r){if(arguments.length<2)throw new c("actual","expected");void 0===s&&v(),n(e,i)||S({actual:e,expected:i,message:r,operator:"deepStrictEqual",stackStartFn:t})},_.notDeepStrictEqual=function t(e,i,r){if(arguments.length<2)throw new c("actual","expected");void 0===s&&v(),n(e,i)&&S({actual:e,expected:i,message:r,operator:"notDeepStrictEqual",stackStartFn:t})},_.strictEqual=function t(e,i,r){if(arguments.length<2)throw new c("actual","expected");x(e,i)||S({actual:e,expected:i,message:r,operator:"strictEqual",stackStartFn:t})},_.notStrictEqual=function t(e,i,r){if(arguments.length<2)throw new c("actual","expected");x(e,i)&&S({actual:e,expected:i,message:r,operator:"notStrictEqual",stackStartFn:t})};var k=function t(e,i,r){var s=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),i.forEach((function(t){t in e&&(void 0!==r&&"string"==typeof r[t]&&y(e[t])&&e[t].test(r[t])?s[t]=r[t]:s[t]=e[t])}))};function P(t,e,i,r,s,o){if(!(i in t)||!n(t[i],e[i])){if(!r){var a=new k(t,s),h=new k(e,s,t),l=new p({actual:a,expected:h,operator:"deepStrictEqual",stackStartFn:o});throw l.actual=t,l.expected=e,l.operator=o.name,l}S({actual:t,expected:e,message:r,operator:o.name,stackStartFn:o})}}function L(t,e,i,n){if("function"!=typeof e){if(y(e))return e.test(t);if(2===arguments.length)throw new h("expected",["Function","RegExp"],e);if("object"!==r(t)||null===t){var o=new p({actual:t,expected:e,message:i,operator:"deepStrictEqual",stackStartFn:n});throw o.operator=n.name,o}var a=Object.keys(e);if(e instanceof Error)a.push("name","message");else if(0===a.length)throw new l("error",e,"may not be an empty object");return void 0===s&&v(),a.forEach((function(r){"string"==typeof t[r]&&y(e[r])&&e[r].test(t[r])||P(t,e,r,i,a,n)})),!0}return void 0!==e.prototype&&t instanceof e||!Error.isPrototypeOf(e)&&!0===e.call({},t)}function C(t){if("function"!=typeof t)throw new h("fn","Function",t);try{t()}catch(t){return t}return A}function E(t){return f(t)||null!==t&&"object"===r(t)&&"function"==typeof t.then&&"function"==typeof t.catch}function O(t){return Promise.resolve().then((function(){var e;if("function"==typeof t){if(!E(e=t()))throw new u("instance of Promise","promiseFn",e)}else{if(!E(t))throw new h("promiseFn",["Function","Promise"],t);e=t}return Promise.resolve().then((function(){return e})).then((function(){return A})).catch((function(t){return t}))}))}function T(t,e,i,s){if("string"==typeof i){if(4===arguments.length)throw new h("error",["Object","Error","Function","RegExp"],i);if("object"===r(e)&&null!==e){if(e.message===i)throw new a("error/message",'The error message "'.concat(e.message,'" is identical to the message.'))}else if(e===i)throw new a("error/message",'The error "'.concat(e,'" is identical to the message.'));s=i,i=void 0}else if(null!=i&&"object"!==r(i)&&"function"!=typeof i)throw new h("error",["Object","Error","Function","RegExp"],i);if(e===A){var n="";i&&i.name&&(n+=" (".concat(i.name,")")),n+=s?": ".concat(s):".";var o="rejects"===t.name?"rejection":"exception";S({actual:void 0,expected:i,operator:t.name,message:"Missing expected ".concat(o).concat(n),stackStartFn:t})}if(i&&!L(e,i,s,t))throw e}function D(t,e,i,r){if(e!==A){if("string"==typeof i&&(r=i,i=void 0),!i||L(e,i)){var s=r?": ".concat(r):".",n="doesNotReject"===t.name?"rejection":"exception";S({actual:e,expected:i,operator:t.name,message:"Got unwanted ".concat(n).concat(s,"\n")+'Actual message: "'.concat(e&&e.message,'"'),stackStartFn:t})}throw e}}function X(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];M.apply(void 0,[X,e.length].concat(e))}_.throws=function t(e){for(var i=arguments.length,r=new Array(i>1?i-1:0),s=1;s<i;s++)r[s-1]=arguments[s];T.apply(void 0,[t,C(e)].concat(r))},_.rejects=function t(e){for(var i=arguments.length,r=new Array(i>1?i-1:0),s=1;s<i;s++)r[s-1]=arguments[s];return O(e).then((function(e){return T.apply(void 0,[t,e].concat(r))}))},_.doesNotThrow=function t(e){for(var i=arguments.length,r=new Array(i>1?i-1:0),s=1;s<i;s++)r[s-1]=arguments[s];D.apply(void 0,[t,C(e)].concat(r))},_.doesNotReject=function t(e){for(var i=arguments.length,r=new Array(i>1?i-1:0),s=1;s<i;s++)r[s-1]=arguments[s];return O(e).then((function(e){return D.apply(void 0,[t,e].concat(r))}))},_.ifError=function t(e){if(null!=e){var i="ifError got unwanted exception: ";"object"===r(e)&&"string"==typeof e.message?0===e.message.length&&e.constructor?i+=e.constructor.name:i+=e.message:i+=d(e);var s=new p({actual:e,expected:null,operator:"ifError",message:i,stackStartFn:t}),n=e.stack;if("string"==typeof n){var o=n.split("\n");o.shift();for(var a=s.stack.split("\n"),h=0;h<o.length;h++){var l=a.indexOf(o[h]);if(-1!==l){a=a.slice(0,l);break}}s.stack="".concat(a.join("\n"),"\n").concat(o.join("\n"))}throw s}},_.strict=m(X,_,{equal:_.strictEqual,deepEqual:_.deepStrictEqual,notEqual:_.notStrictEqual,notDeepEqual:_.notDeepStrictEqual}),_.strict.strict=_.strict},5961:(t,e,i)=>{"use strict";function r(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function s(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function n(t,e){return!e||"object"!==p(e)&&"function"!=typeof e?o(t):e}function o(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a(t){var e="function"==typeof Map?new Map:void 0;return a=function(t){if(null===t||(i=t,-1===Function.toString.call(i).indexOf("[native code]")))return t;var i;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return l(t,arguments,c(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),u(r,t)},a(t)}function h(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function l(t,e,i){return l=h()?Reflect.construct:function(t,e,i){var r=[null];r.push.apply(r,e);var s=new(Function.bind.apply(t,r));return i&&u(s,i.prototype),s},l.apply(null,arguments)}function u(t,e){return u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},u(t,e)}function c(t){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},c(t)}function p(t){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p(t)}var d=i(9539).inspect,g=i(2136).codes.ERR_INVALID_ARG_TYPE;function f(t,e,i){return(void 0===i||i>t.length)&&(i=t.length),t.substring(i-e.length,i)===e}var y="",m="",x="",v="",b={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"};function _(t){var e=Object.keys(t),i=Object.create(Object.getPrototypeOf(t));return e.forEach((function(e){i[e]=t[e]})),Object.defineProperty(i,"message",{value:t.message}),i}function A(t){return d(t,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}var S=function(t){function e(t){var i;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),"object"!==p(t)||null===t)throw new g("options","Object",t);var r=t.message,s=t.operator,a=t.stackStartFn,h=t.actual,l=t.expected,u=Error.stackTraceLimit;if(Error.stackTraceLimit=0,null!=r)i=n(this,c(e).call(this,String(r)));else if(process.stderr&&process.stderr.isTTY&&(process.stderr&&process.stderr.getColorDepth&&1!==process.stderr.getColorDepth()?(y="[34m",m="[32m",v="[39m",x="[31m"):(y="",m="",v="",x="")),"object"===p(h)&&null!==h&&"object"===p(l)&&null!==l&&"stack"in h&&h instanceof Error&&"stack"in l&&l instanceof Error&&(h=_(h),l=_(l)),"deepStrictEqual"===s||"strictEqual"===s)i=n(this,c(e).call(this,function(t,e,i){var r="",s="",n=0,o="",a=!1,h=A(t),l=h.split("\n"),u=A(e).split("\n"),c=0,d="";if("strictEqual"===i&&"object"===p(t)&&"object"===p(e)&&null!==t&&null!==e&&(i="strictEqualObject"),1===l.length&&1===u.length&&l[0]!==u[0]){var g=l[0].length+u[0].length;if(g<=10){if(!("object"===p(t)&&null!==t||"object"===p(e)&&null!==e||0===t&&0===e))return"".concat(b[i],"\n\n")+"".concat(l[0]," !== ").concat(u[0],"\n")}else if("strictEqualObject"!==i&&g<(process.stderr&&process.stderr.isTTY?process.stderr.columns:80)){for(;l[0][c]===u[0][c];)c++;c>2&&(d="\n  ".concat(function(t,e){if(e=Math.floor(e),0==t.length||0==e)return"";var i=t.length*e;for(e=Math.floor(Math.log(e)/Math.log(2));e;)t+=t,e--;return t+t.substring(0,i-t.length)}(" ",c),"^"),c=0)}}for(var _=l[l.length-1],S=u[u.length-1];_===S&&(c++<2?o="\n  ".concat(_).concat(o):r=_,l.pop(),u.pop(),0!==l.length&&0!==u.length);)_=l[l.length-1],S=u[u.length-1];var M=Math.max(l.length,u.length);if(0===M){var w=h.split("\n");if(w.length>30)for(w[26]="".concat(y,"...").concat(v);w.length>27;)w.pop();return"".concat(b.notIdentical,"\n\n").concat(w.join("\n"),"\n")}c>3&&(o="\n".concat(y,"...").concat(v).concat(o),a=!0),""!==r&&(o="\n  ".concat(r).concat(o),r="");var k=0,P=b[i]+"\n".concat(m,"+ actual").concat(v," ").concat(x,"- expected").concat(v),L=" ".concat(y,"...").concat(v," Lines skipped");for(c=0;c<M;c++){var C=c-n;if(l.length<c+1)C>1&&c>2&&(C>4?(s+="\n".concat(y,"...").concat(v),a=!0):C>3&&(s+="\n  ".concat(u[c-2]),k++),s+="\n  ".concat(u[c-1]),k++),n=c,r+="\n".concat(x,"-").concat(v," ").concat(u[c]),k++;else if(u.length<c+1)C>1&&c>2&&(C>4?(s+="\n".concat(y,"...").concat(v),a=!0):C>3&&(s+="\n  ".concat(l[c-2]),k++),s+="\n  ".concat(l[c-1]),k++),n=c,s+="\n".concat(m,"+").concat(v," ").concat(l[c]),k++;else{var E=u[c],O=l[c],T=O!==E&&(!f(O,",")||O.slice(0,-1)!==E);T&&f(E,",")&&E.slice(0,-1)===O&&(T=!1,O+=","),T?(C>1&&c>2&&(C>4?(s+="\n".concat(y,"...").concat(v),a=!0):C>3&&(s+="\n  ".concat(l[c-2]),k++),s+="\n  ".concat(l[c-1]),k++),n=c,s+="\n".concat(m,"+").concat(v," ").concat(O),r+="\n".concat(x,"-").concat(v," ").concat(E),k+=2):(s+=r,r="",1!==C&&0!==c||(s+="\n  ".concat(O),k++))}if(k>20&&c<M-2)return"".concat(P).concat(L,"\n").concat(s,"\n").concat(y,"...").concat(v).concat(r,"\n")+"".concat(y,"...").concat(v)}return"".concat(P).concat(a?L:"","\n").concat(s).concat(r).concat(o).concat(d)}(h,l,s)));else if("notDeepStrictEqual"===s||"notStrictEqual"===s){var d=b[s],S=A(h).split("\n");if("notStrictEqual"===s&&"object"===p(h)&&null!==h&&(d=b.notStrictEqualObject),S.length>30)for(S[26]="".concat(y,"...").concat(v);S.length>27;)S.pop();i=1===S.length?n(this,c(e).call(this,"".concat(d," ").concat(S[0]))):n(this,c(e).call(this,"".concat(d,"\n\n").concat(S.join("\n"),"\n")))}else{var M=A(h),w="",k=b[s];"notDeepEqual"===s||"notEqual"===s?(M="".concat(b[s],"\n\n").concat(M)).length>1024&&(M="".concat(M.slice(0,1021),"...")):(w="".concat(A(l)),M.length>512&&(M="".concat(M.slice(0,509),"...")),w.length>512&&(w="".concat(w.slice(0,509),"...")),"deepEqual"===s||"equal"===s?M="".concat(k,"\n\n").concat(M,"\n\nshould equal\n\n"):w=" ".concat(s," ").concat(w)),i=n(this,c(e).call(this,"".concat(M).concat(w)))}return Error.stackTraceLimit=u,i.generatedMessage=!r,Object.defineProperty(o(i),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),i.code="ERR_ASSERTION",i.actual=h,i.expected=l,i.operator=s,Error.captureStackTrace&&Error.captureStackTrace(o(i),a),i.stack,i.name="AssertionError",n(i)}var i,a;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,t),i=e,a=[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:d.custom,value:function(t,e){return d(this,function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{},s=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(i).filter((function(t){return Object.getOwnPropertyDescriptor(i,t).enumerable})))),s.forEach((function(e){r(t,e,i[e])}))}return t}({},e,{customInspect:!1,depth:0}))}}],a&&s(i.prototype,a),e}(a(Error));t.exports=S},2136:(t,e,i)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function s(t){return s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},s(t)}function n(t,e){return n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},n(t,e)}var o,a,h={};function l(t,e,i){i||(i=Error);var o=function(i){function o(i,n,a){var h;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),h=function(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}(this,s(o).call(this,function(t,i,r){return"string"==typeof e?e:e(t,i,r)}(i,n,a))),h.code=t,h}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&n(t,e)}(o,i),o}(i);h[t]=o}function u(t,e){if(Array.isArray(t)){var i=t.length;return t=t.map((function(t){return String(t)})),i>2?"one of ".concat(e," ").concat(t.slice(0,i-1).join(", "),", or ")+t[i-1]:2===i?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}return"of ".concat(e," ").concat(String(t))}l("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),l("ERR_INVALID_ARG_TYPE",(function(t,e,s){var n,a,h,l,c;if(void 0===o&&(o=i(9282)),o("string"==typeof t,"'name' must be a string"),"string"==typeof e&&(a="not ",e.substr(0,a.length)===a)?(n="must not be",e=e.replace(/^not /,"")):n="must be",function(t,e,i){return(void 0===i||i>t.length)&&(i=t.length),t.substring(i-e.length,i)===e}(t," argument"))h="The ".concat(t," ").concat(n," ").concat(u(e,"type"));else{var p=("number"!=typeof c&&(c=0),c+".".length>(l=t).length||-1===l.indexOf(".",c)?"argument":"property");h='The "'.concat(t,'" ').concat(p," ").concat(n," ").concat(u(e,"type"))}return h+". Received type ".concat(r(s))}),TypeError),l("ERR_INVALID_ARG_VALUE",(function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"is invalid";void 0===a&&(a=i(9539));var s=a.inspect(e);return s.length>128&&(s="".concat(s.slice(0,128),"...")),"The argument '".concat(t,"' ").concat(r,". Received ").concat(s)}),TypeError,RangeError),l("ERR_INVALID_RETURN_VALUE",(function(t,e,i){var s;return s=i&&i.constructor&&i.constructor.name?"instance of ".concat(i.constructor.name):"type ".concat(r(i)),"Expected ".concat(t,' to be returned from the "').concat(e,'"')+" function but got ".concat(s,".")}),TypeError),l("ERR_MISSING_ARGS",(function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];void 0===o&&(o=i(9282)),o(e.length>0,"At least one arg needs to be specified");var s="The ",n=e.length;switch(e=e.map((function(t){return'"'.concat(t,'"')})),n){case 1:s+="".concat(e[0]," argument");break;case 2:s+="".concat(e[0]," and ").concat(e[1]," arguments");break;default:s+=e.slice(0,n-1).join(", "),s+=", and ".concat(e[n-1]," arguments")}return"".concat(s," must be specified")}),TypeError),t.exports.codes=h},9158:(t,e,i)=>{"use strict";function r(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var i=[],r=!0,s=!1,n=void 0;try{for(var o,a=t[Symbol.iterator]();!(r=(o=a.next()).done)&&(i.push(o.value),!e||i.length!==e);r=!0);}catch(t){s=!0,n=t}finally{try{r||null==a.return||a.return()}finally{if(s)throw n}}return i}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}var n=void 0!==/a/g.flags,o=function(t){var e=[];return t.forEach((function(t){return e.push(t)})),e},a=function(t){var e=[];return t.forEach((function(t,i){return e.push([i,t])})),e},h=Object.is?Object.is:i(609),l=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},u=Number.isNaN?Number.isNaN:i(360);function c(t){return t.call.bind(t)}var p=c(Object.prototype.hasOwnProperty),d=c(Object.prototype.propertyIsEnumerable),g=c(Object.prototype.toString),f=i(9539).types,y=f.isAnyArrayBuffer,m=f.isArrayBufferView,x=f.isDate,v=f.isMap,b=f.isRegExp,_=f.isSet,A=f.isNativeError,S=f.isBoxedPrimitive,M=f.isNumberObject,w=f.isStringObject,k=f.isBooleanObject,P=f.isBigIntObject,L=f.isSymbolObject,C=f.isFloat32Array,E=f.isFloat64Array;function O(t){if(0===t.length||t.length>10)return!0;for(var e=0;e<t.length;e++){var i=t.charCodeAt(e);if(i<48||i>57)return!0}return 10===t.length&&t>=Math.pow(2,32)}function T(t){return Object.keys(t).filter(O).concat(l(t).filter(Object.prototype.propertyIsEnumerable.bind(t)))}function D(t,e){if(t===e)return 0;for(var i=t.length,r=e.length,s=0,n=Math.min(i,r);s<n;++s)if(t[s]!==e[s]){i=t[s],r=e[s];break}return i<r?-1:r<i?1:0}function X(t,e,i,r){if(t===e)return 0!==t||!i||h(t,e);if(i){if("object"!==s(t))return"number"==typeof t&&u(t)&&u(e);if("object"!==s(e)||null===t||null===e)return!1;if(Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return!1}else{if(null===t||"object"!==s(t))return(null===e||"object"!==s(e))&&t==e;if(null===e||"object"!==s(e))return!1}var o,a,l,c,p=g(t);if(p!==g(e))return!1;if(Array.isArray(t)){if(t.length!==e.length)return!1;var d=T(t),f=T(e);return d.length===f.length&&N(t,e,i,r,1,d)}if("[object Object]"===p&&(!v(t)&&v(e)||!_(t)&&_(e)))return!1;if(x(t)){if(!x(e)||Date.prototype.getTime.call(t)!==Date.prototype.getTime.call(e))return!1}else if(b(t)){if(!b(e)||(l=t,c=e,!(n?l.source===c.source&&l.flags===c.flags:RegExp.prototype.toString.call(l)===RegExp.prototype.toString.call(c))))return!1}else if(A(t)||t instanceof Error){if(t.message!==e.message||t.name!==e.name)return!1}else{if(m(t)){if(i||!C(t)&&!E(t)){if(!function(t,e){return t.byteLength===e.byteLength&&0===D(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}(t,e))return!1}else if(!function(t,e){if(t.byteLength!==e.byteLength)return!1;for(var i=0;i<t.byteLength;i++)if(t[i]!==e[i])return!1;return!0}(t,e))return!1;var O=T(t),X=T(e);return O.length===X.length&&N(t,e,i,r,0,O)}if(_(t))return!(!_(e)||t.size!==e.size)&&N(t,e,i,r,2);if(v(t))return!(!v(e)||t.size!==e.size)&&N(t,e,i,r,3);if(y(t)){if(a=e,(o=t).byteLength!==a.byteLength||0!==D(new Uint8Array(o),new Uint8Array(a)))return!1}else if(S(t)&&!function(t,e){return M(t)?M(e)&&h(Number.prototype.valueOf.call(t),Number.prototype.valueOf.call(e)):w(t)?w(e)&&String.prototype.valueOf.call(t)===String.prototype.valueOf.call(e):k(t)?k(e)&&Boolean.prototype.valueOf.call(t)===Boolean.prototype.valueOf.call(e):P(t)?P(e)&&BigInt.prototype.valueOf.call(t)===BigInt.prototype.valueOf.call(e):L(e)&&Symbol.prototype.valueOf.call(t)===Symbol.prototype.valueOf.call(e)}(t,e))return!1}return N(t,e,i,r,0)}function I(t,e){return e.filter((function(e){return d(t,e)}))}function N(t,e,i,r,s,n){if(5===arguments.length){n=Object.keys(t);var o=Object.keys(e);if(n.length!==o.length)return!1}for(var a=0;a<n.length;a++)if(!p(e,n[a]))return!1;if(i&&5===arguments.length){var h=l(t);if(0!==h.length){var u=0;for(a=0;a<h.length;a++){var c=h[a];if(d(t,c)){if(!d(e,c))return!1;n.push(c),u++}else if(d(e,c))return!1}var g=l(e);if(h.length!==g.length&&I(e,g).length!==u)return!1}else{var f=l(e);if(0!==f.length&&0!==I(e,f).length)return!1}}if(0===n.length&&(0===s||1===s&&0===t.length||0===t.size))return!0;if(void 0===r)r={val1:new Map,val2:new Map,position:0};else{var y=r.val1.get(t);if(void 0!==y){var m=r.val2.get(e);if(void 0!==m)return y===m}r.position++}r.val1.set(t,r.position),r.val2.set(e,r.position);var x=W(t,e,i,n,r,s);return r.val1.delete(t),r.val2.delete(e),x}function j(t,e,i,r){for(var s=o(t),n=0;n<s.length;n++){var a=s[n];if(X(e,a,i,r))return t.delete(a),!0}return!1}function Y(t){switch(s(t)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":t=+t;case"number":if(u(t))return!1}return!0}function B(t,e,i){var r=Y(i);return null!=r?r:e.has(r)&&!t.has(r)}function F(t,e,i,r,s){var n=Y(i);if(null!=n)return n;var o=e.get(n);return!(void 0===o&&!e.has(n)||!X(r,o,!1,s))&&!t.has(n)&&X(r,o,!1,s)}function H(t,e,i,r,s,n){for(var a=o(t),h=0;h<a.length;h++){var l=a[h];if(X(i,l,s,n)&&X(r,e.get(l),s,n))return t.delete(l),!0}return!1}function W(t,e,i,n,h,l){var u=0;if(2===l){if(!function(t,e,i,r){for(var n=null,a=o(t),h=0;h<a.length;h++){var l=a[h];if("object"===s(l)&&null!==l)null===n&&(n=new Set),n.add(l);else if(!e.has(l)){if(i)return!1;if(!B(t,e,l))return!1;null===n&&(n=new Set),n.add(l)}}if(null!==n){for(var u=o(e),c=0;c<u.length;c++){var p=u[c];if("object"===s(p)&&null!==p){if(!j(n,p,i,r))return!1}else if(!i&&!t.has(p)&&!j(n,p,i,r))return!1}return 0===n.size}return!0}(t,e,i,h))return!1}else if(3===l){if(!function(t,e,i,n){for(var o=null,h=a(t),l=0;l<h.length;l++){var u=r(h[l],2),c=u[0],p=u[1];if("object"===s(c)&&null!==c)null===o&&(o=new Set),o.add(c);else{var d=e.get(c);if(void 0===d&&!e.has(c)||!X(p,d,i,n)){if(i)return!1;if(!F(t,e,c,p,n))return!1;null===o&&(o=new Set),o.add(c)}}}if(null!==o){for(var g=a(e),f=0;f<g.length;f++){var y=r(g[f],2),m=(c=y[0],y[1]);if("object"===s(c)&&null!==c){if(!H(o,t,c,m,i,n))return!1}else if(!(i||t.has(c)&&X(t.get(c),m,!1,n)||H(o,t,c,m,!1,n)))return!1}return 0===o.size}return!0}(t,e,i,h))return!1}else if(1===l)for(;u<t.length;u++){if(!p(t,u)){if(p(e,u))return!1;for(var c=Object.keys(t);u<c.length;u++){var d=c[u];if(!p(e,d)||!X(t[d],e[d],i,h))return!1}return c.length===Object.keys(e).length}if(!p(e,u)||!X(t[u],e[u],i,h))return!1}for(u=0;u<n.length;u++){var g=n[u];if(!X(t[g],e[g],i,h))return!1}return!0}t.exports={isDeepEqual:function(t,e){return X(t,e,!1)},isDeepStrictEqual:function(t,e){return X(t,e,!0)}}},4633:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.TickPosition=void 0;var r,s=i(6871),n=i(6486),o=(r=i(9282))&&r.__esModule?r:{default:r};function a(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}let h;e.TickPosition=h,function(t){t.OUTSIDE="outside",t.INSIDE="inside",t.CENTERED="centered"}(h||(e.TickPosition=h={}));const l={label:"",hideTicks:!1,adaptTo:!1,currentAxisMax:0,currentAxisMin:0,useKatexForLabel:!1,unitDecade:!1,name:void 0,lineAt:!1,display:!0,flipped:!1,axisDataSpacing:{min:.1,max:.1},unitModification:!1,primaryGrid:!0,secondaryGrid:!0,primaryGridWidth:1,primaryGridColor:"#f0f0f0",primaryGridDasharray:void 0,primaryGridOpacity:void 0,primaryTicksColor:"black",secondaryGridWidth:1,secondaryGridColor:"#f0f0f0",secondaryGridDasharray:void 0,secondaryGridOpacity:void 0,secondaryTicksColor:"black",hideWhenNoSeriesShown:!1,shiftToZero:!1,tickPosition:1,tickLabels:!0,nbTicksPrimary:3,nbTicksSecondary:10,ticklabelratio:1,exponentialFactor:0,exponentialLabelFactor:0,logScale:!1,forcedMin:!1,forcedMax:!1,span:[0,1],marginMin:0,marginMax:0,scientificScale:!1,scientificScaleExponent:!1,engineeringScale:!1,unitInTicks:!1,unit:!1,unitWrapperBefore:"",unitWrapperAfter:"",tickLabelOffset:0,highestMax:void 0,lowestMin:void 0,labelValue:""};class u extends s.EventEmitter{constructor(){super(),a(this,"graph",void 0),a(this,"options",void 0),a(this,"group",void 0),a(this,"rectEvent",void 0),a(this,"_lines",void 0),a(this,"line",void 0),a(this,"groupTicks",void 0),a(this,"groupTickLabels",void 0),a(this,"hasChanged",void 0),a(this,"label",void 0),a(this,"labelTspan",void 0),a(this,"preunit",void 0),a(this,"unitTspan",void 0),a(this,"expTspan",void 0),a(this,"expTspanExp",void 0),a(this,"gridLinePath",void 0),a(this,"gridPrimary",void 0),a(this,"gridSecondary",void 0),a(this,"groupSeries",void 0),a(this,"widthHeightTick",void 0),a(this,"_hidden",void 0),a(this,"ticks",void 0),a(this,"currentTick",void 0),a(this,"lastCurrentTick",void 0),a(this,"labels",void 0),a(this,"cachedInterval",void 0),a(this,"ticksLabels",void 0),a(this,"series",void 0),a(this,"_zoomed",void 0),a(this,"floating",void 0),a(this,"floatingAxis",void 0),a(this,"floatingValue",void 0),a(this,"minPx",void 0),a(this,"maxPx",void 0),a(this,"minPxFlipped",void 0),a(this,"maxPxFlipped",void 0),a(this,"dataMin",void 0),a(this,"dataMax",void 0),a(this,"mouseVal",void 0),a(this,"_zoomLocked",void 0)}init(t,e){this.graph=t,this.options=(0,n.extend)(!0,{},l,e),this.group=document.createElementNS(this.graph.ns,"g"),this.hasChanged=!0,this.rectEvent=document.createElementNS(this.graph.ns,"rect"),this.rectEvent.setAttribute("pointer-events","fill"),this.rectEvent.setAttribute("fill","transparent"),this.group.appendChild(this.rectEvent),this.graph.axisGroup.appendChild(this.group),this._lines=[],this.line=document.createElementNS(this.graph.ns,"line"),this.line.setAttribute("stroke","black"),this.line.setAttribute("shape-rendering","crispEdges"),this.line.setAttribute("stroke-linecap","square"),this.groupTicks=document.createElementNS(this.graph.ns,"g"),this.groupTickLabels=document.createElementNS(this.graph.ns,"g"),this.group.appendChild(this.groupTicks),this.group.appendChild(this.groupTickLabels),this.group.appendChild(this.line),this.label=document.createElementNS(this.graph.ns,"text"),this.labelTspan=document.createElementNS(this.graph.ns,"tspan"),this.preunit="",this.unitTspan=document.createElementNS(this.graph.ns,"tspan"),this.expTspan=document.createElementNS(this.graph.ns,"tspan"),this.expTspanExp=document.createElementNS(this.graph.ns,"tspan"),this.label.appendChild(this.labelTspan),this.label.appendChild(this.unitTspan),this.label.appendChild(this.expTspan),this.label.appendChild(this.expTspanExp),this.expTspan.setAttribute("dx","6"),this.expTspanExp.setAttribute("dy","-5"),this.expTspanExp.setAttribute("font-size","0.8em"),this.label.setAttribute("text-anchor","middle"),this.setTickPosition(this.options.tickPosition),this.gridLinePath={primary:"",secondary:""},this.gridPrimary=document.createElementNS(this.graph.ns,"path"),this.gridSecondary=document.createElementNS(this.graph.ns,"path"),this.graph.groupPrimaryGrids.appendChild(this.gridPrimary),this.graph.groupSecondaryGrids.appendChild(this.gridSecondary),this.setGridLinesStyle(),this.group.appendChild(this.label),this.groupSeries=document.createElementNS(this.graph.ns,"g"),this.group.appendChild(this.groupSeries),this.widthHeightTick=0,this.ticks={1:[],2:[]},this.ticksLabels=[],this.currentTick={1:0,2:0},this.lastCurrentTick={1:0,2:0},this.series=[],this.group.addEventListener("mousemove",(t=>{t.preventDefault();var e=this.graph._getXY(t);this.handleMouseMoveLocal(e.x,e.y,t)})),this.labels=[],this.group.addEventListener("click",(t=>{t.preventDefault();var e=this.graph._getXY(t);this.addLabel(this.getVal(e.x-this.graph.getPaddingLeft()))})),this.gridPrimary.setAttribute("clip-path",`url(#_clipplot${this.graph.uid})`),this.gridSecondary.setAttribute("clip-path",`url(#_clipplot${this.graph.uid})`),this.graph._axisHasChanged(this),this.cache()}handleMouseMoveLocal(t,e,i){}hide(){return this.options.display=!1,this}show(){return this.options.display=!0,this}setDisplay(t){return this.options.display=!!t,this}isDisplayed(){return this.options.hideWhenNoSeriesShown?this.graph.getSeriesFromAxis(this).reduce(((t,e)=>t||e.isShown()),!1):this.options.display}isShown(){return this.isDisplayed()}hideGroup(){this._hidden||(this._hidden=!0,this.group.setAttribute("display","none"))}showGroup(){this._hidden&&(this._hidden=!1,this.group.setAttribute("display","initial"))}kill(t,e){this.graph.killAxis(this,t,e)}setLineAt(t){return this.options.lineAt=t,this}adaptTo(t,e,i,r){return t?(this.options.adaptTo={axis:t,thisValue:e,foreignValue:i,preference:r},this.adapt(),this):(this.options.adaptTo=!1,this)}adapt(){if(this.options.adaptTo){var t=this.options.adaptTo.axis,e=this.options.adaptTo.thisValue,i=this.options.adaptTo.foreignValue;if(void 0!==t.options.currentAxisMin&&void 0!==t.options.currentAxisMax||t.setMinMaxToFitSeries(),!1!==this.options.forcedMin&&0==this.options.forcedMax||"max"!==this.options.adaptTo.preference){!1!==this.options.forcedMin?this.options.currentAxisMin=this.options.forcedMin:this._zoomed?this.options.currentAxisMin=this.getCurrentMin():this.options.currentAxisMin=this.getMinValue()-(e-this.getMinValue())*(this.options.axisDataSpacing.min*(t.getCurrentMax()-t.getCurrentMin())/(i-t.getCurrentMin()));var r=!1!==this.options.forcedMin?this.options.forcedMin:this.options.currentAxisMin;this.options.currentAxisMax=(e-r)*(t.getCurrentMax()-t.getCurrentMin())/(i-t.getCurrentMin())+r}else!1!==this.options.forcedMax?this.options.currentAxisMax=this.options.forcedMax:this._zoomed?this.options.currentAxisMax=this.getCurrentMax():this.options.currentAxisMax=this.getMaxValue()+(this.getMaxValue()-e)*(this.options.axisDataSpacing.max*(t.getCurrentMax()-t.getCurrentMin())/(t.getCurrentMax()-i)),this.options.currentAxisMax==e&&(this.options.currentAxisMax+=this.options.axisDataSpacing.max*this.getInterval()),r=!1!==this.options.forcedMax?this.options.forcedMax:this.options.currentAxisMax,this.options.currentAxisMin=(e-r)*(t.getCurrentMin()-t.getCurrentMax())/(i-t.getCurrentMax())+r;this.graph._axisHasChanged(this)}}setFloating(t,e){return this.floating=!0,this.floatingAxis=t,this.floatingValue=e,this}getFloatingAxis(){return this.floatingAxis}getFloatingValue(){return this.floatingValue}setAxisDataSpacing(t,e){return this.options.axisDataSpacing.min=t,this.options.axisDataSpacing.max=e||t,this}dataSpacing(t,e){return this.setAxisDataSpacing(t,e)}setAxisDataSpacingMin(t){this.options.axisDataSpacing.min=t}setAxisDataSpacingMax(t){this.options.axisDataSpacing.max=t}setMinPx(t){this.minPx=t,this.setMinMaxFlipped()}setMaxPx(t){this.maxPx=t,this.setMinMaxFlipped()}getMinPx(){return this.minPxFlipped}getMaxPx(){return this.maxPxFlipped}getMathMaxPx(){return this.maxPx}getMathMinPx(){return this.minPx}getMinValue(){return!1!==this.options.forcedMin?this.options.forcedMin:isNaN(this.options.lowestMin)?this.dataMin:Math.max(this.options.lowestMin,this.dataMin)}getMaxValue(){return!1!==this.options.forcedMax?this.options.forcedMax:isNaN(this.options.highestMax)?this.dataMax:Math.min(this.options.highestMax,this.dataMax)}setMinValueData(t){this.dataMin=t,isNaN(this.getCurrentMin())}setMaxValueData(t){this.dataMax=t,isNaN(this.getCurrentMax())}getDataMax(){return this.dataMax}getDataMin(){return this.dataMin}setLowestMin(t){this.options.lowestMin=t,this.graph._axisHasChanged(this)}forceMin(t,e=!1){return this.options.forcedMin=t,this.setCurrentMin(e?this.getCurrentMin():void 0),this.graph._axisHasChanged(this),this}setHighestMax(t){this.options.highestMax=t,this.graph._axisHasChanged(this)}forceMax(t,e=!1){return this.options.forcedMax=t,this.setCurrentMax(e?this.getCurrentMax():void 0),this.graph._axisHasChanged(this),this}getForcedMin(){return this.options.forcedMin}getForcedMax(){return this.options.forcedMax}forceToAxis(t){return t.getMaxValue&&t.getMinValue&&(this.options.forcedMin=t.getMinValue(),this.options.forcedMax=t.getMaxValue()),this}getNbTicksPrimary(){return this.options.nbTicksPrimary}setNbTicksPrimary(t){this.options.nbTicksPrimary=t}getNbTicksSecondary(){return this.options.nbTicksSecondary}setNbTicksSecondary(t){return this.options.nbTicksSecondary=t,this}handleMouseMove(t){this.mouseVal=this.getVal(t)}handleMouseWheel(t,e,i){t=Math.min(.2,Math.max(-.2,t)),"min"==i?i=this.getMinValue():"max"==i?i=this.getMaxValue():i||(i=0),this._doZoomVal((this.getCurrentMax()-i)*(1+t)+i,(this.getCurrentMin()-i)*(1+t)+i,!1),this.graph.draw()}set zoomLock(t){this._zoomLocked=t}get zoomLock(){return this._zoomLocked||!1}zoom(t,e,i){if(i||!this.zoomLock)return this._doZoomVal(t,e,!0)}_doZoomVal(t,e,i){return this._doZoom(this.getPx(t),this.getPx(e),t,e,i)}_doZoom(t,e,i,r,s){return i=void 0!==i?i:this.getVal(t),r=void 0!==r?r:this.getVal(e),this.setCurrentMin(Math.min(i,r)),this.setCurrentMax(Math.max(i,r)),this.cacheCurrentMin(),this.cacheCurrentMax(),this.cacheInterval(),this._zoomed=!0,this.adapt(),this._hasChanged=!0,s||this.emit("zoom",[this.options.currentAxisMin,this.options.currentAxisMax,this]),this}getSerieShift(){return this._serieShift}getSerieScale(){return this._serieScale}getMouseVal(){return this.mouseVal}getUnitPerTick(t,e,i){var r=i/(e=e?Math.min(e,t/10):t/10);switch(this.options.unitModification){case"time":case"time:min.sec":case"time:min_dec":{let t,e,i,s,n=!1;for(t=0,e=this.unitModificationTimeTicks.length;t<e;t++){for(i=0,s=this.unitModificationTimeTicks[t][1].length;i<s;i++)if(r<this.unitModificationTimeTicks[t][0]*this.unitModificationTimeTicks[t][1][i]){n=!0;break}if(n)break}l=t!==this.unitModificationTimeTicks.length?this.unitModificationTimeTicks[t][0]*this.unitModificationTimeTicks[t][1][i]:1;break}default:var s=Math.floor(Math.log(r)/Math.log(10)),n=r*Math.pow(10,-s);this.decimals=-s;var a=[1,2,5,10],h=!1;for(let t=a.length-1;t>=0;t--)(!h||Math.abs(a[t]-n)<Math.abs(h-n))&&(h=a[t]);(0,o.default)(h);var l=h*Math.pow(10,s)}return[l,i/l,t/e]}setMinMaxToFitSeries(t=!1){return this.options.logScale?(this.setCurrentMin(Math.max(1e-50,.9*this.getMinValue())),this.setCurrentMax(Math.max(1e-50,1.1*this.getMaxValue()))):(this.setCurrentMax(this.getMaxValue()),this.getMinValue(),this.getMaxValue(),this.setCurrentMin(this.getDefaultMin()),this.setCurrentMax(this.getDefaultMax())),(isNaN(this.options.currentAxisMin)||isNaN(this.options.currentAxisMax))&&(this.options.currentAxisMax=void 0,this.options.currentAxisMin=void 0),this._zoomed=!1,this.adapt(),this.cache(),t||this.graph._axisHasChanged(this),this.emit("zoomOutFull",[this.options.currentAxisMin,this.options.currentAxisMax,this]),this}getDefaultMin(){var t=this.getInterval();const e=this.getMinValue();return!1===this.getForcedMin()?e-this.options.axisDataSpacing.min*t:e}getDefaultMax(){var t=this.getInterval();const e=this.getMaxValue();return!1===this.getForcedMax()?e+this.options.axisDataSpacing.max*t:e}getInterval(){return this.getMaxValue()-this.getMinValue()}getCurrentInterval(){return this.cachedInterval}getCurrentMin(){return this.cachedCurrentMin}getCurrentMax(){return this.cachedCurrentMax}cacheCurrentMin(){this.cachedCurrentMin=this.options.currentAxisMin==this.options.currentAxisMax?this.options.logScale?this.options.currentAxisMin/10:this.options.currentAxisMin-1:this.options.currentAxisMin}cacheCurrentMax(){this.cachedCurrentMax=this.options.currentAxisMax==this.options.currentAxisMin?this.options.logScale?10*this.options.currentAxisMax:this.options.currentAxisMax+1:this.options.currentAxisMax}cacheInterval(){this.cachedInterval=this.cachedCurrentMax-this.cachedCurrentMin}cache(){this.cacheCurrentMin(),this.cacheCurrentMax(),this.cacheInterval()}setCurrentMin(t){return(void 0===t||!1!==this.getForcedMin()&&(t<this.getForcedMin()||t<this.options.lowestMin||void 0===t))&&(t=this.getMinValue()),this.options.currentAxisMin=t,this.options.logScale&&(this.options.currentAxisMin=Math.max(1e-50,t)),this.cacheCurrentMin(),this.cacheInterval(),this.graph._axisHasChanged(this),this}setCurrentMax(t){(void 0===t||!1!==this.getForcedMax()&&(t>this.getForcedMax()||t>this.options.highestMax||void 0===t))&&(t=this.getMaxValue()),this.options.currentAxisMax=t,this.options.logScale&&(this.options.currentAxisMax=Math.max(1e-50,t)),this.cacheCurrentMax(),this.cacheInterval(),this.graph._axisHasChanged(this)}flip(t){return this.options.flipped=t,this.setMinMaxFlipped(),this}isFlipped(){return this.options.flipped}_draw(){var t=this;let e=0;void 0!==this.options.currentAxisMin&&void 0!==this.options.currentAxisMax||this.setMinMaxToFitSeries(!0);var i=Math.abs(this.getMaxPx()-this.getMinPx()),r=this.getCurrentInterval();if(!this.isShown())return this.line.setAttribute("display","none"),0;let s;if(this.line.setAttribute("display","block"),1==this.options.scientificScale?this.options.scientificScaleExponent?this.scientificExponent=this.options.scientificScaleExponent:this.scientificExponent=Math.floor(Math.log(Math.max(Math.abs(this.getCurrentMax()),Math.abs(this.getCurrentMin())))/Math.log(10)):this.scientificExponent=0,this.gridLinePath.primary="",this.gridLinePath.secondary="",this.options.useKatexForLabel&&this.graph.hasKatexRenderer()){let t=this.getLabel();this.options.unitDecade&&this.options.unit&&0!==this.scientificExponent&&(this.scientificExponent=this.getEngineeringExponent(this.scientificExponent))&&(s=this.getExponentGreekLetter(this.scientificExponent))?(t+=s,this.preunitTspan.innerHTML=s,this.preunitTspan.setAttribute("display","visible"),this.unitTspan.setAttribute("dx","0"),t+=` ${s} ${this.options.unit}`):0===this.scientificExponent||isNaN(this.scientificExponent)||(this.options.engineeringScale&&(this.scientificExponent=this.getEngineeringExponent(this.scientificExponent)),t+=` \\cdot 10^${this.scientificExponent} ${this.options.unit}`),this.katexElement=this.graph.renderWithKatex(t,this.katexElement)}else this.options.unitDecade&&this.options.unit&&0!==this.scientificExponent&&(this.scientificExponent=this.getEngineeringExponent(this.scientificExponent))&&(s=this.getExponentGreekLetter(this.scientificExponent))?(this.preunit=s,this.unitTspan.setAttribute("dx","0")):0===this.scientificExponent||isNaN(this.scientificExponent)?(this.options.unit||this.unitTspan.setAttribute("display","none"),this.preunit="",this.expTspan.setAttribute("display","none"),this.expTspanExp.setAttribute("display","none")):(this.options.engineeringScale&&(this.scientificExponent=this.getEngineeringExponent(this.scientificExponent)),this.preunit="",this.expTspan.setAttribute("display","visible"),this.expTspanExp.setAttribute("display","visible"),this.expTspan.textContent="x10",this.expTspanExp.textContent=this.scientificExponent),this.writeUnit();return this.options.hideTicks?e=0:(this.resetTicksLength(),this.linkedToAxis?(this.linkedToAxis.deltaPx=10,e=this.drawLinkedToAxisTicksWrapper(i,r)):e=this.options.logScale?this.drawLogTicks():this.drawLinearTicksWrapper(i,r)),this.removeUselessTicks(),this.removeUselessTickLabels(),this.gridPrimary.setAttribute("d",this.gridLinePath.primary),this.gridSecondary.setAttribute("d",this.gridLinePath.secondary),this.graph.findAxesLinkedTo(this).forEach((function(e){e.linkedToAxis&&(e.setMinPx(t.getMinPx()),e.setMaxPx(t.getMaxPx()),e.draw())})),e}drawLines(){this.options.lineAt&&Array.isArray(this.options.lineAt)&&this.options.lineAt.forEach(((t,e)=>{!isNaN(t)&&this.getCurrentMin()<=t&&this.getCurrentMax()>=t?this._lines[e]=this._drawLine(t,this._lines[e]):this._hideLine(this._lines[e])}))}writeUnit(){this.options.unit?(this.unitTspan.setAttribute("display","visible"),this.unitTspan.setAttribute("dx","5"),this.unitTspan.innerHTML=(this.options.unitWrapperBefore+this.preunit+this.options.unit+this.options.unitWrapperAfter).replace(/\^([-+0-9]*)(.*)/g,"<tspan dy='-5' font-size='0.7em'>$1</tspan><tspan dy='5' font-size='1em'>$2</tspan>")):this.unitTspan.setAttribute("display","none")}getExponentGreekLetter(t){switch(t){case 3:return"k";case 6:return"M";case 9:return"G";case 12:return"T";case 15:return"E";case-3:return"m";case-6:return"&mu;";case-9:return"n";case-12:return"p";case-15:return"f";default:return""}}drawLinearTicksWrapper(t,e){let i;return this.options.primaryTickUnit?i=this.options.primaryTickUnit:(i=this.getUnitPerTick(t,this.getNbTicksPrimary(),e)[0],this.options.maxPrimaryTickUnit&&this.options.maxPrimaryTickUnit<i?i=this.options.maxPrimaryTickUnit:this.options.minPrimaryTickUnit&&this.options.minPrimaryTickUnit>i&&(i=this.options.minPrimaryTickUnit)),this._primaryTickIncrement=i,this.drawTicks(this._primaryTickIncrement,this.secondaryTicks())}forcePrimaryTickUnit(t){this.options.primaryTickUnit=t,this.decimals=Math.max(0,Math.round(-Math.log(t)/Math.log(10)))}forcePrimaryTickUnitMax(t){this.options.maxPrimaryTickUnit=t}forcePrimaryTickUnitMin(t){this.options.minPrimaryTickUnit=t}getPrimaryTickUnit(){return this.incrTick}setTickLabelRatio(t){return this.options.ticklabelratio=t,this}setTickLabelRotation(t){return this.options.tickLabelRotation=t,this}doesHideWhenNoSeriesShown(){return this.options.hideWhenNoSeriesShown}draw(){this._widthLabels=0;var t=this._draw();return this._widthLabels+=t,t}drawTicks(t,e){var i,r,s,n=t,o=this.getCurrentMin(),a=this.getCurrentMax(),h=0;for(e&&(i=n/e),this._secondaryTickIncrement=i,r=this.options.shiftToZero?this.dataMin-Math.ceil((this.dataMin-o)/n)*n:Math.floor(o/n)*n,this.incrTick=t,this.firstTick=r;r<=a&&!(++h>1e3);){if(e){s=r+i,this.subIncrTick=s;for(var l=0;s<r+n&&Math.abs(s-(r+n))>1e-7&&!(++l>100);)s<o||s>a||this.drawTickWrapper(s,!1,Math.abs(s-r-n/2)<1e-4?2:3),s+=i}r<o||r>a||this.drawTickWrapper(r,!0,1),r+=t}return this.lastTick=r,this.widthHeightTick=this.getMaxSizeTick(),this.widthHeightTick}nextTick(t,e){if(this.ticks[t]=this.ticks[t]||[],this.lastCurrentTick[t]=this.lastCurrentTick[t]||0,this.currentTick[t]=this.currentTick[t]||0,this.currentTick[t]>=this.ticks[t].length){var i=document.createElementNS(this.graph.ns,"line");this.groupTicks.appendChild(i),this.ticks[t].push(i),e(i)}return i=this.ticks[t][this.currentTick[t]],this.currentTick[t]>=this.lastCurrentTick[t]&&i.setAttribute("display","visible"),this.currentTick[t]++,i}nextTickLabel(t){if(this.ticksLabels=this.ticksLabels||[],this.lastCurrentTickLabel=this.lastCurrentTickLabel||0,this.currentTickLabel=this.currentTickLabel||0,this.currentTickLabel>=this.ticksLabels.length){var e=document.createElementNS(this.graph.ns,"text");this.groupTickLabels.appendChild(e),this.ticksLabels.push(e),t(e)}return e=this.ticksLabels[this.currentTickLabel],this.currentTickLabel>=this.lastCurrentTickLabel&&e.setAttribute("display","visible"),this.currentTickLabel++,e}removeUselessTicks(){for(var t in this.currentTick){for(var e=this.currentTick[t];e<this.ticks[t].length;e++)this.ticks[t][e].setAttribute("display","none");this.lastCurrentTick[t]=this.currentTick[t],this.currentTick[t]=0}}removeUselessTickLabels(){for(var t=this.currentTickLabel;t<this.ticksLabels.length;t++)this.ticksLabels[t].setAttribute("display","none");this.lastCurrentTickLabel=this.currentTickLabel,this.currentTickLabel=0}nextGridLine(t,e,i,r,s){(t&&this.options.primaryGrid||!t&&this.options.secondaryGrid)&&(this.gridLinePath[t?"primary":"secondary"]+=`M ${e} ${r} L ${i} ${s}`)}setGridLineStyle(t,e){var i;t.setAttribute("shape-rendering","crispEdges"),t.setAttribute("stroke",e?this.getPrimaryGridColor():this.getSecondaryGridColor()),t.setAttribute("stroke-width",e?this.getPrimaryGridWidth():this.getSecondaryGridWidth()),t.setAttribute("stroke-opacity",e?this.getPrimaryGridOpacity():this.getSecondaryGridOpacity()),(i=e?this.getPrimaryGridDasharray():this.getSecondaryGridDasharray())&&t.setAttribute("stroke-dasharray",i)}setGridLinesStyle(){return this.setGridLineStyle(this.gridPrimary,!0),this.setGridLineStyle(this.gridSecondary,!1),this}resetTicksLength(){}secondaryTicks(){return this.options.nbTicksSecondary}drawLogTicks(){var t=this.getCurrentMin(),e=this.getCurrentMax(),i=Math.min(t,e);e=Math.max(t,e),i<1e-50&&(i=1e-50),Math.log(i)-Math.log(e)>20&&(e=Math.pow(10,20*Math.log(i)));var r={fontSize:"1.0em",exponential:!0,overwrite:!1};i<0&&(i=0);var s,n=0==i?0:Math.floor(Math.log(i)/Math.log(10));for(i=1;(s=i*Math.pow(10,n))<e;)1==i&&s>t&&this.drawTickWrapper(s,!0,1,r),10==i?(i=1,n++):(1!=i&&s>t&&this.drawTickWrapper(s,!1,2,{overwrite:"",fontSize:"0.6em"}),i++);return this.widthHeightTick=this.getMaxSizeTick(),this.widthHeightTick}drawTickWrapper(t,e,i,r){this.drawTick(t,i,r)}linkToAxis(t,e,i){this.linkedToAxis={axis:t,scalingFunction:e,decimals:i||1}}drawLinkedToAxisTicksWrapper(t,e){var i,r,s,n,o=this.linkedToAxis,a=0;o.deltaPx||(o.deltaPx=10);do{if(i=o.scalingFunction(o.axis.getVal(a+this.getMinPx())),o.decimals&&(this.decimals=o.decimals),!(r=this.drawTick(i,1,{},a+this.getMinPx())))throw console.error(i,a,this.getMinPx()),new Error("Unable to draw tick. Please report the test-case");if(s=8*String(r[1].textContent).length,(n=5*Math.round(s/5))>o.deltaPx)return o.deltaPx=n,this.drawLinkedToAxisTicksWrapper(t,e);a+=o.deltaPx}while(a<t)}getPos(t){return this.getPx(t)}getPx(t){if(this.options.logScale){if(t<0)return;return(Math.log(t)-Math.log(this.getCurrentMin()))/(Math.log(this.getCurrentMax())-Math.log(this.getCurrentMin()))*(this.getMaxPx()-this.getMinPx())+this.getMinPx()}return(t-this.getCurrentMin())/this.getCurrentInterval()*(this.getMaxPx()-this.getMinPx())+this.getMinPx()}getRoundedPx(t){return Math.round(10*this.getPx(t))/10}getVal(t){return this.options.logScale?Math.exp((t-this.getMinPx())/(this.getMaxPx()-this.getMinPx())*(Math.log(this.getCurrentMax())-Math.log(this.getCurrentMin()))+Math.log(this.getCurrentMin())):(t-this.getMinPx())/(this.getMaxPx()-this.getMinPx())*this.getCurrentInterval()+this.getCurrentMin()}getRelPx(t){return t/this.getCurrentInterval()*(this.getMaxPx()-this.getMinPx())}getRelVal(t){return t/(this.getMaxPx()-this.getMinPx())*this.getCurrentInterval()}setFormatTickLabel(t){return this.options.formatTickLabel=t,this}valueToText(t,e){if(this.scientificExponent)return(t/=Math.pow(10,this.scientificExponent)).toFixed(1);if(this.options.formatTickLabel)return this.options.formatTickLabel(t);if(t=t*Math.pow(10,this.getExponentialFactor())*Math.pow(10,this.getExponentialLabelFactor()),this.options.shiftToZero&&(t-=this.dataMin),this.options.ticklabelratio&&(t*=this.options.ticklabelratio),this.options.unitModification)return this.modifyUnit(t,this.options.unitModification);var i=this.decimals-this.getExponentialFactor()-this.getExponentialLabelFactor();return isNaN(t)?"":(t=e>0?t.toFixed(e):i>0?t.toFixed(i):t.toFixed(0),this.options.unitInTicks&&this.options.unit&&(t+=` ${this.options.unit}`),t)}valueToHtml(t,e,i,r=0){var s,n=this.valueToText(t,r);return this.options.unitDecade&&this.options.unit&&0!==this.scientificExponent&&(this.scientificExponent=this.getEngineeringExponent(this.scientificExponent))&&(s=this.getExponentGreekLetter(this.scientificExponent))?n+=s:0===this.scientificExponent||isNaN(this.scientificExponent)||e||(n+="x10",n+=`<sup>${this.scientificExponent}</sup>`),this.options.unit&&!i&&(n+=this.options.unit.replace(/\^([-+0-9]*)/g,"<sup>$1</sup>")),n}getModifiedValue(t){return this.options.ticklabelratio&&(t*=this.options.ticklabelratio),this.options.shiftToZero&&(t-=this.getMinValue()*(this.options.ticklabelratio||1)),t}modifyUnit(t,e){var i,r="",s=this.incrTick;switch(e){case"time":var n=this.getModifiedValue(this.getMaxValue()),o=[[60,"min"],[3600,"h"],[86400,"d"]];if(n<3600?i=0:n<86400?i=1:n<2592e3&&(i=2),!o[i])return!1;for(t/=o[i][0],r=(a=Math.floor(t))+o[i][1],i--;s<1*o[i+1][0]&&i>-1;)t=(t-a)*o[i+1][0]/o[i][0],r+=` ${a=Math.round(t)}${o[i][1]}`,i--;break;case"time:min.sec":t/=60,r=`${a=Math.floor(t)}:${h=1==(h=`${Math.round(60*(t-a))}`).length?`0${h}`:h}`;break;case"time:min_dec":var a,h;t/=60,r=`${a=Math.floor(t)}.${h=1==(h=`${Math.round(100*(t-a))}`).length?`0${h}`:h}`}return r}setExponentialFactor(t){return this.options.exponentialFactor=t,this}getExponentialFactor(){return this.options.exponentialFactor}setExponentialLabelFactor(t){return this.options.exponentialLabelFactor=t,this}getExponentialLabelFactor(){return this.options.exponentialLabelFactor}setLabelExponentialFactor(t){return this.options.exponentialLabelFactor=t,this}getLabelExponentialFactor(){return this.options.exponentialLabelFactor}setName(t){return this.options.name=t,this}setLabel(t){return this.options.label=t,this}setLabelFont(t){return this.options.labelFont=t,this}getLabel(){return this.options.label}setSpan(t,e){return this.options.span=[t,e],this}getSpan(){return this.options.span}setLevel(t){return this._level=t,this}getLevel(){return this._level}setShift(t){this.shift=t}getShift(){return this.shift}setTickPosition(t){switch(t){case 3:case"outside":case h.OUTSIDE:t=3;break;case 2:case"centered":case h.CENTERED:t=2;break;case 1:case"inside":case h.INSIDE:default:t=1}switch(this.options.tickPosition=t,this.options.tickPosition){case 3:this.tickPx1=-2,this.tickPx2=0;break;case 2:this.tickPx1=-1,this.tickPx2=1;break;default:this.tickPx1=0,this.tickPx2=2}return this}setGrids(t){return this.options.primaryGrid=t,this.options.secondaryGrid=t,this}setPrimaryGrid(t){return this.options.primaryGrid=t,this}setSecondaryGrid(t){return this.options.secondaryGrid=t,this}primaryGridOn(){return this.setPrimaryGrid(!0)}primaryGridOff(){return this.setPrimaryGrid(!1)}secondaryGridOn(){return this.setSecondaryGrid(!0)}secondaryGridOff(){return this.setSecondaryGrid(!1)}gridsOn(){return this.setGrids(!0)}gridsOff(){return this.setGrids(!1)}turnGridsOff(){return this.gridsOff()}turnGridsOn(){return this.gridsOn()}setColor(t="black"){return this.options.axisColor=t,this.options.primaryTicksColor=t,this.options.secondaryTicksColor=t,this.options.ticksLabelColor=t,this.options.primaryGridColor=t,this.options.secondaryGridColor=t,this.options.labelColor=t,this}setAxisColor(t){return this.options.axisColor=t,this}getAxisColor(){return this.options.axisColor||"black"}setTickLabelOffset(t){return this.options.tickLabelOffset=t,this}setPrimaryTicksColor(t){return this.options.primaryTicksColor=t,this}getPrimaryTicksColor(){return this.options.primaryTicksColor||"black"}setSecondaryTicksColor(t){return this.options.secondaryTicksColor=t,this}getSecondaryTicksColor(){return this.options.secondaryTicksColor||"black"}setTicksLabelColor(t){return this.options.ticksLabelColor=t,Array.isArray(this.ticksLabels)&&this.ticksLabels.forEach((e=>{e.setAttribute("fill",t)})),this}getTicksLabelColor(){return this.options.ticksLabelColor||"black"}setPrimaryGridColor(t){return this.options.primaryGridColor=t,this.setGridLinesStyle(),this}getPrimaryGridColor(){return this.options.primaryGridColor}setSecondaryGridColor(t){return this.options.secondaryGridColor=t,this.setGridLinesStyle(),this}getSecondaryGridColor(){return this.options.secondaryGridColor}setPrimaryGridWidth(t){return this.options.primaryGridWidth=t,this.setGridLinesStyle(),this}getPrimaryGridWidth(){return this.options.primaryGridWidth}setSecondaryGridWidth(t){return this.options.secondaryGridWidth=t,this.setGridLinesStyle(),this}getSecondaryGridWidth(){return this.options.secondaryGridWidth}setPrimaryGridOpacity(t){return this.options.primaryGridOpacity=t,this}getPrimaryGridOpacity(){return this.options.primaryGridOpacity}setSecondaryGridOpacity(t){return this.options.secondaryGridOpacity=t,this}getSecondaryGridOpacity(){return this.options.secondaryGridOpacity}setPrimaryGridDasharray(t){return this.options.primaryGridDasharray=t,this}getPrimaryGridDasharray(){return this.options.primaryGridDasharray}setSecondaryGridDasharray(t){return this.options.secondaryGridDasharray=t,this}getSecondaryGridDasharray(){return this.options.secondaryGridDasharray}setLabelColor(t){return this.options.labelColor=t,this}getLabelColor(){return this.options.labelColor}setTickContent(t,e,i){if(i||(i={}),i.overwrite||!i.exponential)t.textContent=i.overwrite||this.valueToText(e,!1);else{var r=Math.round(Math.log(e)/Math.log(10)),s=Math.floor(e*Math.pow(10,-r));t.textContent=1!=s?`${s}x10`:"10";var n=document.createElementNS(this.graph.ns,"tspan");n.textContent=String(r),n.setAttribute("font-size","0.7em"),n.setAttribute("dy","-5"),t.appendChild(n)}i.fontSize&&t.setAttribute("font-size",i.fontSize)}isX(){return!1}isY(){return!1}setUnit(t){return this.options.unit=t,this}setUnitInTicks(t){return this.options.unitInTicks=t,this}setUnitWrapper(t,e){return this.options.unitWrapperBefore=t,this.options.unitWrapperAfter=e,this}setUnitDecade(t){return this.options.unitDecade=t,this}setScientific(t=!0){return this.options.scientificScale=t,this}setScientificScaleExponent(t){return this.options.scientificScaleExponent=t,this}setEngineering(t){return this.options.scientificScale=t,this.options.engineeringScale=t,this}getEngineeringExponent(t){return t-(t>0?t%3:(3- -t%3)%3)}setLogScale(t){return this.options.logScale=t,this}isZoomed(){return!(this.options.currentAxisMin==this.getMinValue()||this.options.currentAxisMax==this.getMaxValue())}hasAxis(){return!1}getType(){return null}useKatexForLabel(t=!0){return this.options.useKatexForLabel=t,this}}u.prototype.getValue=u.prototype.getVal,u.prototype.getDeltaPx=u.prototype.getRelPx;var c=u;e.default=c},606:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,s=(r=i(9763))&&r.__esModule?r:{default:r};class n extends s.default{constructor(t,e,i={}){super(t,e,i)}set categories(t){return this._barCategories=t,this}draw(){var t,e=this,i=this._barCategories;if(this.series&&0!=this.series.length||this.autoSeries(),this.forceMin(0),this.forceMax(1),this.cacheCurrentMin(),this.cacheCurrentMax(),this.cacheInterval(),i){Array.isArray(i)||(i=[i]);for(var r=0;r<=i.length;r++)this.drawTick(r/i.length,2),r<i.length&&((t=this.nextTickLabel((function(t){t.setAttribute("y",(e.top?-1:1)*((1==e.options.tickPosition?8:20)+(e.top?10:0))),t.setAttribute("text-anchor","middle"),"black"!==e.getTicksLabelColor()&&t.setAttribute("fill",e.getTicksLabelColor()),t.style.dominantBaseline="hanging"}))).setAttribute("x",this.getPos((r+.5)/i.length)),t.textContent=i[r].title);return this.drawSpecifics(),this}}autoSeries(){let t=[];for(let e of this.graph.series)e.getXAxis()==this&&t.push(e);return this.setSeries(...t),this}setSeries(){var t=this;return this.series=arguments,Array.prototype.map.call(this.series,(function(e,i){"object"!=typeof e&&(e=t.graph.getSerie(e)),e.setCategoryConfig&&e.setCategoryConfig(i,t._barCategories,t.series.length)})),this._getUsedCategories(),this}_getUsedCategories(){let t={},e=0;Array.prototype.map.call(this.series,(i=>{let r=i.getUsedCategories();for(let i of r)t.hasOwnProperty(i)||(t[i]=1,e+=1),t[i]++,e++}));let i=0;for(let e in t){let r=t[e];t[e]=i,i+=r}let r={};Array.prototype.map.call(this.series,(i=>{let s=i.getUsedCategories(),n={};s.forEach((i=>{r[i]=r[i]||.5,n[i]=(t[i]+r[i])/e,r[i]++})),i.setDataIndices(n,e)}))}getType(){return"category"}}var o=n;e.default=o},9763:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,s=(r=i(4633))&&r.__esModule?r:{default:r};class n extends s.default{constructor(t,e,i={}){super(t,e,i),this.top="top"==e}getAxisPosition(){if(!this.options.display)return 0;let t;return 0==this.options.tickLabelOffset?(t=1==this.options.tickPosition?8:20,t+=this.graph.options.fontSize):t=1==this.options.tickPosition?0:12,this.getLabel()&&(t+=this.graph.options.fontSize),t}isX(){return!0}isY(){return!1}forceHeight(t){return this.options.forcedHeight=t,this}setShift(t){this.shift=t,void 0===t||isNaN(t)||!this.graph.getDrawingHeight()||isNaN(this.graph.getDrawingHeight())||this.group.setAttribute("transform",`translate(0 ${this.floating?this.getShift():this.top?this.shift:this.graph.getDrawingHeight()-this.shift})`)}getMaxSizeTick(){return(this.top?-1:1)*(this.options.tickPosition,10)}drawTick(t,e,i,r){var s,n=this;if(null==(s=r||this.getPos(t))||isNaN(s))return;var o=this.nextTick(e,(t=>{t.setAttribute("y1",(n.top?1:-1)*n.tickPx1*n.tickScaling[e]),t.setAttribute("y2",(n.top?1:-1)*n.tickPx2*n.tickScaling[e]),1==e?t.setAttribute("stroke",n.getPrimaryTicksColor()):t.setAttribute("stroke",n.getSecondaryTicksColor())}));o.setAttribute("x1",s),o.setAttribute("x2",s),this.nextGridLine(1==e,s,s,0,this.graph.getDrawingHeight());const a=(n.top?-1:1)*((1==n.options.tickPosition?8:20)+(n.top?10:0))+this.options.tickLabelOffset;if(1==e&&this.options.tickLabels){var h=this.nextTickLabel((t=>{t.setAttribute("y",a),t.setAttribute("text-anchor","middle"),"black"!==n.getTicksLabelColor()&&t.setAttribute("fill",n.getTicksLabelColor())}));h.setAttribute("x",s),this.options.tickLabelRotation?(this.options.tickLabelRotation<0?h.setAttribute("text-anchor","end"):h.setAttribute("text-anchor","start"),h.setAttribute("dominant-baseline","middle"),h.setAttribute("transform",`translate( ${s}, ${a} ) rotate(${this.options.tickLabelRotation}) translate( ${-s}, ${-a} )`)):h.setAttribute("dominant-baseline","hanging"),this.setTickContent(h,t,i)}return[o,h]}drawLabel(){"black"!==this.getLabelColor()&&this.label.setAttribute("fill",this.getLabelColor()),this.options.labelFont&&this.label.setAttribute("font-family",this.options.labelFont),this.label.setAttribute("text-anchor","middle"),this.label.setAttribute("style","display: initial;"),this.label.setAttribute("x",Math.abs(this.getMaxPx()+this.getMinPx())/2),this.label.setAttribute("y",(this.top?-1:1)*((1==this.options.tickPosition?10:25)+this.graph.options.fontSize)),this.labelTspan.textContent=this.getLabel()}draw(){var t=super.draw(...arguments);return this.drawSpecifics(),t}drawSpecifics(){this.drawLabel(),this.line.setAttribute("x1",this.getMinPx()),this.line.setAttribute("x2",this.getMaxPx()),this.line.setAttribute("y1",0),this.line.setAttribute("y2",0),this.line.setAttribute("stroke",this.getAxisColor()),this.top||(this.labelTspan.style=this.labelTspan.style||{},this.expTspan.style=this.expTspan.style||{},this.expTspanExp.style=this.expTspanExp.style||{},this.unitTspan.style=this.unitTspan.style||{},this.labelTspan.style.dominantBaseline="hanging",this.expTspan.style.dominantBaseline="hanging",this.expTspanExp.style.dominantBaseline="hanging",this.unitTspan.style.dominantBaseline="hanging");var t=this.getSpan();this.line.setAttribute("marker-start",this.options.splitMarks&&0!=t[0]?`url(#horionzalsplit_${this.graph.getId()})`:""),this.line.setAttribute("marker-end",this.options.splitMarks&&1!=t[1]?`url(#horionzalsplit_${this.graph.getId()})`:"")}_drawLine(t,e){let i=this.getPx(t);return e?e.setAttribute("display","initial"):e=document.createElementNS(this.graph.ns,"line"),e.setAttribute("x1",i),e.setAttribute("x2",i),e.setAttribute("y1",0),e.setAttribute("y2",this.graph.drawingSpaceHeight),e.setAttribute("stroke","black"),this.group.appendChild(e),e}_hideLine(t){t&&t.setAttribute("display","none")}handleMouseMoveLocal(t){t-=this.graph.getPaddingLeft(),this.mouseVal=this.getVal(t)}setMinMaxFlipped(){var t=this.maxPx-this.minPx;if(!isNaN(t)){var e=t*this.options.span[1]+this.minPx-this.options.marginMax,i=t*this.options.span[0]+this.minPx+this.options.marginMin;this.minPxFlipped=this.isFlipped()?e:i,this.maxPxFlipped=this.isFlipped()?i:e}}getZProj(t){return t*this.graph.options.zAxis.shiftX}}var o=n;e.default=o},9291:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,s=(r=i(4633))&&r.__esModule?r:{default:r},n=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=o();if(e&&e.has(t))return e.get(t);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){var n=r?Object.getOwnPropertyDescriptor(t,s):null;n&&(n.get||n.set)?Object.defineProperty(i,s,n):i[s]=t[s]}return i.default=t,e&&e.set(t,i),i}(i(4167));function o(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return o=function(){return t},t}var a,h,l,u,c,p=[{threshold:20,increments:{1:{increment:1,unit:"i",format:'HH"h"MM (dd/mm/yy)'},2:{increment:1,unit:"s",format:'MM:ss"s"'}}},{threshold:50,increments:{1:{increment:1,unit:"i",format:'HH"h"MM (dd/mm/yy)'},2:{increment:2,unit:"s",format:'MM:ss"s"'}}},{threshold:100,increments:{1:{increment:1,unit:"i",format:'HH"h"MM (dd/mm/yy)'},2:{increment:5,unit:"s",format:'MM:ss"s"'}}},{threshold:600,increments:{1:{increment:10,unit:"i",format:'HH"h"MM (dd/mm/yy)'},2:{increment:30,unit:"s",format:'MM:ss"s"'}}},{threshold:1e3,increments:{1:{increment:1,unit:"h",format:'HH"h"MM (dd/mm/yy)'},2:{increment:10,unit:"i",format:'MM"min"'}}},{threshold:1500,increments:{1:{increment:1,unit:"d",format:"dd/mm/yyyy"},2:{increment:1,unit:"i",format:'H"h"MM'}}},{threshold:3e3,increments:{1:{increment:1,unit:"d",format:"dd/mm/yyyy"},2:{increment:2,unit:"i",format:'H"h"MM'}}},{threshold:8e3,increments:{1:{increment:1,unit:"d",format:"dd/mm/yyyy"},2:{increment:10,unit:"i",format:'H"h"MM'}}},{threshold:26400,increments:{1:{increment:1,unit:"d",format:"dd/mm/yyyy"},2:{increment:20,unit:"i",format:'H"h"MM'}}},{threshold:86400,increments:{1:{increment:1,unit:"d",format:"dd/mm/yyyy"},2:{increment:1,unit:"h",format:'H"h"MM'}}},{threshold:2e5,increments:{1:{increment:1,unit:"d",format:"dd/mm/yyyy"},2:{increment:2,unit:"h",format:'H"h"MM'}}},{threshold:4e5,increments:{1:{increment:1,unit:"d",format:"dd/mm/yyyy"},2:{increment:6,unit:"h",format:'H"h"MM'}}},{threshold:14e5,increments:{1:{increment:1,unit:"d",format:"dd/mm/yyyy"},2:{increment:12,unit:"h",format:'HH"h"MM'}}},{threshold:64e5,increments:{1:{increment:1,unit:"m",format:"mmmm yyyy"},2:{increment:1,unit:"d",format:"dd"}}},{threshold:124e5,increments:{1:{increment:1,unit:"m",format:"mmmm yyyy"},2:{increment:2,unit:"d",format:"dd"}}},{threshold:432e5,increments:{1:{increment:1,unit:"m",format:"mmmm yyyy"},2:{increment:7,unit:"d",format:"dd"}}},{threshold:6912e4,increments:{1:{increment:1,unit:"m",format:"mmmm yyyy"},2:{increment:15,unit:"d",format:"dd"}}},{threshold:864e5,increments:{1:{increment:1,unit:"y",format:"yyyy"},2:{increment:3,unit:"m",format:"mm/yyyy"}}},{threshold:1728e5,increments:{1:{increment:1,unit:"y",format:"yyyy"},2:{increment:4,unit:"m",format:"mm/yyyy"}}},{threshold:864e6,increments:{1:{increment:1,unit:"y",format:"yyyy"},2:{increment:6,unit:"m",format:"mm/yyyy"}}},{threshold:10368e5,increments:{1:{increment:1,unit:"y",format:"yyyy"},2:{increment:1,unit:"y",format:"yyyy"}}}],d=(a=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[WLloSZ]|"[^"]*"|'[^']*'/g,h=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,l=/[^-+\dA-Z]/g,u=function(t,e){for(t=String(t),e=e||2;t.length<e;)t=`0${t}`;return t},c=function(t,e){var i=new Date(t[`${e}FullYear`](),0,1);return Math.ceil(((t-i)/864e5+i[`${e}Day`]()+1)/7)},function(t,e,i){var r=d;if(1!=arguments.length||"[object String]"!=Object.prototype.toString.call(t)||/\d/.test(t)||(e=t,t=void 0),t=t?new Date(t):new Date,isNaN(t))throw SyntaxError(`invalid date:${t}`);"UTC:"==(e=String(r.masks[e]||e||r.masks.default)).slice(0,4)&&(e=e.slice(4),i=!0);var s=i?"getUTC":"get",n=t[`${s}Date`](),o=t[`${s}Day`](),p=t[`${s}Month`](),g=t[`${s}FullYear`](),f=t[`${s}Hours`](),y=t[`${s}Minutes`](),m=t[`${s}Seconds`](),x=t[`${s}Milliseconds`](),v=i?0:t.getTimezoneOffset(),b={d:n,dd:u(n),ddd:r.i18n.dayNames[o],dddd:r.i18n.dayNames[o+7],m:p+1,mm:u(p+1),mmm:r.i18n.monthNames[p],mmmm:r.i18n.monthNames[p+12],yy:String(g).slice(2),yyyy:g,h:f%12||12,hh:u(f%12||12),H:f,HH:u(f),M:y,MM:u(y),s:m,ss:u(m),l:u(x,3),L:u(x>99?Math.round(x/10):x),t:f<12?"a":"p",tt:f<12?"am":"pm",T:f<12?"A":"P",TT:f<12?"AM":"PM",Z:i?"UTC":(String(t).match(h)||[""]).pop().replace(l,""),o:(v>0?"-":"+")+u(100*Math.floor(Math.abs(v)/60)+Math.abs(v)%60,4),S:["th","st","nd","rd"][n%10>3?0:(n%100-n%10!=10)*n%10],W:c(t,s)};return e.replace(a,(function(t){return t in b?b[t]:t.slice(1,t.length-1)}))});function g(t,e){return Math.round(t/e)*e}function f(t,e){switch(e.unit){case"s":t.setSeconds(g(t.getSeconds(),e.increment)),t.setMilliseconds(0);break;case"i":t.setMinutes(g(t.getMinutes(),e.increment)),t.setSeconds(0),t.setMilliseconds(0);break;case"h":t.setHours(g(t.getHours(),e.increment)),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0);break;case"d":t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),t.setHours(0),t.setDate(g(t.getDate(),e.increment));break;case"m":t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),t.setHours(0),t.setDate(1),t.setMonth(g(t.getMonth(),e.increment));break;case"y":t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),t.setHours(0),t.setDate(1),t.setMonth(0);break;default:throw new Error("Date format not recognized")}return t}function y(t,e){switch(e.unit){case"s":t.setSeconds(t.getSeconds()+e.increment),t.setMilliseconds(0);break;case"i":t.setMinutes(t.getMinutes()+e.increment),t.setSeconds(0),t.setMilliseconds(0);break;case"h":t.setHours(t.getHours()+e.increment),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0);break;case"d":t.setDate(t.getDate()+e.increment),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),t.setHours(0);break;case"m":t.setMonth(t.getMonth()+e.increment),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),t.setHours(0),t.setDate(1);break;case"y":t.setFullYear(t.getFullYear()+e.increment),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),t.setHours(0),t.setDate(1),t.setMonth(0);break;default:throw new Error("Date format not recognized")}return t}function m(t,e,i){if(t.groups[e][i])return t.groups[e][i].group.setAttribute("display","block"),t.groups[e][i];var r={group:document.createElementNS(t.graph.ns,"g"),text:document.createElementNS(t.graph.ns,"text")},s=document.createElementNS(t.graph.ns,"line");return s.setAttribute("stroke","black"),s.setAttribute("y1",0),2===e?(s.setAttribute("y2",6),r.text.setAttribute("y",15),r.line=s,r.group.appendChild(r.line)):(s.setAttribute("y2",20),r.text.setAttribute("y",10),r.line1=s,r.line2=s.cloneNode(),r.group.appendChild(r.line1),r.group.appendChild(r.line2)),r.text.setAttribute("text-anchor","middle"),r.text.setAttribute("dominant-baseline","middle"),r.group.appendChild(r.text),t.getWrapper(e).appendChild(r.group),t.groups[e][i]=r}function x(t,e,i){for(;i<t.groups[e].length;i++)v(t.groups[e][i])}function v(t){t.group.setAttribute("display","none")}function b(t,e,i,r,s,n,o){if(2===t){if(n<r||n>s)return void v(e);e.line.setAttribute("x1",n),e.line.setAttribute("x2",n),e.text.setAttribute("x",n),e.text.textContent=i}else{var a=Math.max(r,Math.min(s,n)),h=Math.max(r,Math.min(s,o));if(isNaN(h)||isNaN(a))return;for(e.line1.setAttribute("x1",a),e.line2.setAttribute("x1",h),e.line1.setAttribute("x2",a),e.line2.setAttribute("x2",h),e.text.setAttribute("x",(a+h)/2);8*i.length>h-a;)if(1==(i=`${i.substr(0,i.length-2)}.`).length){i="";break}e.text.textContent=i}}d.masks={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"},d.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"]};class _ extends s.default{constructor(){super(...arguments)}init(t,e){super.init(t,e),this.wrapper={1:document.createElementNS(t.ns,"g"),2:document.createElementNS(t.ns,"g")},this.groups={1:[],2:[]};var i=document.createElementNS(t.ns,"rect");i.setAttribute("fill","#c0c0c0"),i.setAttribute("stroke","#808080"),i.setAttribute("height","20"),i.setAttribute("x","0"),i.setAttribute("y","0"),this.rect=i,this.wrapper[1].appendChild(this.rect),this.group.appendChild(this.wrapper[1]),this.group.appendChild(this.wrapper[2]),this.wrapper[1].setAttribute("transform","translate( 0, 25 )"),this.wrapper[2].setAttribute("transform","translate( 0, 00 )")}draw(){this.cacheCurrentMax(),this.cacheCurrentMin(),null!=this.currentAxisMin&&null!=this.currentAxisMax||this.setMinMaxToFitSeries(!0),this.line.setAttribute("x1",this.getMinPx()),this.line.setAttribute("x2",this.getMaxPx()),this.line.setAttribute("y1",0),this.line.setAttribute("y2",0);var t,e=this.maxPx-this.minPx,i=this.getCurrentInterval()/e,r=this.getCurrentMax(),s=this.getCurrentMin();if(this.rect.setAttribute("width",e),this.rect.setAttribute("x",this.minPx),!r||!s)return 0;for(c=0;c<p.length;c++)if(p[c].threshold>i){t=p[c];break}t||(t=p[p.length-1]);var o,a,h,l,u,c,g,v,_=0;for(_=1;_<=2;_++){if(!n.isNumeric(s)){x(this,_,0);break}h=f(new Date(s),t.increments[_]),c=0;do{if(g=h,v=t.increments[_].format,l=d(g,v),u=m(this,_,c),o=this.getPx(h.getTime()),h=y(h,t.increments[_]),a=this.getPx(h.getTime()),b(_,u,l,this.getMinPx(),this.getMaxPx(),o,a),++c>100)break}while(h.getTime()<r);x(this,_,c)}}isX(){return!0}getWrapper(t){return this.wrapper[t]}setShift(t){this.shift=t,this.group.setAttribute("transform",`translate(0 ${this.top?this.shift:this.graph.getDrawingHeight()-this.shift})`)}getAxisPosition(){return 60}setMinMaxFlipped(){var t=this.maxPx-this.minPx,e=t*this.options.span[1]+this.minPx,i=t*this.options.span[0]+this.minPx;this.minPxFlipped=this.isFlipped()?e:i,this.maxPxFlipped=this.isFlipped()?i:e}}var A=_;e.default=A},4083:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,s=(r=i(4633))&&r.__esModule?r:{default:r};class n extends s.default{constructor(t,e,i){super(t,e,i),this.leftright=e,this.left="left"==e}forceWidth(t){return this.options.forcedWidth=t,this}setAxisPosition(t){this.shiftPosition=t}getAxisPosition(){return this.shiftPosition||0}getAdditionalWidth(){let t=0;return this.getLabel()&&(t+=this.graph.options.fontSize),this.isShown()&&(t+=Math.abs(this.tickMargin)),t}isX(){return!1}isY(){return!0}resetTicksLength(){this.longestTick=[!1,0]}getMaxSizeTick(){return this.longestTick&&this.longestTick[0]?this.longestTick[0].getComputedTextLength()+5:0}draw(){this.tickMargin=this.left?-5-this.tickPx1*this.tickScaling[1]:2-this.tickPx1*this.tickScaling[1];var t=super.draw(...arguments);return t+=this.getAdditionalWidth(),this.drawSpecifics(t),this.fullwidthlabel=t,t}equalizePosition(t){return this.placeLabel(this.left?-t:t),this.getLabel()?t+this.graph.options.fontSize:0}drawTick(t,e,i,r){let s,n,o;s=r||this.getPos(t),null==s||isNaN(s)||(n=this.nextTick(e,(t=>{t.setAttribute("x1",(this.left?1:-1)*this.tickPx1*this.tickScaling[e]),t.setAttribute("x2",(this.left?1:-1)*this.tickPx2*this.tickScaling[e]),1==e?t.setAttribute("stroke",this.getPrimaryTicksColor()):t.setAttribute("stroke",this.getSecondaryTicksColor())})),n.setAttribute("y1",s),n.setAttribute("y2",s),this.nextGridLine(1==e,0,this.graph.getDrawingWidth(),s,s),1==e&&this.options.tickLabel&&(o=this.nextTickLabel((t=>{t.setAttribute("x",this.tickMargin+this.options.tickLabelOffset),"black"!==this.getTicksLabelColor()&&t.setAttribute("fill",this.getTicksLabelColor()),this.left?t.setAttribute("text-anchor","end"):t.setAttribute("text-anchor","start"),t.style.dominantBaseline="central"})),o.setAttribute("y",s),this.setTickContent(o,t,i),String(o.textContent).length>=this.longestTick[1]&&(this.longestTick[0]=o,this.longestTick[1]=String(o.textContent).length)))}drawLabel(){"black"!==this.getLabelColor()&&this.label.setAttribute("fill",this.getLabelColor()),this.label.setAttribute("dominant-baseline",(this.left,"auto")),this.labelTspan.textContent=this.getLabel()}placeLabel(t){this.label.setAttribute("transform",`translate(${t}, ${Math.abs(this.getMaxPx()+this.getMinPx())/2}) rotate(-90)`)}drawSpecifics(){this.line.setAttribute("y1",this.getMinPx()),this.line.setAttribute("y2",this.getMaxPx()),this.line.setAttribute("x1",0),this.line.setAttribute("x2",0),this.line.setAttribute("stroke",this.getAxisColor());var t=this.getSpan();this.line.setAttribute("marker-start",this.options.splitMarks&&0!=t[0]?`url(#verticalsplit_${this.graph.getId()})`:""),this.line.setAttribute("marker-end",this.options.splitMarks&&1!=t[1]?`url(#verticalsplit_${this.graph.getId()})`:"")}setShift(t){if(this.shift=t,!this.shift||!this.graph.getWidth())return;let e=this.shift;e=this.floating||this.isLeft()?e:this.graph.getWidth()-this.graph.getPaddingRight()-this.graph.getPaddingLeft()-e,this.group.setAttribute("transform",`translate( ${e} 0 )`),this.drawLabel()}isLeft(){return this.left}isRight(){return!this.left}isFlipped(){return!this.options.flipped}_drawLine(t,e){let i=this.getPx(t);return e?e.setAttribute("display","initial"):e=document.createElementNS(this.graph.ns,"line"),e.setAttribute("y1",i),e.setAttribute("y2",i),e.setAttribute("x1",0),e.setAttribute("x2",this.graph.drawingSpaceWidth),e.setAttribute("stroke","black"),this.group.appendChild(e),e}_hideLine(t){t&&t.setAttribute("display","none")}handleMouseMoveLocal(t,e){e-=this.graph.getPaddingTop(),this.mouseVal=this.getVal(e)}scaleToFitAxis(t,e,i,r,s,n){t&&t.isX()||(t=this.graph.getXAxis()),isNaN(i)&&(i=t.getCurrentMin()),isNaN(r)&&(r=t.getCurrentMax()),void 0===s&&(s=!0),void 0===n&&(n=!0),"number"==typeof e&&(r=i,i=e,e=!1);for(var o=-1/0,a=1/0,h=0,l=0,u=this.graph.series.length;l<u;l++)this.graph.series[l].isShown()&&this.graph.series[l]!=e&&this.graph.series[l].getXAxis()==t&&this.graph.series[l].getYAxis()===this&&(h++,o=n?Math.max(o,this.graph.series[l].getMax(i,r)):0,a=s?Math.min(a,this.graph.series[l].getMin(i,r)):0);if(0==h)this.setMinMaxToFitSeries();else{a=s?a:this.getCurrentMin();var c=(o=n?o:this.getCurrentMax())-a;a-=this.options.axisDataSpacing.min*c,o+=this.options.axisDataSpacing.max*c,this._doZoomVal(a,o)}return this}setMinMaxFlipped(){var t=this.maxPx-this.minPx;if(!isNaN(t)){var e=this.maxPx-t*this.options.span[0]-this.options.marginMin,i=this.maxPx-t*this.options.span[1]+this.options.marginMax;this.minPxFlipped=this.isFlipped()?e:i,this.maxPxFlipped=this.isFlipped()?i:e}}getZProj(t){return t*this.graph.options.zAxis.shiftY}}var o=n;e.default=o},1107:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.nsxlink=e.ns=e.__VERSION__=void 0;var r=u(i(8697)),s=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=l();if(e&&e.has(t))return e.get(t);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){var n=r?Object.getOwnPropertyDescriptor(t,s):null;n&&(n.get||n.set)?Object.defineProperty(i,s,n):i[s]=t[s]}return i.default=t,e&&e.set(t,i),i}(i(4167)),n=u(i(7035)),o=u(i(6871)),a=i(1748),h=i(2513);function l(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return l=function(){return t},t}function u(t){return t&&t.__esModule?t:{default:t}}function c(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}const p="0.0.1";e.__VERSION__=p;const d="http://www.w3.org/2000/svg";e.ns=d;const g="http://www.w3.org/1999/xlink";var f;e.nsxlink=g,function(t){t.TOP="top",t.BOTTOM="bottom",t.LEFT="left",t.RIGHT="right"}(f||(f={}));const y={title:"",paddingTop:30,paddingBottom:5,paddingLeft:20,paddingRight:20,close:{left:!0,right:!0,top:!0,bottom:!0},closeColor:"black",fontSize:12,fontFamily:"Myriad Pro, Helvetica, Arial",plugins:{},pluginAction:{},mouseActions:[],keyActions:[],wheel:{},dblclick:{},shapesUnselectOnClick:!0,shapesUniqueSelection:!0};class m{constructor(t,e,i={[f.TOP]:[],[f.BOTTOM]:[],[f.LEFT]:[],[f.RIGHT]:[]}){for(var r in c(this,"ns",void 0),c(this,"nsxlink",void 0),c(this,"uid",s.guid()),c(this,"wrapper",void 0),c(this,"options",void 0),c(this,"prevented",!1),c(this,"axis",void 0),c(this,"shapes",void 0),c(this,"shapesLocked",!1),c(this,"plugins",void 0),c(this,"selectedShapes",void 0),c(this,"series",void 0),c(this,"_axesHaveChanged",void 0),c(this,"currentAction",void 0),c(this,"height",void 0),c(this,"width",void 0),c(this,"dom",void 0),c(this,"domTitle",void 0),c(this,"sizeSet",void 0),c(this,"_lockUpdate",!1),c(this,"legend",void 0),c(this,"innerHeight",void 0),c(this,"innerWidth",void 0),c(this,"offsetCached",void 0),c(this,"axisGroup",void 0),c(this,"groupPrimaryGrids",void 0),c(this,"groupSecondaryGrids",void 0),c(this,"markerHorizontalSplit",void 0),c(this,"markerVerticalSplit",void 0),c(this,"markerArrow",void 0),c(this,"clip",void 0),c(this,"clipRect",void 0),c(this,"rectEvent",void 0),c(this,"savedAxisState",void 0),c(this,"selectedSerie",void 0),c(this,"toolbar",void 0),c(this,"cancelUnselectShape",void 0),c(this,"layers",void 0),c(this,"plotGroup",void 0),c(this,"bypassHandleMouse",void 0),c(this,"drawn",!1),c(this,"closingLines",void 0),c(this,"graphingZone",void 0),c(this,"forcedPlugin",void 0),c(this,"activePlugin",void 0),c(this,"zAxis",void 0),c(this,"groupGrids",void 0),c(this,"groupEvent",void 0),c(this,"_sizeChanged",!1),c(this,"drawingSpaceWidth",void 0),c(this,"drawingSpaceHeight",void 0),c(this,"drawingSpaceMinX",void 0),c(this,"drawingSpaceMinY",void 0),c(this,"drawingSpaceMaxX",void 0),c(this,"drawingSpaceMaxY",void 0),c(this,"trackingLineShape",void 0),c(this,"_katexRenderer",void 0),c(this,"vertLineArrow",void 0),c(this,"defs",void 0),c(this,"_trackingLegend",void 0),this.ns=d,this.nsxlink=g,t!==Object(t)||t instanceof HTMLElement||(e=t,t=void 0),e||(e={}),e.axes||(e.axes=i),this.options=s.extend({},y,e),this.dom=document.createElementNS(d,"svg"),t&&this.setWrapper(t),this.axis={[f.LEFT]:[],[f.TOP]:[],[f.BOTTOM]:[],[f.RIGHT]:[]},this.shapes=[],this.shapesLocked=!1,this.plugins={},this.options.pluginAction)this.options.pluginAction.plugin=r,this.options.mouseActions.push(this.options.pluginAction);if(this.selectedShapes=[],this.series=[],this._axesHaveChanged=!0,this.options.hasOwnProperty("padding")&&s.isNumeric(this.options.padding)&&(this.options.paddingTop=this.options.paddingBottom=this.options.paddingLeft=this.options.paddingRight=this.options.padding),this.currentAction=!1,e.axes)for(var r in e.axes)for(var n=0,o=e.axes[r].length;n<o;n++)switch(r){case"top":this.getTopAxis(n,e.axes[r][n]);break;case"left":this.getLeftAxis(n,e.axes[r][n]);break;case"right":this.getRightAxis(n,e.axes[r][n]);break;case"bottom":this.getBottomAxis(n,e.axes[r][n])}this._pluginsInit(),this.dom.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),s.setAttributeTo(this.dom,{xmlns:d,"font-family":this.options.fontFamily,"font-size":this.options.fontSize});try{s.setAttributeTo(this.dom,{"data-jsgraph-version":p})}catch(t){}this.defs=document.createElementNS(d,"defs"),this.dom.appendChild(this.defs),this.groupEvent=document.createElementNS(d,"g"),this.rectEvent=document.createElementNS(d,"rect"),s.setAttributeTo(this.rectEvent,{"pointer-events":"fill",fill:"transparent"}),this.groupEvent.appendChild(this.rectEvent),this.dom.appendChild(this.groupEvent),this.domTitle=document.createElementNS(d,"text"),this.setTitle(this.options.title),this.options.titleFontSize&&this.setTitleFontSize(this.options.titleFontSize),this.options.titleFontColor&&this.setTitleFontSize(this.options.titleFontColor),this.options.titleFontFamily&&this.setTitleFontFamily(this.options.titleFontFamily),s.setAttributeTo(this.domTitle,{"text-anchor":"middle",y:20}),this.groupEvent.appendChild(this.domTitle),this.graphingZone=document.createElementNS(d,"g"),this.updateGraphingZone(),this.groupEvent.appendChild(this.graphingZone),this.axisGroup=document.createElementNS(d,"g"),this.graphingZone.appendChild(this.axisGroup),this.groupGrids=document.createElementNS(d,"g"),this.groupGrids.setAttribute("clip-path","url(#_clipplot"+this.uid+")"),this.groupPrimaryGrids=document.createElementNS(d,"g"),this.groupSecondaryGrids=document.createElementNS(d,"g"),this.axisGroup.appendChild(this.groupGrids),this.groupGrids.appendChild(this.groupSecondaryGrids),this.groupGrids.appendChild(this.groupPrimaryGrids),this.plotGroup=document.createElementNS(d,"g"),this.graphingZone.appendChild(this.plotGroup),this.layers=[],this._makeClosingLines(),this.clip=document.createElementNS(d,"clipPath"),this.clip.setAttribute("id",`_clipplot${this.uid}`),this.defs.appendChild(this.clip),this.clipRect=document.createElementNS(d,"rect"),this.clip.appendChild(this.clipRect),this.clip.setAttribute("clipPathUnits","userSpaceOnUse"),this.markerArrow=document.createElementNS(d,"marker"),this.markerArrow.setAttribute("viewBox","0 0 10 10"),this.markerArrow.setAttribute("id",`arrow${this.uid}`),this.markerArrow.setAttribute("refX","6"),this.markerArrow.setAttribute("refY","5"),this.markerArrow.setAttribute("markerUnits","strokeWidth"),this.markerArrow.setAttribute("markerWidth","8"),this.markerArrow.setAttribute("markerHeight","6"),this.markerArrow.setAttribute("orient","auto");var a,h=document.createElementNS(d,"path");h.setAttribute("d","M 0 0 L 10 5 L 0 10 z"),this.markerArrow.appendChild(h),this.defs.appendChild(this.markerArrow),this.markerHorizontalSplit=document.createElementNS(d,"marker"),this.markerHorizontalSplit.setAttribute("viewBox","0 0 6 8"),this.markerHorizontalSplit.setAttribute("id",`horionzalsplit_${this.getId()}`),this.markerHorizontalSplit.setAttribute("refX","3"),this.markerHorizontalSplit.setAttribute("refY","4"),this.markerHorizontalSplit.setAttribute("markerUnits","strokeWidth"),this.markerHorizontalSplit.setAttribute("markerWidth","6"),this.markerHorizontalSplit.setAttribute("markerHeight","8"),(a=document.createElementNS(d,"line")).setAttribute("x1","0"),a.setAttribute("y1","8"),a.setAttribute("x2","6"),a.setAttribute("y2","0"),a.setAttribute("stroke","black"),this.markerHorizontalSplit.appendChild(a),this.defs.appendChild(this.markerHorizontalSplit),this.markerVerticalSplit=document.createElementNS(d,"marker"),this.markerVerticalSplit.setAttribute("viewBox","0 0 8 6"),this.markerVerticalSplit.setAttribute("id",`verticalsplit_${this.getId()}`),this.markerVerticalSplit.setAttribute("refX","4"),this.markerVerticalSplit.setAttribute("refY","3"),this.markerVerticalSplit.setAttribute("markerUnits","strokeWidth"),this.markerVerticalSplit.setAttribute("markerWidth","8"),this.markerVerticalSplit.setAttribute("markerHeight","6"),(a=document.createElementNS(d,"line")).setAttribute("x1","0"),a.setAttribute("y1","0"),a.setAttribute("x2","8"),a.setAttribute("y2","6"),a.setAttribute("stroke","black"),this.markerVerticalSplit.appendChild(a),this.defs.appendChild(this.markerVerticalSplit),this.vertLineArrow=document.createElementNS(d,"marker"),this.vertLineArrow.setAttribute("viewBox","0 0 10 10"),this.vertLineArrow.setAttribute("id",`verticalline${this.uid}`),this.vertLineArrow.setAttribute("refX","0"),this.vertLineArrow.setAttribute("refY","5"),this.vertLineArrow.setAttribute("markerUnits","strokeWidth"),this.vertLineArrow.setAttribute("markerWidth","20"),this.vertLineArrow.setAttribute("markerHeight","10"),this.vertLineArrow.setAttribute("orient","auto"),this.vertLineArrow.setAttribute("stroke-width","1px");var l=document.createElementNS(d,"path");l.setAttribute("d","M 0 -10 L 0 10"),l.setAttribute("stroke","black"),this.vertLineArrow.appendChild(l),this.defs.appendChild(this.vertLineArrow),this.plotGroup.setAttribute("clip-path","url(#_clipplot"+this.uid+")"),this.bypassHandleMouse=!1}setWrapper(t){if("string"==typeof t&&(t=document.getElementById(t)),!t)throw new Error("The wrapper DOM element was not found.");if(!t.appendChild)throw new Error("The wrapper appears to be an invalid HTMLElement");if(t.style.userSelect="none",t.style.position="relative",t.style.outline="none",this.wrapper=t,!this.height||!this.width){var e=getComputedStyle(t),i=parseInt(e.width,10),r=parseInt(e.height,10);this.setSize(i,r),this._resize()}t.appendChild(this.dom),this._registerEvents()}_registerEvents(){if(!this.wrapper)throw"No wrapper exists. Cannot register the events.";this.dom.setAttribute("tabindex","0"),this.dom.addEventListener("keydown",(t=>{v(this,t,"keydown")})),this.dom.addEventListener("keypress",(t=>{v(this,t,"keypress")})),this.dom.addEventListener("keyup",(t=>{v(this,t,"keyup")})),this.dom.addEventListener("mousemove",(t=>{const e=this._getXY(t);!function(t,e,i,r){if(t.bypassHandleMouse)return void t.bypassHandleMouse.handleMouseMove(r);if(t.activePlugin&&t._pluginExecute(t.activePlugin,"onMouseMove",[t,e,i,r]))return;let s,n=e;var o;if(t._applyToAxes("handleMouseMove",[e-t.options.paddingLeft,r],!0,!1),t._applyToAxes("handleMouseMove",[i-t.options.paddingTop,r],!1,!0),!t.activePlugin&&t.options.trackingLine&&t.options.trackingLine.enable)if("common"==t.options.trackingLine.mode&&t.options.trackingLine.snapToSerie){var a=t.options.trackingLine.snapToSerie;o=a.handleMouseMove(!1,!0),t.trackingLineShape&&(o?(t.trackingLineShape.show(),t.trackingLineShape.getPosition(0).x=o.xClosest,t.trackingLineShape.getPosition(1).x=o.xClosest,t.trackingLineShape.redraw(),s=o.xClosest,n=a.getXAxis().getPx(o.xClosest)+t.options.paddingLeft):t.trackingLineShape.hide());var h=t.options.trackingLine.series;if(!h)return;if(!o)return;t._trackingLegend=_(t,h,n,i,t._trackingLegend)}else if("individual"==t.options.trackingLine.mode){const s=[];t.options.trackingLine.series.forEach((n=>{if(!n.options.tracking)return;const o=n.getClosestPointToXY(n.getXAxis().getMouseVal(),n.getYAxis().getMouseVal(),n.options.tracking.withinPx,n.options.tracking.withinPx,n.options.tracking.useAxis,!0);"common"==t.options.trackingLine.legendType&&(n._trackingLegend=_(t,[],!1,!1,n._trackingLegend)),o?n.trackingShape&&(n.trackingShape.show(),n.trackingShape.setPosition({x:o.xClosest,y:o.yClosest}),n.trackingShape.redraw(),"independent"==t.options.trackingLine.legendType&&(n._trackingLegend=_(t,[{serie:n,closestPoint:o}],e,i,n._trackingLegend)),n.emit("track",r,o)):n.trackingShape&&(n.trackingShape.hide(),"independent"==t.options.trackingLine.legendType&&(n._trackingLegend=_(t,[],!1,!1,n._trackingLegend))),o&&s.push({serie:n,closestPoint:o})})),"common"==t.options.trackingLine.legendType?t._trackingLegend=_(t,s,e,i,t._trackingLegend):t._trackingLegend=_(t,[],!1,!1,t._trackingLegend)}if(t.options.mouseMoveData){const e={};for(let i=0;i<t.series.length;i++){let r=t.series[i];r.options.tracking?e[t.series[i].getName()]=t.series[i].getClosestPointToXY(void 0,void 0,r.options.tracking.withinPxX||0,r.options.tracking.withinPxY||0,r.options.tracking.useAxis,!0):console.warn("Tracking not enabled for this serie")}"function"==typeof t.options.mouseMoveData&&t.options.mouseMoveData.call(t,r,e),t.emit("mouseMoveData",r,e)}b(t,r,[t,e,i,r],"onMouseMove")}(this,e.x,e.y,t)})),this.dom.addEventListener("mouseleave",(t=>{this.options.handleMouseLeave&&this.options.handleMouseLeave.call(this)})),this.groupEvent.addEventListener("mousedown",(t=>{if(this.focus(),3!=t.which&&!t.ctrlKey){var e=this._getXY(t);!function(t,e,i,r){if(t.forcedPlugin)return t.activePlugin=t.forcedPlugin,void t._pluginExecute(t.forcedPlugin,"onMouseDown",[t,e,i,r]);t.activePlugin&&(t.activePlugin=void 0),b(t,r,[t,e,i,r],"onMouseDown")}(this,e.x,e.y,t)}})),this.dom.addEventListener("mouseup",(t=>{this.emit("mouseUp",t);const e=this._getXY(t);!function(t,e,i,r){if(t.bypassHandleMouse)return t.bypassHandleMouse.handleMouseUp(r),void(t.activePlugin=void 0);t.activePlugin&&t._pluginExecute(t.activePlugin,"onMouseUp",[t,e,i,r]),t.activePlugin=void 0}(this,e.x,e.y,t)})),this.wrapper.addEventListener("mouseup",(t=>{t.stopPropagation()})),this.dom.addEventListener("dblclick",(t=>{this.emit("dblClick",t);const e=this._getXY(t);!function(t,e,i,r){b(t,r,[e,i,r],"onDblClick")}(this,e.x,e.y,t)})),this.groupEvent.addEventListener("click",(t=>{if(3!=t.which&&!t.ctrlKey){var e=this._getXY(t);this.prevent(!1)||function(t,e,i,r){t.emit("click",[t,e,i,r]),b(t,r,[e,i,r],"onClick"),r.target.jsGraphIsShape||t.prevent(!1)||!t.options.shapesUnselectOnClick||t.unselectShapes(!1)}(this,e.x,e.y,t)}})),this.groupEvent.addEventListener("wheel",(t=>{const e=this._getXY(t);return function(t,e,i,r,s){b(t,s,[e,s,i,r],"onMouseWheel")&&(s.preventDefault(),s.stopPropagation())}(this,-t.deltaY,e.x,e.y,t),!1}))}getDom(){return this.dom}getId(){return this.uid}getWrapper(){if(!this.wrapper)throw"Wrapper does not exist";return this.wrapper}setOption(t,e){return this.options[t]=e,this}setTitle(t){this.options.title=t,this.domTitle.textContent=t}setTitleFontSize(t){this.domTitle.setAttribute("font-size",t)}setTitleFontColor(t){this.domTitle.setAttribute("fill",t)}setTitleFontFamily(t){this.domTitle.setAttribute("font-family",t)}displayTitle(){this.domTitle.setAttribute("display","inline")}hideTitle(){this.domTitle.setAttribute("display","none")}hide(){"none"!==this.dom.style.display&&(this.dom.style.display="none")}show(){"none"==this.dom.style.display&&(this.dom.style.display="initial")}redraw(t,e){return!(!this.width||!this.height||(this.sizeSet?!t||e||(i=this._axesHaveChanged,this._axesHaveChanged=!1,i)||function(t){var e=t._sizeChanged;return t._sizeChanged=!1,e}(this)?(this.executeRedrawSlaves(),this.refreshDrawingZone(),0):(this.executeRedrawSlaves(),1):(this._resize(),this.executeRedrawSlaves(),0)));var i}executeRedrawSlaves(){this._pluginsExecute("preDraw")}draw(t=!1){this.drawn=!0,this.updateLegend(!0),this.drawSeries(this.redraw(!0,t)),this._pluginsExecute("postDraw")}delayUpdate(){return this._lockUpdate=!0,this}doUpdate(){return this.legend&&this.legend.update(),this.draw(),this.legend&&this.legend.update(),this}resumeUpdate(){return this._lockUpdate=!1,this}isDelayedUpdate(){return this._lockUpdate}setWidth(t,e){this.width=t,e||this._resize()}setHeight(t,e){this.height=t,e||this._resize()}resize(t,e){return t&&e&&this.setSize(t,e),this._resize(),this}setSize(t,e){this.setWidth(t,!0),this.setHeight(e,!0),this.getDrawingHeight(),this.getDrawingWidth()}getWidth(){return this.width}getHeight(){return this.height}getPaddingTop(){return this.options.paddingTop}getPaddingLeft(){return this.options.paddingLeft}getPaddingBottom(){return this.options.paddingBottom}getPaddingRight(){return this.options.paddingRight}getDrawingHeight(t=!0){return t&&this.innerHeight?this.innerHeight:this.innerHeight=this.height-this.options.paddingTop-this.options.paddingBottom}getDrawingWidth(t=!0){return t&&this.innerWidth?this.innerWidth:this.innerWidth=this.width-this.options.paddingLeft-this.options.paddingRight}cacheOffset(){this.offsetCached=s.getOffset(this.wrapper)}uncacheOffset(){this.offsetCached=!1}getNumAxes(t){return this.axis[t].length}getXAxis(t=0,e={}){return this.axis[f.TOP].length>0&&0==this.axis[f.BOTTOM].length?this.getTopAxis(t,e):this.getBottomAxis(t,e)}getYAxis(t=0,e={}){return this.axis[f.RIGHT].length>0&&0==this.axis[f.LEFT].length?this.getRightAxis(t,e):this.getLeftAxis(t,e)}getTopAxis(t=0,e={}){return this._getAxis(t,e,f.TOP)}getBottomAxis(t=0,e={}){return this._getAxis(t,e,f.BOTTOM)}getLeftAxis(t=0,e={}){return this._getAxis(t,e,f.LEFT)}getRightAxis(t=0,e={}){return this._getAxis(t,e,f.RIGHT)}setXAxis(t,e){this.setBottomAxis(t,e)}setYAxis(t,e){this.setLeftAxis(t,e)}setLeftAxis(t,e){e=e||0,this.axis[f.LEFT][e]&&this.axis[f.LEFT][e].kill(),this.axis[f.LEFT][e]=t}setRightAxis(t,e){e=e||0,this.axis[f.RIGHT][e]&&this.axis[f.RIGHT][e].kill(),this.axis[f.RIGHT][e]=t}setTopAxis(t,e){e=e||0,this.axis[f.TOP][e]&&this.axis[f.TOP][e].kill(),this.axis[f.TOP][e]=t}setBottomAxis(t,e){e=e||0,this.axis[f.BOTTOM][e]&&this.axis[f.BOTTOM][e].kill(),this.axis[f.BOTTOM][e]=t}killAxis(t,e=!1,i=!1){var r;t.isX()&&((r=this.axis[f.BOTTOM].indexOf(t))>-1&&this.axis[f.BOTTOM].splice(r,1),(r=this.axis[f.TOP].indexOf(t))>-1&&this.axis[f.TOP].splice(r,1),i||this.series.forEach((e=>{e.getXAxis()==t&&e.kill()}))),t.isY()&&((r=this.axis[f.LEFT].indexOf(t))>-1&&this.axis[f.LEFT].splice(r,1),(r=this.axis[f.RIGHT].indexOf(t))>-1&&this.axis[f.RIGHT].splice(r,1),i||this.series.forEach((e=>{e.getYAxis()==t&&e.kill()}))),this.axisGroup.removeChild(t.group),this.groupPrimaryGrids.removeChild(t.gridPrimary),this.groupSecondaryGrids.removeChild(t.gridSecondary),e||this.draw(!0)}hasXAxis(t){return this.hasTopAxis(t)||this.hasBottomAxis(t)}hasYAxis(t){return this.hasLeftAxis(t)||this.hasRightAxis(t)}hasTopAxis(t){return this.hasAxis(t,this.axis[f.TOP])}hasBottomAxis(t){return this.hasAxis(t,this.axis[f.BOTTOM])}hasLeftAxis(t){return this.hasAxis(t,this.axis[f.LEFT])}hasRightAxis(t){return this.hasAxis(t,this.axis[f.RIGHT])}hasAxis(t,e){for(var i=0,r=e.length;i<r;i++){if(e[i]==t)return!0;if(e[i].hasAxis(t))return!0}return!1}autoscaleAxes(){return this._applyToAxes("setMinMaxToFitSeries",null,!0,!0),this}autoscale(){return this.autoscaleAxes()}autoScale(){return this.autoscaleAxes()}autoScaleAxes(){return this.autoscaleAxes()}autoScaleAxis(t){return t?(t.setMinMaxToFitSeries(),this):this}gridsOff(){this._applyToAxes((t=>{t.gridsOff()}),void 0,!0,!0)}gridsOn(){this._applyToAxes((t=>{t.gridsOn()}),void 0,!0,!0)}setBackgroundColor(t){return this.rectEvent.setAttribute("fill",t),this}getAxisState(){var t={[f.TOP]:[],[f.BOTTOM]:[],[f.LEFT]:[],[f.RIGHT]:[]};for(let e in f){const i=this.axis[e].map((function(t){return[t.getCurrentMin(),t.getCurrentMax()]}));t[e]=i}return t}setAxisState(t){var e,i;for(var r in t)if(this.axis[r])for(e=0,i=t[r].length;e<i;e++)this.axis[r][e]&&(this.axis[r][e].setCurrentMin(t[r][e][0]),this.axis[r][e].setCurrentMax(t[r][e][1]));this.draw()}saveAxisState(t){return this.savedAxisState=this.savedAxisState||{},this.savedAxisState[t]=this.getAxisState(),this}recallAxisState(t){return this.savedAxisState[t]&&this.recallAxisState(this.savedAxisState[t]),this}_applyToAxis(t){switch(t){case"string":return(t,e,i)=>{for(var r=0;r<this.axis[t].length;r++)this.axis[t][r][e].apply(this.axis[t][r],i)};case"function":return(t,e,i)=>{for(var r=0;r<this.axis[t].length;r++)e.call(this,this.axis[t][r],t,i)};default:throw new Error("You must either execute a function or provide a string that registers a function")}}getBoundaryAxis(t,e,i){return this.getBoundaryAxisFromSeries(t,e,i)}getBoundaryAxisFromSeries(t,e,i){var r,s,n,o,a,h,l="min"==e,u=(t.isX()?["getMinX","getMaxX"]:["getMinY","getMaxY"])[l?0:1],c=l?1/0:-1/0;for(r=c,a=0,h=(n=this.getSeriesFromAxis(t)).length;a<h;a++)(s=n[a]).isShown()&&(o=s[u](i),r=Math[e](isNaN(r)?c:r,isNaN(o)?c:o));return r}getSeriesFromAxis(t){for(var e=[],i=this.series.length-1;i>=0;i--)this.series[i].getXAxis()!=t&&this.series[i].getYAxis()!=t||e.push(this.series[i]);return e}updateDataMinMaxAxes(t){var e,i;for(let r in this.axis){let s=r;for(i=this.axis[s].length-1;i>=0;i--){e=this.axis[s][i];let r=this.getBoundaryAxis(this.axis[s][i],"min",t),n=this.getBoundaryAxis(this.axis[s][i],"max",t);isFinite(n)&&e.setMaxValueData(n),isFinite(r)&&e.setMinValueData(r)}}}_applyToAxes(t,e,i=!1,r=!1){var s,n=[],o=0;for((i||null==i)&&(n.push("top"),n.push("bottom")),(r||null==r)&&(n.push("left"),n.push("right")),s=n.length;o<s;o++)this._applyToAxis(typeof t).call(this,n[o],t,e)}findAxesLinkedTo(t){var e=[];return this._applyToAxes((function(i){i.linkedToAxis&&i.linkedToAxis.axis==t&&e.push(i)}),{},t instanceof this.getConstructor("graph.axis.x"),t instanceof this.getConstructor("graph.axis.y")),e}_axisHasChanged(t){this._axesHaveChanged=!0}newSerie(t,e,i){let r;return"object"==typeof e||i||(i=e,e={}),i||(i=h.SERIE_TYPE.LINE),(r=this.getSerie(t))||(r=new(this.getConstructor(i))(this,t,e),this.appendSerieToDom(r),this.series.push(r),this.emit("newSerie",r)),r}emit(t,...e){throw new Error("Method not implemented.")}getSerie(t){if("number"==typeof t)return this.series[t]||!1;"function"==typeof t&&(t=t());for(var e=0,i=this.series.length;e<i;e++)if(this.series[e].getName()==t||this.series[e]==t)return this.series[e];return!1}getSeries(){return this.series}allSeries(...t){return this.series.filter((e=>t.includes(e.getType())))}sortSeries(t){return this.series.sort(t),this}drawSerie(t,e){if(!t.draw)throw new Error("Serie has no method draw");t.draw(e)}drawSeries(t){if(this.width&&this.height)for(var e=this.series.length-1;e>=0;e--)this.series[e].isShown()&&this.drawSerie(this.series[e],t)}resetSeries(){this.removeSeries()}killSeries(){this.resetSeries()}killLegend(){this.legend&&this.legend.kill(),this.legend=void 0}killShapes(){this.shapes.forEach((t=>{t.kill(!1)}))}removeSeries(){for(;this.series[0];)this.series[0].kill(!0);this.series=[],this.legend&&this.legend.update()}selectSerie(t,e){"object"!=typeof t&&(t=this.getSerie(t)),this.selectedSerie==t&&this.selectedSerie.selectionType==e||(this.selectedSerie!==t&&this.selectedSerie?this.unselectSerie(this.selectedSerie):(this.selectedSerie=t,this.triggerEvent("onSelectSerie",t),t.select(e||"selected")))}getSelectedSerie(){return this.selectedSerie}unselectSerie(t){t.unselect(),this.selectedSerie=!1,this.triggerEvent("onUnselectSerie",t)}getShapesOfSerie(t){for(var e=[],i=this.shapes.length-1;i>=0;i--)this.shapes[i].getSerie()==t&&e.push(this.shapes[i]);return e}makeToolbar(t){var e=this.getConstructor("graph.toolbar");return this.toolbar=new e(this,t)}getShapes(){return this.shapes||[]}newShape(t,e,i=!1,n={}){if(this.prevent(!1),!i&&(this.emit("beforeNewShape",e),this.prevent(!1)))return!1;var o;if("object"==typeof t&&(i=e,t=(e=t).type),(e=e||{})._id=s.guid(),!(o="function"==typeof t?t:this.getConstructor(`graph.shape.${t}`)))return s.throwError("No constructor for this shape");var a=new o(this,e);if(!a)return s.throwError("Failed to construct shape.");if(a.type=t,a.graph=this,a._data=e,void 0!==e.properties&&a.setProperties(e.properties),a.init(this,n,!!n&&n.simplified),void 0!==e.props)for(var h in e.props)a.setProp(h,e.props[h]);if(e.position)for(var l=0,u=e.position.length;l<u;l++)a.setPosition(new r.default(e.position[l]),l);if(void 0!==e.fillColor&&a.setFillColor(e.fillColor),void 0!==e.fillOpacity&&a.setFillOpacity(e.fillOpacity),void 0!==e.strokeColor&&a.setStrokeColor(e.strokeColor),void 0!==e.strokeWidth&&a.setStrokeWidth(e.strokeWidth),void 0!==e.layer&&a.setLayer(e.layer),1==e.locked&&a.lock(),1==e.movable&&a.movable(),1==e.selectable&&a.selectable(),1==e.resizable&&a.resizable(),void 0!==e.attributes&&a.setProp("attributes",e.attributes),void 0!==e.handles&&a.setProp("handles",e.handles),void 0!==e.selectOnMouseDown&&a.setProp("selectOnMouseDown",!0),void 0!==e.selectOnClick&&a.setProp("selectOnClick",!0),void 0!==e.transforms&&Array.isArray(e.transforms)&&e.transforms.forEach((({type:t,value:e})=>{a.addTransform(t,e)})),void 0!==e.highlightOnMouseOver&&a.setProp("highlightOnMouseOver",!0),e.labelEditable&&a.setProp("labelEditable",e.labelEditable),e.labels&&!e.label&&(e.label=e.labels),void 0!==e.label)for(Array.isArray(e.label)||(e.label=[e.label]),l=0,u=e.label.length;l<u;l++)a.showLabel(l),a.setLabelText(e.label[l].text,l),a.setLabelPosition(e.label[l].position,l),a.setLabelColor(e.label[l].color||"black",l),a.setLabelSize(e.label[l].size,l),a.setLabelAngle(e.label[l].angle||0,l),a.setLabelBaseline(e.label[l].baseline||"no-change",l),a.setLabelAnchor(e.label[l].anchor||"start",l),a.setLabelBackgroundColor(e.label[l].backgroundColor||"transparent",l),a.setLabelBackgroundOpacity(e.label[l].backgroundOpacity||1,l);return e.serie&&a.setSerie(this.getSerie(e.serie)),a.createHandles(),a.applyStyle(),this.shapes.push(a),i||this.emit("newShape",a,e),a}newPosition(){return new r.default(...arguments)}redrawShapes(){for(var t=0,e=this.shapes.length;t<e;t++)this.shapes[t].redraw()}removeShapes(){for(var t=0,e=this.shapes.length;t<e;t++)this.shapes[t]&&this.shapes[t].kill&&this.shapes[t].kill(!0);this.shapes=[]}selectShape(t,e){if(t){if(this.selectedShapes.indexOf(t)>-1)return!1;if(!t.isSelectable())return!1;e||this.emit("beforeShapeSelect",t),this.prevent(!1)||(this.selectedShapes.length>0&&this.options.shapesUniqueSelection&&this.unselectShapes(e),t._select(e),this.selectedShapes.push(t),e||this.emit("shapeSelect",t))}}getSelectedShapes(){return this.selectedShapes}unselectShape(t,e){-1!=this.selectedShapes.indexOf(t)&&(e||this.emit("beforeShapeUnselect",t),this.cancelUnselectShape?this.cancelUnselectShape=!1:(t._unselect(),this.selectedShapes.splice(this.selectedShapes.indexOf(t),1),e||this.emit("shapeUnselect",t)))}unselectShapes(t){for(;this.selectedShapes[0];)this.unselectShape(this.selectedShapes[0],t);return this}_removeShape(t){this.shapes.splice(this.shapes.indexOf(t),1)}appendShapeToDom(t){this.wrapper&&(t.isHTML()&&this.wrapper.insertBefore(t._dom,this.dom),this.getLayer(t.getLayer(),"shape").appendChild(t.simplified?t._dom:t.group))}removeShapeFromDom(t){this.wrapper&&(t.isHTML()&&this.wrapper.removeChild(t._dom),this.getLayer(t.getLayer(),"shape").removeChild(t.group))}appendSerieToDom(t){this.getLayer(t.getLayer(),"serie").appendChild(t.groupMain)}removeSerieFromDom(t){this.getLayer(t.getLayer(),"serie").removeChild(t.groupMain)}getLayer(t,e){if(!this.layers[t]){this.layers[t]=[],this.layers[t][0]=document.createElementNS(d,"g"),this.layers[t][0].setAttribute("data-layer",t),this.layers[t][1]=document.createElementNS(d,"g"),this.layers[t][2]=document.createElementNS(d,"g"),this.layers[t][0].appendChild(this.layers[t][1]),this.layers[t][0].appendChild(this.layers[t][2]);for(var i,r=1;!(i=this.layers[t-r])&&t-r>=0;)r++;i?i.nextSibling?this.plotGroup.insertBefore(this.layers[t][0],i.nextSibling):this.plotGroup.appendChild(this.layers[t][0]):this.plotGroup.insertBefore(this.layers[t][0],this.plotGroup.firstChild)}return this.layers[t]["shape"==e?2:1]}focus(){this.wrapper&&this.wrapper.focus()}elementMoving(t){this.bypassHandleMouse=t}stopElementMoving(t){t&&t==this.bypassHandleMouse?this.bypassHandleMouse=!1:t||(this.bypassHandleMouse=!1)}_makeClosingLines(){this.closingLines={};for(var t=["top","bottom","left","right"],e=0;e<4;e++){var i=document.createElementNS(d,"line");i.setAttribute("stroke",this.options.closeColor),i.setAttribute("shape-rendering","crispEdges"),i.setAttribute("stroke-linecap","square"),i.setAttribute("display","none"),this.closingLines[t[e]]=i,this.graphingZone.appendChild(i)}}isActionAllowed(t,e){if((e.type===t.type||void 0===e.type&&"mousedown"===t.type||("wheel"===t.type||"mousewheel"===t.type)&&"mousewheel"==e.type)&&(!e.enabled||("function"==typeof e.enabled?e.enabled(this):e.enabled))){if(e.key&&e.key!==t.keyCode){let i={backspace:8,enter:13,tab:9,shift:16,ctrl:17,alt:18,pause:19,escape:27,up:33,down:34,left:37,right:39};if(Object.keys(i).includes(e.key)&&i[e.key]!==t.keyCode)return}return void 0===e.shift&&(e.shift=!1),void 0===e.ctrl&&(e.ctrl=!1),void 0===e.meta&&(e.meta=!1),void 0===e.alt&&(e.alt=!1),t.shiftKey==e.shift&&t.ctrlKey==e.ctrl&&t.metaKey==e.meta&&t.altKey==e.alt}}forcePlugin(t){this.forcedPlugin=t}unforcePlugin(){this.forcedPlugin=!1}_pluginsExecute(t,...e){for(var i in this.plugins)this.plugins[i]&&this.plugins[i][t]&&this.plugins[i][t].apply(this.plugins[i],e)}_pluginExecute(t,e,i){if(t)return this.plugins[t]&&this.plugins[t][e]?(this.plugins[t][e].apply(this.plugins[t],i),!0):void 0}pluginYieldActiveState(){this.activePlugin=void 0}_serieExecute(t,e,...i){"object"!=typeof t&&(t=this.getSerie(t)),"function"==typeof t[e]&&t.apply(t,...i)}_pluginsInit(){var t,e,i;for(var r in this.options.plugins)e=r,i=this.options.plugins[r],(t=this.getConstructor(`graph.plugin.${e}`))?(this.plugins[e]=new t(i),s.mapEventEmission(this.plugins[e].options,this.plugins[e]),this.plugins[e].init(this,i)):s.throwError(`Plugin "${e}" has not been registered`)}getPlugin(t){return this.plugins[t]||s.throwError(`Plugin "${t}" has not been loaded or properly registered`)}hasPlugin(t){return!!this.plugins[t]}triggerEvent(t,...e){if("function"==typeof this.options[t])return this.options[t].apply(this,e)}makeLegend(t){if(this.legend)return this.legend;var e=this.getConstructor("graph.legend");return e?(this.legend=new e(this,t),this.legend):s.throwError("Graph legend is not available as it has not been registered")}updateLegend(t=!1){if(this.legend)return this.legend.update(t),this}getLegend(){if(this.legend)return this.legend}requireLegendUpdate(){this.legend&&this.legend.requireDelayedUpdate()}orthogonalProjectionSetup(){this.options.zAxis=s.extend(!0,{maxZ:10,minZ:0,shiftX:-25,shiftY:-15,xAxis:this.getXAxis(),yAxis:this.getYAxis()})}orthogonalProjectionUpdate(){this.zAxis||(this.zAxis={g:document.createElementNS(d,"g"),l:document.createElementNS(d,"line")},this.zAxis.g.appendChild(this.zAxis.l),this.groupGrids.appendChild(this.zAxis.g));let t=this.options.zAxis.xAxis,e=this.options.zAxis.yAxis;var i=t.getMinPx(),r=e.getMinPx(),s=t.getZProj(this.options.zAxis.maxZ),n=e.getZProj(this.options.zAxis.maxZ);this.zAxis.l.setAttribute("stroke","black"),this.zAxis.l.setAttribute("x1",i),this.zAxis.l.setAttribute("x2",i+s),this.zAxis.l.setAttribute("y1",r),this.zAxis.l.setAttribute("y2",r+n),this.updateDataMinMaxAxes(!0);var o=this.series.map((t=>[t.getZPos(),t]));o.sort(((t,e)=>e[0]-t[0]));let a=0;o.forEach((t=>{t[1].setLayer(a),this.appendSerieToDom(t[1]),a++})),this.drawSeries(!0)}kill(){this.wrapper&&this.wrapper.removeChild(this.dom)}_removeSerie(t){this.series.splice(this.series.indexOf(t),1),this._pluginsExecute("serieRemoved",t)}contextListen(t,e,i){if(this.options.onContextMenuListen)return this.options.onContextMenuListen(t,e,i)}lockShapes(){this.shapesLocked=!0;for(var t=0,e=this.shapes.length;t<e;t++)this.shapes[t].moving=!1,this.shapes[t].resizing=!1}unlockShapes(){this.shapesLocked=!1}prevent(t){var e=this.prevented;return-1!=t&&(this.prevented=null==t||t),e}_getXY(t){var e=t.clientX,i=t.clientY,r=this.offsetCached||s.getOffset(this.wrapper);return{x:e-=r.left,y:i-=r.top}}_resize(){this.width&&this.height&&(this.getDrawingWidth(!1),this.getDrawingHeight(!1),this.sizeSet=!0,this.dom.setAttribute("width",this.width),this.dom.setAttribute("height",this.height),this.domTitle.setAttribute("x",this.width/2),this._sizeChanged=!0,this.drawn&&(this.requireLegendUpdate(),this.draw(!0)))}updateGraphingZone(){s.setAttributeTo(this.graphingZone,{transform:`translate(${this.options.paddingLeft}, ${this.options.paddingTop})`}),this._sizeChanged=!0}getDrawingSpaceWidth(){return()=>this.drawingSpaceWidth}getDrawingSpaceHeight(){return()=>this.drawingSpaceHeight}getDrawingSpaceMinX(){return()=>this.drawingSpaceMinX}getDrawingSpaceMinY(){return()=>this.drawingSpaceMinY}getDrawingSpaceMaxX(){return()=>this.drawingSpaceMaxX}getDrawingSpaceMaxY(){return()=>this.drawingSpaceMaxY}tracking(t){return this.trackingLine(t)}trackingLine(t){var e=this;if("boolean"==typeof t)return void(this.options.trackingLine&&(this.options.trackingLine.enable=t));t&&(this.options.trackingLine=t),t.enable=void 0===t.enable||!!t.enable;const i=new Set;if(Array.isArray(t.series)?t.series.forEach((t=>{i.add(this.getSerie(t))})):"all"==t.series&&this.allSeries().forEach((t=>i.add(t))),t.series=i,"individual"==t.mode)i.forEach((i=>{e.addSerieToTrackingLine(i,t.serieOptions)}));else{if(t.noLine)return;this.trackingLineShape||(this.trackingLineShape=this.newShape("line",s.extend(!0,{position:[{y:"min"},{y:"max"}],stroke:"black",layer:-1},t.trackingLineShapeOptions))),this.trackingLineShape.draw()}}addSerieToTrackingLine(t,e={}){let i;this.options.trackingLine||this.trackingLine({mode:"individual"}),this.options.trackingLine.series.add(t),i=this.options.trackingLine.serieShape?this.options.trackingLine.serieShape:{shape:"ellipse",properties:{rx:[3*t.getLineWidth()+"px"],ry:[3*t.getLineWidth()+"px"]}},t.options.tracking=Object.assign({},e),t.trackingShape||(t.trackingShape=this.newShape(i.shape,{fillColor:t.getLineColor(),strokeColor:"White",strokeWidth:t.getLineWidth()},!0,i.properties).setSerie(t).forceParentDom(t.groupMain).draw())}setKatexRenderer(t){this._katexRenderer=t}hasKatexRenderer(){return!!this._katexRenderer}renderWithKatex(t,e){if(this._katexRenderer){e?e.removeChild(e.firstChild):e=document.createElementNS(d,"foreignObject");let i=document.createElement("div");return e.appendChild(i),this._katexRenderer(t,i),e}return!1}exportToSchema(){let t={};t.title=this.options.title,t.width=this.getWidth(),t.height=this.getHeight();let e=[],i={x:[],y:[]};for(let t in this.axis)e=e.concat(this.axis[t].map((e=>({type:t,label:e.options.label,unit:e.options.unit,min:e.options.forcedMin,max:e.options.forcedMax,flip:e.options.flipped})))),"top"==t||"bottom"==t?i.x=i.x.concat(this.axis[t]):i.y=i.y.concat(this.axis[t]);t.axis=e;let r=t=>{switch(t){case h.SERIE_TYPE.BAR:return"bar";case h.SERIE_TYPE.LINE_COLORED:return"color";case h.SERIE_TYPE.SCATTER:return"scatter";default:case h.SERIE_TYPE.LINE:return"line"}},s=(t,e)=>{let i=[];switch(t.getType()){case m.SERIE_LINE:for(var r=0;r<t.data.length;r++)for(var s=0;s<t.data[r].length-1;s+=2)i.push(t.data[r][s+(e&&t.isFlipped()||!e&&!t.isFlipped()?1:0)]);break;case m.SERIE_SCATTER:for(s=0;s<t.data.length-1;s+=2)i.push(t.data[s+(e&&t.isFlipped()||!e&&!t.isFlipped()?1:0)])}return i};return t.data=[].concat(this.series.map((t=>{let e=[],n=[];if(t.getType()==m.SERIE_LINE)for(var o in t.styles){n.push({styleName:o,color:t.styles[o].lineColor,lineWidth:t.styles[o].lineWidth,lineStyle:t.styles[o].lineStyle});let i={styleName:o,styles:[]};e.push(i),i.styles=i.styles.concat((t.styles[o].markers||[]).map((t=>({shape:t.type,zoom:t.zoom,lineWidth:t.strokeWidth,lineColor:t.strokeColor,color:t.fillColor,points:t.points}))))}return{label:t.getLabel(),id:t.getName(),type:r(t.getType()),x:s(t,!0),y:s(t,!1),xAxis:i.x.indexOf(t.getXAxis()),yAxis:i.y.indexOf(t.getYAxis()),style:e,lineStyle:n}}))),t}_getAxis(t,e,i){e=e||{};var r,s={def:{x:this.getConstructor("graph.axis.x"),y:this.getConstructor("graph.axis.y")},time:{x:this.getConstructor("graph.axis.x.time"),y:void 0},bar:{x:this.getConstructor("graph.axis.x.bar"),y:void 0}};let n;switch(e.type){case"time":n=s.time;break;case"bar":n=s.bar;break;default:n=s.def}switch(i){case"top":case"bottom":r=n.x;break;case"left":case"right":if(!n.hasOwnProperty("y"))throw"Axis does not exist for axis y";r=n.y;break;default:return}return"object"==typeof(t=t||0)&&(e=t,t=0),this.axis[i][t]||(this.axis[i][t]=new r(this,i,e),this.axis[i][t].init(this,e)),this.axis[i][t]}_closeLine(t,e,i,r,s){if(!1!==this.options.close){var n=0;this.axis[t].map((function(t){t.isDisplayed()&&!t.floating&&n++})),!0!==this.options.close&&!this.options.close[t]||0!=n?this.closingLines[t].setAttribute("display","none"):(this.closingLines[t].setAttribute("display","block"),this.closingLines[t].setAttribute("x1",e),this.closingLines[t].setAttribute("x2",i),this.closingLines[t].setAttribute("y1",r),this.closingLines[t].setAttribute("y2",s))}}refreshDrawingZone(){var t={top:[],bottom:[],left:[],right:[]},e={top:[],bottom:[],left:[],right:[]};console.log(this.getDrawingWidth(!0)),this._applyToAxes((function(i,r){if(i.isShown()){if(i.showGroup(),!i.floating){var s=x(i.getSpan(),e[r]);i.setLevel(s),t[r][s]=Math.max(i.getAxisPosition(),t[r][s]||0)}}else i.hideGroup()}),!1,!0,!1);var i=t.top.reduce((function(t,e){return t+e}),0),r=t.bottom.reduce((function(t,e){return t+e}),0);this.drawingSpaceHeight=this.getDrawingHeight()-i-r,[t.top,t.bottom].map((function(t){t.reduce((function(e,i,r){return t[r]=e+i,e+i}),0)})),this._applyToAxes((function(e,i){e.isShown()&&!e.floating&&e.setShift(t[i][e.getLevel()])}),!1,!0,!1),this._applyToAxes(((s,n)=>{if(s.isShown()?s.showGroup():s.hideGroup(),s.setMinPx(i),s.setMaxPx(this.getDrawingHeight(!0)-r),s.floating)return;let o=s.linkedToAxis?0:s.draw();if(s.isShown()){var a=x(s.getSpan(),e[n]);s.setLevel(a),s.options.forcedWidth?t[n][a]=s.options.forcedWidth:(t[n][a]=Math.max(o,t[n][a]||0),a<t[n].length-1&&(t[n][a]+=10))}}),!1,!1,!0);var n=s.extend(!0,{},t);this._applyToAxes((function(e,i){e.isShown()&&!e.floating&&(n[i][e.getLevel()]=Math.max(t[i][e.getLevel()],e.equalizePosition(t[i][e.getLevel()])))}),!1,!1,!0);var o=(t=n).left.reduce((function(t,e){return t+e}),0),a=t.right.reduce((function(t,e){return t+e}),0);this.drawingSpaceWidth=this.getDrawingWidth()-o-a,[t.left,t.right].forEach((function(t){t.reduce((function(e,i,r){return t[r]=e+i,e+i}),0)})),this._applyToAxes(((e,i)=>{e.isShown()&&!e.floating&&e.setShift(t[i][e.getLevel()])}),!1,!1,!0),this._applyToAxes(((t,e)=>{t.isShown(),t.setMinPx(o),t.setMaxPx(this.getDrawingWidth(!0)-a),t.floating||t.linkedToAxis||t.draw()}),!1,!0,!1),this._applyToAxes((function(t,e){if(t.floating){var i=t.getFloatingAxis(),r=t.getFloatingValue(),s=i.getPx(r);t.setShift(s),t.linkedToAxis||t.draw()}}),!1,!0,!0),this._closeLine("right",this.getDrawingWidth(!0),this.getDrawingWidth(!0),i,this.getDrawingHeight(!0)-r),this._closeLine("left",0,0,i,this.getDrawingHeight(!0)-r),this._closeLine("top",o,this.getDrawingWidth(!0)-a,0,0),this._closeLine("bottom",o,this.getDrawingWidth(!0)-a,this.getDrawingHeight(!0)-r,this.getDrawingHeight(!0)-r),this.clipRect.setAttribute("y",i.toString()),this.clipRect.setAttribute("x",o.toString()),this.clipRect.setAttribute("width",(this.getDrawingWidth()-o-a).toString()),this.clipRect.setAttribute("height",(this.getDrawingHeight()-i-r).toString()),this.rectEvent.setAttribute("y",i+this.getPaddingTop()),this.rectEvent.setAttribute("x",o+this.getPaddingLeft()),this.rectEvent.setAttribute("width",this.drawingSpaceWidth),this.rectEvent.setAttribute("height",this.drawingSpaceHeight),this.drawingSpaceMinX=o+this.getPaddingLeft(),this.drawingSpaceMinY=i+this.getPaddingTop(),this.drawingSpaceMaxX=this.getDrawingWidth()-a+this.getPaddingLeft(),this.drawingSpaceMaxY=this.getDrawingHeight()-r+this.getPaddingTop(),this._applyToAxes((function(t,e){t.isShown()&&t.drawLines()}),!1,!0,!0),this.redrawShapes()}static registerConstructor(t,e){if(m._constructors.has(t))return s.throwError(`Constructor ${t} already exists.`);m._constructors.set(t,e)}static getConstructor(t){if(!m._constructors.has(t))throw new Error(`Constructor "${t}" doesn't exist`);return m._constructors.get(t)}getConstructor(t){return m.getConstructor(t)}static newWaveform(){return new a.Waveform(...arguments)}static waveform(){return new a.Waveform(...arguments)}static newWaveformHash(){return new a.WaveformHash(...arguments)}static waveformHash(){return new a.WaveformHash(...arguments)}static saveStyle(t,e){m._styles.set(t,e)}static getStyle(t){return m._styles.get(t)||h.SERIE_DEFAULT_STYLE}}function x(t,e){for(var i=0,r=e.length;i<r;i++){for(var s=!0,n=0,o=e[i].length;n<o;n++)t[0]<e[i][n][0]&&t[1]<e[i][n][0]||t[0]>e[i][n][1]&&t[1]>e[i][n][1]||(s=!1);if(s)return e[i].push(t),i}return e.push([t]),e.length-1}function v(t,e,i){if(t.forcedPlugin)return t.activePlugin=t.forcedPlugin,void t._pluginExecute(t.forcedPlugin,i,[t,e]);!function(t,e,i,r){var s,n,o=t.options.keyActions;for(s=0,n=o.length;s<n;s++){if(o[s].plugin){if(t.forcedPlugin==o[s].plugin||t.isActionAllowed(e,o[s]))return o[s].options&&i.push(o[s].options),t.activePlugin=o[s].plugin,t._pluginExecute(o[s].plugin,r,i),e.preventDefault(),e.stopPropagation(),!0}else if(o[s].callback&&t.isActionAllowed(e,o[s]))return o[s].options&&i.push(o[s].options),e.preventDefault(),e.stopPropagation(),o[s].callback.apply(t,i),!0;o[s].removeSelectedShape&&t.isActionAllowed(e,o[s])&&(e.preventDefault(),e.stopPropagation(),t.selectedShapes.map((t=>{t.kill(o[s].keepInDom)})))}}(t,e,[t,e],i)}function b(t,e,i,r){var s,n,o=t.options.mouseActions,a=!1;for(s=0,n=o.length;s<n;s++)if(o[s].plugin){if(t.forcedPlugin==o[s].plugin||t.isActionAllowed(e,o[s])){o[s].options&&i.push(o[s].options),"wheel"!==e.type&&"mousewheel"!==e.type&&(t.activePlugin=o[s].plugin),t._pluginExecute(o[s].plugin,r,i),a=!0;continue}}else{if(o[s].callback&&t.isActionAllowed(e,o[s])){o[s].options&&i.push(o[s].options),o[s].callback.apply(t,i),a=!0;continue}if(o[s].series){var h;if("all"===o[s].series)h=t.series;else{if(Array.isArray(o[s].series))throw"Not implemented";h=[h]}for(o[s].options&&i.push(o[s].options);0<h.length;s++)t._serieExecute(h[s],r,i);a=!0;continue}}return a}c(m,"SERIE_BAR",void 0),c(m,"SERIE_LINE_COLORED",void 0),c(m,"SERIE_SCATTER",void 0),c(m,"SERIE_LINE",void 0),c(m,"_constructors",new Map),c(m,"_styles",new Map);var _=function(t,e,i,r,s){const n=t.options.trackingLine.textMethod||M;var o=!1;if(!s&&t.options.trackingLine.legend&&(o=!0,s=function(t){var e=document.createElement("div");return e.setAttribute("class","trackingLegend"),e.style.position="absolute",e.style.borderRadius="4px",e.style.boxShadow="1px 1px 3px 0px rgba(100,100,100,0.6)",e.style.border="2px solid #333333",e.style.backgroundColor="rgba(255, 255, 255, 0.5 )",e.style.pointerEvents="none",e.style.paddingTop="5px",e.style.paddingBottom="5px",e.style.paddingLeft="10px",e.style.paddingRight="10px",t.getWrapper().insertBefore(e,t.getDom()),e}(t)),t.options.trackingLine.legend){if(0==e.length)return s.style.display="none",s;"none"==s.style.display||o?A(t,s,i,r,!0):S(t,s,i,r),s.style.display="block";var a=n(e,void 0,i,r);return s.innerHTML=a,s}},A=function(t,e,i,r,s){var n=Date.now(),o=e.offsetHeight,a=parseInt(e.style.marginLeft.replace("px","")||0,10),h=parseInt(e.style.marginTop.replace("px","")||0,10);if(i=i>t.getWidth()/2?i-i%10-20-e.offsetWidth:i-i%10+30,r=r-r%10+o/2,s)return e.style.marginLeft=`${i}px`,void(e.style.marginTop=`${r}px`);window.requestAnimationFrame((function t(){var s=(Date.now()-n)/200;s>1&&(s=1),e.style.marginLeft=`${(i-a)*s+a}px`,e.style.marginTop=`${(r-h)*s+h}px`,s<1&&window.requestAnimationFrame(t)}))},S=(...t)=>{s.debounce(A,50)(...t)};const M=t=>{let e="";for(var i in t)t[i].closestPoint&&(e+=`${t[i].serie.getName()}: ${t[i].serie.getYAxis().valueToHtml(t[i].closestPoint.yClosest,void 0,void 0,2)}\n      `);return e};(0,n.default)(m),(0,o.default)(m);var w=m;e.default=w},3187:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,s=(r=i(8697))&&r.__esModule?r:{default:r},n=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=o();if(e&&e.has(t))return e.get(t);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){var n=r?Object.getOwnPropertyDescriptor(t,s):null;n&&(n.get||n.set)?Object.defineProperty(i,s,n):i[s]=t[s]}return i.default=t,e&&e.set(t,i),i}(i(4167));function o(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return o=function(){return t},t}var a={backgroundColor:"rgba(255, 255, 255, 0.8)",frame:!0,frameWidth:1,frameColor:"black",paddingTop:10,paddingLeft:10,paddingBottom:10,paddingRight:10,color:"black",frameRounding:0,movable:!1,shapesToggleable:!0,isSerieHideable:!0,isSerieSelectable:!0};function h(t){try{return t.getBBox()}catch(t){return{height:0,width:0,x:0,y:0}}}e.default=class{constructor(t,e){this.options=n.extend({},a,e),this.graph=t,this.svg=document.createElementNS(this.graph.ns,"g"),this.subG=document.createElementNS(this.graph.ns,"g"),this.groups=[],this.rect=document.createElementNS(this.graph.ns,"rect"),this.rectBottom=document.createElementNS(this.graph.ns,"rect"),this.autoPosition=void 0,this.rect.setAttribute("x",0),this.rect.setAttribute("y",0),this.rectBottom.setAttribute("x",0),this.rectBottom.setAttribute("y",0),this.series=!1,this.svg.setAttribute("display","none"),this.pos={x:void 0,y:void 0,transformX:0,transformY:0},this.setEvents(),this.eyeId=n.guid(),this.eyeCrossedId=n.guid();var i=n.SVGParser(`<svg xmlns="http://www.w3.org/2000/svg"><symbol id="${this.eyeCrossedId}" viewBox="0 -256 1850 1850"><rect pointer-events="fill" fill="transparent" x="-256" y="0" width="2106" height="1850" /><g transform="matrix(1,0,0,-1,30.372881,1214.339)"><path d="m 555,201 78,141 q -87,63 -136,159 -49,96 -49,203 0,121 61,225 Q 280,812 128,576 295,318 555,201 z m 389,759 q 0,20 -14,34 -14,14 -34,14 -125,0 -214.5,-89.5 Q 592,829 592,704 q 0,-20 14,-34 14,-14 34,-14 20,0 34,14 14,14 14,34 0,86 61,147 61,61 147,61 20,0 34,14 14,14 14,34 z m 363,191 q 0,-7 -1,-9 Q 1201,954 991,576 781,198 675,9 l -49,-89 q -10,-16 -28,-16 -12,0 -134,70 -16,10 -16,28 0,12 44,87 Q 349,154 228.5,262 108,370 20,507 0,538 0,576 q 0,38 20,69 153,235 380,371 227,136 496,136 89,0 180,-17 l 54,97 q 10,16 28,16 5,0 18,-6 13,-6 31,-15.5 18,-9.5 33,-18.5 15,-9 31.5,-18.5 16.5,-9.5 19.5,-11.5 16,-10 16,-27 z m 37,-447 Q 1344,565 1265,450.5 1186,336 1056,286 l 280,502 q 8,-45 8,-84 z m 448,-128 q 0,-35 -20,-69 Q 1733,443 1663,362 1513,190 1315.5,95 1118,0 896,0 l 74,132 q 212,18 392.5,137 180.5,119 301.5,307 -115,179 -282,294 l 63,112 q 95,-64 182.5,-153 87.5,-89 144.5,-184 20,-34 20,-69 z" fill="#c0c0c0"></path></g></symbol></svg>`),r=n.SVGParser(`<svg xmlns="http://www.w3.org/2000/svg"><symbol id="${this.eyeId}" viewBox="0 -256 1850 1850"><rect pointer-events="fill" x="-256" y="0" fill="transparent" width="2106" height="1850" /><g transform="matrix(1,0,0,-1,30.372881,1259.8983)"><path d="m 1664,576 q -152,236 -381,353 61,-104 61,-225 0,-185 -131.5,-316.5 Q 1081,256 896,256 711,256 579.5,387.5 448,519 448,704 448,825 509,929 280,812 128,576 261,371 461.5,249.5 662,128 896,128 1130,128 1330.5,249.5 1531,371 1664,576 z M 944,960 q 0,20 -14,34 -14,14 -34,14 -125,0 -214.5,-89.5 Q 592,829 592,704 q 0,-20 14,-34 14,-14 34,-14 20,0 34,14 14,14 14,34 0,86 61,147 61,61 147,61 20,0 34,14 14,14 14,34 z m 848,-384 q 0,-34 -20,-69 Q 1632,277 1395.5,138.5 1159,0 896,0 633,0 396.5,139 160,278 20,507 0,542 0,576 q 0,34 20,69 140,229 376.5,368 236.5,139 499.5,139 263,0 499.5,-139 236.5,-139 376.5,-368 20,-35 20,-69 z" fill="#444444" /></g></symbol></svg>`);this.svg.appendChild(document.adoptNode(r.documentElement.firstChild)),this.svg.appendChild(document.adoptNode(i.documentElement.firstChild)),this.svg.appendChild(this.subG),this.applyStyle()}setPosition(t,e,i){t&&(this.position=t,this.alignToX=e||"left",this.alignToY=i||"top")}setDraggable(t){this.options.movable=t}setAutoPosition(t){if(["bottom","left","top","right"].indexOf(t=t.toLowerCase())>-1)return this.autoPosition=t,this;this.requireDelayedUpdate(),this.autoPosition=!1}autoPosition(){return this.setAutoPosition(...arguments)}kill(){this.autoPosition?this.graph.getDom().removeChild(this.getDom()):this.graph.graphingZone.removeChild(this.getDom())}buildLegendBox(){var t=this.series||this.graph.getSeries(),e=0,i=this.options.paddingTop;this.autoPosition?this.graph.getDom().appendChild(this.getDom()):this.graph.graphingZone.appendChild(this.getDom());for(var r=0,s=t.length;r<s;r++)t[r].excludedFromLegend&&!this.series||("bottom"!=this.autoPosition&&"top"!=this.autoPosition||e+(n=h(this.groups[r])).width>this.graph.getDrawingWidth()-this.options.paddingRight&&(i+=16,e=0),this.groups[r].setAttribute("transform",`translate( ${e}, ${i})`),"bottom"==this.autoPosition||"top"==this.autoPosition?(e+=n.width+10,i+=0):(e=0,i+=16));var n=h(this.subG);switch(this.width=n.width+this.options.paddingRight+this.options.paddingLeft,this.height=n.height+this.options.paddingBottom+this.options.paddingTop,this.rect.setAttribute("width",this.width),this.rect.setAttribute("height",this.height),this.rect.setAttribute("fill","none"),this.rect.setAttribute("pointer-events","fill"),this.rect.setAttribute("display","none"),this.options.movable&&(this.rectBottom.style.cursor="move"),this.rectBottom.setAttribute("width",this.width),this.rectBottom.setAttribute("height",this.height),this.rectBottom.setAttribute("x",n.x-this.options.paddingLeft),this.rectBottom.setAttribute("y",n.y-this.options.paddingTop),this.position=this.position||{},this.autoPosition){case"bottom":this.position.y=`${this.graph.getHeight()}px`,this.position.x=`${(this.graph.drawingSpaceWidth-this.width)/2+this.graph.drawingSpaceMinX}px`,this.alignToY="bottom",this.alignToX=!1;break;case"left":this.position.x="6px",this.position.y=(this.graph.getHeight()-this.height)/2+"px",this.alignToX="left",this.alignToY=!1;break;case"right":this.position.x=`${this.graph.getWidth()}px`,this.position.y=(this.graph.getHeight()-this.height)/2+"px",this.alignToX="right",this.alignToY=!1;break;case"top":this.position.x=`${(this.graph.drawingSpaceWidth-this.width)/2+this.graph.drawingSpaceMinX}px`,this.position.y="10px",this.alignToY="top",this.alignToX=!1;break;case void 0:return;default:return void console.error("Position is not supported")}if(this.autoPosition){let t;switch(this.autoPosition){case"bottom":this.graph.options.paddingBottom=this.height+10,t=this.height!==this.previousHeight;break;case"top":this.graph.options.paddingTop=this.height+14,t=this.height!==this.previousHeight;break;case"left":this.graph.options.paddingLeft=this.width+5,t=this.width!==this.previousWidth;break;case"right":this.graph.options.paddingRight=this.width+10,t=this.width!==this.previousWidth}t&&(this.graph.draw(!0),this.previousHeight=this.height,this.previousWidth=this.width)}this.bbox=n}calculatePosition(){var t=s.default.check(this.position);let e=t.compute(this.graph,this.graph.getXAxis(),this.graph.getYAxis());e&&(t.y,t.x,"right"==this.alignToX&&(e.x-=this.width),"bottom"==this.alignToY&&(e.y-=this.height),this.pos.transformX=e.x,this.pos.transformY=e.y,this._setPosition())}update(t){if(!(this.graph.isDelayedUpdate()||!this._requiredUpdate&&t)){this._requiredUpdate=!1;var e=this;for(this.applyStyle();this.subG.hasChildNodes();)this.subG.removeChild(this.subG.lastChild);this.svg.insertBefore(this.rectBottom,this.svg.firstChild);var i=this.series||this.graph.getSeries();if(i.length>0){this.svg.setAttribute("display","block"),("bottom"==this.autoPosition||"top"==this.autoPosition)&&this.graph.getDrawingWidth();for(let t=0,c=i.length;t<c;t++){if(i[t].excludedFromLegend&&!this.series)continue;var r;const c=t;"bottom"!=this.autoPosition&&"top"!=this.autoPosition||this.graph.getDrawingWidth(),r=document.createElementNS(e.graph.ns,"g");var s=document.createElementNS(e.graph.ns,"rect");e.subG.appendChild(r),r.appendChild(s),i[t].getSymbolForLegend();var n=i[t]._getSymbolForLegendContainer(),o=i[t].getMarkerForLegend(),a=i[t].getTextForLegend(),l=35;const p=document.createElementNS(e.graph.ns,"use");this.isHideable()&&(l+=20,p.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",`#${i[t].isShown()?this.eyeId:this.eyeCrossedId}`),p.setAttribute("width",15),p.setAttribute("height",15),p.setAttribute("x",35),p.setAttribute("y",-8),p.addEventListener("click",(function(t){var r;t.stopPropagation(),i[c].isShown()?(i[c].hide(e.options.hideShapesOnHideSerie),r=e.eyeCrossedId):(i[c].show(e.options.hideShapesOnHideSerie),r=e.eyeId),p.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",`#${r}`)}))),a.setAttribute("transform",`translate(${l}, 3)`),a.setAttribute("fill",this.options.color),n&&r.appendChild(n),"scatter"==i[t].getType()&&n.setAttribute("transform","translate( 20, 0 )"),o&&r.appendChild(o),p&&r.appendChild(p),r.appendChild(a);var u=h(r);s.setAttribute("x",u.x),s.setAttribute("y",u.y),s.setAttribute("width",u.width),s.setAttribute("height",u.height),s.setAttribute("fill","none"),s.setAttribute("pointer-events","fill"),e.groups[t]=r,r.addEventListener("click",(function(r){var s=i[t];s.isShown()&&(e.isSelectable()&&!s.isSelected()?e.graph.selectSerie(s):e.graph.unselectSerie(s),r.preventDefault(),r.stopPropagation())}))}this.svg.appendChild(this.rect),this.buildLegendBox(),this.calculatePosition()}}}isHideable(){return this.options.isSerieHideable}notHideable(){return this.options.isSerieHideable=!1,this}hideable(){return this.options.isSerieHideable=!0,this}set seriesHideable(t){this.options.isSerieHideable=!!t}get seriesHideable(){return this.options.isSerieHideable}isSelectable(){return this.options.isSerieSelectable}isToggleShapes(){return this.options.shapesToggleable}getDom(){return this.svg}setEvents(){var t=this,e=this.pos;this.svg.addEventListener("mousedown",(function(i){i.stopPropagation(),t.options.movable&&(e.x=i.clientX,e.y=i.clientY,i.preventDefault(),t.mousedown=!0,t.graph.elementMoving(t),t.rect.setAttribute("display","block"))})),this.svg.addEventListener("click",(function(t){t.stopPropagation()})),this.svg.addEventListener("dblclick",(function(t){t.stopPropagation()})),this.svg.addEventListener("mousemove",(function(e){t.handleMouseMove(e)}))}handleMouseUp(t){t.stopPropagation(),t.preventDefault(),this.mousedown=!1,this.rect.setAttribute("display","none"),this.graph.elementMoving(!1)}handleMouseMove(t){if(this.mousedown){var e=this.pos,i=t.clientX-e.x,r=t.clientY-e.y;e.transformX+=i,e.transformY+=r,e.x=t.clientX,e.y=t.clientY,t.stopPropagation(),t.preventDefault(),this._setPosition()}}_setPosition(){var t=this.pos;isNaN(t.transformX)||isNaN(t.transformY)||!1===t.transformX||!1===t.transformY||this.svg.setAttribute("transform",`translate(${t.transformX}, ${t.transformY})`)}applyStyle(){this.options.frame&&(this.rectBottom.setAttribute("stroke",this.options.frameColor),this.rectBottom.setAttribute("stroke-width",`${this.options.frameWidth}px`),this.rectBottom.setAttribute("rx",this.options.frameRounding),this.rectBottom.setAttribute("ry",this.options.frameRounding)),this.rectBottom.setAttribute("fill",this.options.backgroundColor)}fixSeries(){var t=[];if(!1===arguments[0])return this.series=!1,void this.update();for(var e=0,i=arguments.length;e<i;e++)Array.isArray(arguments[e])?t=t.concat(arguments[e]):t.push(arguments[e]);this.update(),this.series=t}fixSeriesAdd(t){this.series=this.series||[],this.series.push(t)}requireDelayedUpdate(){this._requiredUpdate=!0}}},3426:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=function(t,e){!function(t,e){e=e||50,i[t]||(i[t]={},s[t]=0),n[t]=e}(t,e)},e.get=a,e.store=function(t,e,a){return function(t,e,a){var h,l,u;i[t]&&void 0!==s[t]&&n[t]&&(u=r[t],i[t][e]?(o(t,e),i[t][e].data.data=a,i[t][e].data.timeout=Date.now()):(h={data:{data:a,timeout:Date.now()}},void 0===u?(h.prev=h,h.next=h):(h.prev=u.prev,h.next=u.next,u.next.prev=h,u.next=h),r[t]=h,i[t][e]=h,s[t]++),s[t]>n[t]&&u&&(l=u.next,u.next.next.prev=u,u.next=u.next.next,l.next.next=void 0,l.next.prev=void 0,s[t]--))}(t,e,a),a},e.empty=function(t){!function(t){i[t]={},s[t]=0}(t)},e.exist=function(t){return i[t]},e.default=void 0;var i={},r={},s={},n={};function o(t,e){var s,n;if(i[t]&&i[t][e])return n=r[t],(s=i[t][e]).prev=n,s.next=n.next,n.next.prev=s,n.next=s,r[t]=s,s.data}function a(t,e){var i;if(null!=(i=o(t,e)))return i}var h=a;e.default=h},8697:(t,e)=>{"use strict";function i(t){return!!(t&&t.indexOf&&t.indexOf("px")>-1)&&parseInt(t.replace("px",""))}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;class r{constructor(t,e,i,r){"object"==typeof t?(this.x=t.x,this.y=t.y,this.dx=t.dx,this.dy=t.dy):(this.x=t,this.y=e,this.dx=i,this.dy=r)}duplicate(){return new r(this.x,this.y,this.dx,this.dy)}compute(t,e,i,r){if(t&&e&&i&&t.hasXAxis&&t.hasYAxis||t.throw(),!t.hasXAxis(e))throw"Graph does not contain the x axis that was used as a parameter";if(!t.hasYAxis(i))throw"Graph does not contain the x axis that was used as a parameter";return this._compute(t,e,i,r)}_compute(t,e,r,s){var n=this._relativeTo;if(n)var o=n._compute(t,e,r,s);var a,h={x:!1,y:!1};for(var l in e||(e=t.getXAxis()),r||(r=t.getYAxis()),h){var u="x"==l?e:r,c=this[l],p=this[`d${l}`];if(void 0===c&&(void 0!==p&&void 0===n||void 0===n)){if("x"==l){if(void 0===p)continue;h[l]=n?n[l]:0}else if(void 0!==this.x&&s)if(!1!==i(this.x))console.warn("You have defined x in px and not y. Makes no sense. Returning 0 for y"),h[l]=0;else try{if(!(g=s.getClosestPointToXY(this.x)))throw new Error(`Could not find y position for x = ${this.x} on serie "${s.getName()}". Returning 0 for y.`);h[l]=s.getY(g.yClosest)}catch(t){console.error(t),h[l]=0}}else void 0!==c&&(h[l]=this.getPx(c,u));if(void 0!==p){var d=void 0!==c||null==o||null==o[l]?h[l]:o[l];if("y"==l&&o&&void 0!==o.x&&null==o.y){if(!s)throw new Error("Error. No serie exists. Cannot find y value");var g;(g=s.getClosestPointToXY(n.x))&&(d=s.getY(g.yMin))}d||(d=0),!1!==(a=i(p))?h[l]=d+a:!1!==(a=this._parsePercent(p))?h[l]=d+this._getPositionPx(a,!0,u,t):u&&(h[l]=d+u.getRelPx(p))}}return h}_getPositionPx(t,e,r,s){var n;return!1!==(n=i(t))?n:!1!==(n=this._parsePercent(t))?n/100*(e?s.getDrawingWidth():s.getDrawingHeight()):r?r.getPos(t):void 0}_parsePercent(t){return!!(t&&t.indexOf&&t.indexOf("%")>-1)&&t}getDeltaPx(t,e){var r;return!1!==(r=i(t))?`${r}px`:`${e.getRelPx(t)}px`}deltaPosition(t,e,r){var s,n,o=this[t="y"==t?"y":"x"],a=this[`d${t}`];if(void 0!==o)!1!==(s=i(o))?!1!==(n=i(e))?this[t]=`${s+n}px`:this[t]=`${s+r.getRelPx(e)}px`:(o=this.getValPosition(o,r),!1!==(n=i(e))?this[t]=o+r.getRelVal(n):this[t]=o+e);else if(void 0!==a){if("y"==t&&void 0===o&&!this._relativeTo)return;!1!==(s=i(a))?!1!==(n=i(e))?this[`d${t}`]=`${s+n}px`:this[`d${t}`]=`${s+r.getRelPx(e)}px`:(a=this.getValPosition(a,r),!1!==(n=i(e))?this[`d${t}`]=a+r.getRelVal(n):this[`d${t}`]=a+e)}}getValPosition(t,e){return"max"==t?e.getMaxValue():"min"==t?e.getMinValue():"max"==t?e.getMaxValue():"min"==t?e.getMinValue():t}getPx(t,e,r){var s,n;if("function"==typeof t)return t(e,r);if(!1!==(s=i(t)))return s;if(!1!==(s=this._parsePercent(t)))return s;if(e){if("min"==t)return e.getMinPx();if("max"==t)return e.getMaxPx();if(r)return e.getRelPx(t);if(n=t,!isNaN(parseFloat(n))&&isFinite(n))return e.getPos(t)}}getPxRel(t,e){return this.getPx(t,e,!0)}relativeTo(t){return this._relativeTo=r.check(t),this}static check(t,e){if(t instanceof r)return t;var i=new r(t);if(t&&t.relativeTo){const r=e(t.relativeTo);r&&i.relativeTo(r)}return i}}var s=r;e.default=s},5936:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"SERIE_TYPE",{enumerable:!0,get:function(){return $.SERIE_TYPE}}),e.default=void 0;var r=U(i(1107)),s=U(i(8697)),n=U(i(3187)),o=U(i(9763)),a=U(i(4083)),h=U(i(606)),l=U(i(9291)),u=U(i(7645)),c=U(i(1755)),p=U(i(3312)),d=U(i(2210)),g=U(i(5096)),f=U(i(9907)),y=U(i(5718)),m=U(i(6244)),x=U(i(7328)),v=U(i(1255)),b=U(i(2663)),_=U(i(6141)),A=U(i(5737)),S=U(i(5642)),M=U(i(5731)),w=U(i(3669)),k=U(i(5886)),P=U(i(2251)),L=U(i(6025)),C=U(i(6186)),E=U(i(8644)),O=U(i(8342)),T=U(i(2941)),D=U(i(7493)),X=U(i(3172)),I=U(i(4885)),N=U(i(8796)),j=U(i(366)),Y=U(i(3175)),B=U(i(1156)),F=U(i(6010)),H=U(i(3525)),W=U(i(6901)),R=U(i(267)),z=i(1748),$=i(2513);function U(t){return t&&t.__esModule?t:{default:t}}r.default.registerConstructor("graph.position",s.default),r.default.registerConstructor("graph.axis.x",o.default),r.default.registerConstructor("graph.axis.y",a.default),r.default.registerConstructor("graph.axis.x.bar",h.default),r.default.registerConstructor("graph.axis.x.time",l.default),r.default.registerConstructor("graph.serie.line",c.default),r.default.registerConstructor("graph.serie.line.3d",p.default),r.default.registerConstructor("graph.serie.line.color",f.default),r.default.registerConstructor("graph.serie.contour",b.default),r.default.registerConstructor("graph.serie.histogram",u.default),r.default.registerConstructor("graph.serie.bar",d.default),r.default.registerConstructor("graph.serie.box",g.default),r.default.registerConstructor("graph.serie.scatter",y.default),r.default.registerConstructor("graph.serie.zone",m.default),r.default.registerConstructor("graph.serie.zone.3d",x.default),r.default.registerConstructor("graph.serie.densitymap",v.default),r.default.registerConstructor($.SERIE_TYPE.LINE,c.default),r.default.registerConstructor($.SERIE_TYPE.HISTOGRAM,u.default),r.default.registerConstructor($.SERIE_TYPE.LINE_3D,p.default),r.default.registerConstructor($.SERIE_TYPE.LINE_COLORED,f.default),r.default.registerConstructor($.SERIE_TYPE.CONTOUR,b.default),r.default.registerConstructor($.SERIE_TYPE.BAR,d.default),r.default.registerConstructor($.SERIE_TYPE.BOX,g.default),r.default.registerConstructor($.SERIE_TYPE.SCATTER,y.default),r.default.registerConstructor($.SERIE_TYPE.ZONE,m.default),r.default.registerConstructor($.SERIE_TYPE.ZONE_3D,x.default),r.default.registerConstructor($.SERIE_TYPE.DENSITY_MAP,v.default),r.default.registerConstructor("graph.plugin.shape",N.default),r.default.registerConstructor("graph.plugin.drag",I.default),r.default.registerConstructor("graph.plugin.zoom",Y.default),r.default.registerConstructor("graph.plugin.selectScatter",j.default),r.default.registerConstructor("graph.plugin.timeSerieManager",B.default),r.default.registerConstructor("graph.plugin.serielinedifference",F.default),r.default.registerConstructor("graph.plugin.serieLineDifference",F.default),r.default.registerConstructor("graph.plugin.axissplitting",H.default),r.default.registerConstructor("graph.plugin.makeTracesDifferent",W.default),r.default.registerConstructor("graph.plugin.peakPicking",R.default),r.default.registerConstructor("graph.shape",_.default),r.default.registerConstructor("graph.shape.areaundercurve",A.default),r.default.registerConstructor("graph.shape.arrow",S.default),r.default.registerConstructor("graph.shape.ellipse",M.default),r.default.registerConstructor("graph.shape.polygon",P.default),r.default.registerConstructor("graph.shape.label",w.default),r.default.registerConstructor("graph.shape.polyline",k.default),r.default.registerConstructor("graph.shape.line",L.default),r.default.registerConstructor("graph.shape.nmrintegral",C.default),r.default.registerConstructor("graph.shape.html",X.default),r.default.registerConstructor("graph.shape.peakintegration2d",E.default),r.default.registerConstructor("graph.shape.rect",O.default),r.default.registerConstructor("graph.shape.rectangle",O.default),r.default.registerConstructor("graph.shape.cross",T.default),r.default.registerConstructor("graph.shape.peakboundariescenter",D.default),r.default.registerConstructor("graph.legend",n.default),r.default.registerConstructor("graph.waveform",z.Waveform);var V=r.default;e.default=V},4167:(t,e)=>{"use strict";function i(t,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+(e-t)*(2/3-i)*6:t}function r(t,e){return t._savedAttributes&&void 0!==t._savedAttributes[e]}function s(t,e){if(t&&t._savedAttributesIds){t._savedAttributesIds.splice(t._savedAttributesIds.indexOf(e),1),delete t._attributes[e];var i={};for(var r in t._savedAttributes)i[r]=t._savedAttributes[r];r=0;for(var s=t._savedAttributesIds.length;r<s;r++)for(var n in t._attributes[t._savedAttributesIds[r]])i[n]=t._attributes[t._savedAttributesIds[r]][n];for(var n in i)t.setAttribute(n,i[n])}}Object.defineProperty(e,"__esModule",{value:!0}),e.setAttributeTo=function(t,e,i){var r;if(i)for(r in e)t.setAttributeNS(i,r,e[r]);else for(r in e)t.setAttribute(r,e[r])},e.mapEventEmission=function(t,e){var i;for(var r in e||(e=this),t)0==r.indexOf("on")&&"function"==typeof t[r]&&(i=(i=r.substring(2)).substring(0,1).toLowerCase()+i.substring(1),e.on&&function(r){e.on(i,(function(){t[r].apply(e,arguments)}))}(r))},e.guid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)}))},e.throwError=function(t){console.error(t)},e.warn=function(t){console.warn(t)},e.isNumeric=function(t){return!Array.isArray(t)&&t-parseFloat(t)+1>=0},e.hue2rgb=i,e.hslToRgb=function(t,e,r){var s,n,o;if(0==e)s=n=o=r;else{var a=r<.5?r*(1+e):r+e-r*e,h=2*r-a;s=i(h,a,t+1/3),n=i(h,a,t),o=i(h,a,t-1/3)}return[Math.round(255*s),Math.round(255*n),Math.round(255*o)]},e.saveDomAttributes=function(t,e,i){if(t)for(var r in t._savedAttributesIds=t._savedAttributesIds||[],t._savedAttributesIds.indexOf(i)>-1&&s(t,i),t._savedAttributes=t._savedAttributes||{},t._attributes=t._attributes||{},t._attributes[i]=e,t._savedAttributesIds.push(i),e)t._savedAttributes[r]||(t._savedAttributes[r]=t.getAttribute(r)),t.setAttribute(r,e[r])},e.hasSavedAttribute=r,e.overwriteDomAttribute=function(t,e,i){r(t,e)&&(t._savedAttributes[e]=i)},e.restoreDomAttributes=s,e.debounce=function(t,e,i){var r;return function(){var s=this,n=arguments,o=function(){r=null,i||t.apply(s,n)},a=i&&!r;clearTimeout(r),r=setTimeout(o,e),a&&t.apply(s,n)}},e.SVGParser=function(t){return(new DOMParser).parseFromString(t,"image/svg+xml")},e.reverseArray=function(t){var e=null,i=null;for(e=0,i=t.length-1;e<i;e+=1,i-=1){var r=t[e];t[e]=t[i],t[i]=r}return t},e.getOffset=function(t){var e=t.getBoundingClientRect();return{top:e.top,left:e.left}},e.setCSS=function(t,e){var i=t.style;for(var r in e)i[r]=e[r]},e.ajaxGet=function(t){return new Promise((function(e,i){var r=new XMLHttpRequest;r.open(t.type||"GET",t.url,!0),t.json&&r.setRequestHeader("Accept","application/json"),r.onload=function(){if(200===r.status){var s=r.responseText;t.json&&(s=JSON.parse(s)),e(s)}else i(new Error(`Request error: ${r.status}`))},r.onerror=function(){i(new Error(`Network error: ${r.status}`))},r.send()}))},e.extend=function t(){var e,i,r,s,n,o,l=arguments[0],u=1,c=arguments.length,p=!1;for("boolean"==typeof l?(p=l,l=arguments[1]||{},u=2):("object"!=typeof l&&"function"!=typeof l||null==l)&&(l={});u<c;++u)if(null!=(e=arguments[u]))for(i in e)r=l[i],l!==(s=e[i])&&(p&&s&&(h(s)||(n=a(s)))?(n?(n=!1,o=r&&a(r)?r:[]):o=r&&h(r)?r:{},l[i]=t(p,o,s)):void 0!==s&&(l[i]=s));return l},e.mix=function(t,e){for(let i in e)e.hasOwnProperty(i)&&(t.prototype[i]=e[i])},e.emptyDom=function(t){for(;t.firstChild;)t.removeChild(t.firstChild)},e.isPlainObject=e.isArray=e.default=void 0;var n=Object.prototype.hasOwnProperty,o=Object.prototype.toString,a=function(t){return"function"==typeof Array.isArray?Array.isArray(t):"[object Array]"===o.call(t)};e.isArray=a;var h=function(t){if(!t||"[object Object]"!==o.call(t))return!1;var e,i=n.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&n.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!i&&!r)return!1;for(e in t);return void 0===e||n.call(t,e)};e.isPlainObject=h,e.default={}},1148:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=s();if(e&&e.has(t))return e.get(t);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var o=r?Object.getOwnPropertyDescriptor(t,n):null;o&&(o.get||o.set)?Object.defineProperty(i,n,o):i[n]=t[n]}return i.default=t,e&&e.set(t,i),i}(i(4167));function s(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return s=function(){return t},t}var n={makeBarY:function(t,e,i){if(t&&void 0!==i){var s=r.isNumeric(i.width)?i.width:10;return` V ${t} m -${s/2} 0 h ${s} m -${s/2} 0 V ${e} `}},makeBoxY:function(t,e,i){if(t&&void 0!==i)return` m 5 0 V ${t} h -10 V ${e} m 5 0 `},makeBarX:function(t,e,i){if(t&&void 0!==i){var s=r.isNumeric(i.width)?i.width:10;return` H ${t} m 0 -${s/2} v ${s} m 0 -${s/2} H ${e} `}},makeBoxX:function(t,e,i){if(t&&void 0!==i)return` v 5 H ${t} v -10 H ${e} v 5 `},setErrorBarStyle:function(t){return this.errorbarStyle=this._setErrorStyle(t),this},setErrorBoxStyle:function(t){return this.errorboxStyle=this._setErrorStyle(t),this},_setErrorStyle(t={}){var e=[],i=[["y","top","bottom"],["x","left","right"]],s=t=>{t.dom=document.createElementNS(this.graph.ns,"path"),t.dom.setAttribute("fill",t.fillColor||"none"),t.dom.setAttribute("stroke",t.strokeColor||"black"),t.dom.setAttribute("stroke-opacity",t.strokeOpacity||1),t.dom.setAttribute("fill-opacity",t.fillOpacity||1),t.dom.setAttribute("stroke-width",t.strokeWidth||1),this.groupMain.appendChild(t.dom)};e={},"string"==typeof t&&(t={});for(var n=0,o=i.length;n<o;n++){t.all&&(t[i[n][1]]=r.extend(!0,{},t.all),t[i[n][2]]=r.extend(!0,{},t.all)),t[i[n][0]]&&(t[i[n][1]]=r.extend(!0,{},t[i[n][0]]),t[i[n][2]]=r.extend(!0,{},t[i[n][0]]));for(var a=1;a<=2;a++)t[i[n][a]]&&(e[i[n][a]]=t[i[n][a]],s(e[i[n][a]]))}return e},errorDrawInit:function(){this.errorboxStyle&&(this.errorboxStyle.paths={top:"",bottom:"",left:"",right:""}),this.errorbarStyle&&(this.errorbarStyle.paths={top:"",bottom:"",left:"",right:""})},errorAddPoint:function(t,e,i,r,s){let n;this.errorbarStyle&&((n=this.waveform.getErrorBarXBelow(t))&&(this.errorbarStyle.paths.left+=` M ${r} ${s}`,this.errorbarStyle.paths.left+=this.makeBarX(this.getX(e-n),r,this.errorbarStyle.left)),(n=this.waveform.getErrorBarXAbove(t))&&(this.errorbarStyle.paths.right+=` M ${r} ${s}`,this.errorbarStyle.paths.right+=this.makeBarX(this.getX(e+n),r,this.errorbarStyle.right)),(n=this.waveform.getErrorBarYBelow(t))&&(this.errorbarStyle.paths.bottom+=` M ${r} ${s}`,this.errorbarStyle.paths.bottom+=this.makeBarY(this.getY(i-n),s,this.errorbarStyle.bottom)),(n=this.waveform.getErrorBarYAbove(t))&&(this.errorbarStyle.paths.top+=` M ${r} ${s}`,this.errorbarStyle.paths.top+=this.makeBarY(this.getY(i+n),s,this.errorbarStyle.top))),this.errorboxStyle&&((n=this.waveform.getErrorBoxXBelow(t))&&(this.errorboxStyle.paths.left+=` M ${r} ${s}`,this.errorboxStyle.paths.left+=this.makeBoxX(this.getX(e-n),r,this.errorboxStyle.left)),(n=this.waveform.getErrorBoxXAbove(t))&&(this.errorboxStyle.paths.right+=` M ${r} ${s}`,this.errorboxStyle.paths.right+=this.makeBoxX(this.getX(e+n),r,this.errorboxStyle.right)),(n=this.waveform.getErrorBoxYBelow(t))&&(this.errorboxStyle.paths.bottom+=` M ${r} ${s}`,this.errorboxStyle.paths.bottom+=this.makeBoxY(this.getY(i-n),s,this.errorboxStyle.bottom)),(n=this.waveform.getErrorBoxYAbove(t))&&(this.errorboxStyle.paths.top+=` M ${r} ${s}`,this.errorboxStyle.paths.top+=this.makeBoxY(this.getY(i+n),s,this.errorboxStyle.top)))},errorAddPointBarChart:function(t,e,i,r){var s;this.error&&(s=this.error[t])&&this.doErrorDraw("y",s,e,r,i,r)},errorDraw:function(){if(this.errorbarStyle)for(var t in this.errorbarStyle.paths)this.errorbarStyle[t]&&this.errorbarStyle[t].dom&&this.errorbarStyle[t].dom.setAttribute("d",this.errorbarStyle.paths[t]);if(this.errorboxStyle)for(var t in this.errorboxStyle.paths)this.errorboxStyle[t]&&this.errorboxStyle[t].dom&&this.errorboxStyle[t].dom.setAttribute("d",this.errorboxStyle.paths[t])}};e.default=n},6871:(t,e)=>{"use strict";function i(t){return class extends t{on(t,e){return this.__eventHandlers||(this.__eventHandlers={}),this.__eventHandlers[t]||(this.__eventHandlers[t]=[]),this.__eventHandlers[t].push(e),this}off(t,e){var i;let r=null===(i=this.__eventHandlers)||void 0===i?void 0:i[t];if(r){if(e)for(let t=0,i=r.length;t<i;t++)r[t]==e&&r.splice(t--,1);else r=[];return this}}onAll(t){return this.on("__all",t)}ofAll(t){return this.off("__all",t)}trigger(t,...e){var i,r;(null===(i=this.__eventHandlers)||void 0===i?void 0:i[t])&&this.__eventHandlers[t].forEach((t=>t.apply(this,e)));const s=null===(r=this.__eventHandlers)||void 0===r?void 0:r.__all;return s&&s.forEach((i=>i.apply(this,[t,...e]))),this}emit(t,...e){return this.trigger(t,...Array.from(e))}}}Object.defineProperty(e,"__esModule",{value:!0}),e.EventEmitter=e.default=void 0;const r=i(class{});e.EventEmitter=r;var s=i;e.default=s},2482:(t,e)=>{"use strict";function i(t){return class extends t{on(t,e){return this.__eventHandlers||(this.__eventHandlers={}),this.__eventHandlers[t]||(this.__eventHandlers[t]=[]),this.__eventHandlers[t].push(e),this}off(t,e){var i;let r=null===(i=this.__eventHandlers)||void 0===i?void 0:i[t];if(r){if(e)for(let t=0,i=r.length;t<i;t++)r[t]==e&&r.splice(t--,1);else r=[];return this}}onAll(t){return this.on("__all",t)}ofAll(t){return this.off("__all",t)}trigger(t,...e){var i,r;null!==(i=this.__eventHandlers)&&void 0!==i&&i[t]&&this.__eventHandlers[t].forEach((t=>t.apply(this,e)));const s=null===(r=this.__eventHandlers)||void 0===r?void 0:r.__all;return s&&s.forEach((i=>i.apply(this,[t,...e]))),this}emit(t,...e){return this.trigger(t,...Array.from(e))}}}Object.defineProperty(e,"__esModule",{value:!0}),e.EventEmitter=e.default=void 0;const r=i(class{});e.EventEmitter=r;var s=i;e.default=s},5452:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(2482);let s=t=>Object.assign({},r.EventMixin,{trigger(e,...i){return r.trigger.call(this,e,...i),this.graph&&this.graph.trigger(t+"."+e,...i),this},emit(t,...e){return this.trigger(t,...e)}});e.default=(t,e="__")=>{Object.assign(t.prototype,s(e))}},6190:(t,e)=>{"use strict";function i(t,e,i){let r,s,n,o,a,h=t.getWaveforms();for(let l of h)for(r=0,s=l.getLength(),n=l.getData();r<s;r+=1)o=e?t.getXAxis().getVal(t.getX(l.getX(r,!0))):t.getYAxis().getVal(t.getY(n[r])),a=0==r?o:i?Math.min(a,o):Math.max(a,o);return a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r={getX:function(t){return(t=this.getXAxis().getPx(t))-t%.2+this.getXAxis().getZProj(this.options.zpos)},getY:function(t){return(t=this.getYAxis().getPx(t))-t%.2+this.getYAxis().getZProj(this.options.zpos)},getZPos:function(){return this.options.zpos},getMinX:function(t){return t?i(this,!0,!0):this.minX},getMaxX:function(t){return t?i(this,!0,!1):this.maxX},getMinY:function(t){return t?i(this,!1,!0):this.minY},getMaxY:function(t){return t?i(this,!1,!1):this.maxY}};e.default=r},3525:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=c(i(1107)),s=c(i(9763)),n=c(i(4083)),o=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=u();if(e&&e.has(t))return e.get(t);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){var n=r?Object.getOwnPropertyDescriptor(t,s):null;n&&(n.get||n.set)?Object.defineProperty(i,s,n):i[s]=t[s]}return i.default=t,e&&e.set(t,i),i}(i(4167)),a=c(i(1755)),h=c(i(5718)),l=(c(i(4633)),c(i(1530)));function u(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return u=function(){return t},t}function c(t){return t&&t.__esModule?t:{default:t}}class p extends a.default{constructor(){super(...arguments),this.subSeries=[]}draw(){return this}}class d extends h.default{constructor(){super(...arguments),this.subSeries=[]}draw(){return this}getMarkerForLegend(){return!!this.subSeries[0]&&this.subSeries[0].getMarkerForLegend()}}var g=["constructor","init","draw","setLineColor","setLineWidth","setLineStyle","getLineColor","getLineWidth","getLineStyle","setMarkers","getMarkerDom","getMarkerDomIndependant","getMarkerPath","_recalculateMarkerPoints","getSymbolForLegend","_getSymbolForLegendContainer"],f=[];Object.getOwnPropertyNames(a.default.prototype).concat(f).map((function(t){var e;g.indexOf(t)>-1||(p.prototype[t]=(e=t,function(){var t=arguments;this.subSeries.map((i=>{i[e](...t)}))}))}));var y=["getSymbolForLegend"];f=["_getSymbolForLegendContainer"],Object.getOwnPropertyNames(a.default.prototype).map((function(t){var e;-1!=y.indexOf(t)&&(p.prototype[t]=(e=t,function(){var t=arguments;return this.subSeries[0][e](...t)}),d.prototype[t]=function(t){return function(){var e=arguments;return this.subSeries[0][t](...e)}}(t))})),f.map((t=>{var e;p.prototype[t]=(e=t,function(){var t=arguments;return this.subSeries[0][e](...t)}),d.prototype[t]=function(t){return function(){var e=arguments;return this.subSeries[0][t](...e)}}(t)}));class m extends l.default{constructor(t){super(...arguments),this.series=new Map}static default(){return{axes:{margins:{high:5,low:5}}}}init(t){this.graph=t}newXAxis(t){return this.newBottomAxis(t)}newYAxis(t){return this.newLeftAxis(t)}newTopAxis(t){return t=this.getOptions(t),new b(this.graph,"top",t)}newBottomAxis(t){return t=this.getOptions(t),new b(this.graph,"bottom",t)}newLeftAxis(t){return t=this.getOptions(t),new _(this.graph,"left",t)}newRightAxis(t){return t=this.getOptions(t),new _(this.graph,"right",t)}getOptions(t){var e={marginMin:this.options.axes.margins.low,marginMax:this.options.axes.margins.high};return o.extend(!0,e,t)}preDraw(){var t,e;this.series.forEach((({serie:i})=>{t=i.getXAxis(),e=i.getYAxis();let s=1;for(t.splitNumber&&(s*=t.splitNumber),e.splitNumber&&(s*=e.splitNumber);i.subSeries.length<s;){const t=`${i.getName()}_${i.subSeries.length}`,e=this.graph.newSerie(t,{},i.getType()||r.default.SERIE_LINE);e.excludedFromLegend=!0,e.styles=i.styles,e.waveform=i.waveform,i.getType()==r.default.SERIE_LINE&&(e.markerPoints=i.markerPoints,e.markerFamilies=i.markerFamilies),i.subSeries.push(e),i.postInit()}for(;i.subSeries.length>s;){let t=this.graph.getSerie(`${i.getName()}_${i.subSeries.length-1}`);t&&t.kill&&t.kill(),i.subSeries.pop()}!i.getXAxis().splitNumber&&i.getXAxis().splitAxis&&i.getXAxis().splitAxis(),!i.getYAxis().splitNumber&&i.getYAxis().splitAxis&&i.getYAxis().splitAxis(),i.subSeries.map(((e,r)=>{var s,n;if(i.getXAxis().getSubAxis){let e=r%(t.splitNumber||1);s=i.getXAxis().getSubAxis(e)}else s=i.getXAxis();if(e.setXAxis(s),i.getYAxis().getSubAxis){let e=Math.floor(r/(t.splitNumber||1));n=i.getYAxis().getSubAxis(e)}else n=i.getYAxis();e.setYAxis(n),e.draw(!0)}))}))}newSerie(t,e={},i){switch(i){case"line":return this.newLineSerie(t,e);case"scatter":return this.newScatterSerie(t,e)}throw`Cannot create a split serie of type ${i}`}newLineSerie(t,e){var i={type:"lineSerie",serie:new p(this.graph,t,e,"line")};return this.series.set(t,i),this.graph.series.push(i.serie),i.serie}newScatterSerie(t,e){var i={type:"scatterSerie",serie:new d(this.graph,t,e,"scatter")};return this.series.set(t,i),this.graph.series.push(i.serie),i.serie}}var x={splitMarks:!0},v=function(t){var e=class extends t{constructor(t,e,i={}){super(t,e,i),this.axes=[],this.position=e,this.constructorOptions=o.extend(!0,{},x,i),this._splitVal=[]}all(t){if("function"==typeof t)return this.axes.map(t),this}splitAxis(...t){t.push(1);let e=t.length;for(;this.axes.length>e;)this.axes.pop().kill(!0,!0);for(;this.axes.length<e;){let t=new(this.getConstructor())(this.graph,this.position,this.constructorOptions);this.axes.push(t),t.zoomLock=!0,t.init(this.graph,this.constructorOptions)}let i=0,r=0;for(let e of this.axes)e.options.marginMin=10,e.options.marginMax=10,0==r&&(e.options.marginMin=0),r==this.axes.length-1&&(e.options.marginMax=0),e.setSpan(i,i=t[r]),e.setMinMaxFlipped(),r++;return this._splits=t,this}fixGridIntervalBasedOnAxis(t){return this.fixGridFor=t,this.graph._axisHasChanged(),this}splitSpread(t){return this.autoSpread=!!t,this}hasAxis(t){return this.axes.indexOf(t)>-1}_splitSpread(){let t=[],e=0,i=0;for(let t of this._splitVal)e+=t[1]-t[0];for(let r of this._splitVal)t.push(i+=(r[1]-r[0])/e);t.pop(),this.splitAxis(...t)}setChunkBoundaries(t){let e,i,r=0;for(let s of this.axes)Array.isArray(t[r])&&t[r].length>1&&!e&&(e=t[r][1]-t[r][0],i=r),1!=t[r].length&&Array.isArray(t[r])?s.forceMin(t[r][0]).forceMax(t[r][1]):(s._mean=t[r],Array.isArray(s._mean)&&(s._mean=s._mean[0])),r++;return this._baseWidthVal=e,this._baseWidthIndex=i,this._splitVal=t,this.graph._axisHasChanged(),this}setMinMaxToFitSeries(){(!this._splitVal||this._splitVal.length<1)&&(super.setMinMaxToFitSeries(...arguments),this._splitVal[0]=this._splitVal[0]||[],this._splitVal[this._splitVal.length-1]=this._splitVal[this._splitVal.length-1]||[],this._splitVal[0][0]=this.getCurrentMin(),this._splitVal[this._splitVal.length-1][1]=this.getCurrentMax(),this.setChunkBoundaries(this._splitVal))}draw(){this.autoSpread&&this._splitSpread();let t,e,i,r=0;if(this._baseWidthIndex>=0&&(e=this.getSubAxis(this._baseWidthIndex))&&(i=e.getSpan()),e=void 0,this.fixGridFor>=0&&(e=this.getSubAxis(this.fixGridFor))){if(void 0!==e._mean){let t=(e.getSpan()[1]-e.getSpan()[0])/(i[1]-i[0])*this._baseWidthVal;e.forceMin(e._mean-t/2),e.forceMax(e._mean+t/2)}r=e.draw(),t=e.getPrimaryTickUnit()}return this.axes.map((s=>{if(e!==s){if(void 0!==s._mean){let t=(s.getSpan()[1]-s.getSpan()[0])/(i[1]-i[0])*this._baseWidthVal;s.forceMin(s._mean-t/2),s.forceMax(s._mean+t/2)}t&&s.forcePrimaryTickUnit(t),r=Math.max(r,s.draw())}})),this.writeUnit(),r}setMinPx(t){super.setMinPx(t);for(let e of this.axes)e.setMinPx(t)}setMaxPx(t){super.setMaxPx(t);for(let e of this.axes)e.setMaxPx(t)}setShift(){super.setShift(...arguments);for(let t of this.axes)t.setShift(...arguments)}init(){super.init(...arguments),this.splitAxis()}getAxisPosition(){var t=0;return this.axes.map((e=>{t=Math.max(t,e.getAxisPosition())})),t}getSubAxis(t){if(this.axes.length<=t)throw`Impossible to reach axis. Index ${t} is out of range`;return this.axes[t]}get splitNumber(){return this._splits.length}};return["turnGridsOff","turnGridsOn","gridsOff","gridsOn","setEngineering","setScientificScaleExponent","setScientific","setLabelColor","setSecondaryGridDasharray","setPrimaryGridDasharray","setSecondaryGridsOpacity","setPrimaryGridOpacity","setSecondaryGridWidth","setPrimaryGridWidth","setSecondaryGridColor","setPrimaryGridColor","setTicksLabelColor","setSecondaryTicksColor","setPrimaryTicksColor","setAxisColor","secondaryGridOn","secondaryGridOff","primaryGridOff","primaryGridOn","setSecondaryGrid","setPrimaryGrid","setGrids","setTickPosition","setExponentialFactor","setExponentialLabelFactor","setGridLinesStyle","forcePrimaryTickUnitMin","forcePrimaryTickUnitMax","forcePrimaryTickUnit","flip","show","hide","setDisplay"].map((t=>{var i;e.prototype[t]=(i=t,function(){return this.axes.map((t=>{t[i](...arguments)})),this})})),e};class b extends(v(s.default)){constructor(t,e,i){super(...arguments),this.topbottom=e}getConstructor(){return s.default}getAxisPosition(){var t=super.getAxisPosition(...arguments);return this.labelPosY=t,this.getLabel()&&(t+=this.graph.options.fontSize),t}drawLabel(){super.drawLabel(),this.label.setAttribute("y",(this.top?-1:1)*(this.graph.options.fontSize+this.labelPosY))}draw(){var t=super.draw(...arguments);return this.drawLabel(),t}}class _ extends(v(n.default)){constructor(t,e,i){super(...arguments)}getConstructor(){return n.default}drawLabel(){super.drawLabel()}equalizePosition(t){var e=t;if(this.getLabel()&&this.axes.map((i=>{e=Math.max(i.equalizePosition(t),e)})),this.getLabel())return this.placeLabel(this.left?-e:e),e+this.graph.options.fontSize}}o.mix(b,new s.default),o.mix(_,new n.default);var A=m;e.default=A},4885:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,s=(r=i(1530))&&r.__esModule?r:{default:r};class n extends s.default{static default(){return{dragX:!0,dragY:!0,persistanceX:!1,persistanceY:!1}}init(t){this.graph=t,this.time=null,this.totaltime=2e3}onMouseDown(t,e,i,r,s){return this._draggingX=e,this._draggingY=i,this._lastDraggingX=this._draggingX,this._lastDraggingY=this._draggingY,this.stopAnimation=!0,this.moved=!1,!0}onMouseMove(t,e,i,r,s){var n=e-this._draggingX,o=i-this._draggingY;this.options.dragX&&t._applyToAxes((function(t){t.setCurrentMin(t.getVal(t.getMinPx()-n)),t.setCurrentMax(t.getVal(t.getMaxPx()-n))}),!1,!0,!1),this.options.dragY&&t._applyToAxes((function(t){t.setCurrentMin(t.getVal(t.getMinPx()-o)),t.setCurrentMax(t.getVal(t.getMaxPx()-o))}),!1,!1,!0),this._lastDraggingX=this._draggingX,this._lastDraggingY=this._draggingY,this._draggingX=e,this._draggingY=i,this.moved=!0,this.time=Date.now(),this.emit("dragging"),t.draw(!0)}onMouseUp(t,e,i,r,s){var n=Date.now()-this.time;e!=this._lastDraggingX&&i!=this._lastDraggingY?(this.speedX=(e-this._lastDraggingX)/n,this.speedY=(i-this._lastDraggingY)/n,isNaN(this.speedX)||isNaN(this.speedY)?this.emit("dragged"):(t._applyToAxes((function(t){t._pluginDragMin=t.getCurrentMin(),t._pluginDragMax=t.getCurrentMax()}),!1,!0,!0),this.stopAnimation=!1,this.accelerationX=-this.speedX/this.totaltime,this.accelerationY=-this.speedY/this.totaltime,this.options.persistanceX||this.options.persistanceY?this._persistanceMove(t):this.emit("dragged"))):this.moved&&this.emit("dragged")}_persistanceMove(t){var e=this;e.stopAnimation?e.emit("dragged"):window.requestAnimationFrame((function(){var i=Date.now()-e.time,r=(.5*e.accelerationX*i+e.speedX)*i,s=(.5*e.accelerationY*i+e.speedY)*i;e.options.persistanceX&&t._applyToAxes((function(t){t.setCurrentMin(-t.getRelVal(r)+t._pluginDragMin),t.setCurrentMax(-t.getRelVal(r)+t._pluginDragMax),t.cacheCurrentMin(),t.cacheCurrentMax(),t.cacheInterval()}),!1,!0,!1),e.options.persistanceY&&t._applyToAxes((function(t){t.setCurrentMin(-t.getRelVal(s)+t._pluginDragMin),t.setCurrentMax(-t.getRelVal(s)+t._pluginDragMax),t.cacheCurrentMin(),t.cacheCurrentMax(),t.cacheInterval()}),!1,!1,!0),t.draw(),i<e.totaltime?(e.emit("dragging"),e._persistanceMove(t)):e.emit("dragged")}))}}var o=n;e.default=o},1530:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,s=(r=i(5452))&&r.__esModule?r:{default:r};class n{static default(){return{}}constructor(t){this.options=Object.assign({},n.default(),this.constructor.default(),t)}init(t){this.graph=t}onMouseDown(){}onMouseUp(){}onMouseMove(){}}(0,s.default)(n,"plugin");var o=n;e.default=o},6901:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,function(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=n();if(e&&e.has(t))return e.get(t);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){var o=r?Object.getOwnPropertyDescriptor(t,s):null;o&&(o.get||o.set)?Object.defineProperty(i,s,o):i[s]=t[s]}i.default=t,e&&e.set(t,i)}(i(4167));var r,s=(r=i(1530))&&r.__esModule?r:{default:r};function n(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return n=function(){return t},t}class o extends s.default{constructor(){super(...arguments)}init(t,e){super.init(t,e)}static default(){return{}}checkHSL(t){let e,i,r,s={};return(e=t.h||t.hue)?(e<1&&(e=Math.round(360*e)),s.hue=e):s.h=0,(i=t.s||t.saturation)?(i>1&&(i/=100),s.saturation=i):s.saturation=.75,(r=t.lightness||t.l)?(r>1&&(r/=100),s.lightness=r):s.lightness=.5,s}buildHSLString(t){return`hsl( ${Math.round(t.h)}, ${Math.round(100*t.s)}%, ${Math.round(100*t.l)}%)`}colorizeAll(t,e=!1){let i,r;if(t.serieTypes?(Array.isArray(t.serieTypes)||(t.serieTypes=[t.serieTypes]),i=this.graph.allSeries(...t.serieTypes)):i=this.graph.getSeries(),r=i.length,!t.startingColorHSL){if(!t.colorHSL)throw"No starting color was provided. There must exist either options.colorHSL or options.startingColorHSL";t.startingColorHSL=this.checkHSL(t.colorHSL)}if(t.endingColorHSL)t.endingColorHSL=Object.assign({},t.startingColorHSL,t.endingColorHSL);else switch(t.affect&&["h","s","l","hue","saturation","lightness"].include(t.affect)||(t.affect="h"),t.affect){case"h":case"hue":t.endingColorHSL={h:t.startingColorHSL.h+300,s:t.startingColorHSL.s,l:t.startingColorHSL.l};break;case"saturation":case"s":let e;e=t.startingColorHSL.s>.5?0:1,t.endingColorHSL={h:t.startingColorHSL.h,s:e,l:t.startingColorHSL.l};break;case"lightness":case"l":let i;i=t.startingColorHSL.l>.5?0:.75,t.endingColorHSL={h:t.startingColorHSL.h,s:t.startingColorHSL.s,l:i}}return i.map(((i,s)=>{if(!i.setLineColor)throw`The serie ${i.getName()} does not implement the method \`startingColor\``;let n;return n=1==r?this.buildHSLString({h:t.startingColorHSL.h,s:t.startingColorHSL.s,l:t.startingColorHSL.l}):this.buildHSLString({h:t.startingColorHSL.h+s/(r-1)*(t.endingColorHSL.h-t.startingColorHSL.h),s:t.startingColorHSL.s+s/(r-1)*(t.endingColorHSL.s-t.startingColorHSL.s),l:t.startingColorHSL.l+s/(r-1)*(t.endingColorHSL.l-t.startingColorHSL.l)}),i.setLineColor(n),"function"==typeof e&&e(s,n),n}))}}var a=o;e.default=a},267:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,function(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=n();if(e&&e.has(t))return e.get(t);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){var o=r?Object.getOwnPropertyDescriptor(t,s):null;o&&(o.get||o.set)?Object.defineProperty(i,s,o):i[s]=t[s]}i.default=t,e&&e.set(t,i)}(i(4167));var r,s=(r=i(1530))&&r.__esModule?r:{default:r};function n(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return n=function(){return t},t}class o extends s.default{constructor(){super(...arguments)}static default(){return{autoPeakPicking:!1,autoPeakPickingNb:4,autoPeakPickingMinDistance:10,autoPeakPickingFormat:!1,autoPeakPickingAllowAllY:!1}}init(t,e){super.init(t,e),this.picks=[];for(var i=0,r=this.options.autoPeakPickingNb;i<r;i++){var s=this.graph.newShape({type:"label",label:{text:"",position:{x:0},anchor:"middle"},selectable:!0,shapeOptions:{minPosY:15}});s.draw(),this.picks.push(s)}}setSerie(t){this.serie=t,this.picks.map((t=>{t.show()}))}serieRemoved(t){this.serie==t&&this.picks.map((t=>{t.hide()}))}preDraw(){this.serie&&(this.detectedPeaks=[],this.lastYPeakPicking=!1)}postDraw(){if(!this.serie)return;let t,e=!0,i=!1,r=[],s=this.serie.getWaveform();if(!s)throw"The serie must have a waveform for the peak picking to work";let n,o=s.getLength(),a=0;for(;a<o;a++)n=s.getY(a),this.serie.options.lineToZero?r.push([s.getX(a),n]):t?n>=t[1]&&e||n<=t[1]&&i?t=[s.getX(a),n]:(n<t[1]&&e||n>t[1]&&i)&&(i?(i=!1,e=!0):(i=!0,e=!1,r.push(t),t=!1),t=[s.getX(a),n]):t=[s.getX(a),n];var h,l,u,c,p=r,d=[],g=p.length;a=0;var f=this.graph.selectedShapes.map((function(t){return t.getProp("xval")}));for(p.sort((function(t,e){return e[1]-t[1]})),c=0;a<g;a++)if(h=p[a][0],l=this.serie.getX(h),u=0,n=this.serie.getY(p[a][1]),!(l<this.serie.getXAxis().getMinPx()||l>this.serie.getXAxis().getMaxPx())&&(this.options.autoPeakPickingAllowAllY||!(n>this.serie.getYAxis().getMinPx()||n<this.serie.getYAxis().getMaxPx()))){for(;u<d.length&&!(Math.abs(d[u]-l)<this.options.autoPeakPickingMinDistance);u++);if(!(u<d.length))if(f.indexOf(h)>-1)d.push(l);else{if(!this.picks[c])return;for(this.serie.getYAxis().getPx(p[a][1])-20<0?(this.picks[c].setLabelPosition({x:h,y:"5px"}),this.picks[c].setLabelBaseline("hanging")):(this.picks[c].setLabelBaseline("no-change"),this.picks[c].setLabelPosition({x:h,y:p[a][1],dy:"-15px"})),this.picks[c].setProp("xval",h),this.options.autoPeakPickingFormat?this.picks[c].setLabelText(this.options.autoPeakPickingFormat.call(this.picks[c],h,c)):this.picks[c].setLabelText(String(Math.round(1e3*h)/1e3)),this.picks[c].makeLabels(),c++;this.picks[c]&&this.picks[c].isSelected();)c++;if(d.length==this.options.autoPeakPickingNb)break}}}hidePeakPicking(t){if(this._hidePeakPickingLocked||(this._hidePeakPickingLocked=t),this.picks)for(var e=0;e<this.picks.length;e++)this.picks[e].hide()}showPeakPicking(t){if((!this._hidePeakPickingLocked||t)&&this.picks)for(var e=0;e<this.picks.length;e++)this.picks[e].show()}killPeakPicking(){if(this.picks)for(var t=0,e=this.picks.length;t<e;t++)this.picks[t].kill()}getSerie(){return this.serie}}var a=o;e.default=a},366:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,s=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=o();if(e&&e.has(t))return e.get(t);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){var n=r?Object.getOwnPropertyDescriptor(t,s):null;n&&(n.get||n.set)?Object.defineProperty(i,s,n):i[s]=t[s]}return i.default=t,e&&e.set(t,i),i}(i(4167)),n=(r=i(1530))&&r.__esModule?r:{default:r};function o(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return o=function(){return t},t}class a extends n.default{constructor(){super(...arguments)}static default(){return{}}init(t,e){this._path=document.createElementNS(t.ns,"path"),s.setAttributeTo(this._path,{display:"none",fill:"rgba(0,0,0,0.1)",stroke:"rgba(0,0,0,1)","shape-rendering":"crispEdges",x:0,y:0,height:0,width:0,d:""}),this.graph=t,t.dom.appendChild(this._path)}setSerie(t){this.options.serie=t}onMouseDown(t,e,i,r,s){if(!this.options.serie)return;const n=t.getSerie(this.options.serie);this.path=`M ${e} ${i} `,this.currentX=e,this.currentY=i,this.xs=[n.getXAxis().getVal(e-t.getPaddingLeft())],this.ys=[n.getYAxis().getVal(i-t.getPaddingTop())],this._path.setAttribute("d",""),this._path.setAttribute("display","block")}onMouseMove(t,e,i,r,s){if(!this.options.serie)return;const n=t.getSerie(this.options.serie);Math.pow(e-this.currentX,2)+Math.pow(i-this.currentY,2)>25&&(this.path+=` L ${e} ${i} `,this.currentX=e,this.currentY=i,this.xs.push(n.getXAxis().getVal(e-t.getPaddingLeft())),this.ys.push(n.getYAxis().getVal(i-t.getPaddingTop())),this._path.setAttribute("d",`${this.path} z`),this.findPoints())}findPoints(){if(!this.options.serie)return;const t=this.graph.getSerie(this.options.serie);for(var e,i=t.waveform,r=[],s=0,n=0,o=i.getLength();n<o;n+=1){s=0;for(var a=0,h=this.xs.length;a<h;a+=1)e=a==h-1?0:a+1,(this.ys[a]<i.getY(n)&&this.ys[e]>i.getY(n)||this.ys[a]>i.getY(n)&&this.ys[e]<i.getY(n))&&i.getX(n)>(i.getY(n)-this.ys[a])/(this.ys[e]-this.ys[a])*(this.xs[e]-this.xs[a])+this.xs[a]&&s++;s%2==1?(r.push(n),t.selectMarker(n,!0,"selected")):t.unselectMarker(n)}this.selected=r,this.emit("selectionProcess",r)}onMouseUp(t,e,i,r){this._path.setAttribute("display","none"),this.emit("selectionEnd",this.selected)}}var h=a;e.default=h},6010:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,s=i(1748),n=(r=i(1530))&&r.__esModule?r:{default:r};class o extends n.default{constructor(){super(...arguments)}static default(){return{positiveStyle:{fillColor:"green",fillOpacity:.2,strokeWidth:0},negativeStyle:{fillColor:"red",fillOpacity:.2,strokeWidth:0},from:0,to:0}}init(t,e){this.graph=t,this.series=[],this.pathsPositive=[],this.pathsNegative=[],this.positivePolyline=this.graph.newShape("polyline").draw(),this.positivePolyline.setFillColor(this.options.positiveStyle.fillColor).setFillOpacity(this.options.positiveStyle.fillOpacity).setStrokeWidth(this.options.positiveStyle.strokeWidth).applyStyle(),this.negativePolyline=this.graph.newShape("polyline").draw(),this.negativePolyline.setFillColor(this.options.negativeStyle.fillColor).setFillOpacity(this.options.negativeStyle.fillOpacity).setStrokeWidth(this.options.negativeStyle.strokeWidth).applyStyle()}setSeries(t,e){this.serie1=t,this.serie2=e}setBoundaries(t,e){this.options.from=t,this.options.to=e}getFrom(){return this.options.from}getTo(){return this.options.to}draw(){const t=this.serie1.getWaveform(),e=this.serie2.getWaveform(),i=t.duplicate(!0).subtract(e).add(e),r=t.duplicate(!0).subtract(t.duplicate(!0).subtract(e)),n=[];let o;var a=(t=!1)=>{(t||0!=o.wave1.length||0!=o.wave2.length)&&(o={above:void 0,wave1:[],wave2:[]},n.push(o))};a(!0);for(var h=0;h<i.getLength();h++)if(isNaN(i.getY(h))||isNaN(r.getY(h)))a();else{if(h>0&&o.wave1.length>0){if(i.getY(h)>r.getY(h)&&!o.above){const t=this.computeCrossing(i.getX(h-1),i.getY(h-1),i.getX(h),i.getY(h),r.getX(h-1),r.getY(h-1),r.getX(h),r.getY(h));o.wave1.push([t.x,t.y]),a(),o.wave1.push([t.x,t.y]),o.above=!0}if(i.getY(h)<r.getY(h)&&o.above){const t=this.computeCrossing(i.getX(h-1),i.getY(h-1),i.getX(h),i.getY(h),r.getX(h-1),r.getY(h-1),r.getX(h),r.getY(h));o.wave1.push([t.x,t.y]),a(),o.wave1.push([t.x,t.y]),o.above=!1}}0==o.wave1.length&&(o.above=i.getY(h)>r.getY(1)),o.wave1.push([i.getX(h),i.getY(h)]),o.wave2.push([r.getX(h),r.getY(h)])}this.series.forEach((t=>t.kill())),this.series=n.forEach(((t,e)=>{const i=this.graph.newSerie(`__graph_serielinedifference_${this.serie1.getName()}_${this.serie2.getName()}_${e}`),r=new s.Waveform;r.setData(t.wave1.map((t=>t[1])).concat(t.wave2.reverse().map((t=>t[1]))),t.wave1.map((t=>t[0])).concat(t.wave2.map((t=>t[0])))),t.wave1[0]&&r.append(t.wave1[0][0],t.wave1[0][1]),i.setWaveform(r),i.setXAxis(this.serie1.getXAxis()),i.setYAxis(this.serie1.getYAxis()),t.above?i.setFillColor(this.options.positiveStyle.fillColor):i.setFillColor(this.options.negativeStyle.fillColor)}))}computeCrossing(t,e,i,r,s,n,o,a){var h=(r-e)/(i-t),l=(a-n)/(o-s),u=r-h*i;if(t==i||s==o)return!1;if(h==l)return{x:t,y1:e,y2:e,y:e};var c=(u-(a-l*o))/(l-h);return!(c>i||c<t||c<s||c>o)&&{x:c,y:h*c+u}}getPositivePolyline(){return this.positivePolyline}getNegativePolyline(){return this.negativePolyline}}var a=o;e.default=a},8796:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,s=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=o();if(e&&e.has(t))return e.get(t);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){var n=r?Object.getOwnPropertyDescriptor(t,s):null;n&&(n.get||n.set)?Object.defineProperty(i,s,n):i[s]=t[s]}return i.default=t,e&&e.set(t,i),i}(i(4167)),n=(r=i(1530))&&r.__esModule?r:{default:r};function o(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return o=function(){return t},t}class a extends n.default{constructor(){super(...arguments)}static default(){return{}}init(t,e){super.init(t,e),this.shapeType=e.type}setShape(t){this.shapeInfo.shapeType=t}onMouseDown(t,e,i,r,n){if(!this.shapeType&&!this.options.url)return;var o,a,h=this;this.count=this.count||0,e-=t.getPaddingLeft(),i-=t.getPaddingTop();var l={position:[{x:o=t.getXAxis().getVal(e),y:a=t.getYAxis().getVal(i)},{x:o,y:a}],onChange:function(e){t.triggerEvent("onAnnotationChange",e)},locked:!1,selectable:!0,resizable:!0,movable:!0};let u=this.options.properties;if(s.extend(!0,l,this.options),this.emit("beforeNewShape",r,l),!this.graph.prevent(!1)){var c=t.newShape(l.type,l,!1,u);this.emit("createdShape",r,c),c&&(h.currentShape=c,h.currentShapeEvent=r),t.once("mouseUp",(()=>{this.currentShape||h.emit("newShape",r,c)}))}}onMouseMove(t,e,i,r){if(this.currentShape){this.count++;var s=this.currentShape;this.currentShape=!1,t.selectedSerie&&!s.serie&&s.setSerie(t.selectedSerie),s.resizing=!0,s.options&&s.options.onCreate&&s.options.onCreate.call(s),s.draw(),t.selectShape(s),s.handleMouseDown(this.currentShapeEvent,!0),s.handleSelected=this.options.handleSelected||1,s.handleMouseMove(r,!0)}}onMouseUp(){this.currentShape&&(this.currentShape.kill(),this.currentShape=!1)}}var h=a;e.default=h},1156:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=h(i(1107)),s=h(i(3426)),n=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=a();if(e&&e.has(t))return e.get(t);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){var n=r?Object.getOwnPropertyDescriptor(t,s):null;n&&(n.get||n.set)?Object.defineProperty(i,s,n):i[s]=t[s]}return i.default=t,e&&e.set(t,i),i}(i(4167)),o=h(i(1530));function a(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return a=function(){return t},t}function h(t){return t&&t.__esModule?t:{default:t}}class l extends o.default{constructor(){super(...arguments),this.series=[],this.plugins=[],this.currentSlots={},this.requestLevels=new Map,this.update=(t,e)=>{this.series.forEach((function(e){this.updateSerie(e,t)})),t||this.recalculateSeries(e)}}static default(){return{LRUName:"PluginTimeSerieManager",intervals:[1e3,15e3,6e4,9e5,36e5,864e4],maxParallelRequests:3,optimalPxPerPoint:2,nbPoints:1e3,url:""}}init(t,e){this.graph=t,s.default.create(this.options.LRUName,200),this.requestsRunning=0}setURL(t){return this.options.url=t,this}setAvailableIntervals(){this.options.intervals=arguments}newSerie(t,e,i,s,n){var o=this.graph.newSerie(t,e,i);return this.currentSlots[t]={min:0,max:0,interval:0},o.on("hide",(function(){o._zoneSerie&&o._zoneSerie.hide()})),o.on("show",(function(){o._zoneSerie&&o._zoneSerie.show()})),o.setInfo("timeSerieManagerDBElements",s),n||(o._zoneSerie=this.graph.newSerie(`${t}_zone`,{},r.default.SERIE_ZONE)),this.series.push(o),o}registerPlugin(t,e){if(this.plugins.indexOf(t)>-1)for(var i=1;i<arguments.length;i++)t.removeListener(arguments[i],this.update);for(i=1;i<arguments.length;i++)t.on(arguments[i],this.update)}updateSerie(t,e){var i,r=this,s=t.getXAxis().getCurrentMin(),n=t.getXAxis().getCurrentMax(),o=this.getOptimalInterval(n-s),a=this.options.intervals.indexOf(o);this.cleanRegister(a);for(var h=a;h<=a+1;h++){i=this.options.intervals[h];var l=r.computeSlotID(s,i),u=r.computeSlotID(n,i);[[2,5,6],[1,2,4],[0,1,3]].forEach((function(s){for(var n=l-s[0]*(u-l),a=u+s[0]*(u-l),h=n;h<=a&&!(r.computeTimeMin(h,i)>Date.now());)r.register(t,h,i,i==o?s[1]:s[2],!0,e),h++}))}this.processRequests()}cleanRegister(t){this.requestLevels&&this.requestLevels.forEach((e=>{e.forEach(((i,r)=>{i[4]<t&&e.splice(r,1)}))}))}register(t,e,i,r,n,o){var a=this.computeUniqueID(t,e,i),h=s.default.get(this.options.LRUName,a);(!h||this.computeTimeMax(e,i)>Date.now()&&h.timeout<Date.now()-(o?5e3:1e5)&&1==r)&&this.request(t,e,i,r,a,n)}request(t,e,i,r,s,n){for(var o in this.requestLevels)o!=r&&this.requestLevels[o][s]&&(1!==this.requestLevels[o][s][0]?delete this.requestLevels[o][s]:this.requestLevels[o][s][5]=r);this.requestLevels[r]&&this.requestLevels[r][s]||(this.requestLevels[r]=this.requestLevels[r]||{},this.requestLevels[r][s]=[0,s,t.getName(),e,i,r,t.getInfo("timeSerieManagerDBElements")],n||this.processRequests())}processRequests(){if(!(this.requestsRunning>=this.options.maxParallelRequests)){for(var t,e=this,i=1;;){for(var r in this.requestLevels[i])if(1!=this.requestLevels[i][r][0]){t=this.requestLevels[i][r];break}if(t)break;if(++i>10)return}this.requestsRunning++,t&&(t[0]=1,n.ajaxGet({url:this.getURL(t),method:"GET",json:!0}).done((function(n){1==n.status&&(e.requestsRunning--,delete e.requestLevels[i][r],s.default.store(e.options.LRUName,t[1],n.data),e.processRequests(),1==t[5]&&0==Object.keys(e.requestLevels[1]).length&&e.recalculateSeries(!0))})))}}computeTimeMax(t,e){return(t+1)*(e*this.options.nbPoints)}computeTimeMin(t,e){return t*(e*this.options.nbPoints)}getURL(t){var e=this.options.url.replace("<measurementid>",t[2]).replace("<from>",this.computeTimeMin(t[3],t[4])).replace("<to>",this.computeTimeMax(t[3],t[4])).replace("<interval>",t[4]),i=t[6]||{};for(var r in i)e=e.replace(`<${r}>`,i[r]);return e}getOptimalInterval(t){var e,i=(this.options.optimalPxPerPoint||1)*t/this.graph.getDrawingWidth(),r=1/0;return this.options.intervals.forEach((function(t){var s=Math.min(r,Math.abs(t-i));r!==s&&(e=t,r=s)})),e||1e3}computeUniqueID(t,e,i){var r="",s=t.getInfo("timeSerieManagerDBElements");for(var n in s)r+=`;${n}:${s[n]}`;return`${t.getName()};${e};${i}${r}`}computeSlotID(t,e){return Math.floor(t/(e*this.options.nbPoints))}computeSlotTime(t,e){return t*(e*this.options.nbPoints)}getZoneSerie(t){return t._zoneSerie}updateZoneSerie(t){var e=this.graph.getSerie(t);e&&e._zoneSerie&&(e._zoneSerie.setXAxis(e.getXAxis()),e._zoneSerie.setYAxis(e.getYAxis()),e._zoneSerie.setFillColor(e.getLineColor()),e._zoneSerie.setLineColor(e.getLineColor()),e._zoneSerie.setFillOpacity(.2),e._zoneSerie.setLineOpacity(.3))}recalculateSeries(t){var e=this;this.locked||(this.changed=!1,this.series.map((function(i){e.recalculateSerie(i,t)})),this.changed=!1,e.graph.draw())}recalculateSerie(t,e){var i=t.getXAxis().getCurrentMin(),r=t.getXAxis().getCurrentMax(),n=this.getOptimalInterval(r-i),o=this.computeSlotID(i,n),a=this.computeSlotID(r,n),h=[],l=[];if(!(!e&&n==this.currentSlots[t.getName()].interval&&this.currentSlots[t.getName()].min<=o&&this.currentSlots[t.getName()].max>=a)){o-=2,a+=2,this.currentSlots[t.getName()].min=o,this.currentSlots[t.getName()].max=a,this.currentSlots[t.getName()].interval=n;for(var u=o;u<=a;){const e=s.default.get(this.options.LRUName,this.computeUniqueID(t,u,n));e?(h=h.concat(e.data.mean),l=l.concat(e.data.minmax)):this.recalculateSerieUpwards(t,u,n,h,l),u++}this.changed=!0,t.setData(h),t._zoneSerie&&t._zoneSerie.setData(l)}}setIntervalCheck(t){this.interval&&clearInterval(this.interval),this.update(!0,!0),this.interval=setInterval((()=>{this.update(!0,!1)}),t)}recalculateSerieUpwards(t,e,i,r,n){var o=this.options.intervals.slice(0);o.sort();var a=o[o.indexOf(i)+1]||-1;if(a<0)return[];var h=this.computeSlotTime(e,i),l=this.computeSlotTime(e+1,i),u=this.computeSlotID(h,a),c=!1;const p=s.default.get(this.options.LRUName,this.computeUniqueID(t,u,a));if(p)for(var d=0,g=p.data.mean.length;d<g;d+=2)if(!(p.data.mean[d]<h)&&(!1===c&&(c=d),p.data.mean[d]>=l))return void(n=(r=r.concat(p.data.mean.slice(c,d))).concat(p.data.minmax.slice(c,d)));return this.recalculateSerieUpwards(t,u,a,r,n)}lockRedraw(){this.locked=!0}unlockRedraw(){this.locked=!1}isRedrawLocked(){return!!this.locked}}var u=l;e.default=u},3175:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,s=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=o();if(e&&e.has(t))return e.get(t);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){var n=r?Object.getOwnPropertyDescriptor(t,s):null;n&&(n.get||n.set)?Object.defineProperty(i,s,n):i[s]=t[s]}return i.default=t,e&&e.set(t,i),i}(i(4167)),n=(r=i(1530))&&r.__esModule?r:{default:r};function o(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return o=function(){return t},t}class a extends n.default{constructor(){super(...arguments)}static default(){return{axes:"all"}}init(t,e){this._zoomingGroup=document.createElementNS(t.ns,"g"),this._zoomingSquare=document.createElementNS(t.ns,"rect"),this._zoomingSquare.setAttribute("display","none"),s.setAttributeTo(this._zoomingSquare,{display:"none",fill:"rgba(171,12,12,0.2)",stroke:"rgba(171,12,12,1)","shape-rendering":"crispEdges",x:0,y:0,height:0,width:0,"pointer-events":"none"}),this.graph=t,t.groupEvent.appendChild(this._zoomingGroup),this._zoomingGroup.appendChild(this._zoomingSquare)}onMouseDown(t,e,i,r,s){var n=this.options.zoomMode;if(n){switch(this._zoomingMode=n,void 0===e&&(this._backedUpZoomMode=this._zoomingMode,this._zoomingMode="y",e=0),void 0===i&&(this._backedUpZoomMode=this._zoomingMode,this._zoomingMode="x",i=0),this._zoomingXStart=e,this._zoomingYStart=i,this.x1=e-t.getPaddingLeft(),this.y1=i-t.getPaddingTop(),this._zoomingSquare.setAttribute("width",0),this._zoomingSquare.setAttribute("height",0),this._zoomingSquare.setAttribute("display","block"),this._zoomingMode){case"x":this._zoomingSquare.setAttribute("y",t.options.paddingTop),this._zoomingSquare.setAttribute("height",t.getDrawingHeight()-t.shift.bottom);break;case"y":this._zoomingSquare.setAttribute("x",t.options.paddingLeft),this._zoomingSquare.setAttribute("width",t.getDrawingWidth());break;case"forceY2":this.y2=t.getYAxis().getPx(this.options.forcedY)+t.options.paddingTop}this.options.onZoomStart&&!s&&this.options.onZoomStart(t,e,i,r,s)}}onMouseMove(t,e,i,r,s){switch(this._zoomingMode){case"xy":this._zoomingSquare.setAttribute("x",Math.min(this._zoomingXStart,e)),this._zoomingSquare.setAttribute("y",Math.min(this._zoomingYStart,i)),this._zoomingSquare.setAttribute("width",Math.abs(this._zoomingXStart-e)),this._zoomingSquare.setAttribute("height",Math.abs(this._zoomingYStart-i));break;case"forceY2":this._zoomingSquare.setAttribute("y",Math.min(this._zoomingYStart,this.y2)),this._zoomingSquare.setAttribute("height",Math.abs(this._zoomingYStart-this.y2)),this._zoomingSquare.setAttribute("x",Math.min(this._zoomingXStart,e)),this._zoomingSquare.setAttribute("width",Math.abs(this._zoomingXStart-e));break;case"x":this._zoomingSquare.setAttribute("x",Math.min(this._zoomingXStart,e)),this._zoomingSquare.setAttribute("width",Math.abs(this._zoomingXStart-e));break;case"y":this._zoomingSquare.setAttribute("y",Math.min(this._zoomingYStart,i)),this._zoomingSquare.setAttribute("height",Math.abs(this._zoomingYStart-i))}this.options.onZoomMove&&!s&&this.options.onZoomMove(t,e,i,r,s)}onMouseUp(t,e,i,r,s){var n=this;this.removeZone();var o=e-t.options.paddingLeft,a=i-t.options.paddingTop;if(this.emit("beforeZoom",{graph:t,x:e,y:i,e:r,mute:s}),!t.prevent(!1)&&!(e-this._zoomingXStart==0&&"y"!=this._zoomingMode||i-this._zoomingYStart==0&&"x"!=this._zoomingMode))if(this.options.transition||this.options.smooth){let t=!1,e=!1;"x"!=this._zoomingMode&&"xy"!=this._zoomingMode&&"forceY2"!=this._zoomingMode||(this.fullX=!1,this.toAxes((function(t){t._pluginZoomMin=t.getCurrentMin(),t._pluginZoomMax=t.getCurrentMax(),t._pluginZoomMinFinal=Math.min(t.getVal(o),t.getVal(n.x1)),t._pluginZoomMaxFinal=Math.max(t.getVal(o),t.getVal(n.x1))}),!1,!0,!1),t=!0),"y"!=this._zoomingMode&&"xy"!=this._zoomingMode||(this.fullY=!1,this.toAxes((function(t){t._pluginZoomMin=t.getCurrentMin(),t._pluginZoomMax=t.getCurrentMax(),t._pluginZoomMinFinal=Math.min(t.getVal(a),t.getVal(n.y1)),t._pluginZoomMaxFinal=Math.max(t.getVal(a),t.getVal(n.y1))}),!1,!1,!0),e=!0),"forceY2"==this._zoomingMode&&(this.fullY=!1,this.toAxes((function(t){t._pluginZoomMin=t.getCurrentMin(),t._pluginZoomMax=t.getCurrentMax(),t._pluginZoomMinFinal=Math.min(t.getVal(n.y2),t.getVal(n.y1)),t._pluginZoomMaxFinal=Math.max(t.getVal(n.y2),t.getVal(n.y1))}),!1,!1,!0),e=!0),this.transition(t,e,"zoomEnd")}else{switch(this._zoomingMode){case"x":this.fullX=!1,this.toAxes("_doZoom",[o,this.x1],!0,!1);break;case"y":this.fullY=!1,this.toAxes("_doZoom",[a,this.y1],!1,!0);break;case"xy":this.fullX=!1,this.fullY=!1,this.toAxes("_doZoom",[o,this.x1],!0,!1),this.toAxes("_doZoom",[a,this.y1],!1,!0);break;case"forceY2":this.fullX=!1,this.fullY=!1,this.toAxes("_doZoom",[o,this.x1],!0,!1),this.toAxes("_doZoom",[this.y1,this.y2],!1,!0)}t.draw(),this._backedUpZoomMode&&(this._zoomingMode=this._backedUpZoomMode),this.emit("zoomed"),t.pluginYieldActiveState()}}removeZone(){this._zoomingSquare.setAttribute("display","none")}onMouseWheel(t,e,i,r,s){s||(s={}),s.baseline||(s.baseline=0);let n=s.baseline;"mousePosition"==s.baseline&&(n=this.graph.getYAxis().getVal(r));var o="x"==s.direction,a=!("y"!==s.direction);this.toAxes("handleMouseWheel",[t,e,n],o,a),this.graph.drawSeries()}onDblClick(t,e,i,r,s){var n=this.graph;if(this.emit("beforeDblClick",{graph:n,x:t,y:e,pref:r,e:i,mute:s}),!n.prevent(!1)){if(this.options.transition||this.options.smooth){var o=!1,a=!1;let t,e;return"xtotal"!=r.mode&&"total"!=r.mode||(this.toAxes((function(t){t._pluginZoomMin=t.getCurrentMin(),t._pluginZoomMax=t.getCurrentMax(),t._pluginZoomMinFinal=t.getDefaultMin(),t._pluginZoomMaxFinal=t.getDefaultMax()}),!1,!0,!1),o=!0),"ytotal"!=r.mode&&"total"!=r.mode||(this.toAxes((function(t){t._pluginZoomMin=t.getCurrentMin(),t._pluginZoomMax=t.getCurrentMax(),t._pluginZoomMinFinal=t.getDefaultMin(),t._pluginZoomMaxFinal=t.getDefaultMax()}),!1,!1,!0),a=!0),"gradualX"!=r.mode&&"gradualY"!=r.mode&&"gradual"!=r.mode&&"gradualXY"!=r.mode||(t=!1,e=!1,"gradualX"!=r.mode&&"gradual"!=r.mode&&"gradualXY"!=r.mode||(t=!0,o=!0),"gradualY"!=r.mode&&"gradual"!=r.mode&&"gradualXY"!=r.mode||(e=!0,a=!0),this.toAxes((function(t){t._pluginZoomMin=t.getCurrentMin(),t._pluginZoomMax=t.getCurrentMax(),t._pluginZoomMinFinal=t.getCurrentMin()-(t.getCurrentMax()-t.getCurrentMin()),t._pluginZoomMaxFinal=t.getCurrentMax()+(t.getCurrentMax()-t.getCurrentMin())}),!1,t,e)),void this.transition(o,a,"dblClick")}var h=this.graph.getXAxis(),l=this.graph.getYAxis();if("xtotal"==r.mode)this.toAxes("setMinMaxToFitSeries",null,!0,!1),this.fullX=!0,this.fullY=!1;else if("ytotal"==r.mode)this.toAxes("setMinMaxToFitSeries",null,!1,!0),this.fullX=!1,this.fullY=!0;else if("total"==r.mode)this.toAxes("setMinMaxToFitSeries",null,!0,!0),this.fullX=!0,this.fullY=!0;else{t-=this.graph.options.paddingLeft,e-=this.graph.options.paddingTop;var u=h.getCurrentMin(),c=h.getCurrentMax(),p=h.getVal(t),d=c-u,g=l.getCurrentMin(),f=l.getCurrentMax(),y=l.getVal(e),m=f-g;if("gradualXY"==r.mode||"gradualX"==r.mode){var x=(p-u)/(c-u);u=Math.max(h.getMinValue()-h.getInterval()*h.options.axisDataSpacing.min,u-d*x),c=Math.min(h.getMaxValue()+h.getInterval()*h.options.axisDataSpacing.max,c+d*(1-x)),h.setCurrentMin(u),h.setCurrentMax(c),h.options.onZoom&&h.options.onZoom(u,c),h.cacheCurrentMin(),h.cacheCurrentMax(),h.cacheInterval()}"gradualXY"!=r.mode&&"gradualY"!=r.mode||(x=(y-g)/(f-g),g=Math.max(l.getMinValue()-l.getInterval()*l.options.axisDataSpacing.min,g-m*x),f=Math.min(l.getMaxValue()+l.getInterval()*l.options.axisDataSpacing.max,f+m*(1-x)),l.setCurrentMin(g),l.setCurrentMax(f),l.options.onZoom&&l.options.onZoom(g,f),l.cacheCurrentMin(),l.cacheCurrentMax(),l.cacheInterval())}n.pluginYieldActiveState(),this.graph.draw()}}transition(t,e,i){var r=this,s=500;r.gradualUnzoomStart||(r.gradualUnzoomStart=Date.now()),window.requestAnimationFrame((function(){var n=Date.now()-r.gradualUnzoomStart;n>s&&(n=s);var o=Math.sin(n/s*Math.PI/2);r.toAxes((function(t){t.setCurrentMin(t._pluginZoomMin+(t._pluginZoomMinFinal-t._pluginZoomMin)*o),t.setCurrentMax(t._pluginZoomMax+(t._pluginZoomMaxFinal-t._pluginZoomMax)*o),t.cacheCurrentMin(),t.cacheCurrentMax(),t.cacheInterval()}),!1,t,e),r.graph.draw(),n<s?(r.transition(t,e,i),r.emit("zooming")):(r.emit("zoomed"),r.graph.pluginYieldActiveState(),i&&r.emit(i),r.gradualUnzoomStart=0)}))}isFullX(){return this.fullX}isFullY(){return this.fullY}toAxes(t,e,i,r){var s=this.options.axes;switch(s&&("serieSelected"!=s||this.graph.getSelectedSerie())||(s="all"),s){case"all":this.graph._applyToAxes.apply(this.graph,arguments);break;case"serieSelected":var n=this.graph.getSelectedSerie();n&&(i&&("string"==typeof t?n.getXAxis()[t].apply(n.getXAxis(),e):t.apply(n.getXAxis(),e)),r&&("string"==typeof t?n.getYAxis()[t].apply(n.getYAxis(),e):t.apply(n.getYAxis(),e)));break;default:Array.isArray(s)||(s=[s]);for(let n of s)(n.isX()&&i||n.isY()&&r)&&("string"==typeof t?n[t].apply(n,e):t.apply(n,e))}}}var h=a;e.default=h},7568:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default=(t,e,i,r)=>{if(e.type){e.properties.label&&(Array.isArray(e.properties.label)||(e.properties.label=[e.properties.label]),e.properties.label.forEach(((t,i)=>{for(let r in t){let s=`label${r.charAt(0).toUpperCase()}${r.slice(1)}`;e.properties[s]||(e.properties[s]=[]),e.properties[s][i]=t[r]}})));const s=t.newShape(e.type,{},!1,e.properties);e.serie&&s.setSerie(e.serie),i&&s.setSerie(i),e.layer&&s.setLayer(e.layer),e.xAxis&&s.setXAxis(r[e.xAxis]),e.yAxis&&s.setYAxis(r[e.yAxis]),s.draw(),s.redraw()}}},2166:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;const i=(t,e,i,r,s)=>{Array.isArray(r)||(r=[r]),r.forEach((r=>{let n;"x"==i?i="bottom":"y"==i&&(i="left"),"bottom"==i||"top"==i?(n="graph.axis.x","category"==r.type?n+=".bar":"time"==r.type&&(n+=".time")):n="graph.axis.y";var o=new(t.getConstructor(n))(e,i);o.init(e,r),"bottom"==i?e.setBottomAxis(o,e.getNumAxes("bottom")):"top"==i?e.setTopAxis(o,e.getNumAxes("top")):"left"==i?e.setLeftAxis(o,e.getNumAxes("left")):"right"==i&&e.setRightAxis(o,e.getNumAxes("right")),"category"==r.type&&(o.categories=r.categories),r.name&&(s[name]=o)}))};e.default=(t,e,r)=>{const s=[];r.x&&i(t,e,"x",r.x,s),r.y&&i(t,e,"y",r.y,s),r.top&&i(t,e,"top",r.top,s),r.left&&i(t,e,"left",r.left,s),r.bottom&&i(t,e,"bottom",r.bottom,s),r.right&&i(t,e,"right",r.right,s)}},7635:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=o(i(5579)),s=o(i(2166)),n=o(i(7568));function o(t){return t&&t.__esModule?t:{default:t}}e.default=(t,e,i)=>{let o=[];if(e.resize(i.width||400,i.height||300),i.axes&&(0,s.default)(t,e,i.axes),i.legend){const t={};i.legend.seriesHideable&&(t.isSerieHideable=!0),i.legend.seriesSelectable&&(t.isSerieSelectable=!0);const r=e.makeLegend(t);if(i.legend.position)switch(i.legend.position){case"bottom":r.setAutoPosition("bottom");break;case"top":r.setAutoPosition("top");break;case"left":r.setAutoPosition("left");break;case"right":r.setAutoPosition("right");break;default:r.setPosition(i.legend.position)}}i.series&&(Array.isArray(i.series)||(i.series=[i.series]),i.series.forEach(((i,s)=>{let a,h;switch(i.type){case"scatter":a=t.SERIE_SCATTER;break;case"bar":a=t.SERIE_BAR;break;case"box":a=t.SERIE_BOX;break;case"color":a=t.SERIE_LINE_COLORED;break;default:a=t.SERIE_LINE}"bar"===i.type?(h=t.newWaveformHash(),i.data.errors?h.setData(i.data.values):h.setData(i.data)):(h=t.newWaveform(),h.setData(i.data.y,i.data.x)),i.data.errors&&(i.data.errors.xBar&&h.setErrorBarX(i.data.errors.xBar),i.data.errors.xBarAbove&&h.setErrorBarXAbove(i.data.errors.xBarAbove),i.data.errors.xBarBelow&&h.setErrorBarXBelow(i.data.errors.xBarBelow),i.data.errors.yBar&&h.setErrorBar(i.data.errors.yBar),i.data.errors.yBarAbove&&h.setErrorBarAbove(i.data.errors.yBarAbove),i.data.errors.yBarBelow&&h.setErrorBarBelow(i.data.errors.yBarBelow),i.data.errors.xBox&&h.setErrorBoxX(i.data.errors.xBox),i.data.errors.xBoxAbove&&h.setErrorBoxXAbove(i.data.errors.xBoxAbove),i.data.errors.xBoxBelow&&h.setErrorBoxXBelow(i.data.errors.xBoxBelow),i.data.errors.yBox&&h.setErrorBox(i.data.errors.yBox),i.data.errors.yBoxAbove&&h.setErrorBoxAbove(i.data.errors.yBoxAbove),i.data.errors.yBoxBelow&&h.setErrorBoxBelow(i.data.errors.yBoxBelow));const l=e.newSerie(i.name||`_serie_${s}`,i.options||{},a);"color"===i.type&&i.data.color&&l.setColors(i.data.color),l.autoAxis(),i.excludeFromLegend&&l.excludeFromLegend(!0),h.xAxis&&o[h.xAxis]&&l.setXAxis(o[h.xAxis]),h.yAxis&&o[h.yAxis]&&l.setYAxis(o[h.yAxis]),h&&l.setWaveform(h),i.style&&(0,r.default)(t,l,i,a),i.annotations&&i.annotations.forEach((t=>{(0,n.default)(e,t,l,o)}))}))),i.annotations&&i.annotations.forEach((t=>{(0,n.default)(e,t,void 0,o)}))}},7035:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,s=(r=i(7635))&&r.__esModule?r:{default:r};e.default=t=>{t.fromJSON=(e,i,r)=>{const n=e.options||{},o=new t(void 0,n);return(0,s.default)(t,o,e,i),o.setWrapper(i),r&&o.onAll((function(t,...e){r(t,...e)})),o},t.prototype.setJSON=(e,i={})=>{(void 0).killSeries();const r={};i.keepState&&(void 0)._applyToAxes((t=>{t.options.name&&(r[t.options.name]={min:t.getCurrentMin(),max:t.getCurrentMax()})}),void 0,!0,!0),(void 0)._applyToAxes((t=>{(void 0).killAxis(t,!0,!0)}),void 0,!0,!0),(void 0).killLegend(),(void 0).killShapes(),(0,s.default)(t,void 0,e),i.keepState&&(void 0)._applyToAxes((t=>{t.options.name&&r[t.options.name]&&(t.setCurrentMin(r[t.options.name].min),t.setCurrentMax(r[t.options.name].max))}),void 0,!0,!0),(void 0).draw()}}},5579:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default=(t,e,i,r)=>{let s=i.style;Array.isArray(s)||(s=[{name:"unselected",style:s}]),s.map((({name:i,style:s},n)=>{!s.line||r!=t.SERIE_LINE&&r!=t.SERIE_BAR&&r!=t.SERIE_LINE_COLORED||(s.line.color&&r!=t.SERIE_LINE_COLORED&&e.setLineColor(s.line.color,i),s.line.width&&e.setLineWidth(s.line.width,i),(s.line.dash||s.line.style)&&e.setLineStyle(s.line.dash||s.line.style,i),s.line.fill&&e.setFillColor(s.line.fill,i),s.line.fillOpacity&&e.setFillOpacity&&e.setFillOpacity(s.line.fillOpacity,i)),s.errorBar&&e.setErrorBarStyle(s.errorBar),s.errorBox&&e.setErrorBoxStyle(s.errorBox),!s.marker||r!=t.SERIE_LINE&&r!=t.SERIE_SCATTER||((t,e,i)=>{t.showMarkers();let r={},s=[];e.default?(r=e.default,e.modifiers&&(s=e.modifiers)):(r=e,s=[]),t.setMarkerStyle(r,s,i)})(e,s.marker,i)}))}},2210:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,function(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=n();if(e&&e.has(t))return e.get(t);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){var o=r?Object.getOwnPropertyDescriptor(t,s):null;o&&(o.get||o.set)?Object.defineProperty(i,s,o):i[s]=t[s]}i.default=t,e&&e.set(t,i)}(i(4167)),s(i(1148));var r=s(i(1755));function s(t){return t&&t.__esModule?t:{default:t}}function n(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return n=function(){return t},t}class o extends r.default{constructor(t,e,i){super(...arguments),this.pathDom=document.createElementNS(this.graph.ns,"path"),this.groupMain.appendChild(this.pathDom),this.styles={},this.styles.unselected={lineColor:this.options.lineColor,lineStyle:this.options.lineStyle,lineWidth:this.options.lineWidth,fillColor:this.options.fillColor,fillOpacity:this.options.fillOpacity,markers:this.options.markers}}setFillColor(t,e,i){return e=e||"unselected",this.styles[e]=this.styles[e]||{},this.styles[e].fillColor=t,i&&this.setFillColor(t,"selected"),this.styleHasChanged(e),this}getFillColor(t){return this.getStyle(t).fillColor}setFillOpacity(t,e,i){return e=e||"unselected",this.styles[e]=this.styles[e]||{},this.styles[e].fillOpacity=t,i&&this.setLineWidth(t,"selected"),this.styleHasChanged(e),this}getFillOpacity(t){return this.getStyle(t).fillOpacity||1}applyLineStyles(){this.applyLineStyle(this.pathDom)}applyLineStyle(t){t.setAttribute("stroke",this.getLineColor()),t.setAttribute("stroke-width",this.getLineWidth()),this.getLineDashArray()?t.setAttribute("stroke-dasharray",this.getLineDashArray()):t.removeAttribute("stroke-dasharray"),t.setAttribute("fill",this.getFillColor()),t.setAttribute("fill-opacity",this.getFillOpacity()||1)}draw(){var t="";this.hasErrors()&&this.errorDrawInit();for(var e=0;e<this.waveform.getLength();e++)if(this.categoryIndices[this.waveform.getX(e)]&&(t+=`M ${this.getXAxis().getPos(this.categoryIndices[this.waveform.getX(e)])} ${this.getYAxis().getPos(this.getYAxis().getCurrentMin())} V ${this.getYAxis().getPos(this.waveform.getY(e))} h ${this.getXAxis().getDeltaPx(1/this.nbCategories)} V ${this.getYAxis().getPos(this.getYAxis().getCurrentMin())}`,this.hasErrors())){var i=this.getXAxis().getPos(this.categoryIndices[this.waveform.getX(e)])+this.getXAxis().getDeltaPx(1/this.nbCategories)/2,r=this.getYAxis().getPos(this.waveform.getY(e));this.errorAddPoint(e,this.waveform.getX(e),this.waveform.getY(e),i,r)}this.hasErrors()&&this.errorDraw(),this.pathDom.setAttribute("d",t),this.applyLineStyles()}setMarkers(){}getUsedCategories(){return this.waveform.xdata}}var a=o;e.default=a},5096:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,s=i(4167),n=(r=i(7245))&&r.__esModule?r:{default:r};const o={orientation:"y",maxBoxWidth:20,defaultStyle:{meanLineColor:"rgb( 100, 0, 0 )",meanLineWidth:2,boxAboveLineWidth:1,boxAboveLineColor:"rgb( 0, 0, 0 )",boxAboveFillColor:"transparent",boxAboveFillOpacity:1,boxBelowLineWidth:1,boxBelowLineColor:"rgb( 0, 0, 0 )",boxBelowFillColor:"transparent",boxBelowFillOpacity:1,barAboveLineColor:"rgba( 0, 0, 0, 1 )",barAboveLineWidth:1,barBelowLineColor:"rgba( 0, 0, 0, 1 )",barBelowLineWidth:1,outlierLineWidth:1,outlierLineColor:"rgb( 255, 255, 255 )",outlierFillColor:"rgb( 0, 0, 0 )",outlierFillOpacity:1}};class a extends n.default{constructor(t,e,i,r={}){super(t,e,i,(0,s.extend)(!0,{},o,r)),this.pathDom=document.createElementNS(this.graph.ns,"path"),this.groupMain.appendChild(this.pathDom),this.styles={},this.styles.unselected=this.options.defaultStyle}setData(t,e){if(this.data=t,!Array.isArray(t))return;let i,r,n,o,a;for(var h in"y"==this.options.orientation?(i=this.getXAxis(),r=this.getYAxis(),n=this._checkX.bind(this),o=this._checkY.bind(this),a=!0,this.minY=t[0].Q2,this.maxY=t[0].Q2,this.maxX=t[0].x,this.minX=t[0].x):(i=this.getYAxis(),r=this.getXAxis(),n=this._checkY.bind(this),o=this._checkX.bind(this),a=!1,this.minX=t[0].Q2,this.maxX=t[0].Q2,this.maxY=t[0].y,this.minY=t[0].y),e&&(n=function(){},o=function(){}),i&&r||(0,s.throwError)("Error in setting data of the box serie. The X and Y axes must be set beforehand"),this.data)a?(n(this.data[h].x),this.data[h].pos=this.data[h].x):(n(this.data[h].y),this.data[h].pos=this.data[h].y),this.data[h].Q3&&o(this.data[h].Q3),this.data[h].Q1&&o(this.data[h].Q1),this.data[h].whiskers?Array.isArray(this.data[h].whiskers)?(this.data[h].whiskers.length>0&&o(this.data[h].whiskers[0]),this.data[h].whiskers.length>1&&o(this.data[h].whiskers[1])):(o(this.data[h].whiskers),this.data[h].whiskers=[this.data[h].whiskers]):this.data[h].whiskers=[],Array.isArray(this.data[h].outliers)?this.data[h].outliers.map((t=>o(t))):this.data[h].outliers=[];return this.dataHasChanged(),this.graph.updateDataMinMaxAxes(),this}_style(t,e,i="unselected",r=!1){return this.styles[i]=this.styles[i]||{},this.styles[i][t]=e,r&&this._set(t,e,"selected"),this.styleHasChanged(i),this}_gstyle(t,e){return this.getStyle(e)[t]}getStyle(t="unselected"){return this.styles[t]||{}}setMeanLineColor(){return this._style("meanLineColor",...arguments)}getMeanLineColor(){return this._gstyle("meanLineColor",...arguments)}setStyle(t,e="unselected"){this.styles[e]=(0,s.extend)({},this.default().defaultStyle,this.styles.unselected,t),this.styleHasChanged(e)}setMeanLineWidth(){return this._style("meanLineWidth",...arguments)}getMeanLineWidth(){return this._gstyle("meanLineWidth",...arguments)}setBoxAboveLineColor(){return this._style("boxAboveLineColor",...arguments)}getBoxAboveLineColor(){return this._gstyle("boxAboveLineColor",...arguments)}setBoxBelowLineColor(){return this._style("boxBelowLineColor",...arguments)}getBoxBelowLineColor(){return this._gstyle("boxBelowLineColor",...arguments)}setBoxAboveLineWidth(){return this._style("boxAboveLineWidth",...arguments)}getBoxAboveLineWidth(){return this._gstyle("boxAboveLineWidth",...arguments)}setBoxBelowLineWidth(){return this._style("boxBelowLineWidth",...arguments)}getBoxBelowLineWidth(){return this._gstyle("boxBelowLineWidth",...arguments)}setBoxAboveFillColor(){return this._style("boxAboveFillColor",...arguments)}getBoxAboveFillColor(){return this._gstyle("boxAboveFillColor",...arguments)}setBoxBelowFillColor(){return this._style("boxBelowFillColor",...arguments)}getBoxBelowFillColor(){return this._gstyle("boxBelowFillColor",...arguments)}setBoxAboveFillOpacity(){return this._style("boxAboveFillOpacity",...arguments)}getBoxAboveFillOpacity(){return this._gstyle("boxAboveFillOpacity",...arguments)}setBoxBelowFillOpacity(){return this._style("boxBelowFillOpacity",...arguments)}getBoxBelowFillOpacity(){return this._gstyle("boxBelowFillOpacity",...arguments)}setBarAboveLineColor(){return this._style("barAboveLineColor",...arguments)}getBarAboveLineColor(){return this._gstyle("barAboveLineColor",...arguments)}setBarBelowLineColor(){return this._style("barBelowLineColor",...arguments)}getBarBelowLineColor(){return this._gstyle("barBelowLineColor",...arguments)}setBarAboveLineWidth(){return this._style("barAboveLineWidth",...arguments)}getBarAboveLineWidth(){return this._gstyle("barAboveLineWidth",...arguments)}setBarBelowLineWidth(){return this._style("barBelowLineWidth",...arguments)}getBarBelowLineWidth(){return this._gstyle("barBelowLineWidth",...arguments)}setOutlierLineColor(){return this._style("outlierLineColor",...arguments)}getOutlierLineColor(){return this._gstyle("outlierLineColor",...arguments)}setOutlierLineWidth(){return this._style("outlierLineWidth",...arguments)}getOutlierLineWidth(){return this._gstyle("outlierLineWidth",...arguments)}setOutlierFillColor(){return this._style("outlierFillColor",...arguments)}getOutlierFillColor(){return this._gstyle("outlierFillColor",...arguments)}setOutlierFillOpacity(){return this._style("outlierFillOpacity",...arguments)}getOutlierFillOpacity(){return this._gstyle("outlierFillOpacity",...arguments)}applyLineStyles(){this.applyLineStyle(this.pathDom)}applyLineStyle(t){t.setAttribute("stroke",this.getLineColor()),t.setAttribute("stroke-width",this.getLineWidth()),t.removeAttribute("stroke-dasharray"),t.setAttribute("fill",this.getFillColor()),t.setAttribute("fill-opacity",this.getFillOpacity()||1)}draw(){if(!this.data)return;let t,e,i,r,n,o,a,h,l="y"==this.options.orientation?this.getYAxis():this.getXAxis(),u="y"==this.options.orientation?this.getXAxis():this.getYAxis(),c=!1;if((0,s.emptyDom)(this.groupMain),"category"==u.getType())e=u.getRelPx(.8/this.nbCategories),!0;else{e=this.options.maxBoxWidth;for(var p=0,d=this.data.length;p<d-1;p++)e=Math.max(5,Math.min(e,Math.abs(u.getPx(this.data[p+1].x)-u.getPx(this.data[p].x))))}for(p=0,d=this.data.length;p<d;p++){if("category"==u.getType()){let i="y"==this.options.orientation?this.data[p].x:this.data[p].y;if(this.categoryIndices.hasOwnProperty(i))t=[u.getPos(this.categoryIndices[i])+1.2*e/2];else if(Array.isArray(this._linkedToScatterSeries))for(let r of this._linkedToScatterSeries)if(r.categoryIndices.hasOwnProperty(i)){t=[u.getPos(r.categoryIndices[i])+1.2*e/2],l="y"==this.options.orientation?r.getYAxis():r.getXAxis();break}}else t=[u.getPos("y"==this.options.orientation?this.data[p].x:this.data[p].y),e];i=l.getPos(this.data[p].Q2),r=l.getPos(this.data[p].Q3),n=l.getPos(this.data[p].Q1),this.data[p].whiskers.map((t=>{t<this.data[p].Q1?a=l.getPos(t):o=l.getPos(t)})),h=this.data[p].outliers.map((t=>l.getPos(t)));var g=document.createElementNS(this.graph.ns,"line");this.applyMeanStyle(g);var f=document.createElementNS(this.graph.ns,"rect"),y=document.createElementNS(this.graph.ns,"rect");"y"==this.options.orientation?(f.setAttribute("width",e),f.setAttribute("x",t[0]-e/2),y.setAttribute("width",e),y.setAttribute("x",t[0]-e/2),g.setAttribute("x1",t[0]-e/2),g.setAttribute("x2",t[0]+e/2),g.setAttribute("y1",i),g.setAttribute("y2",i)):(f.setAttribute("height",e),f.setAttribute("y",t[0]-e/2),y.setAttribute("height",e),y.setAttribute("y",t[0]-e/2),g.setAttribute("y1",t[0]-e/2),g.setAttribute("y2",t[0]+e/2),g.setAttribute("x1",i),g.setAttribute("x2",i)),this.boxPos(f,i,r,"x"==this.options.orientation),this.boxPos(y,i,n,"x"==this.options.orientation),this.applyBoxStyle(f,y);var m=document.createElementNS(this.graph.ns,"line"),x=document.createElementNS(this.graph.ns,"line");"y"==this.options.orientation?(void 0!==o&&(m.setAttribute("y1",r),m.setAttribute("y2",o),m.setAttribute("x1",t[0]),m.setAttribute("x2",t[0])),void 0!==a&&(x.setAttribute("y1",n),x.setAttribute("y2",a),x.setAttribute("x1",t[0]),x.setAttribute("x2",t[0]))):(void 0!==o&&(m.setAttribute("x1",r),m.setAttribute("x2",o),m.setAttribute("y1",t[0]),m.setAttribute("y2",t[0])),void 0!==a&&(x.setAttribute("x1",n),x.setAttribute("x2",a),x.setAttribute("y1",t[0]),x.setAttribute("y2",t[0]))),h.map((e=>{let i=document.createElementNS(this.graph.ns,"circle");i.setAttribute("r",2),"y"==this.options.orientation?(i.setAttribute("cx",t[0]),i.setAttribute("cy",e)):(i.setAttribute("cy",t[0]),i.setAttribute("cx",e)),this.setOutlierStyle(i),this.groupMain.appendChild(i)})),void 0!==o&&this.groupMain.appendChild(m),void 0!==a&&this.groupMain.appendChild(x),void 0!==r&&this.groupMain.appendChild(f),void 0!==n&&this.groupMain.appendChild(y),this.groupMain.appendChild(g),this.applyWhiskerStyle(m,x)}}applyBoxStyle(t,e){t.setAttribute("stroke",this.getBoxAboveLineColor()),t.setAttribute("stroke-width",this.getBoxAboveLineWidth()),void 0!==this.getBoxAboveFillColor()&&t.setAttribute("fill",this.getBoxAboveFillColor()),void 0!==this.getBoxAboveFillOpacity()&&t.setAttribute("fill-opacity",this.getBoxAboveFillOpacity()),e.setAttribute("stroke",this.getBoxBelowLineColor()),e.setAttribute("stroke-width",this.getBoxBelowLineWidth()),void 0!==this.getBoxBelowFillColor()&&e.setAttribute("fill",this.getBoxBelowFillColor()),void 0!==this.getBoxAboveFillOpacity()&&e.setAttribute("fill-opacity",this.getBoxBelowFillOpacity())}applyWhiskerStyle(t,e){t.setAttribute("stroke",this.getBarAboveLineColor()),t.setAttribute("stroke-width",this.getBarAboveLineWidth()),e.setAttribute("stroke",this.getBarBelowLineColor()),e.setAttribute("stroke-width",this.getBarBelowLineWidth())}applyMeanStyle(t){t.setAttribute("stroke",this.getMeanLineColor()),t.setAttribute("stroke-width",this.getMeanLineWidth())}setOutlierStyle(t){t.setAttribute("stroke",this.getOutlierLineColor()),t.setAttribute("stroke-width",this.getOutlierLineWidth()),void 0!==this.getBoxBelowFillColor()&&t.setAttribute("fill",this.getOutlierFillColor()),void 0!==this.getBoxAboveFillOpacity()&&t.setAttribute("fill-opacity",this.getOutlierFillOpacity())}getCategoryIndex(t){if(!this.categories)throw new Error("No categories were defined. Probably axis.setSeries was not called");for(var e=0;e<this.categories.length;e++)if(this.categories[e].name==t)return e;return!1}setMarkers(){}boxPos(t,e,i,r){e>i?(t.setAttribute(r?"x":"y",i),t.setAttribute(r?"width":"height",e-i)):(t.setAttribute(r?"x":"y",e),t.setAttribute(r?"width":"height",i-e))}getUsedCategories(){let t="y"==this.options.orientation?"x":"y",e=this.data.map((e=>e[t]));return Array.isArray(this._linkedToScatterSeries)&&this._linkedToScatterSeries.map((t=>{t.getUsedCategories().map((t=>{let i;(i=e.indexOf(t))>-1&&e.splice(i,1)}))})),e}linkToScatterSerie(...t){this._linkedToScatterSeries=t}}var h=a;e.default=h},2663:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,s=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=o();if(e&&e.has(t))return e.get(t);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){var n=r?Object.getOwnPropertyDescriptor(t,s):null;n&&(n.get||n.set)?Object.defineProperty(i,s,n):i[s]=t[s]}return i.default=t,e&&e.set(t,i),i}(i(4167)),n=(r=i(1755))&&r.__esModule?r:{default:r};function o(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return o=function(){return t},t}class a extends n.default{constructor(t,e,i){super(...arguments),this.negativeDelta=0,this.positiveDelta=0,this.negativeThreshold=0,this.positiveThreshold=0,this.groupMain.setAttribute("clip-path",`url(#_clipplot${t._creation})`)}setData(t,e,i){i=i||"float";var r,s,n,o,a=t.length,h=[];for(t instanceof Array||"object"==typeof t&&(this.minX=t.minX,this.minY=t.minY,this.maxX=t.maxX,this.maxY=t.maxY,a=(t=t.segments).length),r=0;r<a;r++){for(n=t[r].lines.length,o=this._addData(i,n),s=0;s<n;s+=2)o[s]=t[r].lines[s],this._checkX(o[s]),o[s+1]=t[r].lines[s+1],this._checkY(o[s+1]);h.push({lines:o,zValue:t[r].zValue})}return this.data=h,this.graph.updateDataMinMaxAxes(),this.dataHasChanged(!0),this}draw(t){if(t||this.hasDataChanged()){this.currentLine=0;var e,i,r,s,n,o,a,h=0,l=this.data.length,u=0;this.minZ=1/0,this.maxZ=-1/0;var c=this.groupLines.nextSibling;this.groupMain.removeChild(this.groupLines),this.zValues={};var p=0,d=1;this.getFlip()&&(p=0,d=1);var g=this.getYAxis().getCurrentMin(),f=this.getXAxis().getCurrentMin(),y=this.getXAxis().getCurrentMax(),m=this.getYAxis().getCurrentMax();for(this.counter=0,this.currentLineId=0;h<l;h++){for(this.currentLine="",u=0,n=(a=this.data[h].lines).length;u<n;u+=4)a[u+p]<f&&a[u+2+p]<f||a[u+d]<g&&a[u+2+d]<g||a[u+d]>m&&a[u+2+d]>m||a[u+p]>y&&a[u+2+p]>y||(r=this.getX(a[u+p]),s=this.getY(a[u+d]),e=this.getX(a[u+2+p]),i=this.getY(a[u+2+d]),e==r&&i==s||(this.currentLine+="M ",this.currentLine+=r,this.currentLine+=" ",this.currentLine+=s,this.currentLine+="L ",this.currentLine+=e,this.currentLine+=" ",this.currentLine+=i,this.counter++));this.currentLine+=" z",(o=this._createLine()).setAttribute("data-zvalue",this.data[h].zValue),this.zValues[this.data[h].zValue]={dom:o},this.minZ=Math.min(this.minZ,this.data[h].zValue),this.maxZ=Math.max(this.maxZ,this.data[h].zValue)}for(h++,h=this.currentLine+1;h<this.lines.length;h++)this.groupLines.removeChild(this.lines[h]),this.lines.splice(h,1);for(h=0;h<l;h++)this.setColorTo(this.lines[h],this.data[h].zValue,this.minZ,this.maxZ);this.onMouseWheel(0,{shiftKey:!1}),this.groupMain.insertBefore(this.groupLines,c)}else if(this.hasStyleChanged(this.selectionType))for(;h<l;h++)this.setColorTo(this.lines[h],this.data[h].zValue,this.minZ,this.maxZ)}onMouseWheel(t,e,i,r){for(var s in t/=250,void 0!==i?(r||(this.negativeThreshold=-i*this.minZ,this.negativeDelta=-Math.pow(Math.abs(this.negativeThreshold/-this.minZ),1/3)),r&&(this.positiveThreshold=i*this.maxZ,this.positiveDelta=Math.pow(this.positiveThreshold/this.maxZ,1/3))):e.shiftKey&&this.options.hasNegative?(this.negativeDelta=Math.min(0,Math.max(-1,this.negativeDelta+Math.min(.1,Math.max(-.1,t)))),this.negativeThreshold=-this.minZ*Math.pow(this.negativeDelta,3)):(this.positiveDelta=Math.min(1,Math.max(0,this.positiveDelta+Math.min(.1,Math.max(-.1,t)))),this.positiveThreshold=this.maxZ*Math.pow(this.positiveDelta,3)),isNaN(this.positiveDelta)&&(this.positiveDelta=0),isNaN(this.negativeDelta)&&(this.negativeDelta=0),this.zValues)this.zValues[s].dom.setAttribute("display",s>=0&&s>=this.positiveThreshold||s<=0&&s<=this.negativeThreshold?"block":"none");this._shapeZoom&&(this.options.hasNegative?(this._shapeZoom.setHandleNeg(-Math.pow(this.negativeDelta,3),this.minZ),this._shapeZoom.showHandleNeg()):this._shapeZoom.hideHandleNeg(),this._shapeZoom.setHandlePos(Math.pow(this.positiveDelta,3),this.maxZ))}handleMouseMove(t,e,i){var r=t||this.getXAxis().getMouseVal(),s=i||this.getYAxis().getMouseVal();return{trueX:r,interpolatedY:s,xClosest:r,yClosest:s}}setDynamicColor(t){this.lineColors=t,this.styleHasChanged()}setNegative(t){this.options.hasNegative=t,t&&(this.negativeThreshold=0)}setColorTo(t,e,i,r){if(this.lineColors){var n={h:0,s:0,l:0};for(var o in n)n[o]=e>0?this.lineColors.fromPositive[o]+(this.lineColors.toPositive[o]-this.lineColors.fromPositive[o])*(e/r):this.lineColors.fromNegative[o]+(this.lineColors.toNegative[o]-this.lineColors.fromNegative[o])*(e/i);n.h/=360;var a=s.hslToRgb(n.h,n.s,n.l);t.setAttribute("stroke",`rgb(${a.join()})`)}}getSymbolForLegend(){if(!this.lineForLegend){var t=document.createElementNS(this.graph.ns,"ellipse");t.setAttribute("cx",7),t.setAttribute("cy",0),t.setAttribute("rx",8),t.setAttribute("ry",3),t.setAttribute("cursor","pointer"),this.lineForLegend=t}return this.applyLineStyle(this.lineForLegend,this.maxZ),this.lineForLegend}applyLineStyle(t,e){t.setAttribute("stroke",this.getLineColor()),t.setAttribute("stroke-width",this.getLineWidth()+(this.isSelected()?2:0)),this.getLineDashArray()&&t.setAttribute("stroke-dasharray",this.getLineDashArray()),t.setAttribute("fill","none"),this.setColorTo(t,void 0!==e?e:t.getAttribute("data-zvalue"),this.minZ,this.maxZ),this.hasStyleChanged(!1)}setShapeZoom(t){this._shapeZoom=t}}var h=a;e.default=h},1255:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,s=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=o();if(e&&e.has(t))return e.get(t);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){var n=r?Object.getOwnPropertyDescriptor(t,s):null;n&&(n.get||n.set)?Object.defineProperty(i,s,n):i[s]=t[s]}return i.default=t,e&&e.set(t,i),i}(i(4167)),n=(r=i(7245))&&r.__esModule?r:{default:r};function o(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return o=function(){return t},t}class a extends n.default{constructor(t,e,i){super(...arguments),s.mapEventEmission(this.options,this),this.rects=[],this.paths=[],this.recalculateBinsOnDraw=!1}setData(t){this.minX=this.maxX=this.minY=this.maxY=0;var e=0,i=t.length;for(this.data=t,this.minX=Number.POSITIVE_INFINITY,this.minY=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.maxY=Number.NEGATIVE_INFINITY,e=0;e<i;e++)this._checkX(t[e][0]),this._checkY(t[e][1]);return this.dataHasChanged(),this.graph.updateDataMinMaxAxes(),this}calculateDensity(t,e,i,r,s,n){var o,a,h,l=[],u=this.data.length,c=Number.POSITIVE_INFINITY,p=Number.NEGATIVE_INFINITY;for(o=0;o<u;o++)a=~~((this.data[o][0]-t)/e),h=~~((this.data[o][1]-r)/s),a>i||h>n||a<0||h<0||(l[a]=l[a]||[],l[a][h]=l[a][h]+1||1,c=l[a][h]<c?l[a][h]:c,p=l[a][h]>p?l[a][h]:p);return this.maxIndexX=i,this.maxIndexY=n,this.binMin=c,this.binMax=p,this.deltaX=e,this.deltaY=s,this.fromX=t,this.fromY=r,this.numX=i,this.numY=n,this.densitymap=l,l}setDensityMap(t,e,i,r,s){var n,o,a=Number.POSITIVE_INFINITY,h=Number.NEGATIVE_INFINITY;for(n=0;n<t.length;n++)for(o=0;o<t[n].length;o++)a=t[n][o]<a?t[n][o]:a,h=t[n][o]>h?t[n][o]:h;return this.maxIndexX=t.length,this.maxIndexY=t[0].length,this.binMin=a,this.binMax=h,this.deltaX=i,this.deltaY=s,this.fromX=e,this.fromY=r,this.numX=this.maxIndexX,this.numY=this.maxIndexY,this.densitymap=t,t}calculateDensityWeighted(t,e,i,r,s,n){var o,a,h,l,u,c,p,d,g,f,y,m=[],x=this.data.length,v=Number.POSITIVE_INFINITY,b=Number.NEGATIVE_INFINITY;for(o=0;o<x;o++)c=(this.data[o][0]-t)/e-.5,p=(this.data[o][1]-r)/s-.5,d=a=Math.floor(c),f=h=Math.floor(p),g=a+1,y=h+1,l=1-(c-a),u=1-(p-h),a>i||h>n||a<0||h<0||(m[d]=m[d]||[],m[g]=m[g]||[],m[d][f]=m[d][f]||0,m[g][f]=m[g][f]||0,m[d][y]=m[d][y]||0,m[g][y]=m[g][y]||0,m[d][f]+=l*u,m[g][f]+=(1-l)*u,m[d][y]+=l*(1-u),m[g][y]+=(1-l)*(1-u),v=m[d][f]<v?m[d][f]:v,b=m[d][f]>b?m[d][f]:b,v=m[g][f]<v?m[g][f]:v,b=m[g][f]>b?m[g][f]:b,v=m[d][y]<v?m[d][y]:v,b=m[d][y]>b?m[d][y]:b,v=m[g][y]<v?m[g][y]:v,b=m[g][y]>b?m[g][y]:b);return this.maxIndexX=i,this.maxIndexY=n,this.binMin=v,this.binMax=b,this.deltaX=e,this.deltaY=s,this.fromX=t,this.fromY=r,this.numX=i,this.numY=n,this.densitymap=m,m}autoBins(t,e){return this.numX=t||400,this.numY=e||this.numX,this.calculateDensity(this.minX,(this.maxX-this.minX)/t,t,this.minY,(this.maxY-this.minY)/e,e),this.recalculateBinsOnDraw=!1,this}setPxPerBin(t,e,i){return t&&this.calculationDensityMap({from:"min",to:"max",pxPerBin:t,weighted:i}),e&&this.calculationDensityMap(!1,{from:"min",to:"max",pxPerBin:e,weighted:i}),this}setBinsFromTo(t,e,i,r){return this.densityMapCalculation=this.densityMapCalculation||{},this.densityMapCalculation[t]={from:e,to:i,numBins:r},this.calculationDensityMap(),this}calculationDensityMap(t,e){this.method=this.calculateDensityAdvanced,this.densityMapCalculation=this.densityMapCalculation||{},t&&(this.densityMapCalculation.x=t),e&&(this.densityMapCalculation.y=e)}calculateDensityAdvanced(){var t={x:{from:0,num:0,delta:0,weighing:!1},y:{from:0,num:0,delta:0,weighing:!1}},e={x:this.graph.drawingSpaceWidth,y:this.graph.drawingSpaceHeight},i={x:this.getXAxis,y:this.getYAxis},r=!1;for(var s in this.densityMapCalculation)if(this.densityMapCalculation[s].weighted&&(r=!0,t[s].weighing=!0),this.densityMapCalculation[s].pxPerBin){var n="min"==this.densityMapCalculation[s].from?i[s].call(this).getCurrentMin():this.densityMapCalculation[s].from,o="max"==this.densityMapCalculation[s].to?i[s].call(this).getCurrentMax():this.densityMapCalculation[s].to,a=Math.abs(i[s].call(this).getRelPx(o-n));t[s].num=Math.ceil(e[s]/this.densityMapCalculation[s].pxPerBin),t[s].from=n-Math.abs(i[s].call(this).getRelVal((t[s].num*this.densityMapCalculation[s].pxPerBin-a)/2)),t[s].delta=Math.abs(i[s].call(this).getRelVal(this.densityMapCalculation[s].pxPerBin))}else t[s].num=this.densityMapCalculation[s].numBins||400,t[s].from="min"==this.densityMapCalculation[s].from?i[s].call(this).getCurrentMin():this.densityMapCalculation[s].from,t[s].delta=this.densityMapCalculation[s].to?(("max"==this.densityMapCalculation[s].to?i[s].call(this).getCurrentMax():this.densityMapCalculation[s].to)-t[s].from)/t[s].num:this.densityMapCalculate[s].delta;(r?this.calculateDensityWeighted:this.calculateDensity).call(this,t.x.from,t.x.delta,t.x.num,t.y.from,t.y.delta,t.y.num)}setColorMapBinBoundaries(t,e,i){return this.colorMapMin=t,this.colorMapMax=e,i||(this.callbackColorMapMinMax="manual"),this}autoColorMapBinBoundaries(){return this.colorMapMin=this.binMin,this.colorMapMax=this.binMax,this}onRedrawColorMapBinBoundaries(t){return this.callbackColorMapMinMax=t,this}colorMapHSL(t,e,i){i=i||"linear";for(var r,s,n={exp:function(t){return(Math.exp(t/e*1)-Math.exp(0))/(Math.exp(1)-Math.exp(0))},log:function(t){return(Math.log(t+1)-Math.log(1))/(Math.log(e+1)-Math.log(1))},linear:function(t){return(t-0)/(e-0)}},o=0,a=[],h=[],l={h:null,s:null,l:null,a:null},u=t.length-1,c=0;c<=e;c++){for(var p in r=n[i](c),(s=Math.floor(r*u))==t.length-1&&(s=u-1),r=(r-s/u)/(1/u),l)l[p]=(t[s+1][p]-t[s][p])*r+t[s][p];a[o]=`hsl(${l.h}, ${Math.round(100*l.s)}%, ${Math.round(100*l.l)}%)`,h[o]=l.a,o++}return this.opacities=h,this.colorMap=a,this.colorMapNum=e,this}autoColorMapHSL(t,e="linear"){return this.colorMapHSL(t,100,e),this}getColorIndex(t){return Math.max(0,Math.min(this.colorMapNum,Math.floor((t-this.colorMapMin)/(this.colorMapMax-this.colorMapMin)*this.colorMapNum)))}draw(){var t;if(this.method&&this.method(),this.callbackColorMapMinMax&&null!=this.colorMapMin&&null!=this.colorMapMax&&"auto"!=this.callbackColorMapMinMax){if("function"==typeof this.callbackColorMapMinMax){var e=this.callbackColorMapMinMax(this.binMin,this.binMax);this.setColorMapBinBoundaries(e[0],e[1],!0)}}else this.autoColorMapBinBoundaries();for(var i=this.getXAxis().getRelPx(this.deltaX),r=this.getYAxis().getRelPx(this.deltaY),s=0;s<this.paths.length;s++)this.paths[s]="";for(s=0;s<this.maxIndexX;s++)for(var n=0;n<this.maxIndexY;n++)null!=this.densitymap[s]&&null!=this.densitymap[s][n]&&(t=this.getColorIndex(this.densitymap[s][n]),this.paths[t]||(this.paths[t]=""),this.paths[t]+=` M ${this.getXAxis().getPx(s*this.deltaX+this.fromX)} ${this.getYAxis().getPx(n*this.deltaY+this.fromY)} h ${i} v ${r} h -${i} z`);this.drawRects()}drawRects(){for(var t=0;t<this.paths.length;t++)this.rects[t]||(this.rects[t]=document.createElementNS(this.graph.ns,"path"),this.rects[t].setAttribute("shape-rendering","crispEdges")),void 0!==this.paths[t]&&(this.rects[t].setAttribute("d",this.paths[t]),this.rects[t].setAttribute("fill",this.colorMap[t]),this.rects[t].setAttribute("fill-opacity",this.opacities[t])),this.groupMain.appendChild(this.rects[t])}setOptions(t){return this.options=s.extend(!0,{},this.defaults(),t||{}),this}}var h=a;e.default=h},7645:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,s=i(2513),n=i(1107),o=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=h();if(e&&e.has(t))return e.get(t);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){var n=r?Object.getOwnPropertyDescriptor(t,s):null;n&&(n.get||n.set)?Object.defineProperty(i,s,n):i[s]=t[s]}return i.default=t,e&&e.set(t,i),i}(i(4167)),a=(r=i(1755))&&r.__esModule?r:{default:r};function h(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return h=function(){return t},t}function l(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}class u extends a.default{constructor(t,e,i){super(t,e,i),l(this,"options",void 0),l(this,"_histForLegend",void 0),l(this,"_histogramWaveform",void 0),this.init(),this.extendStyle({histogram:this.options.histogramStyle},"unselected",null)}init(){this.options=this.extendLineOptions(this.options),o.mapEventEmission(this.options,this)}getType(){return s.SERIE_TYPE.HISTOGRAM}applyStyle(){this.applyHistogramStyles(),super.applyStyle()}applyHistogramStyles(){this.applyLineStyles();for(var t=0;t<this.lines.length;t++)this.applyHistogramStyle(this.lines[t])}applyHistogramStyle(t){this.getFillColor()?t.setAttribute("fill",this.getFillColor()):t.setAttribute("fill","none"),t.setAttribute("fill-opacity",this.getFillOpacity())}getSymbolForLegend(){const t=this.symbolLegendContainer;if(this._histForLegend)this.applyLineStyle(this._histForLegend);else{var e=document.createElementNS(n.ns,"polyline");this.applyLineStyle(e),e.setAttribute("d","M 5 -5 v 10 h 5 v -10"),e.setAttribute("cursor","pointer"),this._histForLegend=e,t.appendChild(this._histForLegend)}return super.getSymbolForLegend(),this._histForLegend}drawInit(t){try{this.axisCheck()}catch(t){return console.warn(t),!1}if(!this.waveform)throw"No waveform for this serie"}draw(t){if(t||this.hasDataChanged()){this._calculateHistogram(this.getXAxis().firstTick,this.getXAxis().lastTick,this.getXAxis()._secondaryTickIncrement);try{this._createLine();for(let t=0;t<this._histogramWaveform.getLength();t++)this._addHistogramPoint(this._histogramWaveform.getX(t),this._histogramWaveform.getY(t),this.getXAxis()._secondaryTickIncrement)}catch(t){}this.removeExtraLines()}this.hasStyleChanged(this.getActiveStyle())&&(this.computeActiveStyle(),this.updateStyle()),this.dataHasChanged(!1),super.afterDraw()}dataHasChanged(t){if(super.dataHasChanged(t),this.waveform&&this.getXAxis()){let t=this.waveform.getMaxY(),e=this.waveform.getMinY();if(console.log(t,e),t==e)return;this._calculateHistogram(e,t,t-e)}return this}_calculateHistogram(t,e,i){try{console.log(t,e,i),this._histogramWaveform=this.waveform.calculateHistogram(t,e,i),this.minX=this.waveform.getMinY(),this.maxX=this.waveform.getMaxY(),this.minY=0,this.maxY=this._histogramWaveform.getMax()}catch(t){}}_addHistogramPoint(t,e,i){let r=this.getX(t),s=this.getX(t+i),n=this.getY(e),o=this.getY(0);isNaN(o)||r==r&&n==n&&s==s&&o==o&&(0==this.counter&&(this.currentLine=""),this.counter++,this.currentLine+=`M ${r} ${o} V ${n} H ${s} V ${o} z`)}updateStyle(){this.applyHistogramStyles(),this.setLegendSymbolStyle(),this.styleHasChanged(!1)}getRawHistogramStyle(t="unselected"){let e=this.getRawStyle(t);return e.histogram||(e.histogram={}),e.histogram}setFillColor(t,e,i=!1){return this.getRawHistogramStyle(e).fillColor=t,i&&this.setFillColor(t,"selected"),this.styleHasChanged(e),this}getFillColor(){var t;return null===(t=this.getComputedStyle().histogram)||void 0===t?void 0:t.fillColor}setFillOpacity(t,e,i=!1){return this.getRawHistogramStyle(e).fillOpacity=t,i&&this.setFillOpacity(t,"selected"),this.styleHasChanged(e),this}getFillOpacity(){var t;return null===(t=this.getComputedStyle().histogram)||void 0===t?void 0:t.fillOpacity}}var c=u;e.default=c},3312:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a(i(6190)),s=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=o();if(e&&e.has(t))return e.get(t);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){var n=r?Object.getOwnPropertyDescriptor(t,s):null;n&&(n.get||n.set)?Object.defineProperty(i,s,n):i[s]=t[s]}return i.default=t,e&&e.set(t,i),i}(i(4167)),n=a(i(1755));function o(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return o=function(){return t},t}function a(t){return t&&t.__esModule?t:{default:t}}class h extends n.default{static defaults(){return{zpos:0}}constructor(t,e,i){super(...arguments)}setZPos(t){return this.options.zpos=t,this}setz(){return this.setZPos(...arguments)}}s.mix(h,r.default);var l=h;e.default=l},9907:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,function(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=n();if(e&&e.has(t))return e.get(t);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){var o=r?Object.getOwnPropertyDescriptor(t,s):null;o&&(o.get||o.set)?Object.defineProperty(i,s,o):i[s]=t[s]}i.default=t,e&&e.set(t,i)}(i(4167)),s(i(1148));var r=s(i(1755));function s(t){return t&&t.__esModule?t:{default:t}}function n(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return n=function(){return t},t}class o extends r.default{constructor(t,e,i){super(...arguments),this.lines=this.lines||{}}setColors(t){this.colors=t}_draw(){var t,e,i,r,s,n,o=this,a=(this._dataToUse,this.getWaveform()),h=!1,l=!1,u=this.getXAxis(),c=this.getYAxis(),p=u.getCurrentMin(),d=c.getCurrentMin(),g=u.getCurrentMax(),f=c.getCurrentMax(),y=!1;this.eraseLines(),this.isFlipped(),this.currentLine="";let{i:m,l:x}=this._getIterativeBounds(a,p,g);for(;m<x;m+=1){if(t=this.waveform.getX(m),e=this.waveform.getY(m),t<p&&h<p||t>g&&h>g||(e<d&&l<d||e>f&&l>f)&&!this.options.lineToZero){h=t,l=e,y=!0;continue}if(this.counter2=m,s=this.getX(t),n=this.getY(e),s==i&&n==r)continue;if(isNaN(s)||isNaN(n)){this.counter;continue}var v=this.colors[m];let o=this.isPointOutside(t,e,p,g,d,f);if(this.options.lineToZero){if(o=t<p||t>g,o)continue}else if(o||y){if(!1!==h&&!1!==l||y){let a=this.calculateAxisCrossing(t,e,h,l,p,g,d,f);a.length>0&&(o?y?2==a.length&&this._addPoint(this.getX(a[0][0]),this.getY(a[0][1]),a[0][0],a[0][1],this.getX(a[1][0]),this.getY(a[1][1]),a[1][0],a[1][1],m-1,v,!1,!1,!1):this._addPoint(this.getX(a[0][0]),this.getY(a[0][1]),a[0][0],a[0][1],i,r,h,l,m-1,v,!1,!1,!1):this._addPoint(this.getX(a[0][0]),this.getY(a[0][1]),a[0][0],a[0][1],s,n,h,l,m-1,v,!1,!1,!1))}else i=s,r=n,h=t,l=e;i=s,r=n,h=t,l=e,y=o;continue}this._addPoint(s,n,t,e,i,r,h,l,m,v,!1,!0),i=s,r=n,h=t,l=e}if(this.latchLines(),this._tracker){this._trackerDom&&this._trackerDom.remove();var b=this.groupLines.cloneNode(!0);for(this.groupMain.appendChild(b),m=0,x=b.children.length;m<x;m++)b.children[m].setAttribute("stroke","transparent"),b.children[m].setAttribute("stroke-width","25px"),b.children[m].setAttribute("pointer-events","stroke");o._trackerDom=b,o.groupMain.addEventListener("mousemove",(function(t){var e=o.graph._getXY(t),i=o.handleMouseMove(!1,!1);o._trackingCallback(o,i,e.x,e.y)})),o.groupMain.addEventListener("mouseleave",(function(t){o._trackingOutCallback(o)}))}return this}_addPoint(t,e,i,r,s,n,o,a,h,l,u,c){if(void 0!==s&&void 0!==n&&!isNaN(t)&&!isNaN(e)){l._rgb&&(l=`rgba(${l._rgb[0]},${l._rgb[1]},${l._rgb[2]},${l._rgb[3]||1})`);var p=this.lines[l];p||((p=this.lines[l]={object:document.createElementNS(this.graph.ns,"path"),path:"",color:l}).object.setAttribute("stroke",l),p.color=l,this.applyLineStyle(p.object),this.groupLines.appendChild(p.object)),p.path+=`M ${s} ${n} L ${t} ${e}`,this.hasErrors()&&this.errorAddPoint(h,i,r,t,e)}}removeExtraLines(){}latchLines(){for(var t in this.lines)this.lines[t].object.setAttribute("d",this.lines[t].path)}eraseLines(){for(var t in this.lines)this.lines[t].path="",this.lines[t].object.setAttribute("d","")}getSymbolForLegend(){let t=super.getSymbolForLegend();if(this._getSymbolForLegendContainer(),!this.defined){let e=document.createElementNS(this.graph.ns,"linearGradient");e.setAttribute("id","gradient_serie_"+this.getName()),e.setAttribute("x1","0px"),e.setAttribute("x2","30px"),e.setAttribute("y1","-px"),e.setAttribute("y2","1px"),e.setAttribute("gradientUnits","userSpaceOnUse");let i=document.createElementNS(this.graph.ns,"stop");i.setAttribute("offset","0"),i.setAttribute("stop-color","#FF0000");let r=document.createElementNS(this.graph.ns,"stop");r.setAttribute("offset","1"),r.setAttribute("stop-color","#000000"),e.appendChild(i),e.appendChild(r),this.graph.defs.appendChild(e),this.defined=!0,t.setAttribute("stroke",`url(#gradient_serie_${this.getName()})`)}return t}applyLineStyle(t){t.setAttribute("stroke-width",this.getLineWidth()),this.getLineDashArray()?t.setAttribute("stroke-dasharray",this.getLineDashArray()):t.removeAttribute("stroke-dasharray"),t.setAttribute("fill","none")}}var a=o;e.default=a},1755:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.Dasharray=void 0;var r=i(5936),s=i(1107),n=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=l();if(e&&e.has(t))return e.get(t);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){var n=r?Object.getOwnPropertyDescriptor(t,s):null;n&&(n.get||n.set)?Object.defineProperty(i,s,n):i[s]=t[s]}return i.default=t,e&&e.set(t,i),i}(i(4167)),o=h(i(1148)),a=h(i(5718));function h(t){return t&&t.__esModule?t:{default:t}}function l(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return l=function(){return t},t}function u(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}let c;e.Dasharray=c,function(t){t[t.PLAIN=0]="PLAIN",t[t.DOTTED=1]="DOTTED",t[t.DASHED_SM=2]="DASHED_SM",t[t.DASHED=3]="DASHED",t[t.DASHED_LG=4]="DASHED_LG",t[t.DASHED_XL=5]="DASHED_XL",t[t.DASHED_SM_INTV_LG=6]="DASHED_SM_INTV_LG",t[t.DASHED_LG_INTV_SM=7]="DASHED_LG_INTV_SM",t[t.DASHED_SM_INTV_XL=8]="DASHED_SM_INTV_XL",t[t.DASHED_XL_INTV_SM=9]="DASHED_XL_INTV_SM",t[t.DASHED_INTV_ALT=10]="DASHED_INTV_ALT",t[t.DASHED_DOTTED=11]="DASHED_DOTTED"}(c||(e.Dasharray=c={}));const p={markers:!1,lineStyle:{color:"black",style:c.PLAIN,width:1},trackMouse:!1,lineToZero:!1,selectableOnClick:!1,overflowX:!1,overflowY:!1};class d extends a.default{constructor(t,e,i){super(t,e,i),u(this,"options",void 0),u(this,"_lineForLegend",void 0),u(this,"_degradationPx",void 0),u(this,"currentLine",""),u(this,"counter",0),u(this,"lines",void 0),this.init(),this.extendStyle({line:{color:this.options.lineStyle.color,style:this.options.lineStyle.style,width:this.options.lineStyle.width}},"unselected",null),this.extendStyle({line:{width:3}},"selected","unselected"),this.activateStyle("unselected"),this.computeActiveStyle(),this.data=[],this._isMinOrMax={x:{min:!1,max:!1},y:{min:!1,max:!1}},this.groupLines=document.createElementNS(s.ns,"g"),this.domMarker=document.createElementNS(s.ns,"path"),this.domMarker.style?this.domMarker.style.cursor="pointer":this.domMarker.style={cursor:"pointer"},this.additionalData={},this.marker=document.createElementNS(s.ns,"circle"),this.marker.setAttribute("fill","black"),this.marker.setAttribute("r",3),this.marker.setAttribute("display","none"),this.markerLabel=document.createElementNS(s.ns,"text"),this.markerLabelSquare=document.createElementNS(s.ns,"rect"),this.markerLabelSquare.setAttribute("fill","white"),this.domMarkerHover={},this.domMarkerSelect={},this.markerHovered=0,this.groupMarkerSelected=document.createElementNS(s.ns,"g"),this.markerPoints={},this.lines=[],this.groupMain.appendChild(this.groupLines),this.groupMain.appendChild(this.marker),this.groupMain.appendChild(this.groupMarkerSelected),this.groupMain.appendChild(this.markerLabelSquare),this.groupMain.appendChild(this.markerLabel),this.independantMarkers=[],this.initExtended1&&this.initExtended1(),this.groupLines.addEventListener("click",(t=>{this.options.selectableOnClick&&(this.isSelected()?this.graph.unselectSerie(this):this.graph.selectSerie(this))}))}init(){this.options=this.extendLineOptions(this.options),n.mapEventEmission(this.options,this)}extendLineOptions(t){return super.extendScatterOptions(n.extend(!0,{},p,t))}getType(){return r.SERIE_TYPE.LINE}applyStyle(){this.applyLineStyles(),this.applyLineStyle(this.getSymbolForLegend()),super.applyStyle()}onMouseWheel(){}empty(){for(var t=0,e=this.lines.length;t<e;t++)this.groupLines.removeChild(this.lines[t]);return this.lines=[],this}unselect(){return super.unselect(),this.select("unselected")}getSymbolForLegend(){const t=this.symbolLegendContainer;if(this._lineForLegend)this.applyLineStyle(this._lineForLegend);else{var e=document.createElementNS(s.ns,"line");this.applyLineStyle(e),e.setAttribute("x1","5"),e.setAttribute("x2","25"),e.setAttribute("y1","0"),e.setAttribute("y2","0"),e.setAttribute("cursor","pointer"),this._lineForLegend=e,t.appendChild(this._lineForLegend)}return super.getSymbolForLegend(),this._lineForLegend}degrade(t){return this._degradationPx=t,this}noDegrade(){this._degradationPx=0}drawInit(t){try{this.axisCheck()}catch(t){return console.warn(t),!1}if(this.currentLineId=0,this.counter=0,this._drawn=!0,this.currentLine="",this.waveform){if(this._degradationPx)this.waveform.resampleForDisplay({resampleToPx:this.degradationPx,xPosition:this.getXAxis().getPx.bind(this.getXAxis()),minX:this.getXAxis().getCurrentMin(),maxX:this.getXAxis().getCurrentMax()}),this._dataToUse=[this.waveform.getDataToUseFlat()];else if(this.waveform.hasAggregation()){let e=this.getXAxis(),i=this.graph.getDrawingWidth()*(e.getDataMax()-e.getDataMin())/(e.getCurrentMax()-e.getCurrentMin()),r=this.waveform.selectAggregatedData(i);if(r instanceof Promise)return r.then((()=>{this.draw(t)})),!1;if(!1===r)return!1;this._dataToUse=this.waveform.getDataToUseFlat()}}else this._dataToUse=this.data,this._xDataToUse=this.xData;return!0}removeLinesGroup(){this._afterLinesGroup=this.groupLines.nextSibling,this.groupMain.removeChild(this.groupLines)}insertLinesGroup(){if(!this._afterLinesGroup)throw"Could not find group after lines to insertion.";this.groupMain.insertBefore(this.groupLines,this._afterLinesGroup),this._afterLinesGroup=!1}removeExtraLines(){for(var t=this.currentLineId,e=this.lines.length;t<e;t++)this.groupLines.removeChild(this.lines[t]);this.lines.splice(this.currentLineId,e-this.currentLineId),this.currentLineId=0}draw(t){if(!this.getXAxis()||!this.getYAxis())throw"No axes were defined for this serie";if(t||this.hasDataChanged()){if(super.draw(t),!this.drawInit(t))return;this._dataToUse,this._xDataToUse,this._slotToUse,this.removeLinesGroup(),this.lookForMaxima=!0,this.lookForMinima=!1,this.pos0=this.getYAxis().getPos(Math.max(0,this.getYAxis().getCurrentMin())),this.hasErrors()&&this.errorDrawInit(),this._draw(),this.hasErrors()&&this.errorDraw(),this.removeExtraLines(),this.insertLinesGroup()}for(var e in this.domMarkerHover)this.toggleMarker(e.split(","),!1,!0);for(var e in this.domMarkerSelect)this.toggleMarker(e.split(","),!1,!1);this.hasStyleChanged(this.getActiveStyle())&&(this.computeActiveStyle(),this.updateStyle()),this.dataHasChanged(!1),super.afterDraw()}_draw(){let t,e,i,r,s,n,o,a=this.waveform,h=!1,l=!1,u=this.getXAxis(),c=this.getYAxis(),p=u.getCurrentMin(),d=c.getCurrentMin(),g=u.getCurrentMax(),f=c.getCurrentMax();if(!a)return;t=a.getData(!0);let y=a.getShift(),m=a.getScale(),x=!1;this.isMonotoneous(),this.currentLine="";let{i:v,l:b}=this._getIterativeBounds(a,p,g);for(;v<b;v+=1){if(e=a.getX(v,!0),i=t[v]*m+y,e!=e||i!=i){this._createLine();continue}if(!this.options.overflowX&&e<p&&h<p||!this.options.overflowX&&e>g&&h>g||(!this.options.overflowY&&i<d&&l<d||!this.options.overflowY&&i>f&&l>f)&&!this.options.lineToZero){h=e,l=i,x=!0;continue}if(this.counter2=v,this.options.lineToZero&&(i>f&&(i=f),i<d&&(i=d)),n=this.getX(e),o=this.getY(i),n==r&&o==s)continue;if(n!=n||o!=o){this.counter>0&&this._createLine();continue}let u=this.isPointOutside(e,i,p,g,d,f);if(this.options.lineToZero){if(u=e<p||e>g,u)continue}else if(u||x){if(!1!==h&&!1!==l||x){let t=this.calculateAxisCrossing(e,i,h,l,p,g,d,f);t.length>0?u?x?2==t.length&&(this._createLine(),this._addPoint(this.getX(t[0][0]),this.getY(t[0][1]),t[0][0],t[0][1],!1,!1,!1),this._addPoint(this.getX(t[1][0]),this.getY(t[1][1]),t[0][0],t[0][1],!1,!1,!1)):this._addPoint(this.getX(t[0][0]),this.getY(t[0][1]),t[0][0],t[0][1],!1,!1,!1):(this._createLine(),this._addPoint(this.getX(t[0][0]),this.getY(t[0][1]),t[0][0],t[0][1],!1,!1,!1),this._addPoint(n,o,h,l,!1,!1,!0)):u||this._addPoint(n,o,h,l,v,!1,!1)}else r=n,s=o,h=e,l=i;r=n,s=o,h=e,l=i,x=u;continue}this._addPoint(n,o,e,i,v,!1,!0),r=n,s=o,h=e,l=i}if(this._createLine(),this._tracker){this._trackerDom&&this._trackerDom.remove();var _=this.groupLines.cloneNode(!0);for(this.groupMain.appendChild(_),v=0,b=_.children.length;v<b;v++)_.children[v].setAttribute("stroke","transparent"),_.children[v].setAttribute("stroke-width","25px"),_.children[v].setAttribute("pointer-events","stroke");this._trackerDom=_,this.groupMain.addEventListener("mousemove",(t=>{var e=this.graph._getXY(t),i=this.handleMouseMove(!1,!1);this._trackingCallback(this,i,e.x,e.y)})),this.groupMain.addEventListener("mouseleave",(t=>{this._trackingOutCallback(this)}))}return this}_getIterativeBounds(t,e,i){let r=0,s=t.getLength(),n=s;return t.isXMonotoneous()&&(t.isXMonotoneousAscending()?(r=t.getIndexFromX(e,!0),s=t.getIndexFromX(i,!0)):(r=t.getIndexFromX(i,!0),s=t.getIndexFromX(e,!0)),0==r?r=0:r>0&&r--,0==s?s=n:s<n&&s++),{i:r,l:s}}kill(){super.kill()}isPointOutside(t,e,i,r,s,n){return this.isMonotoneous()?!this.options.overflowY&&(e<s||e>n):!this.options.overflowX&&(t<i||t>r)||!this.options.overflowY&&(e<s||e>n)}calculateAxisCrossing(t,e,i,r,s,n,o,a){let h=[],l=(t-s)/(t-i),u=e-l*(e-r),c=(t-n)/(t-i),p=e-c*(e-r),d=(e-o)/(e-r),g=t-d*(t-i),f=(e-a)/(e-r),y=t-f*(t-i);return l<1&&l>0&&!1!==u&&u<=a&&u>=o&&h.push([s,u]),c<1&&c>0&&!1!==p&&p<=a&&p>=o&&h.push([n,p]),d<1&&d>0&&!1!==g&&g<=n&&g>=s&&h.push([g,o]),f<1&&f>0&&!1!==y&&y<=n&&y>=s&&h.push([y,a]),h}_addPoint(t,e,i,r,s,n,o){t==t&&e==e&&(0==this.counter?this.currentLine="M ":this.options.lineToZero||n?this.currentLine+="M ":this.currentLine+="L ",this.currentLine+=t,this.currentLine+=" ",this.currentLine+=e,this.currentLine+=" ",this.options.lineToZero&&void 0!==this.pos0&&(this.currentLine+="L ",this.currentLine+=t,this.currentLine+=" ",this.currentLine+=this.pos0,this.currentLine+=" "),this.hasErrors()&&this.errorAddPoint(s,i,r,t,e),this.counter++)}_createLine(){var t,e=this.currentLineId++;return this.lines[e]?t=this.lines[e]:(t=document.createElementNS(this.graph.ns,"path"),this.applyLineStyle(t),this.groupLines.appendChild(t),this.lines[e]=t),0==this.counter?t.setAttribute("d",""):t.setAttribute("d",this.currentLine),this.currentLine="M ",this.counter=0,t}applyLineStyles(){for(var t=0;t<this.lines.length;t++)this.applyLineStyle(this.lines[t])}applyLineStyle(t){t.setAttribute("stroke",this.getLineColor()),t.setAttribute("stroke-width",this.getLineWidth()),this.getLineDashArray()?t.setAttribute("stroke-dasharray",this.getLineDashArray()):t.removeAttribute("stroke-dasharray"),this.getFillColor()?t.setAttribute("fill",this.getFillColor()):t.setAttribute("fill","none")}updateStyle(){this.applyLineStyles(),this.setLegendSymbolStyle(),this.styleHasChanged(!1)}getMarkerPath(t,e){var i=t.zoom||1,r=(e=e||0,[]);switch(t.type){case 2:r=["m",-2,-2,"l",4,4,"m",-4,0,"l",4,-4];break;case 3:r=["m",-2,0,"l",4,0,"m",-2,-2,"l",0,4];break;case 4:r=["m",-1,-1,"l",2,0,"l",-1,2,"z"];break;default:r=["m",-2,-2,"l",4,0,"l",0,4,"l",-4,0,"z"]}if(!(1!=i&&i||e))return r.join(" ");if(r){for(var s=0,n=r.length;s<n;s++)"number"==typeof r[s]&&(r[s]*=i+e);return r.join(" ")}}handleMouseMove(t,e,i){var r,s=t||this.getXAxis().getMouseVal(),n=i||this.getYAxis().getMouseVal(),o=this.getClosestPointToXY(s,n);if(o)return o.xMax==o.xMin&&(r=o.yMin),(!e||!this.options.trackMouse||null!=o.xMin)&&{xBefore:o.xMin,xAfter:o.xMax,yBefore:o.yMin,yAfter:o.yMax,trueX:o.xExact,indexClosest:o.indexClosest,interpolatedY:r,xClosest:o.xClosest,yClosest:o.yClosest}}getMax(t,e){var i,r,s,n,o=Math.min(t,e),a=Math.max(t,e),h=this.getClosestPointToXY(o),l=this.getClosestPointToXY(a),u=-1/0;if(h||(o=this.minX,h=this.getClosestPointToXY(o)),l||(a=this.maxX,l=this.getClosestPointToXY(a)),!h||!l)return-1/0;for(i=h.dataIndex;i<=l.dataIndex;i++)for(s=i==h.dataIndex?h.xBeforeIndexArr:0,n=i==l.dataIndex?l.xBeforeIndexArr:this.data[i].length,r=s;r<=n;r+=2)u=Math.max(u,this.data[i][r+1]);return u}getMin(t,e){var i,r,s,n,o=Math.min(t,e),a=Math.max(t,e),h=this.getClosestPointToXY(o),l=this.getClosestPointToXY(a),u=1/0;if(h||(o=this.minX,h=this.getClosestPointToXY(o)),l||(a=this.maxX,l=this.getClosestPointToXY(a)),!h||!l)return 1/0;for(i=h.dataIndex;i<=l.dataIndex;i++)for(s=i==h.dataIndex?h.xBeforeIndexArr:0,n=i==l.dataIndex?l.xBeforeIndexArr:this.data[i].length,r=s;r<=n;r+=2)u=Math.min(u,this.data[i][r+1]);return u}getRawLineStyle(t="unselected"){let e=this.getRawStyle(t);return e.line||(e.line={}),e.line}setLineStyle(t,e="unselected",i){return this.getRawLineStyle(e).style=t,i&&this.setLineStyle(t,"selected"),this.styleHasChanged(e),this}getLineStyle(t){var e;return null===(e=this.getComputedStyle(t).line)||void 0===e?void 0:e.style}getLineDashArray(t=this.getActiveStyleName()){let e=this.getLineStyle(t);if(Array.isArray(e))return e.join(", ");if("string"==typeof e)return e;switch(e){case c.PLAIN:return"1, 1";case c.DASHED_SM:return"2, 2";case c.DASHED:return"3, 3";case c.DASHED_LG:return"4, 4";case c.DASHED_XL:return"5, 5";case c.DASHED_LG_INTV_SM:return"5 2";case c.DASHED_SM_INTV_LG:return"2 5";case c.DASHED_INTV_ALT:return"4 2 4 4";case c.DASHED_DOTTED:return"1,3,1";case c.DASHED_XL_INTV_SM:return"9 2";case c.DASHED_SM_INTV_XL:return"2 9";default:return""}}setLineWidth(t,e,i){return this.getRawLineStyle(e).width=t,i&&this.setLineWidth(t,"selected"),this.styleHasChanged(e),this}getLineWidth(){var t;return null===(t=this.getComputedStyle().line)||void 0===t?void 0:t.width}setLineColor(t,e,i){return this.getRawLineStyle(e).color=t,i&&this.setLineColor(t,"selected"),this.styleHasChanged(e),this}getLineColor(){var t;return null===(t=this.getComputedStyle().line)||void 0===t?void 0:t.color}setFillColor(t,e,i){return this.getRawLineStyle(e).fillColor=t,i&&this.setFillColor(t,"selected"),this.styleHasChanged(e),this}getFillColor(){var t;return null===(t=this.getComputedStyle().line)||void 0===t?void 0:t.fillColor}isMonotoneous(){return this.waveform?this.waveform.isMonotoneous():!!this.xmonotoneous}findLocalMinMax(t,e,i){return!!this.waveform&&this.waveform.findLocalMinMax(t,e,i)}getClosestPointToXY(t=this.getXAxis().getMouseVal(),e=this.getYAxis().getMouseVal(),i=0,r=0,s=!1,n=!0){const o=this.getXAxis().getRelVal(i),a=this.getYAxis().getRelVal(r),h=this.waveform.findWithShortestDistance({x:t,y:e,xMaxDistance:o,yMaxDistance:a,axisRef:s,scaleX:n?1/this.getXAxis().getRelVal(1):1,scaleY:n?1/this.getYAxis().getRelVal(1):1});if(isNaN(h)||!1===h)return!1;if(h<0)return!1;const l={indexBefore:h,indexAfter:h,xExact:t,indexClosest:h,interpolatedY:this.waveform.getY(h),xClosest:this.waveform.getX(h),yClosest:this.waveform.getY(h)};if(this.waveform.isMonotoneous()){let t=this.waveform.getX(h),e=this.waveform.getX(h),i=this.waveform.getY(h),r=this.waveform.getX(h);t<e?(l.xBefore=t,l.xAfter=e,l.yBefore=i,l.yAfter=r):(l.xBefore=e,l.xAfter=t,l.yBefore=r,l.yAfter=i)}return l}}n.mix(d,o.default);var g=d;e.default=g},5718:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=a();if(e&&e.has(t))return e.get(t);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){var n=r?Object.getOwnPropertyDescriptor(t,s):null;n&&(n.get||n.set)?Object.defineProperty(i,s,n):i[s]=t[s]}return i.default=t,e&&e.set(t,i),i}(i(4167)),s=o(i(1148)),n=o(i(7245));function o(t){return t&&t.__esModule?t:{default:t}}function a(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return a=function(){return t},t}const h={markers:!0,markerStyles:{unselected:{default:{shape:"circle",cx:0,cy:0,r:3,stroke:"transparent",fill:"black"}},selected:{default:{r:4}}}};class l extends n.default{constructor(t,e,i){var s,n;if(super(t,e,i),n=void 0,(s="options")in this?Object.defineProperty(this,s,{value:n,enumerable:!0,configurable:!0,writable:!0}):this[s]=n,this._type="scatter",r.mapEventEmission(this.options,this),this.init(),this.shapes=[],this.shapesDetails=[],this.keys=[],this.styleAttributes=[],this.stylesNames=void 0,this.groupMarkers=document.createElementNS(this.graph.ns,"g"),this.groupMain.appendChild(this.groupMarkers),this.options.markerStyles)for(let t in this.options.markerStyles)this.setStyle({markers:this.options.markerStyles[t]},t,"unselected");this.groupMarkers.addEventListener("mouseenter",(t=>{var e=parseInt(t.target.parentElement.getAttribute("data-shapeid"));isNaN(e)||(this.options.selectMarkerOnHover&&this.selectMarker(e,"selected"),this.emit("mouseOverMarker",e,this.waveform.getX(e),this.waveform.getY(e)))}),!0),this.groupMarkers.addEventListener("mouseout",(t=>{var e=parseInt(t.target.parentElement.getAttribute("data-shapeid"));isNaN(e)||(this.options.selectMarkerOnHover&&this.selectMarker(e,"unselected"),this.emit("mouseOutMarker",e,this.waveform.getX(e),this.waveform.getY(e)))}))}extendScatterOptions(t){return t=super.extendOptions(t),r.extend(!0,{},h,t)}init(){}setDataCategory(t){for(let e of t)this._checkY(e.y.getMaxY()),this._checkY(e.y.getMinY());return this.data=t,this.dataHasChanged(),this.graph.updateDataMinMaxAxes(),this}empty(){for(;this.groupMarkers.firstChild;)this.groupMarkers.removeChild(this.groupMarkers.firstChild)}getSymbolForLegend(){if(!this.options.markers)return;const t=super._getSymbolForLegendContainer();var e=this.getMarkerStyle(-1,!0)[-1];if(e&&e.shape){for(var i in this.shapeLegend||(this.shapeLegend=this._makeMarker(t,e),t.appendChild(this.shapeLegend)),e)"shape"!=i&&this.shapeLegend.setAttribute(i,e[i]);return t}}setMarkerStyle(t,e,i="unselected",r="unselected"){"string"==typeof e&&(i=e,e=!1);let s={markers:{all:t,modifiers:e}};return this.setStyle(s,i,r),this.styleHasChanged(i),this}setIndividualStyleNames(t){this.stylesNames=t}draw(t){if(!t&&!this.hasDataChanged()&&!this.hasStyleChanged("unselected")||!this.options.markers)return;let e,i,r,s;if(!this.isCategory&&!this.waveform)return;const n="category"==this.getXAxis().getType(),o=[];if(this.dataHasChanged(!1),this.styleHasChanged(!1),this.groupMain.removeChild(this.groupMarkers),r=0,s=0,this.hasErrors()&&this.errorDrawInit(),n){let t=0;for(;r<this.data.length;r++)if(this.categoryIndices.hasOwnProperty(this.data[r].x)){this.error;for(var a=0,h=this.data[r].y.getLength();a<h;a++)i=this.getY(this.data[r].y.getY(a)),e=this.getX(a/(h-1)*(.8/this.nbCategories)+this.categoryIndices[this.data[r].x]+.1/this.nbCategories),a++,this.shapesDetails[t]=this.shapesDetails[t]||[],this.shapesDetails[t][0]=e,this.shapesDetails[t][1]=i,o.push(t),t++}}else for(;r<this.waveform.getLength();r++)this.waveform.getX(r)<this.getXAxis().getCurrentMin()||this.waveform.getX(r)>this.getXAxis().getCurrentMax()||this.waveform.getY(r)<this.getYAxis().getCurrentMin()||this.waveform.getY(r)>this.getYAxis().getCurrentMax()?this.shapes[r]&&(this.shapes[r].setAttribute("display","none"),this.shapes[r]._hidden=!0):(this.shapes[r]&&this.shapes[r]._hidden&&(this.shapes[r].setAttribute("display","initial"),this.shapes[r]._hidden=!1),e=this.getX(this.waveform.getX(r)),i=this.getY(this.waveform.getY(r)),isNaN(e)||isNaN(i)?this.shapes[r]&&(this.shapes[r].setAttribute("display","none"),this.shapes[r]._hidden=!0):(this.shapes[r]&&this.shapes[r]._hidden&&(this.shapes[r].setAttribute("display","initial"),this.shapes[r]._hidden=!1),this.hasErrors()&&this.errorAddPoint(r,this.waveform.getX(r),this.waveform.getY(r),e,i),this.shapesDetails[r]=this.shapesDetails[r]||[],this.shapesDetails[r][0]=e,this.shapesDetails[r][1]=i,o.push(r)));this.hasErrors()&&this.errorDraw(),this.applyMarkerStyle(o),this.keys=o,this.groupMain.appendChild(this.groupMarkers)}_makeMarker(t,e){var i=document.createElementNS(this.graph.ns,e.shape);return t.appendChild(i),i}getMarkerStyle(t,e){this.computeStyles();const i=this.stylesNames,r="function"==typeof i,s=this.getComputedStyles();var n={};let o;o=Array.isArray(t)?t:[t];let a,h,l=[];for(let t in s)s[t].markers&&("function"==typeof s[t].markers.all?l[t]=s[t].markers.all():l[t]={...s[t].markers.all},s[t].markers.default&&(l[t]={...s[t].markers.default,...l[t]}));for(let t=0,s=o.length;t<s;t++){var u;let s;if(s=i?r?i(this,t):Array.isArray(i)?i[t]:this.getActiveStyleName():this.getActiveStyleName(),!l[s])continue;let p=null===(u=this.getRawStyle(s).markers)||void 0===u?void 0:u.modifiers,d="function"==typeof p;if(h=o[t],a=this.shapes[h],p&&(d||p[h])){let t;if(d){if(t=p.call(this,this.waveform.getX(h),this.waveform.getY(h),h,a,l),!1===t&&(t={},a)){a.setAttribute("display","none");continue}}else p[h]&&(t=p[h]);n[h]={...l[s],...t}}else n[h]=l[s];if(!a){if(!n[h].shape)continue;var c=document.createElementNS(this.graph.ns,"g");c.setAttribute("data-shapeid",h),console.log("make"),this.shapes[h]=this._makeMarker(c,n[h]),this.groupMarkers.appendChild(c),a=this.shapes[h]}e||this.shapesDetails[h][0]!=this.shapesDetails[h][0]||this.shapesDetails[h][1]!=this.shapesDetails[h][1]||a.parentNode.setAttribute("transform",`translate(${this.shapesDetails[h][0]}, ${this.shapesDetails[h][1]})`)}return n}applyMarkerStyle(t,e){var i,r,s=this.getMarkerStyle(t,e);for(i in this.styleAttributes[i]=this.styleAttributes[i]||[],s){if(this.styleAttributes[i])for(r in this.styleAttributes[i])s[i]&&s[i][r]==this.styleAttributes[i][r]||(this.shapes[i].removeAttribute(r),delete this.styleAttributes[i]);for(r in s[i])"shape"!==r&&this.shapes[i]&&(!s[i][r]||this.styleAttributes[i]&&s[i][r]==this.styleAttributes[i][r]||this.shapes[i].setAttribute(r,s[i][r]));this.styleAttributes[i]=s[i]}}unselectMarker(t){this.selectMarker(t,!1)}selectMarker(t,e,i){if(!this.shapesDetails[t][2]||this.shapesDetails[t][2]!=i){if("string"==typeof e&&(i=e,e=void 0),Array.isArray(t))return this.selectMarkers(t);if(this.shapes[t]&&this.shapesDetails[t])if(!this.shapesDetails[t][2]&&!1!==e||!0===e)i=i||"selected",this.shapesDetails[t][2]=i,this.applyMarkerStyle(t,!0);else{this.shapesDetails[t][2];var r=this.getMarkerStyle(t,!0);for(var s in r[t])this.shapes[t].removeAttribute(s);this.shapesDetails[t][2]=!1,this.applyMarkerStyle(t,!0)}}}applyStyle(){this.applyMarkerStyle(this.keys),super.applyStyle()}setMarkers(t=!0){return this.options.markers=t,this}showMarkers(){if(!this.options.markers)return this.options.markers=!0,this.groupMarkers.setAttribute("display","initial"),this.shapeLegend&&this.shapeLegend.setAttribute("display","initial"),this}hideMarkers(){if(this.options.markers)return this.options.markers=!1,this.groupMarkers.setAttribute("display","none"),this.shapeLegend&&this.shapeLegend.setAttribute("display","none"),this}getUsedCategories(){return"object"==typeof this.data[0]?this.data.map((t=>t.x)):[]}getClosestPointToXY(t=this.getXAxis().getMouseVal(),e=this.getYAxis().getMouseVal(),i=0,r=0,s=!1,n=!0){const o=this.getXAxis().getRelVal(i),a=this.getYAxis().getRelVal(r),h=this.waveform.findWithShortestDistance({x:t,y:e,xMax:o,yMax:a,interpolation:!1,scaleX:n?1/this.getXAxis().getRelVal(1):1,scaleY:n?1/this.getYAxis().getRelVal(1):1});return{indexBefore:h,indexAfter:h,xBefore:this.waveform.getX(h),xAfter:this.waveform.getX(h),yBefore:this.waveform.getY(h),yAfter:this.waveform.getX(h),xExact:t,indexClosest:h,interpolatedY:this.waveform.getY(h),xClosest:this.waveform.getX(h),yClosest:this.waveform.getY(h)}}}r.mix(l,s.default);var u=l;e.default=u},7245:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=h(i(1107)),s=h(i(4167)),n=i(2482),o=i(1748);function a(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return a=function(){return t},t}function h(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=a();if(e&&e.has(t))return e.get(t);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){var n=r?Object.getOwnPropertyDescriptor(t,s):null;n&&(n.get||n.set)?Object.defineProperty(i,s,n):i[s]=t[s]}return i.default=t,e&&e.set(t,i),i}function l(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}const u={redrawShapesAfterDraw:!1};class c extends n.EventEmitter{constructor(t,e,i={}){super(),l(this,"options",void 0),l(this,"graph",void 0),l(this,"name",void 0),l(this,"groupMain",void 0),l(this,"symbolLegendContainer",void 0),l(this,"_activeStyleName",void 0),l(this,"_unselectedStyleName",void 0),l(this,"_changedStyles",void 0),l(this,"minX",void 0),l(this,"maxX",void 0),l(this,"minY",void 0),l(this,"maxY",void 0),l(this,"styles",void 0),l(this,"shown",!0),l(this,"selected",!1),l(this,"waveform",void 0),this.options=s.extend(!0,{},i),this.graph=t,this.name=e,this.groupMain=document.createElementNS(r.ns,"g"),this.symbolLegendContainer=document.createElementNS(r.ns,"g"),this.init(),this.styles={}}init(){}extendOptions(t){return s.extend(!0,{},u,t)}postInit(){}draw(t){throw new Error("Method draw must be implemented")}beforeDraw(){}afterDraw(){this.options.redrawShapesAfterDraw&&this.graph.getShapesOfSerie(this).forEach((t=>{t.redraw()})),this.emit("draw")}setData(t){if(t instanceof o.Waveform)return this.setWaveform(t);throw"Setting data other than waveforms in not supported by default. You must implemented this method in the inherited class."}_addData(t,e){return[]}clearData(){return this.setData(new o.Waveform),this}getData(){return this.data}setOptions(t){this.options=t||{}}setOption(t,e){this.options[t]=e}kill(t){return this.graph.removeSerieFromDom(this),this.graph._removeSerie(this),this.graph.legend&&!t&&this.graph.legend.update(),this.graph=void 0,this}hide(t=this.options.bindShapesToDisplayState,e=!1){if(this.hidden=!0,this.groupMain.setAttribute("display","none"),this.getSymbolForLegend().setAttribute("opacity",.5),this.getTextForLegend().setAttribute("opacity",.5),this.hideImpl(),t)for(var i=this.graph.getShapesOfSerie(this),r=0,s=i.length;r<s;r++)i[r].hide();return e||this.emit("hide"),(this.getXAxis().doesHideWhenNoSeriesShown()||this.getYAxis().doesHideWhenNoSeriesShown())&&this.graph.draw(!0),this.graph.hasPlugin("peakPicking")&&this.graph.getPlugin("peakPicking").getSerie()==this&&this.graph.getPlugin("peakPicking").hidePeakPicking(),this}show(t=this.options.bindShapesToDisplayState,e=!1){if(this.hidden=!1,this.groupMain.setAttribute("display","block"),this.getSymbolForLegend().setAttribute("opacity",1),this.getTextForLegend().setAttribute("opacity",1),this.showImpl(),this.draw(!0),t)for(var i=this.graph.getShapesOfSerie(this),r=0,s=i.length;r<s;r++)i[r].show();return e||this.emit("show"),(this.getXAxis().doesHideWhenNoSeriesShown()||this.getYAxis().doesHideWhenNoSeriesShown())&&this.graph.draw(!0),this.graph.hasPlugin("peakPicking")&&this.graph.getPlugin("peakPicking").getSerie()==this&&this.graph.getPlugin("peakPicking").showPeakPicking(),this}hideImpl(){}showImpl(){}toggleDisplay(){return this.isShown()?this.hide():this.show(),this}isShown(){return!this.hidden}axisCheck(){if(!this.getXAxis()||!this.getYAxis())throw"No axis exist for this serie. Check that they were properly assigned";if(isNaN(this.getXAxis().getCurrentMin())||isNaN(this.getXAxis().getCurrentMax())||isNaN(this.getYAxis().getCurrentMin())||isNaN(this.getYAxis().getCurrentMax()))throw"Axis min and max values are not defined. Try autoscaling"}getX(t){return(t=this.getXAxis().getPx(t))-t%.2}getY(t){return(t=this.getYAxis().getPx(t))-t%.2}isSelected(){return"selected"==this._activeStyleName}_checkX(t){this.minX=Math.min(this.minX,t),this.maxX=Math.max(this.maxX,t)}_checkY(t){this.minY=Math.min(this.minY,t),this.maxY=Math.max(this.maxY,t)}getName(){return this.name}autoAxis(){return this.isFlipped()?(this.setXAxis(this.graph.getYAxis()),this.setYAxis(this.graph.getXAxis())):(this.setXAxis(this.graph.getXAxis()),this.setYAxis(this.graph.getYAxis())),this.graph.updateDataMinMaxAxes(!1),this}autoAxes(){return this.autoAxis()}setXAxis(t){return this.xaxis="number"==typeof t?this.isFlipped()?this.graph.getYAxis(t):this.graph.getXAxis(t):t,this.graph.updateDataMinMaxAxes(!1),this}setYAxis(t){return"number"==typeof t?this.xaxis=this.isFlipped()?this.graph.getXAxis(t):this.graph.getYAxis(t):this.yaxis=t,this.graph.updateDataMinMaxAxes(!1),this}setAxes(){for(var t=0;t<2;t++)arguments[t]&&this[arguments[t].isX()?"setXAxis":"setYAxis"](arguments[t]);return this.graph.updateDataMinMaxAxes(!1),this}getXAxis(){return this.xaxis}getYAxis(){return this.yaxis}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getWaveform(){return this.waveform||(this.waveform=r.default.newWaveform()),this.waveform}getWaveforms(){return[this.waveform]}setWaveform(t){if(!(t instanceof o.Waveform))throw console.trace(),console.error(t),new Error("Cannot assign waveform to serie. Waveform is not of the proper Waveform instance");return this.waveform=t,this.dataHasChanged(),this.graph.updateDataMinMaxAxes(!1),this}getSymbolForLegend(){if(!this.lineForLegend){var t=document.createElementNS(this.graph.ns,"line");this.applyLineStyle(t),t.setAttribute("x1","5"),t.setAttribute("x2","25"),t.setAttribute("y1","0"),t.setAttribute("y2","0"),t.setAttribute("cursor","pointer"),this.lineForLegend=t}return this.lineForLegend}_getSymbolForLegendContainer(){return this.symbolLegendContainer}extendStyle(t,e="unselected",i="unselected"){this.styles[e]=this.styles[e]||{base:i,data:{}},s.extend(this.styles[e].data,t)}setStyle(t,e="unselected",i="unselected"){return this.styles[e]={base:i,data:t},this.styleHasChanged(e),this}getStyle(t){return this.styles[t]?this._buildStyle(t):r.default.getStyle(t)}getRawStyles(){return this.styles}getRawStyle(t){return this.styles[t]=this.styles[t]||{data:{}},this.styles[t].data}activateStyle(t){this._activeStyleName=t,this._unselectedStyleName=t,this.computeActiveStyle(),this.styleHasChanged(t)}setActiveStyle(t){return this.activateStyle(t)}getActiveStyle(){return this._activeStyleName}getActiveStyleName(){return this.getActiveStyle()}computeStyles(){for(let t in this.styles)this.computeStyle(t)}computeStyle(t){this.computedStyle=this.computedStyle||{},this.computedStyle[t]=this.getStyle(t)}computeActiveStyle(){this.computedStyle=this.computedStyle||{},this.computedStyle[this.getActiveStyle()]=this.getStyle(this.getActiveStyle())}getComputedStyle(t=this.getActiveStyle()){return this.computedStyle[t]}getComputedStyles(){return this.computedStyle}_buildStyle(t){let e=this.styles[t].base;return e==t&&(e=null),e?s.extend(!0,{},this.getStyle(e),this.styles[t].data):s.extend(!0,{},this.styles[t].data)}setLegendSymbolStyle(){this.applyLineStyle(this.getSymbolForLegend())}updateStyle(){this.setLegendSymbolStyle(),this.graph.updateLegend()}getTextForLegend(){if(!this.textForLegend){var t=document.createElementNS(this.graph.ns,"text");t.setAttribute("cursor","pointer"),t.textContent=this.getLabel(),this.textForLegend=t}return this.textForLegend}getIndex(){return this.graph.series.indexOf(this)}getLabel(){return this.options.label||this.name}setLabel(t){return this.options.label=t,this.textForLegend&&(this.textForLegend.textContent=t),this.graph.requireLegendUpdate(),this}setFlip(t){return this.options.flip=t,this}getFlip(){return this.options.flip}isFlipped(){return this.options.flip}setLayer(t){let e=parseInt(t)||1;return e!==this.options.layer&&(this.options.layer=e,this.graph.appendSerieToDom(this)),this}getLayer(){return this.options.layer||1}styleHasChanged(t="unselected"){if(this._changedStyles=this._changedStyles||{},!1===t)for(var e in this._changedStyles)this._changedStyles[e]=!1;else this._changedStyles[t||"unselected"]=!0;return this.graph.requireLegendUpdate(),this}hasStyleChanged(t="unselected"){let e;for(this._changedStyles=this._changedStyles||{};;){if(this._changedStyles[t])return!0;if(e=this.styles[t],!e||e.base==t)break;t=e.base}return!1}dataHasChanged(t){return this._dataHasChanged=void 0===t||t,this.waveform&&(this.minX=this.waveform.getXMin(),this.maxX=this.waveform.getXMax(),this.minY=this.waveform.getMin(),this.maxY=this.waveform.getMax()),this}hasDataChanged(){return this._dataHasChanged}setInfo(t,e){return this.infos=this.infos||{},this.infos[t]=e,this}getInfo(t,e){return(this.infos||{})[t]}setAdditionalData(t){return this.additionalData=t,this}getAdditionalData(){return this.additionalData}select(t){return"unselected"==t||(this._unselectedStyleName=this._activeStyleName,this._activeStyleName="selected",this.selected=!0,this.applyStyle()),this}unselect(){return this.selected=!1,this.activateStyle(this._unselectedStyleName),this.applyStyle(),this}applyStyle(){}enableTracking(t,e){return this._tracker=!0,this}disableTracking(){return this._trackerDom&&(this._trackerDom.remove(),this._trackerDom=null),this._tracker=!1,this}allowTrackingLine(t){t=t||{},this.graph.addSerieToTrackingLine(this,t)}getMarkerForLegend(){return!1}get type(){return this._type}getType(){return this._type}excludeFromLegend(){return this._excludedFromLegend=!0,this}includeInLegend(){return this._excludedFromLegend=!1,this}setDataIndices(t,e){this.categoryIndices=t,this.nbCategories=e}hasErrors(){return!!this.waveform&&this.waveform.hasErrorBars()}}var p=c;e.default=p},7328:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a(i(6190)),s=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=o();if(e&&e.has(t))return e.get(t);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){var n=r?Object.getOwnPropertyDescriptor(t,s):null;n&&(n.get||n.set)?Object.defineProperty(i,s,n):i[s]=t[s]}return i.default=t,e&&e.set(t,i),i}(i(4167)),n=a(i(6244));function o(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return o=function(){return t},t}function a(t){return t&&t.__esModule?t:{default:t}}class h extends n.default{static default(){return{zpos:0}}constructor(t,e,i){super(...arguments)}setZPos(t){return this.options.zpos=t,this}setz(){return this.setZPos(...arguments)}}s.mix(h,r.default);var l=h;e.default=l},6244:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,s=i(1748),n=i(4167),o=(r=i(7245))&&r.__esModule?r:{default:r};class a extends o.default{static default(){return{fillColor:"rgba( 0, 0, 0, 0.1 )",lineColor:"rgba( 0, 0, 0, 1 )",lineWidth:"1px"}}constructor(t,e,i){super(...arguments),this.selectionType="unselected",this.id=(0,n.guid)(),this.groupZones=document.createElementNS(this.graph.ns,"g"),this.lineZone=document.createElementNS(this.graph.ns,"path"),this.lineZone.setAttribute("stroke","black"),this.lineZone.setAttribute("stroke-width","1px"),this.groupMain.appendChild(this.groupZones),this.groupZones.appendChild(this.lineZone),this.applyLineStyle(this.lineZone),this.styleHasChanged(),this.clip=document.createElementNS(this.graph.ns,"clipPath"),this.clipId=(0,n.guid)(),this.clip.setAttribute("id",this.clipId),this.graph.defs.appendChild(this.clip)}setWaveform(...t){return this.waveforms=t,this.waveforms=this.waveforms.map((t=>t instanceof s.Waveform?t:new s.Waveform(t))),this.minX=this.waveforms[0].getXMin(),this.maxX=this.waveforms[0].getXMax(),this.minY=this.waveforms[0].getMin(),this.maxY=this.waveforms[0].getMax(),this.waveforms.map((t=>{this.minX=Math.min(t.getXMin(),this.minX),this.maxX=Math.max(t.getXMin(),this.maxX),this.minY=Math.min(t.getMin(),this.minY),this.maxY=Math.max(t.getMax(),this.maxY)})),this.graph.updateDataMinMaxAxes(),this.dataHasChanged(),this}setWaveforms(){return this.setWaveform(...arguments)}getWaveforms(){return this.waveforms}setMinMaxWaveforms(t,e){return this.waveforms=[t,e.reverse()],this}empty(){for(;this.group.firstChild;)this.group.removeChild(this.group.firstChild)}draw(t){if(t||this.hasDataChanged()){if(!this.waveforms)return;let t,e=0,i=0,r=0,s=0,n=0,o="",a=!1;this.getXAxis().getMinPx(),this.getXAxis().getMaxPx(),this.getYAxis().getMinPx(),this.getYAxis().getMaxPx();const h=this.getXAxis().getCurrentMin(),l=this.getXAxis().getCurrentMax(),u=this.getYAxis().getCurrentMin(),c=this.getYAxis().getCurrentMax();this.groupMain.removeChild(this.groupZones);for(let p of this.waveforms)for(n=0;n<p.getLength();n+=1)if(e=p.getX(n,!0),i=p.getY(n,!0),i[n]<u?s=this.getY(u):i[n]>c&&(s=this.getY(c)),e==e)if(i==i)s=this.getY(i),r=this.getX(e),e<h||e>l?t=[e,i[n],r,s]:(a&&(o+=` M ${r}, ${this.getY(p.getMinY())} `,a=!1),o.length>0&&(o+=" L "),t?(o+=`${t[2]},${t[3]} `,t=!1):o+=`${r},${s} `);else{if(0==o.length)continue;o+=`L ${r}, ${this.getY(p.getMinY())}`,a=!0}""!==o?this.lineZone.setAttribute("d",`M ${o} z`):this.lineZone.setAttribute("d",""),this.groupMain.appendChild(this.groupZones)}this.hasStyleChanged(this.selectionType)&&(this.applyLineStyle(this.lineZone),this.styleHasChanged(!1))}applyLineStyle(t){t.setAttribute("stroke",this.getLineColor()),t.setAttribute("stroke-width",this.getLineWidth()),t.setAttribute("fill",this.getFillColor()),t.setAttribute("fill-opacity",this.getFillOpacity()),t.setAttribute("stroke-opacity",this.getLineOpacity())}setLineWidth(t){return this.options.lineWidth=t,this.styleHasChanged(),this}getLineWidth(){return this.options.lineWidth}setLineOpacity(t){return this.options.lineOpacity=t,this.styleHasChanged(),this}getLineOpacity(){return this.options.lineOpacity}setLineColor(t){return this.options.lineColor=t,this.styleHasChanged(),this}getLineColor(){return this.options.lineColor}setFillOpacity(t){return this.options.fillOpacity=t,this.styleHasChanged(),this}getFillOpacity(){return this.options.fillOpacity}setFillColor(t){return this.options.fillColor=t,this.styleHasChanged(),this}getFillColor(){return this.options.fillColor}}var h=a;e.default=h},5737:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,s=(r=i(6141))&&r.__esModule?r:{default:r};class n extends s.default{createDom(){this._dom=document.createElementNS(this.graph.ns,"path")}createHandles(){this._createHandles(2,"line",{"stroke-width":"3",stroke:"transparent","pointer-events":"stroke",cursor:"ew-resize"})}handleMouseMoveImpl(t,e,i){if(!this.isLocked()){if(this.moving)this.getPosition(0).deltaPosition("x",e,this.getXAxis()),this.getPosition(1).deltaPosition("x",e,this.getXAxis());else if(this.serie&&this.handleSelected){this.resizingPosition=1==this.handleSelected?this.getPosition(0):this.getPosition(1);var r=this.serie.getClosestPointToXY(this.getXAxis().getVal(this.graph._getXY(t).x-this.graph.getPaddingLeft()));if(!r)return;this.resizingPosition.x!=r.xMin&&(this.preventUnselect=!0),this.resizingPosition.x=r.xMin}else this.handleSelected&&(this.resizingPosition=1==this.handleSelected?this.getPosition(0):this.getPosition(1),this.resizingPosition.deltaPosition("x",e,this.getXAxis()));this.applyPosition()}}applyPosition(){if(this.serie){var t=this.computePosition(0),e=this.computePosition(1),i=Math.abs(t.x-e.x),r=Math.min(t.x,e.x);if(i<2||r+i<0||r>this.graph.getDrawingWidth())return this.setDom("d",""),!1;var s,n,o,a,h,l,u,c=this.serie.getClosestPointToXY(this.getPosition(0).x),p=this.serie.getClosestPointToXY(this.getPosition(1).x),d=0,g=Number.MAX_VALUE;if(!c||!p)return!1;for(c.xBeforeIndex>p.xBeforeIndex&&(s=c,c=p,p=s),this.counter=0,n=c.dataIndex;n<=p.dataIndex;n++){for(this.currentLine="",l=0,(a=n==c.dataIndex?c.xBeforeIndexArr:0)==(h=n==p.dataIndex?p.xBeforeIndexArr:this.serie.data[n].length)&&h++,o=a;o<=h;o+=2)r=this.serie.getX(this.serie.data[n][o+0]),u=this.serie.getY(this.serie.data[n][o+1]),d=Math.max(this.serie.data[n][o+1],d),g=Math.min(this.serie.data[n][o+1],g),o==a&&(this.firstX=r,this.firstY=u),this.currentLine+=l>0?` L ${r} ${u} `:` M ${r} ${u} `,l++;if(this.lastX=r,this.lastY=u,!(this.firstX&&this.firstY&&this.lastX&&this.lastY))return;this.currentLine+=` V ${this.getYAxis().getPx(0)} H ${this.firstX} z`,this.setDom("d",this.currentLine)}return this.maxY=this.serie.getY(d),this.setHandles(),this.changed(),!0}}setHandles(){if(this.firstX){var t=this.computePosition(0),e=this.computePosition(1);t.x<e.x?(this.handles[1].setAttribute("x1",this.firstX),this.handles[1].setAttribute("x2",this.firstX),this.handles[2].setAttribute("x1",this.lastX),this.handles[2].setAttribute("x2",this.lastX)):(this.handles[1].setAttribute("x1",this.lastX),this.handles[1].setAttribute("x2",this.lastX),this.handles[2].setAttribute("x1",this.firstX),this.handles[2].setAttribute("x2",this.firstX)),this.handles[1].setAttribute("y1",this.getYAxis().getMaxPx()),this.handles[1].setAttribute("y2",this.serie.getY(0)),this.handles[2].setAttribute("y1",this.getYAxis().getMaxPx()),this.handles[2].setAttribute("y2",this.serie.getY(0))}}}var o=n;e.default=o},5642:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,s=(r=i(6025))&&r.__esModule?r:{default:r};class n extends s.default{constructor(t){super(t)}createDom(){this._dom=document.createElementNS(this.graph.ns,"line"),this._dom.setAttribute("marker-end",`url(#arrow${this.graph._creation})`),this.createHandles(this.nbHandles,"rect",{transform:"translate(-3 -3)",width:6,height:6,stroke:"black",fill:"white",cursor:"nwse-resize"}),this.setStrokeColor("black"),this.setStrokeWidth(1)}}var o=n;e.default=o},2941:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,s=(r=i(6141))&&r.__esModule?r:{default:r};class n extends s.default{constructor(t,e){super(t,e),this.nbHandles=1}get width(){return this.options.width||10}set width(t){this.options.width=t}createDom(){this._dom=document.createElementNS(this.graph.ns,"path"),this._dom.setAttribute("d",`M -${this.width/2} 0 h ${this.width} m -${this.width/2} -${this.width/2} v ${this.width}`)}createHandles(){this._createHandles(this.nbHandles,"rect",{transform:"translate(-3 -3)",width:6,height:6,stroke:"black",fill:"white",cursor:"nwse-resize"})}applyPosition(){var t=this.calculatePosition(0);if(t&&t.x&&t.y)return this.setDom("transform",`translate( ${t.x}, ${t.y})`),this.currentPos1x=t.x,this.currentPos1y=t.y,!0}redrawImpl(){this.setHandles()}handleCreateImpl(){}handleMouseDownImpl(t){return this.moving=!0,!0}handleMouseUpImpl(){return this.triggerChange(),!0}handleMouseMoveImpl(t,e,i,r,s){if(!this.isLocked()){var n=this.getFromData("pos");return this.moving&&(n.x=this.graph.deltaPosition(n.x,e,this.getXAxis()),n.y=this.graph.deltaPosition(n.y,i,this.getYAxis())),this.redrawImpl(),!0}}setHandles(){this.areHandlesInDom()&&(isNaN(this.currentPos1x)||(this.handles[1].setAttribute("x",this.currentPos1x),this.handles[1].setAttribute("y",this.currentPos1y)))}selectStyle(){this.setDom("stroke","red"),this.setDom("stroke-width","2")}}var o=n;e.default=o},5731:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,function(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=n();if(e&&e.has(t))return e.get(t);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){var o=r?Object.getOwnPropertyDescriptor(t,s):null;o&&(o.get||o.set)?Object.defineProperty(i,s,o):i[s]=t[s]}i.default=t,e&&e.set(t,i)}(i(4167));var r,s=(r=i(6141))&&r.__esModule?r:{default:r};function n(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return n=function(){return t},t}class o extends s.default{constructor(t,e){super(t,e)}createDom(){this._dom=document.createElementNS(this.graph.ns,"ellipse")}applyPosition(){var t=this.computePosition(0);if(!t)return;this.setDom("cx",t.x||0),this.setDom("cy",t.y||0);let e=this.graph.newPosition({dx:this.getProp("rx"),dy:this.getProp("ry")||this.getProp("rx")}),i=this.calculatePosition(e);return this.setDom("rx",Math.abs(i.x)||0),this.setDom("ry",Math.abs(i.y)||0),!0}setR(t,e){return this.setProp("rx",t),this.setProp("ry",e),this}handleMouseUpImpl(){this.triggerChange()}handleMouseMoveImpl(t,e,i,r,s){}}var a=o;e.default=a},3172:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,s=i(4167),n=(r=i(6141))&&r.__esModule?r:{default:r};class o extends n.default{constructor(t,e){super(t,e)}createDom(){this._dom=document.createElement("div"),this._dom.setAttribute("style","position: absolute");let t=document.createElement("div");this._dom.appendChild(t),this.div=t}createHandles(){}setHeight(t){this.setProp("height",t)}setWidth(t){this.setProp("width",t)}setContent(t){this.setProp("content",t)}setRenderer(t){this._renderer=t}redraw(){this._renderer?this._renderer(this.div):this.div.innerHTML=this.getProp("content"),super.redraw(...arguments)}applyPosition(){var t=this.calculatePosition(0);if(t&&(0,s.isNumeric)(t.x)&&(0,s.isNumeric)(t.y))return this._dom.style.left=`${t.x}px`,this._dom.style.top=`${t.y}px`,this.currentPosX=t.x,this.currentPosY=t.y,!0}handleMouseMoveImpl(t,e,i,r,s){return!0}setHandles(){}isHTML(){return!0}}var a=o;e.default=a},6141:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a(i(8697)),s=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=o();if(e&&e.has(t))return e.get(t);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){var n=r?Object.getOwnPropertyDescriptor(t,s):null;n&&(n.get||n.set)?Object.defineProperty(i,s,n):i[s]=t[s]}return i.default=t,e&&e.set(t,i),i}(i(4167)),n=a(i(5452));function o(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return o=function(){return t},t}function a(t){return t&&t.__esModule?t:{default:t}}class h{constructor(){}init(t,e,i=!1){var r=this;if(this.graph=t,this.properties=e||{},this.handles=[],this.options=this.options||{},i||(this.group=document.createElementNS(this.graph.ns,"g"),this.getProp("noClip")||this.group.setAttribute("clip-path",`url(#_clipplot${t._creation})`),this.group.jsGraphIsShape=this),this.simplified=i,this._selected=!1,this.createDom(),this._dom&&(this._dom.jsGraphIsShape=this),this.classes=[],this.transforms=[],this._data.masker){var s=document.createElementNS(this.graph.ns,"mask");this.maskingId=Math.random(),s.setAttribute("id",this.maskingId),this.maskDomWrapper=document.createElementNS(this.graph.ns,"rect"),this.maskDomWrapper.setAttribute("fill","white"),s.appendChild(this.maskDomWrapper);var n=this._dom.cloneNode();s.appendChild(n),this.maskDom=n,this.graph.defs.appendChild(s)}let o;return this.group&&this._dom&&!this.isHTML()&&this.group.appendChild(this._dom),o=i?this._dom:this.group,o.addEventListener("mouseover",(function(t){r.handleMouseOver(t)})),o.addEventListener("mouseout",(function(t){r.handleMouseOut(t)})),o.addEventListener("mousedown",(function(t){r.graph.focus(),r.handleMouseDown(t)})),o.addEventListener("click",this.handleClick.bind(this)),o.addEventListener("dblclick",(function(t){r.handleDblClick(t)})),this.initImpl(),this.graph.emit("shapeNew",this),this}initImpl(){}getData(){return this._data}getType(){return this.type}kill(t){this._inDom&&!t&&this.graph.removeShapeFromDom(this),t||this.graph._removeShape(this),this.graph.stopElementMoving(this),this.graph.emit("shapeRemoved",this),this.emit("removed",this),this._inDom=!1}hide(){return this.hidden||(this.hidden=!0,this.isHTML()||this.simplified?this._dom.style.display="none":this.group.style.display="none"),this}isHidden(){return this.hidden}isVisible(){return!this.hidden}show(){return this.hidden?(this.hidden=!1,this.isHTML()?this._dom.style.display="initial":this.group.style.display="initial",this.redraw(),this):this}addClass(t){return this.classes=this.classes||[],-1==this.classes.indexOf(t)&&this.classes.push(t),this.makeClasses(),this}removeClass(t){return this.classes.splice(this.classes.indexOf(t),1),this.makeClasses(),this}makeClasses(){return this._dom&&this._dom.setAttribute("class",this.classes.join(" ")),this}changed(t,e){return t&&(this.graph.emit(t,this,e),this.emit(t,this,e)),this.emit("changed",this,e),this.graph.emit("shapeChanged",this,e),this}setEventReceptacle(){if(!simplified){this.rectEvent||(this.rectEvent=document.createElementNS(this.graph.ns,"rect"),this.rectEvent.setAttribute("pointer-events","fill"),this.rectEvent.setAttribute("fill","transparent"),this.group.appendChild(this.rectEvent),this.rectEvent.jsGraphIsShape=this);var t=this.group.getBBox();this.rectEvent.setAttribute("x",t.x),this.rectEvent.setAttribute("y",t.y-10),this.rectEvent.setAttribute("width",t.width),this.rectEvent.setAttribute("height",t.height+20)}}setSerie(t){if(t){if(this.serie=t,!t.getXAxis||!t.getYAxis)throw console.error(t),"Serie does not implement the getXAxis or getYAxis method";return this.xAxis=t.getXAxis(),this.yAxis=t.getYAxis(),this}}getSerie(){return this.serie}autoAxes(){return this.xAxis||(this.xAxis=this.graph.getXAxis()),this.yAxis||(this.yAxis=this.graph.getYAxis()),this}setXAxis(t){return this.xAxis=t,this}setYAxis(t){this.yAxis=t}getXAxis(){return this.xAxis||this.autoAxes(),this.xAxis}getYAxis(){return this.yAxis||this.autoAxes(),this.yAxis}setLayer(t){return this.setProp("layer",t),this}getLayer(){var t=this.getProp("layer");return void 0!==t?t:1}draw(t,e){return this._inDom&&!t||(this.appendToDom(),this._inDom=!0),this.makeLabels(),e||this.redraw(),this.applyStyle(),this}redraw(){return this.hidden?this:(this.position=this.applyPosition(),this.redrawImpl(),this.position?(this.updateLabels(),this._applyTransforms(),this):(this.updateLabels(),this))}redrawImpl(){}setProperties(t){this.properties=t,Array.isArray(this.properties.position)||(this.properties.position=[this.properties.position]);for(var e=this,i=0,s=this.properties.position.length;i<s;i++){var n=r.default.check(this.properties.position[i],(function(t){return e.getRelativePosition(t)}));this.properties.position[i]=n}return this.emit("propertiesChanged"),this}getRelativePosition(t){var e;return null!==(e=/position([0-9]*)/.exec(t))?this.getPosition(e[1]):null!==(e=/labelPosition([0-9]*)/.exec(t))?this.getLabelPosition(e[1]):void 0}getProperties(t){return this.properties}setProp(t,e,i){return this.properties=this.properties||{},void 0!==i?(this.properties[t]=this.properties[t]||[],this.properties[t][i||0]=e):this.properties[t]=e,this.emit("propertyChanged",t),this}getProp(t,e){return null==e?this.properties[t]:(this.properties[t]||[])[e||0]}getProps(t,e){return this.properties[t]||[]}addProp(t,e){this.properties[t]=this.properties[t]||[],this.properties[t].push(e)}resetProp(t){this.properties[t]=[]}setDom(t,e,i){this._cachedDOM=this._cachedDOM||{},this._cachedDOM[t]!=e&&this._dom&&(i&&s.hasSavedAttribute(this._dom,t)||(this._dom.setAttribute(t,e),this._cachedDOM[t]=e))}setDomGroup(t,e){this.simplified?this._dom.setAttribute(t,e):this.group&&this.group.setAttribute(t,e)}setStrokeColor(t){return this.setProp("strokeColor",t),this.overwriteSavedProp("stroke",t),this.applySelectedStyle(),this}getStrokeColor(){return this.getProp("strokeColor")}setFillColor(t){return this.setProp("fillColor",t),this.overwriteSavedProp("fill",t),this.applySelectedStyle(),this}getFillColor(){return this.getProp("fillColor")}setFillOpacity(t){return this.setProp("fillOpacity",t),this.overwriteSavedProp("fill-opacity",t),this.applySelectedStyle(),this}setStrokeWidth(t){return this.setProp("strokeWidth",t),this.overwriteSavedProp("stroke-width",t),this.applySelectedStyle(),this}getStrokeWidth(){return this.getProp("strokeWidth")}setStrokeDasharray(t){return this.setProp("strokeDasharray",t),this.overwriteSavedProp("stroke-dasharray",t),this.applySelectedStyle(),this}setAttributes(t){return this.setProp("attributes",t),this}overwriteSavedProp(t,e){s.overwriteDomAttribute(this._dom,t,e)}addAttribute(t,e){var i={};return i[t]=e,this.addProp("attributes",i),this}addTransform(t,e){return this.addProp("transforms",{type:t,arguments:Array.isArray(e)?e:[e]}),this}addTransformRotate(t,e,i,r="degrees"){return this.addProp("transforms",{type:"rotate",arguments:{center:{x:e,y:i},angle:t,angleType:r}}),this}resetTransforms(){return this.resetProp("transforms"),this}setLabelText(t,e=0){return this.setProp("labelText",t,e),this}setLabelData(t,e,i=0){return this.setProp("labelData",e,i),this}getLabelText(t,e=0){return this.getProp("labelText",e)}displayLabel(t=0){return this.setProp("labelVisible",!0,t),this}hideLabel(t=0){return this.setProp("labelVisible",!1,t),this}setLabelColor(t,e=0){return this.setProp("labelColor",t,e),this}setLabelFontSize(t,e=0){return this.setProp("labelFontSize",t,e),this}getLabelPosition(t=0){return this.getProp("labelPosition",t)}setLabelPosition(t,e){var i=r.default.check(t,(function(t){return(void 0).getRelativePosition(t)}));return this.setProp("labelPosition",i,e||0),this}setLabelAngle(t,e){return this.setProp("labelAngle",t,e||0),this}setLabelBaseline(t,e){return this.setProp("labelBaseline",t,e||0),this}setLabelAnchor(t,e){return this.setProp("labelAnchor",t,e||0),this}setLabelSize(t,e){return this.setProp("labelSize",t,e||0),this}setLabelStrokeColor(t,e){return this.setProp("labelStrokeColor",t,e||0),this}setLabelStrokeWidth(t,e){return this.setProp("labelStrokeWidth",t,e||0),this}setLabelBackgroundColor(t,e){return this.setProp("labelBackgroundColor",t,e||0),this}setLabelBackgroundOpacity(t,e){return this.setProp("labelBackgroundOpacity",t,e||0),this}applyGenericStyle(){this.setDom("fill",this.getProp("fillColor"),!0),this.setDom("fill-opacity",this.getProp("fillOpacity"),!0),this.setDom("stroke",this.getProp("strokeColor"),!0),this.setDom("stroke-width",this.getProp("strokeWidth"),!0),this.setDom("stroke-dasharray",this.getProp("strokeDasharray"),!0);for(var t=this.getProps("attributes"),e=0,i=t.length;e<i;e++)for(var r in t[e])this.setDom(r,"function"==typeof t[e][r]?t[e][r].call(this,r):t[e][r],!0);return this._applyTransforms(),this}applyStyle(){return this.applyGenericStyle()}calculatePosition(t){var e;if(e=t instanceof r.default?t:this.getPosition(t))return e&&e.compute?e.compute(this.graph,this.getXAxis(),this.getYAxis(),this.getSerie()):void this.graph.throw()}getPosition(t){var e=this.getProp("position",t||0);if(null!=e)return this.setProp("position",e=r.default.check(e),t),e}setPosition(t,e){var i=this,s=r.default.check(t,(function(t){return i.getRelativePosition(t)}));return this.setProp("position",s,e||0)}sortPositions(t){return this.getProps("position").sort(t),this}_applyTransforms(){var t=this.getProps("transforms"),e="";if(t&&0!=(t=Array.isArray(t)?t:[t]).length){for(var i=0;i<t.length;i++){let n;switch(e+=`${t[i].type}(`,t[i].type){case"translate":n=t[i].arguments?t[i].arguments[0].compute(this.graph,this.getXAxis(),this.getYAxis(),this.getSerie()):r.default.check(t[i].value).compute(this.graph,this.getXAxis(),this.getYAxis(),this.getSerie()),e+=n.x||n.dx||0,e+=", ",e+=n.y||n.dy||0;break;case"rotate":let o;if(t[i].arguments)e+=t[i].arguments[0],e+=", ",1==t[i].arguments.length?e+=`${(s=this.computePosition(0)).x}, ${s.y}`:(e+=r.default.getDeltaPx(t[i].arguments[1],this.getXAxis()).replace("px",""),e+=", ",e+=r.default.getDeltaPx(t[i].arguments[2],this.getYAxis()).replace("px",""));else{if("angleData"==t[i].angleType){let e,r;this.serie?(e=this.serie.getXAxis(),r=this.serie.getYAxis()):(e=this.graph.getXAxis(),r=this.graph.getYAxis()),o=180*Math.atan(Math.tan(t[i].angle*Math.PI/180)*e.getRelVal(1)/r.getRelVal(1))/Math.PI}else o=t[i].angle;if(e+=o,t[i].center){const s=r.default.check(t[i].center).compute(this.graph,this.getXAxis(),this.getYAxis(),this.getSerie());s.x==s.x&&s.y==s.y&&(e+=", ",e+=s.x,e+=", ",e+=s.y)}else{var s;e+=`, ${(s=this.computePosition(0)).x}, ${s.y}`}}}e+=") "}return this.setDomGroup("transform",e),this}}makeLabels(){if(!this.simplified){this._labels=this._labels||[],this._labelsBackground=this._labelsBackground||[],this._labels.map((t=>{this.group.removeChild(t)})),this._labelsBackground.map((t=>{this.group.removeChild(t)})),this._labels=[],this._labelsBackground[t]=[];for(var t=0;void 0!==this.getProp("labelText",t);)this._labels[t]||(this._labels[t]=document.createElementNS(this.graph.ns,"text"),this._labels[t].setAttribute("data-label-i",t),this._labels[t].jsGraphIsShape=this,this._labelsBackground[t]=document.createElementNS(this.graph.ns,"rect"),this._labelsBackground[t].setAttribute("data-label-i",t),this._labelsBackground[t].jsGraphIsShape=this,this.group.appendChild(this._labelsBackground[t]),this.group.appendChild(this._labels[t]),this._labels[t].addEventListener("dblclick",(t=>{t.stopPropagation(),this.labelDblClickListener(t)})),this._labelsBackground[t].addEventListener("dblclick",(t=>{t.stopPropagation(),this.labelDblClickListener(t)}))),Array.isArray(this.getProp("labelText",t)),t++;return this.updateLabels(),console.log(this._labels),this}}isLabelEditable(t){return this.getProp("labelEditable",t||0)}updateLabels(){this._labels=this._labels||[];for(var t=0,e=this._labels.length;t<e;t++)this._applyLabelData(t)}_applyLabelData(t){if(t=t||0,!1===this.getProp("labelVisible",t))return this._labels[t].setAttribute("display","none"),void this._labelsBackground[t].setAttribute("display","none");this._labels[t].setAttribute("display","initial"),this._labelsBackground[t].setAttribute("display","initial");var e=this.calculatePosition(r.default.check(this.getProp("labelPosition",t)));if(!e||isNaN(e.x)||isNaN(e.y)||!1===e.y||!1===e.x)return;"NaNpx"==e.x||isNaN(e.x)||"NaN"===e.x||!1===e.x||(this._labels[t].setAttribute("x",e.x),this._labels[t].setAttribute("y",e.y));var i=this.getProp("labelAngle",t)||0;if(0!=i){var s=this._labels[t].getAttribute("x"),n=this._labels[t].getAttribute("y");this._labels[t].setAttribute("transform",`rotate(${i} ${s} ${n})`)}let o=this.getProp("labelHTMLData",t)||{};for(var a in o)this._labels[t].setAttribute(a,o[a]),this._labelsBackground[t].setAttribute(a,o[a]);this._labels[t].setAttribute("dominant-baseline",this.getProp("labelBaseline",t)||"no-change"),this._labels[t].textContent=this.getProp("labelText",t),this._labels[t].setAttribute("fill",this.getProp("labelColor",t)||"black"),this.getProp("labelSize",t)&&this._labels[t].setAttribute("font-size",`${this.getProp("labelSize",t)||12}px`),this._labels[t].setAttribute("text-anchor",this._getLabelAnchor(t)),this._labels[t].setAttribute("stroke",this.getProp("labelStrokeColor",t)||"black"),this._labels[t].setAttribute("stroke-width",this.getProp("labelStrokeWidth",t)||"0px"),this._labels[t].setAttribute("stroke-location","outside");let h=this._labels[t].getBBox();return this._labelsBackground[t].setAttribute("x",h.x),this._labelsBackground[t].setAttribute("y",h.y),this._labelsBackground[t].setAttribute("width",h.width),this._labelsBackground[t].setAttribute("height",h.height),this._labelsBackground[t].setAttribute("fill",this.getProp("labelBackgroundColor")||"transparent"),this._labelsBackground[t].setAttribute("fill-opacity",this.getProp("labelBackgroundOpacity")||1),this}emptyLabels(){for(var t=0,e=this._labels.length;t<e;t++)this._labels[t].textContent="";return this}_getLabelAnchor(t){var e=this.getProp("labelAnchor",t);switch(e){case"middle":case"start":case"end":return e;case"right":return"end";default:return"start"}}isSelected(){return this._selectStatus||!1}hasHandles(t){return void 0!==t&&this.setProp("handles",t),!!this.getProp("handles")||!!this.getProp("staticHandles")}addHandles(){if(!this.simplified&&!this.isLocked()){if(!this.handlesInDom){this.handlesInDom=!0;for(var t=1;t<this.handles.length;t++)this.handles[t]&&this.group.appendChild(this.handles[t])}return this}}removeHandles(){this.hideHandles(),this.handles=[]}hideHandles(){if(!this.handlesInDom)return this;if(!this.simplified){for(var t=1;t<this.handles.length;t++)this.group.removeChild(this.handles[t]);return this.handlesInDom=!1,this}}areHandlesInDom(){return this.handlesInDom}_select(t){if(!this.isSelectable())return!1;this.appendToDom(),this._selectStatus=!0,this.applySelectedStyle(),this.hasHandles()&&!this.hasStaticHandles()&&(this.addHandles(),this.setHandles()),t||this.graph.emit("shapeSelected",this)}applySelectedStyle(){if(this._selectStatus){var t=this.getSelectStyle(),e={};for(var i in t)"function"==typeof t[i]?e[i]=t[i].call(this):e[i]=t[i];s.saveDomAttributes(this._dom,e,"select")}}_unselect(t){this._selectStatus=!1,s.restoreDomAttributes(this._dom,"select"),this.hasHandles()&&!this.hasStaticHandles()&&this.hideHandles(),t||this.graph.emit("shapeUnselected",this)}getSelectStyle(){return this.selectStyle}setSelectStyle(t){return this.selectStyle=t,this.applySelectedStyle(),this}setStaticHandles(t){this.setProp("staticHandles",t)}hasStaticHandles(t){return!!this.getProp("staticHandles")}_createHandles(t,e,i,r){if(!(this.handles&&this.handles.length>0)){for(var s=1,n=t;s<=n;s++)(t=>{var s=this,n=document.createElementNS(s.graph.ns,e);if(n.jsGraphIsShape=!0,i)for(var o in i)n.setAttribute(o,i[o]);n.addEventListener("mousedown",(e=>{s.isResizable()&&(e.preventDefault(),e.stopPropagation(),s.graph.emit("beforeShapeResize",s),this.emit("beforeShapeResize"),s.graph.prevent(!1)||(s.resizing=!0,s.handleSelected=t,s.handleMouseDown(e)))})),r&&r(s.handles[t]),s.handles[t]=n}).call(this,s);return this.handles}}createHandles(){this.hasStaticHandles()&&(this.addHandles(),this.setHandles())}handleMouseDownImpl(){}handleMouseMoveImpl(){}handleMouseUpImpl(){}handleCreateImpl(){}handleMouseDown(t){if(!this.isLocked())return(this.isMovable()||this.isResizable())&&this.graph.elementMoving(this),this.getProp("selectOnMouseDown")&&this.graph.selectShape(this),this.isMovable()&&(this.resizing||(this.graph.emit("beforeShapeMove",self),this.graph.prevent(!1)||(this.moving=!0,this.moved=!1))),this._mouseCoords=this.graph._getXY(t),this.handleMouseDownImpl(t,this._mouseCoords)}handleClick(t){if(this.graph.emit("shapeClicked",this),this.emit("shapeClicked"),!this.isSelectable())return!1;t.shiftKey||this.graph.unselectShapes(),this.getProp("selectOnClick")&&this.graph.selectShape(this)}handleMouseMove(t){if(!this.resizing&&!this.moving||this.isSelected()||this.graph.selectShape(this),this.graph.emit("beforeShapeMouseMove",this),this.emit("beforeShapeMouseMove"),this.graph.prevent(!1)||!this._mouseCoords)return!1;this.moved=!0;var e=this.graph._getXY(t),i=this.getXAxis().getRelVal(e.x-this._mouseCoords.x),r=this.getYAxis().getRelVal(e.y-this._mouseCoords.y);return 0==i&&0===r||(this.preventUnselect=!0),this._mouseCoords=e,this.handleMouseMoveImpl(t,i,r,e.x-this._mouseCoords.x,e.y-this._mouseCoords.y)}handleMouseUp(t){return this.moving&&this.moved&&(this.graph.emit("shapeMoved",this),this.emit("shapeMoved")),(this.handleSelected||this.resize)&&(this.graph.emit("shapeResized",this),this.emit("shapeResized")),this.moving=!1,this.resizing=!1,this.handleSelected=!1,this.graph.elementMoving(!1),this.handleMouseUpImpl(t)}handleDblClick(t){}handleMouseOver(){this.getProp("highlightOnMouseOver")&&(this.moving||this.resizing||this.highlight()),this.graph.emit("shapeMouseOver",this)}handleMouseOut(){this.getProp("highlightOnMouseOver")&&this.unHighlight(),this.graph.emit("shapeMouseOut",this)}lock(){return this.setProp("locked",!0),this}unlock(){return this.setProp("locked",!1),this}isLocked(){return this.getProp("locked")||this.graph.shapesLocked}movable(t){this.setProp("movable",!0)}unmovable(){return this.setProp("movable",!1),!1}isMovable(){return this.getProp("movable")}resizable(){this.setProp("resizable",!0)}unresizable(){this.setProp("resizable",!1)}isResizable(){return this.getProp("resizable")}selectable(){this.setProp("selectable",!0)}unselectable(){this.graph.unselectShape(this),this.setProp("selectable",!1)}isSelectable(){return this.getProp("selectable")}highlight(t,e){return t||(t=this.getHighlightAttributes()),e||(e="highlight"),s.saveDomAttributes(this._dom,t,e),this.highlightImpl(),this}unHighlight(t){return t||(t="highlight"),s.restoreDomAttributes(this._dom,t),this.unHighlightImpl(),this}highlightImpl(){}unHighlightImpl(){}getHighlightAttributes(){return this._highlightAttributes}setHighlightAttributes(t){return this._highlightAttributes=t,this}getMaskingID(){return this.maskingId}maskWith(t){const e=t.getMaskingID();e?this._dom.setAttribute("mask",`url(#${e})`):this._dom.removeAttribute("mask")}updateMask(){}labelDblClickListener(t){var e=parseInt(t.target.getAttribute("data-label-i")),i=this;if(isNaN(e))return;if(!this.isLabelEditable(e))return;t.preventDefault(),t.stopPropagation();var r=document.createElement("input");r.setAttribute("type","text"),r.setAttribute("value",i.getProp("labelText",e)),i.graph.wrapper.prepend(r),r.select(),s.setCSS(r,{position:"absolute",marginTop:parseInt(t.target.getAttribute("y").replace("px",""))+this.graph.getPaddingTop()-10+"px",marginLeft:parseInt(t.target.getAttribute("x").replace("px",""))+this.graph.getPaddingLeft()-50+"px",textAlign:"center",width:"100px"});const n=i.getLabelText(e),o=function(){i.setLabelText(r.value,e),i._labels[e].textContent=r.value;const t=r.value;r.remove(),r.removeEventListener("blur",o),r=!1,i.changed("shapeLabelChanged",{previousValue:n,nextValue:t})};r.addEventListener("blur",o),r.addEventListener("keyup",(function(t){13===t.keyCode&&o()})),r.addEventListener("keypress",(function(t){t.stopPropagation()})),r.addEventListener("keydown",(function(t){t.stopPropagation()})),r.focus()}appendToDom(){return this._forcedParentDom?this._forcedParentDom.appendChild(this.group):this.graph.appendShapeToDom(this),this}forceParentDom(t){return this._forcedParentDom=t,this}isHTML(){return!1}}h.prototype.computePosition=h.prototype.calculatePosition,h.prototype.showLabel=h.prototype.displayLabel,h.prototype.remove=h.prototype.kill,(0,n.default)(h,"shape");var l=h;e.default=l},3669:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,s=(r=i(6141))&&r.__esModule?r:{default:r};class n extends s.default{constructor(t,e){super(t,e)}createDom(){return!1}applyPosition(){return!0}}var o=n;e.default=o},6025:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,s=(r=i(6141))&&r.__esModule?r:{default:r};class n extends s.default{constructor(t,e){super(t,e)}createDom(){this._dom=document.createElementNS(this.graph.ns,"line"),this.getStrokeColor()||this.setStrokeColor("black"),void 0===this.getStrokeWidth()&&this.setStrokeWidth(1)}createHandles(){this._createHandles(2,"rect",{transform:"translate(-3 -3)",width:6,height:6,stroke:"black",fill:"white",cursor:"nwse-resize"})}applyPosition(){var t=this.calculatePosition(0),e=this.calculatePosition(1);if(t&&t.x&&t.y)return this.setDom("x2",t.x),this.setDom("y2",t.y),this.setDom("y1",e.y),this.setDom("x1",e.x),this.currentPos2x=e.x,this.currentPos2y=e.y,this.currentPos1x=t.x,this.currentPos1y=t.y,!0}handleMouseMoveImpl(t,e,i,r,s){if(!this.isLocked()){var n,o=this.getPosition(0),a=this.getPosition(1);if(1==this.handleSelected?n=o:2==this.handleSelected&&(n=a),n&&(this._data.vertical||n.deltaPosition("x",e,this.getXAxis()),this._data.horizontal||n.deltaPosition("y",i,this.getYAxis())),this.moving&&(console.log(this._data),o.x&&!this._data.noX&&o.deltaPosition("x",e,this.getXAxis()),o.y&&!this._data.noY&&o.deltaPosition("y",i,this.getYAxis()),a.x&&!this._data.noX&&a.deltaPosition("x",e,this.getXAxis()),a.y&&!this._data.noY&&a.deltaPosition("y",i,this.getYAxis())),this._data.forcedCoords){var h=this._data.forcedCoords;void 0!==h.y&&("function"==typeof h.y?a.y=o.y=h.y(this):(a.y=h.y,o.y=h.y)),void 0!==h.x&&("function"==typeof h.x?a.x=o.x=h.x(this):(a.x=h.x,o.x=h.x))}return this.rectEvent&&this.setEventReceptacle(),this.redraw(),this.changed(),this.setHandles(),!0}}setHandles(){this.areHandlesInDom()&&(isNaN(this.currentPos1x)||(this.handles[1].setAttribute("x",this.currentPos1x),this.handles[1].setAttribute("y",this.currentPos1y),this.handles[2].setAttribute("x",this.currentPos2x),this.handles[2].setAttribute("y",this.currentPos2y)))}setEventReceptacle(){this.currentPos1x&&(this.rectEvent||(this.rectEvent=document.createElementNS(this.graph.ns,"line"),this.rectEvent.setAttribute("pointer-events","stroke"),this.rectEvent.setAttribute("stroke","transparent"),this.rectEvent.jsGraphIsShape=this,this.group.appendChild(this.rectEvent)),this.rectEvent.setAttribute("x1",this.currentPos1x),this.rectEvent.setAttribute("y1",this.currentPos1y),this.rectEvent.setAttribute("x2",this.currentPos2x),this.rectEvent.setAttribute("y2",this.currentPos2y),this.rectEvent.setAttribute("stroke-width",this.getProp("strokeWidth")+2))}}var o=n;e.default=o},6186:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,s(i(8697));var r=s(i(6141));function s(t){return t&&t.__esModule?t:{default:t}}class n extends r.default{constructor(t,e){super(t,e),this.nbHandles=2}createDom(){this._dom=document.createElementNS(this.graph.ns,"path"),this._domShadow=document.createElementNS(this.graph.ns,"path"),this._domShadow.jsGraphIsShape=this,this._dom.setAttribute("pointer-events","stroke"),this._domShadow.setAttribute("pointer-events","stroke"),this._domShadow.setAttribute("stroke-width","12"),this._domShadow.setAttribute("fill","transparent"),this._domShadow.setAttribute("stroke","transparent"),this.group.appendChild(this._domShadow)}initImpl(){this.setFillColor("transparent"),this.setStrokeColor("black")}createHandles(){this._createHandles(2,"rect",{transform:"translate(-3 -3)",width:6,height:6,stroke:"black",fill:"white"}),this.handles[1].setAttribute("fill","red")}xor(t,e){return t&&!e||!t&&e}applyPosition(){let t,e,i,r,s,n=this.getAxis(),o=[],a="",h=this.getProp("baseLine",0)||300;if(!this.serie)throw"No serie exists for this shape";let l=this.getPosition(0),u=this.getPosition(1);if(l.x<this.serie.getXAxis().getCurrentMin()&&u.x<this.serie.getXAxis().getCurrentMin()||l.x>this.serie.getXAxis().getCurrentMax()&&u.x>this.serie.getXAxis().getCurrentMax())return this.setDom("d",""),this._domShadow.setAttribute("d",""),this.hideLabel(0),!1;this.showLabel(0);let c,p=0,d=this.serie.getWaveform();if(!d)return;let g,f,y,m,x,v,b,_,A,S=d.getIndexFromX(l[n],!0,Math.floor),M=d.getIndexFromX(u[n],!0,Math.ceil),w=!1;S==M&&("aggregate"==d.getReductionType()?M+=4:M++),M<S&&(g=S,S=M,M=g,w=!0),d.getDataInUse();let k,P,L,C=!0;for("aggregate"==d.getReductionType()&&(C=!1),d.getXMonotoneousAscending()||(d.getXMonotoneousAscending(),0)?(c=M,k=!0,P=-1):(c=S,k=!1,P=1);k?c>=S:c<=M;c+=P)i=d.getX(c,!0),r=d.getY(c,!0),t=this.serie.getX(i),e=this.serie.getY(r),p+=d.getY(c,!0),f||(f=t,y=e,m=d.getX(c),x=d.getY(c)),null!=v?(v=t,_=e,o.push([t,e,p]),b=i):(v=t,_=e,b=d.getX(c),A=d.getY(c));if(b=!1,A=!1,v=!1,_=!1,0==p&&(p=1),this._sumVal=d.integrate(l.x,u.x),s=this.ratio?this.ratio*(this.sumVal/p):200/p,0!=o.length){for(var E=0,O=o.length;E<O;E++){if(L=h-o[E][2]*s,E>0&&(o[E-1][2]>p/2&&o[E][2]<=p/2||o[E-1][2]<p/2&&o[E][2]>=p/2)){let t=h-(o[E-1][2]+o[E][2])/2*s;this.setPosition({x:`${o[E][0]}px`,y:`${t}px`},3),this.setLabelPosition(this.getPosition(3),0)}a+=` L ${o[E][0]}, ${L} `,this.lastPointX=o[E][0],this.lastPointY=L}return this.points=o,this._sum=p,a=this.serie.isFlipped()?` M ${h}, ${f} ${a}`:` M ${f}, ${h} ${a}`,this.firstPointX=f,this.firstPointY=h,this.setDom("d",a),this._domShadow.setAttribute("d",a),this.firstX=f,this.firstY=y,this.serie.ratioLabel&&this.updateIntegralValue(this.serie.ratioLabel)||this.updateLabels(),this.changed(),this.handleCondition=!this.xor(-1==P,w),this.setHandles(),this.updateIntegralValue(),!0}}updateIntegralValue(t=this.serie.ratioLabel,e){return console.log(t),t&&(this.serie.ratioLabel=t),isNaN(e)||isNaN(this.sumVal)||!this.sumVal||(this.serie.ratioLabel=e/this.sumVal),this.setLabelText(t?(Math.round(100*this.sumVal*t)/100).toPrecision(3):"N/A",0),this.updateLabels(),this.serie.ratioLabel}getAxis(){return this._data.axis||"x"}set ratio(t){this._ratio=t}get ratio(){return this._ratio}get sum(){return this._sum}get sumVal(){return this._sumVal}selectStyle(){this.setDom("stroke-width","2px")}selectHandles(){}setHandles(){null!=this.points&&this.isSelected()&&(this.addHandles(),this.handleCondition?(this.handles[1].setAttribute("x",this.firstPointX),this.handles[1].setAttribute("y",this.firstPointY),this.handles[2].setAttribute("x",this.lastPointX),this.handles[2].setAttribute("y",this.lastPointY)):(this.handles[2].setAttribute("x",this.firstPointX),this.handles[2].setAttribute("y",this.firstPointY),this.handles[1].setAttribute("x",this.lastPointX),this.handles[1].setAttribute("y",this.lastPointY)))}handleMouseMoveImpl(t,e,i,r,s){if(!this.isLocked()){var n,o=this.getPosition(0),a=this.getPosition(1);return 1==this.handleSelected?n=o:2==this.handleSelected&&(n=a),n&&(this._data.vertical||n.deltaPosition("x",e,this.getXAxis())),this.moving&&(o.x&&o.deltaPosition("x",e,this.getXAxis()),a.x&&a.deltaPosition("x",e,this.getXAxis())),this.rectEvent&&this.setEventReceptacle(),this.redraw(),this.changed(),!0}}}var o=n;e.default=o},7493:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,s=(r=i(6025))&&r.__esModule?r:{default:r};class n extends s.default{constructor(t){super(t),this.lineHeight=6}createDom(){this._dom=document.createElementNS(this.graph.ns,"line"),this.line1=document.createElementNS(this.graph.ns,"line"),this.line2=document.createElementNS(this.graph.ns,"line"),this.line3=document.createElementNS(this.graph.ns,"line"),this.rectBoundary=document.createElementNS(this.graph.ns,"path"),this.rectBoundary.setAttribute("fill","transparent"),this.rectBoundary.setAttribute("stroke","none"),this.rectBoundary.setAttribute("pointer-events","fill"),this.rectBoundary.jsGraphIsShape=!0,this.group.appendChild(this.rectBoundary),this.group.appendChild(this.line1),this.group.appendChild(this.line2),this.group.appendChild(this.line3),this._dom.element=this}createHandles(){this._createHandles(3,"rect",{transform:"translate(-3 -3)",width:6,height:6,stroke:"black",fill:"white",cursor:"nwse-resize"})}redrawImpl(){this.line1.setAttribute("stroke",this.getStrokeColor()),this.line2.setAttribute("stroke",this.getStrokeColor()),this.line3.setAttribute("stroke",this.getStrokeColor()),this.line1.setAttribute("stroke-width",this.getStrokeWidth()),this.line2.setAttribute("stroke-width",this.getStrokeWidth()),this.line3.setAttribute("stroke-width",this.getStrokeWidth()),this.setHandles(),this.redrawLines()}redrawLines(){var t=this.computePosition(0),e=this.computePosition(1),i=this.computePosition(2);if(t.x&&e.x&&i.x&&this.posYPx){var r=this.lineHeight;this.rectBoundary.setAttribute("d",`M ${t.x} ${this.posYPx-r} v ${2*r} H ${e.x} v ${-2*r}z`),this.line1.setAttribute("x1",t.x),this.line1.setAttribute("x2",t.x),this.line2.setAttribute("x1",e.x),this.line2.setAttribute("x2",e.x),this.line3.setAttribute("x1",i.x),this.line3.setAttribute("x2",i.x),this._dom.setAttribute("x1",t.x),this._dom.setAttribute("x2",e.x),this.redrawY(r)}return this}redrawY(){if(!this.posYPx)return this;var t=this.lineHeight;return this.line1.setAttribute("y1",this.posYPx-t),this.line1.setAttribute("y2",this.posYPx+t),this.line2.setAttribute("y1",this.posYPx-t),this.line2.setAttribute("y2",this.posYPx+t),this.line3.setAttribute("y1",this.posYPx-t),this.line3.setAttribute("y2",this.posYPx+t),this._dom.setAttribute("y1",this.posYPx),this._dom.setAttribute("y2",this.posYPx),this}setHandles(){if(this.posYPx){var t=this.computePosition(0),e=this.computePosition(1),i=this.computePosition(2);t.x&&e.x&&i.x&&(this.handles[1].setAttribute("x",t.x),this.handles[1].setAttribute("y",this.posYPx),this.handles[2].setAttribute("x",e.x),this.handles[2].setAttribute("y",this.posYPx),this.handles[3].setAttribute("x",i.x),this.handles[3].setAttribute("y",this.posYPx))}}setY(t){return this.posYPx=t,this}setLineHeight(t){this.lineHeihgt=t}handleMouseMoveImpl(t,e,i){if(!this.isLocked()){var r=this.getPosition(0),s=this.getPosition(1),n=this.getPosition(2);switch(this.handleSelected){case 1:r.deltaPosition("x",e,this.getXAxis()),(Math.abs(n.x-s.x)>Math.abs(s.x-r.x)||Math.abs(n.x-r.x)>Math.abs(s.x-r.x))&&(n.x=r.x+.1*(s.x-r.x));break;case 2:s.deltaPosition("x",e,this.getXAxis()),(Math.abs(n.x-s.x)>Math.abs(s.x-r.x)||Math.abs(n.x-r.x)>Math.abs(s.x-r.x))&&(n.x=s.x+.1*(r.x-s.x));break;case 3:if(n.deltaPosition("x",e,this.getXAxis()),Math.abs(n.x-s.x)>Math.abs(s.x-r.x)||Math.abs(n.x-r.x)>Math.abs(s.x-r.x))return}this.setLabelPosition({y:this.getLabelPosition(0).y,x:n.x}),this.updateLabels(),this.redrawLines(),this.setHandles()}}applyPosition(){return this.redrawLines(),!0}}var o=n;e.default=o},8644:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,s=(r=i(8342))&&r.__esModule?r:{default:r};class n extends s.default{constructor(t,e){super(t,e),this.nbHandles=4}createDom(){this._dom=document.createElementNS(this.graph.ns,"rect"),this._dom.element=this,this.createHandles(this.nbHandles,"rect",{transform:"translate(-3 -3)",width:6,height:6,stroke:"black",fill:"white",cursor:"nwse-resize"})}redrawImpl(){this.setPosition(),this.setHandles(),this.setBindableToDom(this._dom)}}var o=n;e.default=o},2251:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,s=(r=i(6141))&&r.__esModule?r:{default:r};class n extends s.default{constructor(t,e){super(t,e)}createDom(){this._dom=document.createElementNS(this.graph.ns,"path"),this.getStrokeColor()||this.setStrokeColor("black"),void 0===this.getStrokeWidth()&&this.setStrokeWidth(1)}createHandles(){}setPointsPx(t){return this.setProp("pxPoints",t),this}applyPosition(){let t="",e=0;for(;;){let i,r=this.getPosition(e);if(void 0===r)break;if(i=this.serie?r.compute(this.graph,this.serie.getXAxis(),this.serie.getYAxis(),this.serie):r.compute(this.graph,this.getXAxis(),this.getYAxis()),isNaN(i.x)||isNaN(i.y))return;t+=0==e?" M ":" L ",t+=`${i.x} ${i.y}`,e++}return t+="z",this.setDom("d",t),this.changed(),!0}}var o=n;e.default=o},5886:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,s=(r=i(6141))&&r.__esModule?r:{default:r};class n extends s.default{constructor(t,e){super(t,e),this.setProp("fillColor","none")}createDom(){this._dom=document.createElementNS(this.graph.ns,"path"),this.getStrokeColor()||this.setStrokeColor("black"),void 0===this.getStrokeWidth()&&this.setStrokeWidth(1)}createHandles(){}setPointsPx(t){return this}applyPosition(){let t="",e=0;for(;;){let i,r=this.getPosition(e);if(void 0===r)break;if(i=this.serie?r.compute(this.graph,this.serie.getXAxis(),this.serie.getYAxis(),this.serie):r.compute(this.graph,this.getXAxis(),this.getYAxis()),isNaN(i.x)||isNaN(i.y))return;t+=0==e?" M ":" L ",t+=`${i.x} ${i.y}`,e++}return this.setDom("d",t),this.changed(),!0}}var o=n;e.default=o},8342:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,s=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=o();if(e&&e.has(t))return e.get(t);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){var n=r?Object.getOwnPropertyDescriptor(t,s):null;n&&(n.get||n.set)?Object.defineProperty(i,s,n):i[s]=t[s]}return i.default=t,e&&e.set(t,i),i}(i(4167)),n=(r=i(6141))&&r.__esModule?r:{default:r};function o(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return o=function(){return t},t}class a extends n.default{constructor(t,e){super(t,e)}createDom(){return this._dom=document.createElementNS(this.graph.ns,"rect"),this.getStrokeColor()||this.setStrokeColor("black"),void 0===this.getStrokeWidth()&&this.setStrokeWidth(1),this.getFillColor()||this.setFillColor("transparent"),this}createHandles(){if(this.hasHandles()){var t=this.getProp("handles");switch("object"!=typeof t&&(t={}),t.type||(t.type="corners"),t.type){case"sides":s.extend(t,{sides:{top:!0,bottom:!0,left:!0,right:!0}});var e=0;for(var i in t.sides)t.sides[i]&&e++;for(var i in this._createHandles(e,"g").map((function(t){var e=document.createElementNS(self.graph.ns,"rect");e.setAttribute("x","-3"),e.setAttribute("width","6"),e.setAttribute("y","-6"),e.setAttribute("height","12"),e.setAttribute("stroke","black"),e.setAttribute("fill","white"),e.setAttribute("cursor","pointer"),t.appendChild(e)})),e=1,t.sides)t.sides[i]&&(this.handles[i]=this[`handle${e}`],this.sides[e]=i,e++);break;case"corners":this._createHandles(4,"rect",{transform:"translate(-3 -3)",width:6,height:6,stroke:"black",fill:"white"}),this.handles&&(this.handles[2].setAttribute("cursor","nesw-resize"),this.handles[4].setAttribute("cursor","nesw-resize"),this.handles[1].setAttribute("cursor","nwse-resize"),this.handles[3].setAttribute("cursor","nwse-resize"));break;case"seamlessX":this._createHandles(2,"rect",{transform:"translate(-3 -3)",stroke:"transparent",fill:"transparent",width:"20px",cursor:"ew-resize"})}return super.createHandles(),this}}applyPosition(){var t,e,i,r,s=this.computePosition(0),n=this.computePosition(1);if(s&&n)return s.x<n.x?(t=s.x,i=n.x-s.x):(t=n.x,i=s.x-n.x),s.y<n.y?(e=s.y,r=n.y-s.y):(e=n.y,r=s.y-n.y),this.currentX=t,this.currentY=e,this.currentW=i,this.currentH=r,!isNaN(t)&&!isNaN(e)&&!1!==t&&!1!==e&&(this.setDom("width",i),this.setDom("height",r),this.setDom("x",t),this.setDom("y",e),this.setHandles(),this.updateMask(),!0)}handleMouseMoveImpl(t,e,i,r,s){var n=this.getProp("handles");if(this.moving||this.handleSelected){var o=this.getPosition(0),a=this.getPosition(1);if(this.getXAxis().isFlipped(),this.getYAxis().isFlipped(),o.x,o.y,a.x,a.y,this.moving)o.deltaPosition("x",e,this.getXAxis()),o.deltaPosition("y",i,this.getYAxis()),a.deltaPosition("x",e,this.getXAxis()),a.deltaPosition("y",i,this.getYAxis());else switch(n.type){case"seamlessX":switch(this.handleSelected){case 1:o.deltaPosition("x",e,this.getXAxis());break;case 2:a.deltaPosition("x",e,this.getXAxis())}break;case"sides":switch(this.sides[this.handleSelected]){case"left":o.deltaPosition("x",e,this.getXAxis());break;case"right":a.deltaPosition("x",e,this.getXAxis());break;case"top":o.deltaPosition("y",i,this.getYAxis());break;case"bottom":a.deltaPosition("y",i,this.getYAxis())}break;default:1==this.handleSelected?(o.deltaPosition("x",e,this.getXAxis()),o.deltaPosition("y",i,this.getYAxis())):2==this.handleSelected?(a.deltaPosition("x",e,this.getXAxis()),o.deltaPosition("y",i,this.getYAxis())):3==this.handleSelected?(a.deltaPosition("y",i,this.getYAxis()),a.deltaPosition("x",e,this.getXAxis())):4==this.handleSelected&&(o.deltaPosition("x",e,this.getXAxis()),a.deltaPosition("y",i,this.getYAxis()))}return this.redraw(),this.changed(),this.setHandles(),!0}}setHandles(){if(!this.isLocked()&&(this.isSelectable()||this._staticHandles)&&this.handlesInDom){var t=this.computePosition(0),e=this.computePosition(1);switch(this.getProp("handles").type){case"seamlessX":this.handles[1]&&(this.handles[1].setAttribute("transform",`translate(-10) translate(${t.x})`),this.handles[1].setAttribute("height",Math.abs(e.y-t.y)),this.handles[1].setAttribute("y",Math.min(e.y,t.y))),this.handles[2]&&(this.handles[2].setAttribute("transform",`translate(-10)  translate(${e.x})`),this.handles[2].setAttribute("height",Math.abs(e.y-t.y)),this.handles[2].setAttribute("y",Math.min(e.y,t.y)));break;case"sides":this.handles.left&&this.handles.left.setAttribute("transform",`translate(${this.currentX} ${this.currentY+this.currentH/2})`),this.handles.right&&this.handles.right.setAttribute("transform",`translate( ${this.currentX+this.currentW} ${this.currentY+this.currentH/2})`),this.handles.top&&this.handles.top.setAttribute("transform",`translate( ${this.currentX+this.currentW/2} ${this.currentY})`),this.handles.bottom&&this.handles.bottom.setAttribute("transform",`translate( ${this.currentX+this.currentW/2} ${this.currentY+this.currentH})`);break;default:this.handles[1].setAttribute("x",t.x),this.handles[1].setAttribute("y",t.y),this.handles[2].setAttribute("x",e.x),this.handles[2].setAttribute("y",t.y),this.handles[3].setAttribute("x",e.x),this.handles[3].setAttribute("y",e.y),this.handles[4].setAttribute("x",t.x),this.handles[4].setAttribute("y",e.y)}}}}var h=a;e.default=h},1748:(t,e,i)=>{"use strict";i.r(e),i.d(e,{Waveform:()=>c,WaveformHash:()=>_});var r,s=i(4167);if("undefined"==typeof URL||void 0===URL.createObjectURL||"undefined"==typeof Blob||"undefined"==typeof Worker)r=()=>{};else{var n,o={};let t=function(){onmessage=function(t){const e=t.data.data,i=t.data.maxX,r=t.data.minX,s=t.data.maxY,n=t.data.minY,o=t.data.direction;let a,h,l,u,c,p,d,g=t.data.numPoints,f=e.length,y=0,m=-4,x=[],v=[],b=[],_=[];a=t.data.xdata?function(e){return t.data.xdata[e]}:function(e){return e*t.data.xScale+t.data.xOffset};let A={};if("x"==o){const t=g/(i-r);for(;y<f;y++){if(h=Math.floor((a(y)-r)*t),x[m]!==h){m+=4,x[m]=h;let i=(h+.5)/t+r;v[m]=i,v[m+1]=i,v[m+2]=i,v[m+3]=i,b[m]=e[y],b[m+1]=e[y],b[m+2]=e[y],b[m+3]=e[y],_[m]=0}b[m+1]=Math.min(e[y],b[m+1]),b[m+2]=Math.max(e[y],b[m+2]),b[m+3]=e[y],_[m]+=e[y]}}else{const t=g/(s-n);for(;y<f;y++){if(h=Math.floor((e[y]-n)*t),x[m]!==h){m+=4,x[m]=h;let i=(h+.5)/t+n;b[m]=i,b[m+1]=i,b[m+2]=i,b[m+3]=i,v[m]=e[y],v[m+1]=e[y],v[m+2]=e[y],v[m+3]=e[y],_[m]=0}v[m+1]=Math.min(a(y),v[m+1]),v[m+2]=Math.max(a(y),v[m+2]),v[m+3]=a(y),_[m]+=a(y)}}for(A[g]={x:v,y:b,sums:_},u=b,l=v,c=_;g>256;){if(g/=2,p=[],d=[],m=0,"x"==o)for(y=0,f=u.length-8;y<f;y+=8)d[m]=(l[y]+l[y+4])/2,d[m+1]=d[m],d[m+2]=d[m],d[m+3]=d[m],p[m]=u[y],p[m+1]=Math.min(u[y+1],u[y+5]),p[m+2]=Math.max(u[y+2],u[y+6]),p[m+3]=u[y+7],_[m]=(c[y]+c[y+4])/2,m+=4;else for(y=0,f=u.length-8;y<f;y+=8)p[m]=(u[y]+u[y+4])/2,p[m+1]=p[m],p[m+2]=p[m],p[m+3]=p[m],d[m]=l[y],d[m+1]=Math.min(l[y+1],l[y+5]),d[m+2]=Math.max(l[y+2],l[y+6]),d[m+3]=l[y+7],_[m]=(c[y]+c[y+4])/2,m+=4;A[g]={x:d,y:p,sums:_},u=p,l=d,c=_,_=[]}postMessage({aggregates:A,_queueId:t.data._queueId})}}.toString();t=t.replace(/^\s*function\s*\(\s*\)\s*\{/,""),t=t.replace(/}\s*$/,"");var a=URL.createObjectURL(new Blob([t],{type:"application/javascript"}));(n=new Worker(a)).onmessage=function(t){var e=t.data._queueId;delete t.data._queueId,o[e](t.data),delete o[e]},r=function(t){var e=Date.now();t._queueId=e;var i=new Promise((t=>{o[e]=t}));return n.postMessage(t),i}}const h=r;class l{constructor(t,e,i,r){this.LMITER=100,this.LMBOOST=2,this.LMSHRINK=.1,this.LAMBDAZERO=.001,this.LAMBDAMAX=1e9,this.LMTOL=1e-12,this.BIGVAL=9e99,this.sos,this.sosprev,this.lambda,this.myH=null,this.nadj=0,this.npts=0,this.delta,this.beta,this.alpha,this.amatrix,this.myH=t,this.nadj=e,this.npts=i,this.delta=new Array(this.nadj).fill(0),this.beta=new Array(this.nadj).fill(0),this.alpha=new Array(this.nadj).fill(0),this.amatrix=new Array(this.nadj).fill(0),this.alpha=this.alpha.map((()=>new Array(this.nadj))),this.amatrix=this.amatrix.map((()=>new Array(this.nadj))),this.lambda=this.LAMBDAZERO;var s=0,n=!1;do{n=this.bLMiter(),r&&r(this.myH.params),s++}while(!n&&s<this.LMITER)}bLMiter(){for(var t=0;t<this.nadj;t++)this.delta[t]=0;if(this.sos=this.myH.nudge(this.delta),this.sos==this.BIGVAL)return console.error("  bLMiter finds faulty initial nudge()"),!1;if(this.sosprev=this.sos,this.myH.log(`  bLMiter..SumOfSquares= ${this.sos}`),!this.myH.buildJacobian())return console.error("  bLMiter finds buildJacobian()=false"),!1;for(t=0;t<this.nadj;t++){this.beta[t]=0;for(var e=0;e<this.npts;e++)this.beta[t]-=this.myH.getResidualElement(e)*this.myH.getJacobianElement(e,t)}for(t=0;t<this.nadj;t++)for(var i=0;i<this.nadj;i++)for(this.alpha[i][t]=0,e=0;e<this.npts;e++)this.alpha[i][t]+=this.myH.getJacobianElement(e,i)*this.myH.getJacobianElement(e,t);var r=0;do{for(t=0;t<this.nadj;t++)for(i=0;i<this.nadj;i++)this.amatrix[i][t]=this.alpha[i][t]+(i==t?this.lambda:0);for(this.gaussj(this.amatrix,this.nadj),t=0;t<this.nadj;t++)for(this.delta[t]=0,i=0;i<this.nadj;i++)this.delta[t]+=this.amatrix[i][t]*this.beta[i];if(this.sos=this.myH.nudge(this.delta),this.sos==this.BIGVAL)return console.error("  LMinner failed SOS step"),!1;if((r=(this.sos-this.sosprev)/(1+this.sos))<=0){this.lambda*=this.LMSHRINK;break}for(var s=0;s<this.nadj;s++)this.delta[s]*=-1;if(this.myH.nudge(this.delta),r<this.LMTOL)break;this.lambda*=this.LMBOOST}while(this.lambda<this.LAMBDAMAX);return r>-this.LMTOL||this.lambda>this.LAMBDAMAX}gaussj(t,e){var i,r,s,n,o,a,h=1,l=new Array(100),u=new Array(100);for(o=0;o<e;o++){for(i=0,s=o;s<e;s++)for(n=o;n<e;n++)Math.abs(i)<=Math.abs(t[s][n])&&(i=t[s][n],l[o]=s,u[o]=n);if(0==i)return 0;if((s=l[o])>o)for(n=0;n<e;n++)r=t[o][n],t[o][n]=t[s][n],t[s][n]=-r;if((n=u[o])>o)for(s=0;s<e;s++)r=t[s][o],t[s][o]=t[s][n],t[s][n]=-r;for(s=0;s<e;s++)s!=o&&(t[s][o]=-t[s][o]/i);for(s=0;s<e;s++)for(n=0;n<e;n++)s!=o&&n!=o&&(t[s][n]+=t[s][o]*t[o][n]);for(n=0;n<e;n++)n!=o&&(t[o][n]/=i);t[o][o]=1/i,h*=i}for(a=0;a<e;a++){if((n=l[o=e-a-1])>o)for(s=0;s<e;s++)r=t[s][o],t[s][o]=-t[s][n],t[s][n]=r;if((s=u[o])>o)for(n=0;n<e;n++)r=t[o][n],t[o][n]=-t[s][n],t[s][n]=r}return h}}function u(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}class c{constructor(t=[],e=0,i=1){u(this,"xOffset",void 0),u(this,"xScale",void 0),u(this,"shift",void 0),u(this,"scale",void 0),u(this,"errors",void 0),u(this,"_originalData",[]),u(this,"_originalDataX",[]),u(this,"_xdata",void 0),u(this,"_data",[]),u(this,"minX",Number.MIN_SAFE_INTEGER),u(this,"maxX",Number.MAX_SAFE_INTEGER),u(this,"minY",Number.MIN_SAFE_INTEGER),u(this,"maxY",Number.MAX_SAFE_INTEGER),u(this,"_monotoneous",!1),u(this,"_monotoneousAscending",!1),u(this,"dataInUseType",""),u(this,"dataInUse",{x:[],y:[]}),u(this,"_typedArrayClass",void 0),u(this,"_dataAggregating",void 0),u(this,"_dataAggregated",{}),u(this,"_dataAggregationDirection",""),u(this,"unit",void 0),u(this,"xunit",void 0),this.xOffset=e,this.xScale=i,this.shift=0,this.scale=1,this.errors={nb:0,bars:{},boxes:{}},this.setData(t)}setData(t,e){return this._originalData=t,this._originalDataX=e,this._xdata=null,this.mutated(),this}getYData(){return this._data}mutated(){let t;if(Array.isArray(this._originalData[0])){let e=[],i=[];this._originalData.forEach((t=>{e.push(t[0]),i.push(t[1])})),this.setXWaveform(e),t=i}else t=this._originalData;const e=this.isNaNAllowed();let i,r=!1;return this.getTypedArrayClass()?(i=this._makeArray(t.length),t.forEach(((t,s)=>{e||t[0]==t[0]&&t[1]==t[1]||(r=!0),i[s]=t})),r&&this.warn("Trying to assign NaN values to a typed array that does not support NaNs. 0's will be used instead")):(e||t.forEach(((t,i)=>{e||t[0]==t[0]&&t[1]==t[1]||(r=!0)})),i=t),this._originalDataX&&(this._xdata?this._xdata.mutated():this.setXWaveform(this._originalDataX)),this._setData(i),this}getY(t,e=!1){return e&&this.dataInUse?this.dataInUse.y[t]*this.getScale()+this.getShift():this._data[t]*this.getScale()+this.getShift()}setXWaveform(t){if(!(t instanceof c)){if(!Array.isArray(t))throw"Cannot set X waveform. Data is not a valid array.";t=new c(t)}return this._xdata=t,this.computeXMinMax(),this}hasXWaveform(){return!!this._xdata}getXWaveform(){if(this._xdata)return this._xdata;for(var t=new c,e=0;e<this.getLength();e+=1)t.append(null,this.getX(e));return t}rescaleX(t,e){return this.xScale=e,this.xOffset=t,this.computeXMinMax(),this}getTypedArrayClass(){return this._typedArrayClass||!1}setTypedArrayClass(t){this.getTypedArrayClass()&&this.isNaNAllowed()&&!this.isNaNAllowed(t)&&this.warn(`NaN values are not allowed by the new constructor (${t.name}) while it was allowed by the previous one (${this._typedArrayClass})`),this.getTypedArrayClass()&&this.isUnsigned()&&!this.isUnsigned(t)&&this.warn("You are switching from signed values to unsigned values. You may experience data corruption if there were some negative values."),this._typedArrayClass=t,this._data&&this._setData(t.from(this._data)),this.hasXWaveform()&&this.getXWaveform().setTypedArrayClass(t)}isNaNAllowed(t=this._typedArrayClass){return t==Array||t==Float32Array||t==Float64Array}isUnsigned(t=this._typedArrayClass){return t==Uint8Array||t==Uint8ClampedArray||t==Uint16Array||t==Uint32Array}recalculateMinMaxNewPoint(t,e){(t<this.minX||void 0===this.minX)&&(this.minX=t),(t>this.maxX||void 0===this.maxX)&&(this.maxX=t),(e<this.minY||void 0===this.minY)&&(this.minY=e),(e>this.maxY||void 0===this.maxY)&&(this.maxY=e)}calculateHistogram(t,e,i){t==e&&(t-=i,e+=i);const r=Math.ceil((e-t)/i);if(e<=t||i<0||isNaN(i)||null==i)throw"xMin/xMax/dX is ill formed";const s=new Array(r);s.fill(0);const n=new Array(r);for(let e=0;e<r;e++)n[e]=t+i*e;for(let e=0;e<this.getLength();e++){let r=this.getY(e,!1);s[Math.floor((r-t)/i)]++}let o=new c;return o.setData(s,n),o}prepend(t,e){return"function"==typeof t&&(t=t(this)),"function"==typeof e&&(e=e(this)),this._xdata?this._xdata.prepend(null,t):null!==t?(this._xdata=this.getXWaveform(),this._xdata.prepend(null,t)):this.xOffset-=this.xScale,this._data.unshift(e),this.recalculateMinMaxNewPoint(t,e),this}append(t,e){return"function"==typeof t&&(t=t(this)),"function"==typeof e&&(e=e(this)),this._xdata?this._xdata.append(null,t):null!==t&&(this._xdata=this.getXWaveform(),this._xdata.append(null,t)),this._monotoneous&&(e>this._data[this._data.length-1]&&!1===this.getMonotoneousAscending()||e<this._data[this._data.length-1]&&!0===this.getMonotoneousAscending())&&(this._monotoneous=!1),1!=this._data.length&&void 0!==this._monotoneousAscending||(this._monotoneous=!0,e==this._data[0]?this._monotoneousAscending=void 0:this._monotoneousAscending=e>this._data[0]),this._data.push(e),this.recalculateMinMaxNewPoint(t,e),this}concat(t){return this._xdata||(this._xdata=this.getXWaveform()),t.xdata||(t.xdata=t.getXWaveform()),this._data=this._data.concat(t.data),this._xdata._data=this._xdata._data.concat(t.xdata._data),this.checkMonotonicity(),this._xdata.checkMonotonicity(),this.computeXMinMax(),this}_makeArray(t){const e=this.getTypedArrayClass();return e?new e(t):new Array(t)}_setData(t){const e=t.length;let i=1,r=t[1]>t[0],s=t[0],n=t[0];for(isNaN(s)&&(s=Number.MAX_VALUE),isNaN(n)&&(n=-Number.MAX_VALUE),this._monotoneous=!0;i<e;i++)t[i]!==t[i-1]&&r!==t[i]>t[i-1]&&(this._monotoneous=!1),t[i]==t[i]&&(s=Math.min(t[i],s),n=Math.max(t[i],n));this._monotoneous&&(this._monotoneousAscending=t[1]>t[0]),this._data=t,this.minY=s,this.maxY=n,this.checkMinMaxErrorBars(),this.computeXMinMax()}checkMinMaxErrorBars(){let t=this.minY,e=this.maxY,i=0,r=this.getLength();if(this.hasErrorBars()){for(i=0;i<r;i++)this._data[i]==this._data[i]&&(t=Math.min(t,this._data[i]-this.getMaxError(i,p.BELOW)),e=Math.max(e,this._data[i]+this.getMaxError(i,p.ABOVE)));this.minY=t,this.maxY=e}else this.minY=t,this.maxY=e}computeXMinMax(){if(this._data)if(this._xdata)this.minX=this._xdata.getMin(),this.maxX=this._xdata.getMax();else{const t=this.xOffset+this.xScale*this.getLength(),e=this.xOffset;this.minX=Math.min(t,e),this.maxX=Math.max(t,e)}}getDataInUse(){return this.dataInUse||this._data}getIndexFromVal(t,e=!1,i=Math.round){let r,s;return r=e&&this.dataInUse?this.dataInUse.y:this._data,s=this.getIndexFromMonotoneousData(t,r,this.getMonotoneousAscending()),e&&this.dataInUse&&"aggregateY"==this.dataInUseType?s-s%4:s}getIndexFromX(t,e=!1,i=Math.round){let r,s;return t-=this.getXShift(),!((t/=this.getXScale())<this.getDataMinX())&&!(t>this.getDataMaxX())&&(e&&this.dataInUse?r=this.dataInUse.x:this._xdata&&(r=this._xdata.getData(e)),s=this.hasXWaveform()?this.isXMonotoneous()?this._xdata.getIndexFromMonotoneousData(t,r,this._xdata.getMonotoneousAscending()):v(t,void 0,r,void 0,1,void 0):Math.max(0,Math.min(this.getLength()-1,i((t-this.xOffset)/this.xScale))),e&&this.dataInUse&&"aggregateX"==this.dataInUseType?s-s%4:s)}getIndexFromY(t,e=!1,i=Math.round){let r,s;return t-=this.getShift(),!((t/=this.getScale())<this.getDataMinY())&&!(t>this.getDataMaxY())&&(r=e&&this.dataInUse?this.dataInUse.y:this.getData(!1),s=v(void 0,t,void 0,r,1,void 0),e&&this.dataInUse&&"aggregateX"==this.dataInUseType?s-s%4:s)}setAtIndex(t,e){this._data[t]=e}getIndexFromXY(t,e,i=!1,r=Math.round,s=1,n=1){let o,a,h;return i&&this.dataInUse?(o=this.dataInUse.x,a=this.dataInUse.y):this._xdata&&(o=this._xdata._data,a=this._data),h=this.getIndexFromDataXY(t,o,e,a,s,n),i&&this.dataInUse&&"aggregateX"==this.dataInUseType?h-h%4:h}getIndexFromDataXY(t,e,i,r,s=1,n=1){return t-=this.getXShift(),t/=this.getXScale(),i-=this.getShift(),v(t,i/=this.getScale(),e,r,s,n)}getIndexFromMonotoneousData(t,e,i){if(!this.isMonotoneous())throw console.trace(),"Impossible to get the index from a non-monotoneous wave !";return t-=this.getShift(),b(t/=this.getScale(),e,!i)}findWithShortestDistance(t){if(!t.axisRef){const e=this.getIndexFromXY(t.x,t.y,!0,void 0,t.scaleX,t.scaleY);return t.xMaxDistance&&Math.abs(t.x-this.getX(e))>Math.abs(t.xMaxDistance)||t.yMaxDistance&&Math.abs(t.y-this.getY(e))>Math.abs(t.yMaxDistance)?-1:e}if("x"==t.axisRef){const e=this.getIndexFromX(t.x,!0,void 0);return t.xMaxDistance&&Math.abs(t.x-this.getX(e))>Math.abs(t.xMaxDistance)?-1:e}if("y"==t.axisRef){const e=this.getIndexFromY(t.y,!0,void 0);return t.yMaxDistance&&Math.abs(t.y-this.getY(e))>Math.abs(t.yMaxDistance)?-1:e}}getShortestDistanceToPoint(t,e,i,r){let s,n,o,a,h,l,u,c;t-=this.getXShift(),t/=this.getXScale(),e-=this.getShift();const p={x:t,y:e/=this.getScale()};for(h=0;h<this.getLength()-1;h++)u=Number.MAX_SAFE_INTEGER,c=0,s=this.getX(h),n=this.getY(h),a=this.getX(h+1),o=this.getY(h+1),i&&(s-t>i&&a-t>i||t-s>i&&t-a>i)||r&&(n-e>r&&o-e>r||e-n>r&&e-o>r)||(l=function(t,e,i){var r=A(e,i);if(0==r)return A(t,e);var s=((t.x-e.x)*(i.x-e.x)+(t.y-e.y)*(i.y-e.y))/r;return s=Math.max(0,Math.min(1,s)),A(t,{x:e.x+s*(i.x-e.x),y:e.y+s*(i.y-e.y)})}(p,{x:s,y:n},{x:a,y:o})**.5,l<u&&(u=l,c=h));return{shortestDistance:l,index:c}}getReductionType(){return this.dataInUseType}getXMin(){return this.minX*this.getXScale()+this.getXShift()}getXMax(){return this.maxX*this.getXScale()+this.getXShift()}getYMin(){return this.minY*this.getScale()+this.getShift()}getYMax(){return this.maxY*this.getScale()+this.getShift()}getMin(){return this.minY*this.getScale()+this.getShift()}getMax(){return this.maxY*this.getScale()+this.getShift()}getMinX(){return this.minX*this.getXScale()+this.getXShift()}getMaxX(){return this.maxX*this.getXScale()+this.getXShift()}getMinY(){return this.minY*this.getScale()+this.getShift()}getMaxY(){return this.maxY*this.getScale()+this.getShift()}getDataMaxX(){return this.maxX}getDataMinX(){return this.minX}getDataMaxY(){return this.maxY}getDataMinY(){return this.minY}getDataY(){return this._data}getData(t=!1){return t&&this.dataInUse?this.dataInUse.y:this._data}setShift(t=0){return this.shift=t,this}getShift(){return this.shift||0}getScale(){return this.scale||1}setScale(t=1){return this.scale=t,this}setXShift(t=0){return this.hasXWaveform?(this.getXWaveform().setShift(t),this):this}getXShift(t=0){return this.hasXWaveform?this.getXWaveform().getShift():0}setXScale(t=1){return this.hasXWaveform?(this.getXWaveform().setScale(t),this):this}getXScale(){return this.hasXWaveform?this.getXWaveform().getScale():1}getLength(){return this._data.length}getDataToUseFlat(){let t,e,i=0;if(this.dataInUse){t=this.dataInUse.x.length,e=new Array(2*t).fill(0);for(var r=0;r<t;r+=1)e[i]=this.dataInUse.x[r],e[i+1]=this.dataInUse.y[r],i+=2}else for(t=this.getLength(),e=new Array(2*t).fill(0),r=0;r<t;r+=1)e[i+1]=this._data[r],e[i]=this.getX(r),i+=2;return e}fit(t){var e=this;return new Promise((function(i,r){var n=new class{constructor(t){this.DELTAP=1e-6,this.BIGVAL=9e99,this.WEIGHT=1,this.setYData(t.dataY),this.setXData(t.dataX),this.setWeight(t.weight),this.setInitialParams(t.params),t.subsetIndex&&this.setSubset(...t.subsetIndex),this.setFunction(t.function),t.progress&&this.hookIteration(t.progress),this.options=t}setYData(t){this.data=t}setXData(t){this.dataX=t}setWeight(t){this.weight=t}setInitialParams(t){this.parms=t,this.parms=this.parms.map((t=>"function"==typeof t?t(this.data,this.dataX):t)),this.NPARMS=t.length}setSubset(t,e){void 0!==t&&void 0!==e&&(this._from=t,this._to=e)}hookIteration(t){this._hookIteration=e=>{let i=this.buildFit(e,200);t(i)}}setFunction(t){this._func=t}init(){if(void 0!==this._from&&void 0!==this._to){if(this._from>=this._to)throw"Impossible to fit negative subranges. The starting index must be lower than the ending index";if(this.NPTS=this._to-this._from+1,this.data&&this.data.getLength()<=this._to)throw`Wave Y has not enough point to be fitted to subrange [${this._from}, ${this._to}]`;if(this._from<0)throw"Impossible to fit a subrange with negative indices"}else this.NPTS=this.data.getLength(),this._from=0,this._to=this.data.getLength()-1;if(this.dataX&&this.dataX.getLength()<=this._to)throw`Wave X has not enough point to be fitted to subrange [${this._from}, ${this._to}]`;this.arrY=this.data.getDataY(),this.dataX?this.arrX=this.dataX.getDataY():this.arrX=this.data.getDataX(),this.resid=new Array(this.NPTS).fill(0),this.jac=new Array(this.NPTS).fill(0),this.jac=this.jac.map((t=>new Array(this.NPARMS)))}fit(){return this.log(`Starting the fit with initial parameter list {${this.parms.join()}};`),new l(this,this.NPARMS,this.NPTS,this._hookIteration),this.log(`Fit successful. Output parameters {${this.parms.join()}};`),this._result=this.buildFit(this.parms,200),this.options.done&&this.options.done(this.parms,this._result),this._result}func(t,e){return this._func(t,e)}computeResiduals(){for(var t=0,e=0;e<this.NPTS;e++)this.resid[e]=(this.func(this.arrX[e+this._from],this.parms)-this.arrY[e+this._from])*this.WEIGHT,t+=this.resid[e]*this.resid[e];return t}log(t){this.options.log&&console.log(t)}nudge(t){for(var e=0;e<this.NPARMS;e++)this.parms[e]+=t[e];return this.computeResiduals()}buildJacobian(){for(var t=new Array(this.NPARMS),e=.5/this.DELTAP,i=0;i<this.NPARMS;i++){for(var r=0;r<this.NPARMS;r++)t[r]=r==i?this.DELTAP:0;if(this.nudge(t)==this.BIGVAL)throw"Bad dBuildJacobian() exit 2";for(var s=0;s<this.NPTS;s++)this.jac[s][i]=this.getResidualElement(s);for(r=0;r<this.NPARMS;r++)t[r]=r==i?-2*this.DELTAP:0;if(this.nudge(t)==this.BIGVAL)throw"Bad dBuildJacobian(). exit 3";for(s=0;s<this.NPTS;s++)this.jac[s][i]-=this.getResidualElement(s);for(s=0;s<this.NPTS;s++)this.jac[s][i]*=e;for(r=0;r<this.NPARMS;r++)t[r]=r==i?this.DELTAP:0;if(this.nudge(t)==this.BIGVAL)throw"Bad dBuildJacobian(). exit 4"}return!0}getResidualElement(t){return this.resid[t]}getJacobianElement(t,e){return this.jac[t][e]}buildFit(t,e){let i;if(e){const t=this.dataX.getMin(this._from,this._to),r=this.dataX.getMax(this._from,this._to);i=new Array(e).fill(0).map(((i,s)=>s*(r-t)/(e-1)+t))}else i=this.arrX;for(var r=new Array(i.length),s=0,n=i.length;s<n;s++)r[s]=this.func(i[s],this.parms);let o=this.options.waveform;return o.setData(r,i),o}}(s.extend({},{dataY:e,dataX:e.getXWaveform(),done:function(t){i(t)},waveform:new c},t));n.init(),n.fit()}))}getX(t,e=!1){return e&&this.dataInUse?this.dataInUse.x[t]*this.getXScale()+this.getXShift():this._xdata?this._xdata._data[t]*this.getXScale()+this.getXShift():this.xOffset+t*this.xScale}getXRaw(t,e=!1){return e&&this.dataInUse?this.dataInUse.x[t]:this._xdata?this._xdata._data[t]:t}_integrateP(t=0,e=this.getLength()-1){if((t=Math.round(t))>(e=Math.round(e))){let i=t;t=e,e=i}var i=e-t+1,r=0;let s,n=0;for(var o=this.getData(!1);t<=e;t++)o.length-1>t&&(s=this.getX(t+1)-this.getX(t),n+=s,r+=o[t]*s);return[r,i,n]}integrateP(t,e){return this._integrateP(t,e)[0]}integrate(t,e){return this.integrateP(this.getIndexFromX(t),this.getIndexFromX(e))}average(t=0,e=this.getLength()-1){return this.getAverageP(t,e)}mean(){return this.average()}stddev(){let t=0,e=0;const i=this.mean();for(var r=0;r<this.getLength();r++)t+=(this.getY(r)-i)**2,e++;return(t/e)**.5}getAverageP(t,e){var i=this._integrateP(t,e);return i[0]/i[2]}getAverageX(t,e){var i=this.integrate(t,e);return i[0]/i[2]}checkMonotonicity(){let t=1,e=this.getData(!1);const i=this._data.length;let r=e[1]>e[0];for(;t<i;t++)if(e[t]!==e[t-1]&&r!==e[t]>e[t-1])return this._monotoneous=!1;return this._monotoneousAscending=e[1]>e[0],this._monotoneous=!0}requireXMonotonicity(){this._xdata&&this._xdata.requireMonotonicity()}requireMonotonicity(){if(!this.isMonotoneous())throw"The wave must be monotonic"}isMonotoneous(){return!!this._monotoneous}isXMonotoneous(){return!this._xdata||this._xdata.isMonotoneous()}invert(t){return(t||this._data).reverse(),this._xdata&&this._xdata.invert(),this.isMonotoneous()&&(this._monotoneousAscending=!this._monotoneousAscending),this}resampleForDisplay(t){let e=0;this.requireXMonotonicity();let i,r,s,n,o,a,h,l,u=!1,c=this.getDataY(),p={x:[],y:[]},d=[],g=!1,f=0;const y=this.getLength();if(!t.xPosition)throw"No position calculation method provided";if(!t.resampleToPx)throw'No "resampleToPx" method was provided. Unit: px per point';if(t.minX>t.maxX){let e=t.minX;t.minX=t.maxX,t.maxX=e}for((this._xdata&&!this._xdata.getMonotoneousAscending()||!this._xdata&&this.xScale<-0)&&(u=!0,e=y);u?e>0:e<y;u?e--:e++)if(l=this.getX(e),t.minX>l)f=e;else if(h=t.xPosition(l),g)if(Math.abs(h-a)>t.resampleToPx||e==y||0==e||isNaN(c[e])){let e=(o+l)/2;if(p.x.push(e),p.y.push(i/n),d.push(e,r,s),void 0!==t.maxX&&l>t.maxX)break;g=!1}else i+=c[e],n++,r=Math.min(r,c[e]),s=Math.max(s,c[e]);else{for(f?(p.x.push(l),p.y.push(c[f])):f=e;isNaN(c[e]);)u?e--:e++;i=r=s=c[f],n=1,a=h,o=l,f=0,g=!0}return this.dataInUseType="resampled",this.dataInUse=p,d}interpolate(t){let e,i=this.getDataY();if(this._xdata){let r=this._xdata.getData(!1);try{e=b(t,r,!this._xdata.getMonotoneousAscending())}catch(t){return NaN}return r[e]==t?i[e]:(t-r[e])/(r[e+1]-r[e])*(i[e+1]-i[e])+i[e]}{e=(t-this.xOffset)/this.xScale;let r=Math.floor(e);return(e-r)*(i[r+1]-i[r])+i[r]}}interpolateIndex_X(t){if(this.getDataY(),this._xdata){let e=this._xdata.getData(),i=Math.floor(t);return(t-i)*(e[i+1]-e[i])+e[i]}}getMonotoneousAscending(){return this.isMonotoneous()?this._monotoneousAscending:"The waveform is not monotoneous"}getXMonotoneousAscending(){return this._xdata?this._xdata.getMonotoneousAscending():this.xScale>0}isXMonotoneousAscending(){return this.getXMonotoneousAscending()}divide(t){return this._arithmetic(t,m)}divideBy(t){return this.divide(t)}multiply(t){return this._arithmetic(t,g)}multiplyBy(t){return this.multiply(t)}log(){return this.logBase(10)}ln(){return this.logBase(Math.E)}logBase(t){let e=Math.log(t);this._data.map((t=>Math.log(t)/e))}add(t){return this._arithmetic(t,f)}addBy(t){return this.add(t)}subtract(t){return this._arithmetic(t,y)}subtractBy(t){return this.subtract(t)}math(t){for(var e=0;e<this.getLength();e++)this._data[e]=t(this.getY(e),this.getX(e));return this._setData(this._data),this}_arithmetic(t,e){return t instanceof c?this._waveArithmetic(t,e):"number"==typeof t?this._numberArithmetic(t,e):void 0}_numberArithmetic(t,e){let i=0,r=this.getLength();if(e==g){for(;i<r;i++)this._data[i]*=t;this.minY*=t,this.maxY*=t}else if(e==m){for(;i<r;i++)this._data[i]/=t;this.minY/=t,this.maxY/=t}else if(e==f){for(;i<r;i++)this._data[i]+=t;this.minY+=t,this.maxY+=t}else if(e==y){for(;i<r;i++)this._data[i]-=t;this.minY-=t,this.maxY-=t}return this}_waveArithmetic(t,e){let i=this.getDataY(),r=0;const s=this.getLength();if(this.requireXMonotonicity(),t.requireXMonotonicity(),this._xdata&&t.xdata){const i=new Set,s=this._xdata._data,n=t.xdata._data;for(r=0;r<s.length;r++)i.add(s[r]);for(r=0;r<n.length;r++)i.add(n[r]);const o=Array.from(i.values());o.sort(((t,e)=>t-e));const a=o.map((i=>e==g?this.interpolate(i)*t.interpolate(i):e==m?this.interpolate(i)/t.interpolate(i):e==f?this.interpolate(i)+t.interpolate(i):e==y?this.interpolate(i)-t.interpolate(i):void 0));this._setData(a),this._xdata._setData(o)}else{if(e==g)for(;r<s;r++)i[r]*=t.interpolate(this.getX(r));else if(e==m)for(;r<s;r++)i[r]/=t.interpolate(this.getX(r));else if(e==f)for(;r<s;r++)i[r]+=t.interpolate(this.getX(r));else if(e==y)for(;r<s;r++)i[r]-=t.interpolate(this.getX(r));this._setData(i)}return this}aggregate(t="x"){this._dataAggregated={},this._dataAggregationDirection=t.toUpperCase();var e=function(t){for(var e=1;t>>=1;)e<<=1;return e}(this.getLength());this._dataAggregating=h({minX:this.minX,maxX:this.maxX,minY:this.minY,maxY:this.maxY,data:this._data,xdata:this._xdata?this._xdata.getData():void 0,xScale:this.xScale,xOffset:this.xOffset,numPoints:e,direction:t}).then((t=>{this._dataAggregated=t.aggregates,this._dataAggregating=void 0}))}hasAggregation(){return!!this._dataAggregated}selectAggregatedData(t){if(t<2)return!1;var e=function(t){t--;for(var e=2;t>>=1;)e<<=1;return e}(t);return this._dataAggregated[e]?(this.dataInUseType=`aggregate${this._dataAggregationDirection}`,void(this.dataInUse=this._dataAggregated[e])):this._dataAggregating?this._dataAggregating:(this.dataInUseType="none",void(this.dataInUse={y:this._data,x:this.getXWaveform()._data}))}duplicate(t=!0){var e=new c;return e._setData(this.getDataY().slice()),e.rescaleX(this.xOffset,this.xScale),e.setShift(this.getShift()),e.setScale(this.getScale()),this._xdata?(t?e.setXWaveform(this._xdata.duplicate()):e.setXWaveform(this._xdata),e.setXShift(this.getXShift()),e.setXScale(this.getXScale())):(e.xOffset=this.xOffset,e.xScale=this.xScale),e}subrangeX(t,e){if(this._xdata){var i=new c;const n=this.getXWaveform()._data;for(var r=0,s=this._data.length;r<s;r++)this._data[r]>=t&&this._data[r]<e&&i.append(n[r],this._data[r]);return i}{let i=this.getIndexFromX(t),r=this.getIndexFromX(e);return(new c).setData(this._data.slice(i,r)).rescaleX(this.xOffset,this.xScale)}}findLocalMinMax(t,e,i){this.getIndexFromX(t);let r=this.getIndexFromX(t+e),s=this.getIndexFromX(t-e);return this.findLocalMinMaxIndex(s,r,i)}findLocalMinMaxIndex(t,e,i){let r,s,n;if(e<t&&(r=e,e=t,t=r),"max"==i){s=Number.NEGATIVE_INFINITY;for(var o=t;o<=e;o++)this.getY(o)>s&&(s=this.getY(o),n=o)}else for(s=Number.POSITIVE_INFINITY,o=t;o<=e;o++)this.getY(o)<s&&(s=this.getY(o),n=o);return n!=t&&n!=e&&this.getX(n)}warn(t){console&&console.warn(t)}setUnit(t){return this.unit=t,this}setXUnit(t){return this.hasXWaveform()&&this._xdata.setUnit(t),this.xunit=t,this}getUnit(){return this.unit||""}getXUnit(){return this.hasXWaveform()?this._xdata.getUnit():this.xunit||""}hasXUnit(){return this.getXUnit().length>0}hasUnit(){return this.getUnit().length>0}findLevels(t,e){for(var i,r=(e=s.extend({box:1,edge:"both",rounding:"before",rangeP:[0,this.getLength()]},e)).rangeP[0],n=[],o=0;i=this.findLevel(t,s.extend(!0,{},e,{rangeP:[r,e.rangeP[1]]}));)if(n.push(i),r=Math.ceil(i),++o>1e3)return;return n}findLevel(t,e){var i,r,n,o,a,h;(e=s.extend({box:1,edge:"both",direction:"ascending",rounding:"before",rangeP:[0,this.getLength()]},e)).rangeX&&(e.rangeP=e.rangeX.map(this.getIndexFromX));var l=e.box;for(l%2==0&&l++,"descending"==e.direction?(n=e.rangeP[1],a=e.rangeP[0],h=-1):(n=e.rangeP[0],a=e.rangeP[1],h=1);;n+=h){if("descending"==e.direction){if(n<a)break}else if(n>a)break;if(!(n<e.rangeP[0]+(l-1)/2)){if(n>e.rangeP[1]-(l-1)/2)break;if(i=this.getAverageP(n-(l-1)/2,n+(l-1)/2),void 0!==r){if(i>=t&&r){if(r=!1,"ascending"==e.edge||"both"==e.edge)for(let i=n+(l-1)/2;i>=n-(l-1)/2;i--)if(this._data[i]>=t&&this._data[i-1]<=t)switch(e.rounding){case"before":return i-1;case"after":return i;case"interpolate":return x(t,this._data[i],this._data[i-1],i,i-1)}}else if(i<=t&&!r&&(r=!0,"descending"==e.edge||"both"==e.edge))for(o=n+(l-1)/2;o>=n-(l-1)/2;o--)if(this._data[o]<=t&&this._data[o-1]>=t)switch(e.rounding){case"before":return o-1;case"after":return o;case"interpolate":return x(t,this._data[o],this._data[o-1],o,o-1)}}else r=i<t}}}normalize(t){let e,i,r,s,n,o;if("max1"==t||"max100"==t){for(e=1,"max100"==t&&(e=100),s=this._data[0],o=1;o<this.getLength();o++)this._data[o]>s&&(s=this._data[o]);for(o=0;o<this.getLength();o++)this._data[o]/=s/e}else if("sum1"==t){for(i=0,o=0;o<this.getLength();o++)i+=this._data[o];for(o=0;o<this.getLength();o++)this._data[o]/=i}else if("max1min0"==t){for(s=this._data[0],r=this._data[0],o=1;o<this.getLength();o++)this._data[o]>s?s=this._data[o]:this._data[o]<r&&(r=this._data[o]);for(n=1/(s-r),o=0;o<this.getLength();o++)this._data[o]=(this._data[o]-r)*n}this.setData(this._data)}filterNaN(){for(var t=this._data.length-1;t>=0;t--)isNaN(this._data[t])&&(this._data=this._data.splice(t,1),this._xdata&&this._xdata._data.splice(t,1))}filterInfinity(){for(var t=this._data.length-1;t>=0;t--)isFinite(this._data[t])||(this._data=this._data.splice(t,1),this._xdata&&this._xdata._data.splice(t,1))}setErrorBarX(t){return t instanceof c||(t=new c(t)),this.getXWaveform().setErrorBar(t),this}setErrorBarXBelow(t){return t instanceof c||(t=new c(t)),this.getXWaveform().setErrorBarBelow(t),this}setErrorBarXAbove(t){return t instanceof c||(t=new c(t)),this.getXWaveform().setErrorBarAbove(t),this}setErrorBoxX(t){t instanceof c||(t=new c(t));var e=this.getXWaveform();return e.setErrorBoxAbove(t),e.setErrorBoxBelow(t),this}setErrorBoxXBelow(t){return t instanceof c||(t=new c(t)),this.getXWaveform().setErrorBoxBelow(t),this}setErrorBoxXAbove(t){return t instanceof c||(t=new c(t)),this.getXWaveform().setErrorBoxAbove(t),this}setErrorBar(t,e=!0){t instanceof c||(t=new c(t)),this.errors.nb++,this.errors.nb++,this.errors.bars.below=t,this.errors.bars.above=t,e&&this._setData(this._data)}setErrorBarBelow(t,e=!0){t instanceof c||(t=new c(t)),this.errors.nb++,this.errors.bars.below=t,e&&this._setData(this._data)}setErrorBarAbove(t,e=!0){t instanceof c||(t=new c(t)),this.errors.nb++,this.errors.bars.above=t,e&&this._setData(this._data)}setErrorBox(t,e=!0){t instanceof c||(t=new c(t)),this.errors.nb++,this.errors.nb++,this.errors.boxes.above=t,this.errors.boxes.below=t,e&&this._setData(this._data)}setErrorBoxBelow(t,e=!0){t instanceof c||(t=new c(t)),this.errors.nb++,this.errors.boxes.below=t,e&&this._setData(this._data)}setErrorBoxAbove(t,e=!0){t instanceof c||(t=new c(t)),this.errors.boxes.above=t,e&&this._setData(this._data)}getMaxError(t,e=p.ABOVE){return Math.max(this.getMaxErrorType(t,e,d.BOX),this.getMaxErrorType(t,e,d.BAR))}getMaxErrorType(t,e=p.ABOVE,i=d.BOX){let r,s;if(i==d.BOX)r=this.errors.boxes;else{if(i!=d.BAR)throw"Unknown type of error";r=this.errors.bars}return(s=r[e])||(e==p.ABOVE?r[e]==p.BELOW&&(s=r.below):r[e]==p.ABOVE&&(s=r.above)),s?s.getY(t):0}getErrorBarXBelow(t){return this.getErrorX(t,p.BELOW,d.BAR)}getErrorBarXAbove(t){return this.getErrorX(t,p.ABOVE,d.BAR)}getErrorBoxXBelow(t){return this.getErrorX(t,p.BELOW,d.BOX)}getErrorBoxXAbove(t){return this.getErrorX(t,p.ABOVE,d.BOX)}getErrorBarYBelow(t){return this.getError(t,p.BELOW,d.BAR)}getErrorBarYAbove(t){return this.getError(t,p.ABOVE,d.BAR)}getErrorBoxYBelow(t){return this.getError(t,p.BELOW,d.BOX)}getErrorBoxYAbove(t){return this.getError(t,p.ABOVE,d.BOX)}getErrorX(t,e=p.ABOVE,i=d.BAR){return!!this.hasXWaveform()&&this._xdata.getError(t,e,i)}getError(t,e=p.ABOVE,i=d.BAR){let r,s=i==d.BAR?this.errors.bars:this.errors.boxes;return!!s&&((r=e==p.ABOVE?s.above:s.below)?r.getY(t):void 0)}hasErrorBars(){return this.errors.nb>0||this.hasXWaveform()&&this._xdata.errors.nb>0}}var p,d;!function(t){t[t.ABOVE=0]="ABOVE",t[t.BELOW=1]="BELOW"}(p||(p={})),function(t){t[t.BOX=0]="BOX",t[t.BAR=1]="BAR"}(d||(d={}));const g=Symbol(),f=Symbol(),y=Symbol(),m=Symbol();function x(t,e,i,r,s){return(t-e)/(i-e)*(s-r)+r}function v(t,e,i,r,s=1,n=1){let o,a=Number.MAX_VALUE,h=-1;if(void 0!==t&&null==e)for(var l=0,u=i.length;l<u;l++)o=Math.abs((t-i[l])*s),o<a&&(h=l,a=o);else if(null==t&&void 0!==e)for(l=0,u=r.length;l<u;l++)o=Math.abs((e-r[l])*n),o<a&&(h=l,a=o);else for(l=0,u=i.length;l<u;l++)o=((t-i[l])*s)**2+((e-r[l])*n)**2,o<a&&(h=l,a=o);return h}function b(t,e,i=e[e.length-1]<e[0],r=!0){let s,n=0,o=e.length-1,a=0,h=1;if(!i&&(e[0]>t||e[o]<t)||i&&(e[0]<t||e[o]>t))throw new Error(`Target ${t} is not in the stack`);if(e[n]==t)return n;if(e[o]==t)return o;for(;;){if(a++,a>1e3)throw new Error("Error loop");for(s=Math.floor((n+o)/2);isNaN(e[s]);){if(s>=e.length-1)return e.length-1;if(s<=0)return 0;s+=h}if(e[s]==t)return s;if(s==n||s==o)return r?Math.abs(t-e[n])<Math.abs(t-e[o])?n:o:s;if(e[s]<t)i?o=s:n=s;else{if(!(e[s]>t))return!1;i?n=s:o=s}h*=-1}}class _ extends c{hasXWaveform(){return!1}setXWaveform(t){if(Array.isArray(t))throw"Waveform must be of a pure Waveform instance (and not an array)";this._xdata=t}getYFromX(t){const e=this._xdata.indexOf(t);if(-1==e)throw`Cannot find key ${t}`;return this._data[e]}getY(t){return this._data[t]}getX(t){return this._xdata[t]}hasXUnit(){return!1}errorNotImplemented(){throw console.trace(),"Not available in hash waveform"}subrangeX(t,e){this.errorNotImplemented()}duplicate(){this.errorNotImplemented()}aggregate(){this.errorNotImplemented()}_waveArithmetic(){this.errorNotImplemented()}interpolateIndex_X(t){this.errorNotImplemented()}getXMonotoneousAscending(){this.errorNotImplemented()}isXMonotoneousAscending(){this.errorNotImplemented()}interpolate(){this.errorNotImplemented()}resampleForDisplay(){this.errorNotImplemented()}isXMonotoneous(){this.errorNotImplemented()}rescaleX(){this.errorNotImplemented()}getXMin(){}getXMax(){}computeXMinMax(){}setData(t){this._data=Object.values(t),this._xdata=Object.keys(t),this._setData()}_setData(){this.minY=Math.min(...this._data),this.maxY=Math.max(...this._data),this.checkMinMaxErrorBars()}}function A(t,e){return(t.x-e.x)**2+(t.y-e.y)**2}},2513:(t,e)=>{"use strict";let i;Object.defineProperty(e,"__esModule",{value:!0}),e.SERIE_TYPE=e.SERIE_DEFAULT_STYLE=void 0,e.SERIE_DEFAULT_STYLE={line:{color:"black"}},e.SERIE_TYPE=i,function(t){t.LINE="line",t.LINE_3D="line3d",t.LINE_COLORED="line_colored",t.CONTOUR="contour",t.BAR="bar",t.BOX="box",t.SCATTER="scatter",t.ZONE="zone",t.ZONE_3D="zone3d",t.DENSITY_MAP="densitymap",t.HISTOGRAM="HISTOGRAM"}(i||(e.SERIE_TYPE=i={}))},1924:(t,e,i)=>{"use strict";var r=i(210),s=i(5559),n=s(r("String.prototype.indexOf"));t.exports=function(t,e){var i=r(t,!!e);return"function"==typeof i&&n(t,".prototype.")>-1?s(i):i}},5559:(t,e,i)=>{"use strict";var r=i(8612),s=i(210),n=s("%Function.prototype.apply%"),o=s("%Function.prototype.call%"),a=s("%Reflect.apply%",!0)||r.call(o,n),h=s("%Object.getOwnPropertyDescriptor%",!0),l=s("%Object.defineProperty%",!0),u=s("%Math.max%");if(l)try{l({},"a",{value:1})}catch(t){l=null}t.exports=function(t){var e=a(r,o,arguments);if(h&&l){var i=h(e,"length");i.configurable&&l(e,"length",{value:1+u(0,t.length-(arguments.length-1))})}return e};var c=function(){return a(r,n,arguments)};l?l(t.exports,"apply",{value:c}):t.exports.apply=c},4289:(t,e,i)=>{"use strict";var r=i(2215),s="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),n=Object.prototype.toString,o=Array.prototype.concat,a=Object.defineProperty,h=a&&function(){var t={};try{for(var e in a(t,"x",{enumerable:!1,value:t}),t)return!1;return t.x===t}catch(t){return!1}}(),l=function(t,e,i,r){var s;(!(e in t)||"function"==typeof(s=r)&&"[object Function]"===n.call(s)&&r())&&(h?a(t,e,{configurable:!0,enumerable:!1,value:i,writable:!0}):t[e]=i)},u=function(t,e){var i=arguments.length>2?arguments[2]:{},n=r(e);s&&(n=o.call(n,Object.getOwnPropertySymbols(e)));for(var a=0;a<n.length;a+=1)l(t,n[a],e[n[a]],i[n[a]])};u.supportsDescriptors=!!h,t.exports=u},8091:t=>{"use strict";function e(t,e){if(null==t)throw new TypeError("Cannot convert first argument to object");for(var i=Object(t),r=1;r<arguments.length;r++){var s=arguments[r];if(null!=s)for(var n=Object.keys(Object(s)),o=0,a=n.length;o<a;o++){var h=n[o],l=Object.getOwnPropertyDescriptor(s,h);void 0!==l&&l.enumerable&&(i[h]=s[h])}}return i}t.exports={assign:e,polyfill:function(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:e})}}},9804:t=>{var e=Object.prototype.hasOwnProperty,i=Object.prototype.toString;t.exports=function(t,r,s){if("[object Function]"!==i.call(r))throw new TypeError("iterator must be a function");var n=t.length;if(n===+n)for(var o=0;o<n;o++)r.call(s,t[o],o,t);else for(var a in t)e.call(t,a)&&r.call(s,t[a],a,t)}},7648:t=>{"use strict";var e="Function.prototype.bind called on incompatible ",i=Array.prototype.slice,r=Object.prototype.toString,s="[object Function]";t.exports=function(t){var n=this;if("function"!=typeof n||r.call(n)!==s)throw new TypeError(e+n);for(var o,a=i.call(arguments,1),h=function(){if(this instanceof o){var e=n.apply(this,a.concat(i.call(arguments)));return Object(e)===e?e:this}return n.apply(t,a.concat(i.call(arguments)))},l=Math.max(0,n.length-a.length),u=[],c=0;c<l;c++)u.push("$"+c);if(o=Function("binder","return function ("+u.join(",")+"){ return binder.apply(this,arguments); }")(h),n.prototype){var p=function(){};p.prototype=n.prototype,o.prototype=new p,p.prototype=null}return o}},8612:(t,e,i)=>{"use strict";var r=i(7648);t.exports=Function.prototype.bind||r},210:(t,e,i)=>{"use strict";var r,s=SyntaxError,n=Function,o=TypeError,a=function(t){try{return n('"use strict"; return ('+t+").constructor;")()}catch(t){}},h=Object.getOwnPropertyDescriptor;if(h)try{h({},"")}catch(t){h=null}var l=function(){throw new o},u=h?function(){try{return l}catch(t){try{return h(arguments,"callee").get}catch(t){return l}}}():l,c=i(1405)(),p=Object.getPrototypeOf||function(t){return t.__proto__},d={},g="undefined"==typeof Uint8Array?r:p(Uint8Array),f={"%AggregateError%":"undefined"==typeof AggregateError?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?r:ArrayBuffer,"%ArrayIteratorPrototype%":c?p([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":d,"%AsyncGenerator%":d,"%AsyncGeneratorFunction%":d,"%AsyncIteratorPrototype%":d,"%Atomics%":"undefined"==typeof Atomics?r:Atomics,"%BigInt%":"undefined"==typeof BigInt?r:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?r:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?r:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?r:FinalizationRegistry,"%Function%":n,"%GeneratorFunction%":d,"%Int8Array%":"undefined"==typeof Int8Array?r:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?r:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":c?p(p([][Symbol.iterator]())):r,"%JSON%":"object"==typeof JSON?JSON:r,"%Map%":"undefined"==typeof Map?r:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&c?p((new Map)[Symbol.iterator]()):r,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?r:Promise,"%Proxy%":"undefined"==typeof Proxy?r:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?r:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?r:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&c?p((new Set)[Symbol.iterator]()):r,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":c?p(""[Symbol.iterator]()):r,"%Symbol%":c?Symbol:r,"%SyntaxError%":s,"%ThrowTypeError%":u,"%TypedArray%":g,"%TypeError%":o,"%Uint8Array%":"undefined"==typeof Uint8Array?r:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?r:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?r:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?r:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?r:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?r:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?r:WeakSet},y=function t(e){var i;if("%AsyncFunction%"===e)i=a("async function () {}");else if("%GeneratorFunction%"===e)i=a("function* () {}");else if("%AsyncGeneratorFunction%"===e)i=a("async function* () {}");else if("%AsyncGenerator%"===e){var r=t("%AsyncGeneratorFunction%");r&&(i=r.prototype)}else if("%AsyncIteratorPrototype%"===e){var s=t("%AsyncGenerator%");s&&(i=p(s.prototype))}return f[e]=i,i},m={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},x=i(8612),v=i(7642),b=x.call(Function.call,Array.prototype.concat),_=x.call(Function.apply,Array.prototype.splice),A=x.call(Function.call,String.prototype.replace),S=x.call(Function.call,String.prototype.slice),M=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,w=/\\(\\)?/g,k=function(t){var e=S(t,0,1),i=S(t,-1);if("%"===e&&"%"!==i)throw new s("invalid intrinsic syntax, expected closing `%`");if("%"===i&&"%"!==e)throw new s("invalid intrinsic syntax, expected opening `%`");var r=[];return A(t,M,(function(t,e,i,s){r[r.length]=i?A(s,w,"$1"):e||t})),r},P=function(t,e){var i,r=t;if(v(m,r)&&(r="%"+(i=m[r])[0]+"%"),v(f,r)){var n=f[r];if(n===d&&(n=y(r)),void 0===n&&!e)throw new o("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:i,name:r,value:n}}throw new s("intrinsic "+t+" does not exist!")};t.exports=function(t,e){if("string"!=typeof t||0===t.length)throw new o("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof e)throw new o('"allowMissing" argument must be a boolean');var i=k(t),r=i.length>0?i[0]:"",n=P("%"+r+"%",e),a=n.name,l=n.value,u=!1,c=n.alias;c&&(r=c[0],_(i,b([0,1],c)));for(var p=1,d=!0;p<i.length;p+=1){var g=i[p],y=S(g,0,1),m=S(g,-1);if(('"'===y||"'"===y||"`"===y||'"'===m||"'"===m||"`"===m)&&y!==m)throw new s("property names with quotes must have matching quotes");if("constructor"!==g&&d||(u=!0),v(f,a="%"+(r+="."+g)+"%"))l=f[a];else if(null!=l){if(!(g in l)){if(!e)throw new o("base intrinsic for "+t+" exists, but the property is not available.");return}if(h&&p+1>=i.length){var x=h(l,g);l=(d=!!x)&&"get"in x&&!("originalValue"in x.get)?x.get:l[g]}else d=v(l,g),l=l[g];d&&!u&&(f[a]=l)}}return l}},1405:(t,e,i)=>{"use strict";var r="undefined"!=typeof Symbol&&Symbol,s=i(5419);t.exports=function(){return"function"==typeof r&&"function"==typeof Symbol&&"symbol"==typeof r("foo")&&"symbol"==typeof Symbol("bar")&&s()}},5419:t=>{"use strict";t.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var t={},e=Symbol("test"),i=Object(e);if("string"==typeof e)return!1;if("[object Symbol]"!==Object.prototype.toString.call(e))return!1;if("[object Symbol]"!==Object.prototype.toString.call(i))return!1;for(e in t[e]=42,t)return!1;if("function"==typeof Object.keys&&0!==Object.keys(t).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;var r=Object.getOwnPropertySymbols(t);if(1!==r.length||r[0]!==e)return!1;if(!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var s=Object.getOwnPropertyDescriptor(t,e);if(42!==s.value||!0!==s.enumerable)return!1}return!0}},6410:(t,e,i)=>{"use strict";var r=i(5419);t.exports=function(){return r()&&!!Symbol.toStringTag}},7642:(t,e,i)=>{"use strict";var r=i(8612);t.exports=r.call(Function.call,Object.prototype.hasOwnProperty)},5717:t=>{"function"==typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var i=function(){};i.prototype=e.prototype,t.prototype=new i,t.prototype.constructor=t}}},2584:(t,e,i)=>{"use strict";var r=i(6410)(),s=i(1924)("Object.prototype.toString"),n=function(t){return!(r&&t&&"object"==typeof t&&Symbol.toStringTag in t)&&"[object Arguments]"===s(t)},o=function(t){return!!n(t)||null!==t&&"object"==typeof t&&"number"==typeof t.length&&t.length>=0&&"[object Array]"!==s(t)&&"[object Function]"===s(t.callee)},a=function(){return n(arguments)}();n.isLegacyArguments=o,t.exports=a?n:o},8662:(t,e,i)=>{"use strict";var r,s=Object.prototype.toString,n=Function.prototype.toString,o=/^\s*(?:function)?\*/,a=i(6410)(),h=Object.getPrototypeOf;t.exports=function(t){if("function"!=typeof t)return!1;if(o.test(n.call(t)))return!0;if(!a)return"[object GeneratorFunction]"===s.call(t);if(!h)return!1;if(void 0===r){var e=function(){if(!a)return!1;try{return Function("return function*() {}")()}catch(t){}}();r=!!e&&h(e)}return h(t)===r}},8611:t=>{"use strict";t.exports=function(t){return t!=t}},360:(t,e,i)=>{"use strict";var r=i(5559),s=i(4289),n=i(8611),o=i(9415),a=i(3194),h=r(o(),Number);s(h,{getPolyfill:o,implementation:n,shim:a}),t.exports=h},9415:(t,e,i)=>{"use strict";var r=i(8611);t.exports=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:r}},3194:(t,e,i)=>{"use strict";var r=i(4289),s=i(9415);t.exports=function(){var t=s();return r(Number,{isNaN:t},{isNaN:function(){return Number.isNaN!==t}}),t}},5692:(t,e,i)=>{"use strict";var r=i(9804),s=i(3083),n=i(1924),o=n("Object.prototype.toString"),a=i(6410)(),h="undefined"==typeof globalThis?i.g:globalThis,l=s(),u=n("Array.prototype.indexOf",!0)||function(t,e){for(var i=0;i<t.length;i+=1)if(t[i]===e)return i;return-1},c=n("String.prototype.slice"),p={},d=i(882),g=Object.getPrototypeOf;a&&d&&g&&r(l,(function(t){var e=new h[t];if(Symbol.toStringTag in e){var i=g(e),r=d(i,Symbol.toStringTag);if(!r){var s=g(i);r=d(s,Symbol.toStringTag)}p[t]=r.get}})),t.exports=function(t){if(!t||"object"!=typeof t)return!1;if(!a||!(Symbol.toStringTag in t)){var e=c(o(t),8,-1);return u(l,e)>-1}return!!d&&function(t){var e=!1;return r(p,(function(i,r){if(!e)try{e=i.call(t)===r}catch(t){}})),e}(t)}},6486:function(t,e,i){var r;t=i.nmd(t),function(){var s,n="Expected a function",o="__lodash_hash_undefined__",a="__lodash_placeholder__",h=32,l=128,u=1/0,c=9007199254740991,p=NaN,d=4294967295,g=[["ary",l],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",h],["partialRight",64],["rearg",256]],f="[object Arguments]",y="[object Array]",m="[object Boolean]",x="[object Date]",v="[object Error]",b="[object Function]",_="[object GeneratorFunction]",A="[object Map]",S="[object Number]",M="[object Object]",w="[object Promise]",k="[object RegExp]",P="[object Set]",L="[object String]",C="[object Symbol]",E="[object WeakMap]",O="[object ArrayBuffer]",T="[object DataView]",D="[object Float32Array]",X="[object Float64Array]",I="[object Int8Array]",N="[object Int16Array]",j="[object Int32Array]",Y="[object Uint8Array]",B="[object Uint8ClampedArray]",F="[object Uint16Array]",H="[object Uint32Array]",W=/\b__p \+= '';/g,R=/\b(__p \+=) '' \+/g,z=/(__e\(.*?\)|\b__t\)) \+\n'';/g,$=/&(?:amp|lt|gt|quot|#39);/g,U=/[&<>"']/g,V=RegExp($.source),G=RegExp(U.source),q=/<%-([\s\S]+?)%>/g,Z=/<%([\s\S]+?)%>/g,J=/<%=([\s\S]+?)%>/g,K=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Q=/^\w*$/,tt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,et=/[\\^$.*+?()[\]{}|]/g,it=RegExp(et.source),rt=/^\s+/,st=/\s/,nt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ot=/\{\n\/\* \[wrapped with (.+)\] \*/,at=/,? & /,ht=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,lt=/[()=,{}\[\]\/\s]/,ut=/\\(\\)?/g,ct=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,pt=/\w*$/,dt=/^[-+]0x[0-9a-f]+$/i,gt=/^0b[01]+$/i,ft=/^\[object .+?Constructor\]$/,yt=/^0o[0-7]+$/i,mt=/^(?:0|[1-9]\d*)$/,xt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,vt=/($^)/,bt=/['\n\r\u2028\u2029\\]/g,_t="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",At="a-z\\xdf-\\xf6\\xf8-\\xff",St="A-Z\\xc0-\\xd6\\xd8-\\xde",Mt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",wt="["+Mt+"]",kt="["+_t+"]",Pt="\\d+",Lt="["+At+"]",Ct="[^\\ud800-\\udfff"+Mt+Pt+"\\u2700-\\u27bf"+At+St+"]",Et="\\ud83c[\\udffb-\\udfff]",Ot="[^\\ud800-\\udfff]",Tt="(?:\\ud83c[\\udde6-\\uddff]){2}",Dt="[\\ud800-\\udbff][\\udc00-\\udfff]",Xt="["+St+"]",It="(?:"+Lt+"|"+Ct+")",Nt="(?:"+Xt+"|"+Ct+")",jt="(?:['’](?:d|ll|m|re|s|t|ve))?",Yt="(?:['’](?:D|LL|M|RE|S|T|VE))?",Bt="(?:"+kt+"|"+Et+")?",Ft="[\\ufe0e\\ufe0f]?",Ht=Ft+Bt+"(?:\\u200d(?:"+[Ot,Tt,Dt].join("|")+")"+Ft+Bt+")*",Wt="(?:"+["[\\u2700-\\u27bf]",Tt,Dt].join("|")+")"+Ht,Rt="(?:"+[Ot+kt+"?",kt,Tt,Dt,"[\\ud800-\\udfff]"].join("|")+")",zt=RegExp("['’]","g"),$t=RegExp(kt,"g"),Ut=RegExp(Et+"(?="+Et+")|"+Rt+Ht,"g"),Vt=RegExp([Xt+"?"+Lt+"+"+jt+"(?="+[wt,Xt,"$"].join("|")+")",Nt+"+"+Yt+"(?="+[wt,Xt+It,"$"].join("|")+")",Xt+"?"+It+"+"+jt,Xt+"+"+Yt,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Pt,Wt].join("|"),"g"),Gt=RegExp("[\\u200d\\ud800-\\udfff"+_t+"\\ufe0e\\ufe0f]"),qt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Zt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Jt=-1,Kt={};Kt[D]=Kt[X]=Kt[I]=Kt[N]=Kt[j]=Kt[Y]=Kt[B]=Kt[F]=Kt[H]=!0,Kt[f]=Kt[y]=Kt[O]=Kt[m]=Kt[T]=Kt[x]=Kt[v]=Kt[b]=Kt[A]=Kt[S]=Kt[M]=Kt[k]=Kt[P]=Kt[L]=Kt[E]=!1;var Qt={};Qt[f]=Qt[y]=Qt[O]=Qt[T]=Qt[m]=Qt[x]=Qt[D]=Qt[X]=Qt[I]=Qt[N]=Qt[j]=Qt[A]=Qt[S]=Qt[M]=Qt[k]=Qt[P]=Qt[L]=Qt[C]=Qt[Y]=Qt[B]=Qt[F]=Qt[H]=!0,Qt[v]=Qt[b]=Qt[E]=!1;var te={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ee=parseFloat,ie=parseInt,re="object"==typeof i.g&&i.g&&i.g.Object===Object&&i.g,se="object"==typeof self&&self&&self.Object===Object&&self,ne=re||se||Function("return this")(),oe=e&&!e.nodeType&&e,ae=oe&&t&&!t.nodeType&&t,he=ae&&ae.exports===oe,le=he&&re.process,ue=function(){try{return ae&&ae.require&&ae.require("util").types||le&&le.binding&&le.binding("util")}catch(t){}}(),ce=ue&&ue.isArrayBuffer,pe=ue&&ue.isDate,de=ue&&ue.isMap,ge=ue&&ue.isRegExp,fe=ue&&ue.isSet,ye=ue&&ue.isTypedArray;function me(t,e,i){switch(i.length){case 0:return t.call(e);case 1:return t.call(e,i[0]);case 2:return t.call(e,i[0],i[1]);case 3:return t.call(e,i[0],i[1],i[2])}return t.apply(e,i)}function xe(t,e,i,r){for(var s=-1,n=null==t?0:t.length;++s<n;){var o=t[s];e(r,o,i(o),t)}return r}function ve(t,e){for(var i=-1,r=null==t?0:t.length;++i<r&&!1!==e(t[i],i,t););return t}function be(t,e){for(var i=null==t?0:t.length;i--&&!1!==e(t[i],i,t););return t}function _e(t,e){for(var i=-1,r=null==t?0:t.length;++i<r;)if(!e(t[i],i,t))return!1;return!0}function Ae(t,e){for(var i=-1,r=null==t?0:t.length,s=0,n=[];++i<r;){var o=t[i];e(o,i,t)&&(n[s++]=o)}return n}function Se(t,e){return!(null==t||!t.length)&&De(t,e,0)>-1}function Me(t,e,i){for(var r=-1,s=null==t?0:t.length;++r<s;)if(i(e,t[r]))return!0;return!1}function we(t,e){for(var i=-1,r=null==t?0:t.length,s=Array(r);++i<r;)s[i]=e(t[i],i,t);return s}function ke(t,e){for(var i=-1,r=e.length,s=t.length;++i<r;)t[s+i]=e[i];return t}function Pe(t,e,i,r){var s=-1,n=null==t?0:t.length;for(r&&n&&(i=t[++s]);++s<n;)i=e(i,t[s],s,t);return i}function Le(t,e,i,r){var s=null==t?0:t.length;for(r&&s&&(i=t[--s]);s--;)i=e(i,t[s],s,t);return i}function Ce(t,e){for(var i=-1,r=null==t?0:t.length;++i<r;)if(e(t[i],i,t))return!0;return!1}var Ee=je("length");function Oe(t,e,i){var r;return i(t,(function(t,i,s){if(e(t,i,s))return r=i,!1})),r}function Te(t,e,i,r){for(var s=t.length,n=i+(r?1:-1);r?n--:++n<s;)if(e(t[n],n,t))return n;return-1}function De(t,e,i){return e==e?function(t,e,i){for(var r=i-1,s=t.length;++r<s;)if(t[r]===e)return r;return-1}(t,e,i):Te(t,Ie,i)}function Xe(t,e,i,r){for(var s=i-1,n=t.length;++s<n;)if(r(t[s],e))return s;return-1}function Ie(t){return t!=t}function Ne(t,e){var i=null==t?0:t.length;return i?Fe(t,e)/i:p}function je(t){return function(e){return null==e?s:e[t]}}function Ye(t){return function(e){return null==t?s:t[e]}}function Be(t,e,i,r,s){return s(t,(function(t,s,n){i=r?(r=!1,t):e(i,t,s,n)})),i}function Fe(t,e){for(var i,r=-1,n=t.length;++r<n;){var o=e(t[r]);o!==s&&(i=i===s?o:i+o)}return i}function He(t,e){for(var i=-1,r=Array(t);++i<t;)r[i]=e(i);return r}function We(t){return t?t.slice(0,oi(t)+1).replace(rt,""):t}function Re(t){return function(e){return t(e)}}function ze(t,e){return we(e,(function(e){return t[e]}))}function $e(t,e){return t.has(e)}function Ue(t,e){for(var i=-1,r=t.length;++i<r&&De(e,t[i],0)>-1;);return i}function Ve(t,e){for(var i=t.length;i--&&De(e,t[i],0)>-1;);return i}function Ge(t,e){for(var i=t.length,r=0;i--;)t[i]===e&&++r;return r}var qe=Ye({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"}),Ze=Ye({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Je(t){return"\\"+te[t]}function Ke(t){return Gt.test(t)}function Qe(t){var e=-1,i=Array(t.size);return t.forEach((function(t,r){i[++e]=[r,t]})),i}function ti(t,e){return function(i){return t(e(i))}}function ei(t,e){for(var i=-1,r=t.length,s=0,n=[];++i<r;){var o=t[i];o!==e&&o!==a||(t[i]=a,n[s++]=i)}return n}function ii(t){var e=-1,i=Array(t.size);return t.forEach((function(t){i[++e]=t})),i}function ri(t){var e=-1,i=Array(t.size);return t.forEach((function(t){i[++e]=[t,t]})),i}function si(t){return Ke(t)?function(t){for(var e=Ut.lastIndex=0;Ut.test(t);)++e;return e}(t):Ee(t)}function ni(t){return Ke(t)?function(t){return t.match(Ut)||[]}(t):function(t){return t.split("")}(t)}function oi(t){for(var e=t.length;e--&&st.test(t.charAt(e)););return e}var ai=Ye({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),hi=function t(e){var i,r=(e=null==e?ne:hi.defaults(ne.Object(),e,hi.pick(ne,Zt))).Array,st=e.Date,_t=e.Error,At=e.Function,St=e.Math,Mt=e.Object,wt=e.RegExp,kt=e.String,Pt=e.TypeError,Lt=r.prototype,Ct=At.prototype,Et=Mt.prototype,Ot=e["__core-js_shared__"],Tt=Ct.toString,Dt=Et.hasOwnProperty,Xt=0,It=(i=/[^.]+$/.exec(Ot&&Ot.keys&&Ot.keys.IE_PROTO||""))?"Symbol(src)_1."+i:"",Nt=Et.toString,jt=Tt.call(Mt),Yt=ne._,Bt=wt("^"+Tt.call(Dt).replace(et,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ft=he?e.Buffer:s,Ht=e.Symbol,Wt=e.Uint8Array,Rt=Ft?Ft.allocUnsafe:s,Ut=ti(Mt.getPrototypeOf,Mt),Gt=Mt.create,te=Et.propertyIsEnumerable,re=Lt.splice,se=Ht?Ht.isConcatSpreadable:s,oe=Ht?Ht.iterator:s,ae=Ht?Ht.toStringTag:s,le=function(){try{var t=ln(Mt,"defineProperty");return t({},"",{}),t}catch(t){}}(),ue=e.clearTimeout!==ne.clearTimeout&&e.clearTimeout,Ee=st&&st.now!==ne.Date.now&&st.now,Ye=e.setTimeout!==ne.setTimeout&&e.setTimeout,li=St.ceil,ui=St.floor,ci=Mt.getOwnPropertySymbols,pi=Ft?Ft.isBuffer:s,di=e.isFinite,gi=Lt.join,fi=ti(Mt.keys,Mt),yi=St.max,mi=St.min,xi=st.now,vi=e.parseInt,bi=St.random,_i=Lt.reverse,Ai=ln(e,"DataView"),Si=ln(e,"Map"),Mi=ln(e,"Promise"),wi=ln(e,"Set"),ki=ln(e,"WeakMap"),Pi=ln(Mt,"create"),Li=ki&&new ki,Ci={},Ei=Yn(Ai),Oi=Yn(Si),Ti=Yn(Mi),Di=Yn(wi),Xi=Yn(ki),Ii=Ht?Ht.prototype:s,Ni=Ii?Ii.valueOf:s,ji=Ii?Ii.toString:s;function Yi(t){if(ia(t)&&!$o(t)&&!(t instanceof Wi)){if(t instanceof Hi)return t;if(Dt.call(t,"__wrapped__"))return Bn(t)}return new Hi(t)}var Bi=function(){function t(){}return function(e){if(!ea(e))return{};if(Gt)return Gt(e);t.prototype=e;var i=new t;return t.prototype=s,i}}();function Fi(){}function Hi(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=s}function Wi(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=d,this.__views__=[]}function Ri(t){var e=-1,i=null==t?0:t.length;for(this.clear();++e<i;){var r=t[e];this.set(r[0],r[1])}}function zi(t){var e=-1,i=null==t?0:t.length;for(this.clear();++e<i;){var r=t[e];this.set(r[0],r[1])}}function $i(t){var e=-1,i=null==t?0:t.length;for(this.clear();++e<i;){var r=t[e];this.set(r[0],r[1])}}function Ui(t){var e=-1,i=null==t?0:t.length;for(this.__data__=new $i;++e<i;)this.add(t[e])}function Vi(t){var e=this.__data__=new zi(t);this.size=e.size}function Gi(t,e){var i=$o(t),r=!i&&zo(t),s=!i&&!r&&qo(t),n=!i&&!r&&!s&&ua(t),o=i||r||s||n,a=o?He(t.length,kt):[],h=a.length;for(var l in t)!e&&!Dt.call(t,l)||o&&("length"==l||s&&("offset"==l||"parent"==l)||n&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||yn(l,h))||a.push(l);return a}function qi(t){var e=t.length;return e?t[$r(0,e-1)]:s}function Zi(t,e){return Dn(ks(t),nr(e,0,t.length))}function Ji(t){return Dn(ks(t))}function Ki(t,e,i){(i!==s&&!Ho(t[e],i)||i===s&&!(e in t))&&rr(t,e,i)}function Qi(t,e,i){var r=t[e];Dt.call(t,e)&&Ho(r,i)&&(i!==s||e in t)||rr(t,e,i)}function tr(t,e){for(var i=t.length;i--;)if(Ho(t[i][0],e))return i;return-1}function er(t,e,i,r){return ur(t,(function(t,s,n){e(r,t,i(t),n)})),r}function ir(t,e){return t&&Ps(e,Ta(e),t)}function rr(t,e,i){"__proto__"==e&&le?le(t,e,{configurable:!0,enumerable:!0,value:i,writable:!0}):t[e]=i}function sr(t,e){for(var i=-1,n=e.length,o=r(n),a=null==t;++i<n;)o[i]=a?s:Pa(t,e[i]);return o}function nr(t,e,i){return t==t&&(i!==s&&(t=t<=i?t:i),e!==s&&(t=t>=e?t:e)),t}function or(t,e,i,r,n,o){var a,h=1&e,l=2&e,u=4&e;if(i&&(a=n?i(t,r,n,o):i(t)),a!==s)return a;if(!ea(t))return t;var c=$o(t);if(c){if(a=function(t){var e=t.length,i=new t.constructor(e);return e&&"string"==typeof t[0]&&Dt.call(t,"index")&&(i.index=t.index,i.input=t.input),i}(t),!h)return ks(t,a)}else{var p=pn(t),d=p==b||p==_;if(qo(t))return bs(t,h);if(p==M||p==f||d&&!n){if(a=l||d?{}:gn(t),!h)return l?function(t,e){return Ps(t,cn(t),e)}(t,function(t,e){return t&&Ps(e,Da(e),t)}(a,t)):function(t,e){return Ps(t,un(t),e)}(t,ir(a,t))}else{if(!Qt[p])return n?t:{};a=function(t,e,i){var r,s=t.constructor;switch(e){case O:return _s(t);case m:case x:return new s(+t);case T:return function(t,e){var i=e?_s(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.byteLength)}(t,i);case D:case X:case I:case N:case j:case Y:case B:case F:case H:return As(t,i);case A:return new s;case S:case L:return new s(t);case k:return function(t){var e=new t.constructor(t.source,pt.exec(t));return e.lastIndex=t.lastIndex,e}(t);case P:return new s;case C:return r=t,Ni?Mt(Ni.call(r)):{}}}(t,p,h)}}o||(o=new Vi);var g=o.get(t);if(g)return g;o.set(t,a),aa(t)?t.forEach((function(r){a.add(or(r,e,i,r,t,o))})):ra(t)&&t.forEach((function(r,s){a.set(s,or(r,e,i,s,t,o))}));var y=c?s:(u?l?en:tn:l?Da:Ta)(t);return ve(y||t,(function(r,s){y&&(r=t[s=r]),Qi(a,s,or(r,e,i,s,t,o))})),a}function ar(t,e,i){var r=i.length;if(null==t)return!r;for(t=Mt(t);r--;){var n=i[r],o=e[n],a=t[n];if(a===s&&!(n in t)||!o(a))return!1}return!0}function hr(t,e,i){if("function"!=typeof t)throw new Pt(n);return Cn((function(){t.apply(s,i)}),e)}function lr(t,e,i,r){var s=-1,n=Se,o=!0,a=t.length,h=[],l=e.length;if(!a)return h;i&&(e=we(e,Re(i))),r?(n=Me,o=!1):e.length>=200&&(n=$e,o=!1,e=new Ui(e));t:for(;++s<a;){var u=t[s],c=null==i?u:i(u);if(u=r||0!==u?u:0,o&&c==c){for(var p=l;p--;)if(e[p]===c)continue t;h.push(u)}else n(e,c,r)||h.push(u)}return h}Yi.templateSettings={escape:q,evaluate:Z,interpolate:J,variable:"",imports:{_:Yi}},Yi.prototype=Fi.prototype,Yi.prototype.constructor=Yi,Hi.prototype=Bi(Fi.prototype),Hi.prototype.constructor=Hi,Wi.prototype=Bi(Fi.prototype),Wi.prototype.constructor=Wi,Ri.prototype.clear=function(){this.__data__=Pi?Pi(null):{},this.size=0},Ri.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Ri.prototype.get=function(t){var e=this.__data__;if(Pi){var i=e[t];return i===o?s:i}return Dt.call(e,t)?e[t]:s},Ri.prototype.has=function(t){var e=this.__data__;return Pi?e[t]!==s:Dt.call(e,t)},Ri.prototype.set=function(t,e){var i=this.__data__;return this.size+=this.has(t)?0:1,i[t]=Pi&&e===s?o:e,this},zi.prototype.clear=function(){this.__data__=[],this.size=0},zi.prototype.delete=function(t){var e=this.__data__,i=tr(e,t);return!(i<0||(i==e.length-1?e.pop():re.call(e,i,1),--this.size,0))},zi.prototype.get=function(t){var e=this.__data__,i=tr(e,t);return i<0?s:e[i][1]},zi.prototype.has=function(t){return tr(this.__data__,t)>-1},zi.prototype.set=function(t,e){var i=this.__data__,r=tr(i,t);return r<0?(++this.size,i.push([t,e])):i[r][1]=e,this},$i.prototype.clear=function(){this.size=0,this.__data__={hash:new Ri,map:new(Si||zi),string:new Ri}},$i.prototype.delete=function(t){var e=an(this,t).delete(t);return this.size-=e?1:0,e},$i.prototype.get=function(t){return an(this,t).get(t)},$i.prototype.has=function(t){return an(this,t).has(t)},$i.prototype.set=function(t,e){var i=an(this,t),r=i.size;return i.set(t,e),this.size+=i.size==r?0:1,this},Ui.prototype.add=Ui.prototype.push=function(t){return this.__data__.set(t,o),this},Ui.prototype.has=function(t){return this.__data__.has(t)},Vi.prototype.clear=function(){this.__data__=new zi,this.size=0},Vi.prototype.delete=function(t){var e=this.__data__,i=e.delete(t);return this.size=e.size,i},Vi.prototype.get=function(t){return this.__data__.get(t)},Vi.prototype.has=function(t){return this.__data__.has(t)},Vi.prototype.set=function(t,e){var i=this.__data__;if(i instanceof zi){var r=i.__data__;if(!Si||r.length<199)return r.push([t,e]),this.size=++i.size,this;i=this.__data__=new $i(r)}return i.set(t,e),this.size=i.size,this};var ur=Es(xr),cr=Es(vr,!0);function pr(t,e){var i=!0;return ur(t,(function(t,r,s){return i=!!e(t,r,s)})),i}function dr(t,e,i){for(var r=-1,n=t.length;++r<n;){var o=t[r],a=e(o);if(null!=a&&(h===s?a==a&&!la(a):i(a,h)))var h=a,l=o}return l}function gr(t,e){var i=[];return ur(t,(function(t,r,s){e(t,r,s)&&i.push(t)})),i}function fr(t,e,i,r,s){var n=-1,o=t.length;for(i||(i=fn),s||(s=[]);++n<o;){var a=t[n];e>0&&i(a)?e>1?fr(a,e-1,i,r,s):ke(s,a):r||(s[s.length]=a)}return s}var yr=Os(),mr=Os(!0);function xr(t,e){return t&&yr(t,e,Ta)}function vr(t,e){return t&&mr(t,e,Ta)}function br(t,e){return Ae(e,(function(e){return Ko(t[e])}))}function _r(t,e){for(var i=0,r=(e=ys(e,t)).length;null!=t&&i<r;)t=t[jn(e[i++])];return i&&i==r?t:s}function Ar(t,e,i){var r=e(t);return $o(t)?r:ke(r,i(t))}function Sr(t){return null==t?t===s?"[object Undefined]":"[object Null]":ae&&ae in Mt(t)?function(t){var e=Dt.call(t,ae),i=t[ae];try{t[ae]=s;var r=!0}catch(t){}var n=Nt.call(t);return r&&(e?t[ae]=i:delete t[ae]),n}(t):function(t){return Nt.call(t)}(t)}function Mr(t,e){return t>e}function wr(t,e){return null!=t&&Dt.call(t,e)}function kr(t,e){return null!=t&&e in Mt(t)}function Pr(t,e,i){for(var n=i?Me:Se,o=t[0].length,a=t.length,h=a,l=r(a),u=1/0,c=[];h--;){var p=t[h];h&&e&&(p=we(p,Re(e))),u=mi(p.length,u),l[h]=!i&&(e||o>=120&&p.length>=120)?new Ui(h&&p):s}p=t[0];var d=-1,g=l[0];t:for(;++d<o&&c.length<u;){var f=p[d],y=e?e(f):f;if(f=i||0!==f?f:0,!(g?$e(g,y):n(c,y,i))){for(h=a;--h;){var m=l[h];if(!(m?$e(m,y):n(t[h],y,i)))continue t}g&&g.push(y),c.push(f)}}return c}function Lr(t,e,i){var r=null==(t=wn(t,e=ys(e,t)))?t:t[jn(Zn(e))];return null==r?s:me(r,t,i)}function Cr(t){return ia(t)&&Sr(t)==f}function Er(t,e,i,r,n){return t===e||(null==t||null==e||!ia(t)&&!ia(e)?t!=t&&e!=e:function(t,e,i,r,n,o){var a=$o(t),h=$o(e),l=a?y:pn(t),u=h?y:pn(e),c=(l=l==f?M:l)==M,p=(u=u==f?M:u)==M,d=l==u;if(d&&qo(t)){if(!qo(e))return!1;a=!0,c=!1}if(d&&!c)return o||(o=new Vi),a||ua(t)?Ks(t,e,i,r,n,o):function(t,e,i,r,s,n,o){switch(i){case T:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case O:return!(t.byteLength!=e.byteLength||!n(new Wt(t),new Wt(e)));case m:case x:case S:return Ho(+t,+e);case v:return t.name==e.name&&t.message==e.message;case k:case L:return t==e+"";case A:var a=Qe;case P:var h=1&r;if(a||(a=ii),t.size!=e.size&&!h)return!1;var l=o.get(t);if(l)return l==e;r|=2,o.set(t,e);var u=Ks(a(t),a(e),r,s,n,o);return o.delete(t),u;case C:if(Ni)return Ni.call(t)==Ni.call(e)}return!1}(t,e,l,i,r,n,o);if(!(1&i)){var g=c&&Dt.call(t,"__wrapped__"),b=p&&Dt.call(e,"__wrapped__");if(g||b){var _=g?t.value():t,w=b?e.value():e;return o||(o=new Vi),n(_,w,i,r,o)}}return!!d&&(o||(o=new Vi),function(t,e,i,r,n,o){var a=1&i,h=tn(t),l=h.length;if(l!=tn(e).length&&!a)return!1;for(var u=l;u--;){var c=h[u];if(!(a?c in e:Dt.call(e,c)))return!1}var p=o.get(t),d=o.get(e);if(p&&d)return p==e&&d==t;var g=!0;o.set(t,e),o.set(e,t);for(var f=a;++u<l;){var y=t[c=h[u]],m=e[c];if(r)var x=a?r(m,y,c,e,t,o):r(y,m,c,t,e,o);if(!(x===s?y===m||n(y,m,i,r,o):x)){g=!1;break}f||(f="constructor"==c)}if(g&&!f){var v=t.constructor,b=e.constructor;v==b||!("constructor"in t)||!("constructor"in e)||"function"==typeof v&&v instanceof v&&"function"==typeof b&&b instanceof b||(g=!1)}return o.delete(t),o.delete(e),g}(t,e,i,r,n,o))}(t,e,i,r,Er,n))}function Or(t,e,i,r){var n=i.length,o=n,a=!r;if(null==t)return!o;for(t=Mt(t);n--;){var h=i[n];if(a&&h[2]?h[1]!==t[h[0]]:!(h[0]in t))return!1}for(;++n<o;){var l=(h=i[n])[0],u=t[l],c=h[1];if(a&&h[2]){if(u===s&&!(l in t))return!1}else{var p=new Vi;if(r)var d=r(u,c,l,t,e,p);if(!(d===s?Er(c,u,3,r,p):d))return!1}}return!0}function Tr(t){return!(!ea(t)||(e=t,It&&It in e))&&(Ko(t)?Bt:ft).test(Yn(t));var e}function Dr(t){return"function"==typeof t?t:null==t?sh:"object"==typeof t?$o(t)?Yr(t[0],t[1]):jr(t):dh(t)}function Xr(t){if(!_n(t))return fi(t);var e=[];for(var i in Mt(t))Dt.call(t,i)&&"constructor"!=i&&e.push(i);return e}function Ir(t,e){return t<e}function Nr(t,e){var i=-1,s=Vo(t)?r(t.length):[];return ur(t,(function(t,r,n){s[++i]=e(t,r,n)})),s}function jr(t){var e=hn(t);return 1==e.length&&e[0][2]?Sn(e[0][0],e[0][1]):function(i){return i===t||Or(i,t,e)}}function Yr(t,e){return xn(t)&&An(e)?Sn(jn(t),e):function(i){var r=Pa(i,t);return r===s&&r===e?La(i,t):Er(e,r,3)}}function Br(t,e,i,r,n){t!==e&&yr(e,(function(o,a){if(n||(n=new Vi),ea(o))!function(t,e,i,r,n,o,a){var h=Pn(t,i),l=Pn(e,i),u=a.get(l);if(u)Ki(t,i,u);else{var c=o?o(h,l,i+"",t,e,a):s,p=c===s;if(p){var d=$o(l),g=!d&&qo(l),f=!d&&!g&&ua(l);c=l,d||g||f?$o(h)?c=h:Go(h)?c=ks(h):g?(p=!1,c=bs(l,!0)):f?(p=!1,c=As(l,!0)):c=[]:na(l)||zo(l)?(c=h,zo(h)?c=xa(h):ea(h)&&!Ko(h)||(c=gn(l))):p=!1}p&&(a.set(l,c),n(c,l,r,o,a),a.delete(l)),Ki(t,i,c)}}(t,e,a,i,Br,r,n);else{var h=r?r(Pn(t,a),o,a+"",t,e,n):s;h===s&&(h=o),Ki(t,a,h)}}),Da)}function Fr(t,e){var i=t.length;if(i)return yn(e+=e<0?i:0,i)?t[e]:s}function Hr(t,e,i){e=e.length?we(e,(function(t){return $o(t)?function(e){return _r(e,1===t.length?t[0]:t)}:t})):[sh];var r=-1;e=we(e,Re(on()));var s=Nr(t,(function(t,i,s){var n=we(e,(function(e){return e(t)}));return{criteria:n,index:++r,value:t}}));return function(t,e){var r=t.length;for(t.sort((function(t,e){return function(t,e,i){for(var r=-1,s=t.criteria,n=e.criteria,o=s.length,a=i.length;++r<o;){var h=Ss(s[r],n[r]);if(h)return r>=a?h:h*("desc"==i[r]?-1:1)}return t.index-e.index}(t,e,i)}));r--;)t[r]=t[r].value;return t}(s)}function Wr(t,e,i){for(var r=-1,s=e.length,n={};++r<s;){var o=e[r],a=_r(t,o);i(a,o)&&Zr(n,ys(o,t),a)}return n}function Rr(t,e,i,r){var s=r?Xe:De,n=-1,o=e.length,a=t;for(t===e&&(e=ks(e)),i&&(a=we(t,Re(i)));++n<o;)for(var h=0,l=e[n],u=i?i(l):l;(h=s(a,u,h,r))>-1;)a!==t&&re.call(a,h,1),re.call(t,h,1);return t}function zr(t,e){for(var i=t?e.length:0,r=i-1;i--;){var s=e[i];if(i==r||s!==n){var n=s;yn(s)?re.call(t,s,1):hs(t,s)}}return t}function $r(t,e){return t+ui(bi()*(e-t+1))}function Ur(t,e){var i="";if(!t||e<1||e>c)return i;do{e%2&&(i+=t),(e=ui(e/2))&&(t+=t)}while(e);return i}function Vr(t,e){return En(Mn(t,e,sh),t+"")}function Gr(t){return qi(Ha(t))}function qr(t,e){var i=Ha(t);return Dn(i,nr(e,0,i.length))}function Zr(t,e,i,r){if(!ea(t))return t;for(var n=-1,o=(e=ys(e,t)).length,a=o-1,h=t;null!=h&&++n<o;){var l=jn(e[n]),u=i;if("__proto__"===l||"constructor"===l||"prototype"===l)return t;if(n!=a){var c=h[l];(u=r?r(c,l,h):s)===s&&(u=ea(c)?c:yn(e[n+1])?[]:{})}Qi(h,l,u),h=h[l]}return t}var Jr=Li?function(t,e){return Li.set(t,e),t}:sh,Kr=le?function(t,e){return le(t,"toString",{configurable:!0,enumerable:!1,value:eh(e),writable:!0})}:sh;function Qr(t){return Dn(Ha(t))}function ts(t,e,i){var s=-1,n=t.length;e<0&&(e=-e>n?0:n+e),(i=i>n?n:i)<0&&(i+=n),n=e>i?0:i-e>>>0,e>>>=0;for(var o=r(n);++s<n;)o[s]=t[s+e];return o}function es(t,e){var i;return ur(t,(function(t,r,s){return!(i=e(t,r,s))})),!!i}function is(t,e,i){var r=0,s=null==t?r:t.length;if("number"==typeof e&&e==e&&s<=2147483647){for(;r<s;){var n=r+s>>>1,o=t[n];null!==o&&!la(o)&&(i?o<=e:o<e)?r=n+1:s=n}return s}return rs(t,e,sh,i)}function rs(t,e,i,r){var n=0,o=null==t?0:t.length;if(0===o)return 0;for(var a=(e=i(e))!=e,h=null===e,l=la(e),u=e===s;n<o;){var c=ui((n+o)/2),p=i(t[c]),d=p!==s,g=null===p,f=p==p,y=la(p);if(a)var m=r||f;else m=u?f&&(r||d):h?f&&d&&(r||!g):l?f&&d&&!g&&(r||!y):!g&&!y&&(r?p<=e:p<e);m?n=c+1:o=c}return mi(o,4294967294)}function ss(t,e){for(var i=-1,r=t.length,s=0,n=[];++i<r;){var o=t[i],a=e?e(o):o;if(!i||!Ho(a,h)){var h=a;n[s++]=0===o?0:o}}return n}function ns(t){return"number"==typeof t?t:la(t)?p:+t}function os(t){if("string"==typeof t)return t;if($o(t))return we(t,os)+"";if(la(t))return ji?ji.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function as(t,e,i){var r=-1,s=Se,n=t.length,o=!0,a=[],h=a;if(i)o=!1,s=Me;else if(n>=200){var l=e?null:Us(t);if(l)return ii(l);o=!1,s=$e,h=new Ui}else h=e?[]:a;t:for(;++r<n;){var u=t[r],c=e?e(u):u;if(u=i||0!==u?u:0,o&&c==c){for(var p=h.length;p--;)if(h[p]===c)continue t;e&&h.push(c),a.push(u)}else s(h,c,i)||(h!==a&&h.push(c),a.push(u))}return a}function hs(t,e){return null==(t=wn(t,e=ys(e,t)))||delete t[jn(Zn(e))]}function ls(t,e,i,r){return Zr(t,e,i(_r(t,e)),r)}function us(t,e,i,r){for(var s=t.length,n=r?s:-1;(r?n--:++n<s)&&e(t[n],n,t););return i?ts(t,r?0:n,r?n+1:s):ts(t,r?n+1:0,r?s:n)}function cs(t,e){var i=t;return i instanceof Wi&&(i=i.value()),Pe(e,(function(t,e){return e.func.apply(e.thisArg,ke([t],e.args))}),i)}function ps(t,e,i){var s=t.length;if(s<2)return s?as(t[0]):[];for(var n=-1,o=r(s);++n<s;)for(var a=t[n],h=-1;++h<s;)h!=n&&(o[n]=lr(o[n]||a,t[h],e,i));return as(fr(o,1),e,i)}function ds(t,e,i){for(var r=-1,n=t.length,o=e.length,a={};++r<n;){var h=r<o?e[r]:s;i(a,t[r],h)}return a}function gs(t){return Go(t)?t:[]}function fs(t){return"function"==typeof t?t:sh}function ys(t,e){return $o(t)?t:xn(t,e)?[t]:Nn(va(t))}var ms=Vr;function xs(t,e,i){var r=t.length;return i=i===s?r:i,!e&&i>=r?t:ts(t,e,i)}var vs=ue||function(t){return ne.clearTimeout(t)};function bs(t,e){if(e)return t.slice();var i=t.length,r=Rt?Rt(i):new t.constructor(i);return t.copy(r),r}function _s(t){var e=new t.constructor(t.byteLength);return new Wt(e).set(new Wt(t)),e}function As(t,e){var i=e?_s(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.length)}function Ss(t,e){if(t!==e){var i=t!==s,r=null===t,n=t==t,o=la(t),a=e!==s,h=null===e,l=e==e,u=la(e);if(!h&&!u&&!o&&t>e||o&&a&&l&&!h&&!u||r&&a&&l||!i&&l||!n)return 1;if(!r&&!o&&!u&&t<e||u&&i&&n&&!r&&!o||h&&i&&n||!a&&n||!l)return-1}return 0}function Ms(t,e,i,s){for(var n=-1,o=t.length,a=i.length,h=-1,l=e.length,u=yi(o-a,0),c=r(l+u),p=!s;++h<l;)c[h]=e[h];for(;++n<a;)(p||n<o)&&(c[i[n]]=t[n]);for(;u--;)c[h++]=t[n++];return c}function ws(t,e,i,s){for(var n=-1,o=t.length,a=-1,h=i.length,l=-1,u=e.length,c=yi(o-h,0),p=r(c+u),d=!s;++n<c;)p[n]=t[n];for(var g=n;++l<u;)p[g+l]=e[l];for(;++a<h;)(d||n<o)&&(p[g+i[a]]=t[n++]);return p}function ks(t,e){var i=-1,s=t.length;for(e||(e=r(s));++i<s;)e[i]=t[i];return e}function Ps(t,e,i,r){var n=!i;i||(i={});for(var o=-1,a=e.length;++o<a;){var h=e[o],l=r?r(i[h],t[h],h,i,t):s;l===s&&(l=t[h]),n?rr(i,h,l):Qi(i,h,l)}return i}function Ls(t,e){return function(i,r){var s=$o(i)?xe:er,n=e?e():{};return s(i,t,on(r,2),n)}}function Cs(t){return Vr((function(e,i){var r=-1,n=i.length,o=n>1?i[n-1]:s,a=n>2?i[2]:s;for(o=t.length>3&&"function"==typeof o?(n--,o):s,a&&mn(i[0],i[1],a)&&(o=n<3?s:o,n=1),e=Mt(e);++r<n;){var h=i[r];h&&t(e,h,r,o)}return e}))}function Es(t,e){return function(i,r){if(null==i)return i;if(!Vo(i))return t(i,r);for(var s=i.length,n=e?s:-1,o=Mt(i);(e?n--:++n<s)&&!1!==r(o[n],n,o););return i}}function Os(t){return function(e,i,r){for(var s=-1,n=Mt(e),o=r(e),a=o.length;a--;){var h=o[t?a:++s];if(!1===i(n[h],h,n))break}return e}}function Ts(t){return function(e){var i=Ke(e=va(e))?ni(e):s,r=i?i[0]:e.charAt(0),n=i?xs(i,1).join(""):e.slice(1);return r[t]()+n}}function Ds(t){return function(e){return Pe(Ka(za(e).replace(zt,"")),t,"")}}function Xs(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var i=Bi(t.prototype),r=t.apply(i,e);return ea(r)?r:i}}function Is(t){return function(e,i,r){var n=Mt(e);if(!Vo(e)){var o=on(i,3);e=Ta(e),i=function(t){return o(n[t],t,n)}}var a=t(e,i,r);return a>-1?n[o?e[a]:a]:s}}function Ns(t){return Qs((function(e){var i=e.length,r=i,o=Hi.prototype.thru;for(t&&e.reverse();r--;){var a=e[r];if("function"!=typeof a)throw new Pt(n);if(o&&!h&&"wrapper"==sn(a))var h=new Hi([],!0)}for(r=h?r:i;++r<i;){var l=sn(a=e[r]),u="wrapper"==l?rn(a):s;h=u&&vn(u[0])&&424==u[1]&&!u[4].length&&1==u[9]?h[sn(u[0])].apply(h,u[3]):1==a.length&&vn(a)?h[l]():h.thru(a)}return function(){var t=arguments,r=t[0];if(h&&1==t.length&&$o(r))return h.plant(r).value();for(var s=0,n=i?e[s].apply(this,t):r;++s<i;)n=e[s].call(this,n);return n}}))}function js(t,e,i,n,o,a,h,u,c,p){var d=e&l,g=1&e,f=2&e,y=24&e,m=512&e,x=f?s:Xs(t);return function s(){for(var l=arguments.length,v=r(l),b=l;b--;)v[b]=arguments[b];if(y)var _=nn(s),A=Ge(v,_);if(n&&(v=Ms(v,n,o,y)),a&&(v=ws(v,a,h,y)),l-=A,y&&l<p){var S=ei(v,_);return zs(t,e,js,s.placeholder,i,v,S,u,c,p-l)}var M=g?i:this,w=f?M[t]:t;return l=v.length,u?v=kn(v,u):m&&l>1&&v.reverse(),d&&c<l&&(v.length=c),this&&this!==ne&&this instanceof s&&(w=x||Xs(w)),w.apply(M,v)}}function Ys(t,e){return function(i,r){return function(t,e,i,r){return xr(t,(function(t,s,n){e(r,i(t),s,n)})),r}(i,t,e(r),{})}}function Bs(t,e){return function(i,r){var n;if(i===s&&r===s)return e;if(i!==s&&(n=i),r!==s){if(n===s)return r;"string"==typeof i||"string"==typeof r?(i=os(i),r=os(r)):(i=ns(i),r=ns(r)),n=t(i,r)}return n}}function Fs(t){return Qs((function(e){return e=we(e,Re(on())),Vr((function(i){var r=this;return t(e,(function(t){return me(t,r,i)}))}))}))}function Hs(t,e){var i=(e=e===s?" ":os(e)).length;if(i<2)return i?Ur(e,t):e;var r=Ur(e,li(t/si(e)));return Ke(e)?xs(ni(r),0,t).join(""):r.slice(0,t)}function Ws(t){return function(e,i,n){return n&&"number"!=typeof n&&mn(e,i,n)&&(i=n=s),e=ga(e),i===s?(i=e,e=0):i=ga(i),function(t,e,i,s){for(var n=-1,o=yi(li((e-t)/(i||1)),0),a=r(o);o--;)a[s?o:++n]=t,t+=i;return a}(e,i,n=n===s?e<i?1:-1:ga(n),t)}}function Rs(t){return function(e,i){return"string"==typeof e&&"string"==typeof i||(e=ma(e),i=ma(i)),t(e,i)}}function zs(t,e,i,r,n,o,a,l,u,c){var p=8&e;e|=p?h:64,4&(e&=~(p?64:h))||(e&=-4);var d=[t,e,n,p?o:s,p?a:s,p?s:o,p?s:a,l,u,c],g=i.apply(s,d);return vn(t)&&Ln(g,d),g.placeholder=r,On(g,t,e)}function $s(t){var e=St[t];return function(t,i){if(t=ma(t),(i=null==i?0:mi(fa(i),292))&&di(t)){var r=(va(t)+"e").split("e");return+((r=(va(e(r[0]+"e"+(+r[1]+i)))+"e").split("e"))[0]+"e"+(+r[1]-i))}return e(t)}}var Us=wi&&1/ii(new wi([,-0]))[1]==u?function(t){return new wi(t)}:lh;function Vs(t){return function(e){var i=pn(e);return i==A?Qe(e):i==P?ri(e):function(t,e){return we(e,(function(e){return[e,t[e]]}))}(e,t(e))}}function Gs(t,e,i,o,u,c,p,d){var g=2&e;if(!g&&"function"!=typeof t)throw new Pt(n);var f=o?o.length:0;if(f||(e&=-97,o=u=s),p=p===s?p:yi(fa(p),0),d=d===s?d:fa(d),f-=u?u.length:0,64&e){var y=o,m=u;o=u=s}var x=g?s:rn(t),v=[t,e,i,o,u,y,m,c,p,d];if(x&&function(t,e){var i=t[1],r=e[1],s=i|r,n=s<131,o=r==l&&8==i||r==l&&256==i&&t[7].length<=e[8]||384==r&&e[7].length<=e[8]&&8==i;if(!n&&!o)return t;1&r&&(t[2]=e[2],s|=1&i?0:4);var h=e[3];if(h){var u=t[3];t[3]=u?Ms(u,h,e[4]):h,t[4]=u?ei(t[3],a):e[4]}(h=e[5])&&(u=t[5],t[5]=u?ws(u,h,e[6]):h,t[6]=u?ei(t[5],a):e[6]),(h=e[7])&&(t[7]=h),r&l&&(t[8]=null==t[8]?e[8]:mi(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=s}(v,x),t=v[0],e=v[1],i=v[2],o=v[3],u=v[4],!(d=v[9]=v[9]===s?g?0:t.length:yi(v[9]-f,0))&&24&e&&(e&=-25),e&&1!=e)b=8==e||16==e?function(t,e,i){var n=Xs(t);return function o(){for(var a=arguments.length,h=r(a),l=a,u=nn(o);l--;)h[l]=arguments[l];var c=a<3&&h[0]!==u&&h[a-1]!==u?[]:ei(h,u);return(a-=c.length)<i?zs(t,e,js,o.placeholder,s,h,c,s,s,i-a):me(this&&this!==ne&&this instanceof o?n:t,this,h)}}(t,e,d):e!=h&&33!=e||u.length?js.apply(s,v):function(t,e,i,s){var n=1&e,o=Xs(t);return function e(){for(var a=-1,h=arguments.length,l=-1,u=s.length,c=r(u+h),p=this&&this!==ne&&this instanceof e?o:t;++l<u;)c[l]=s[l];for(;h--;)c[l++]=arguments[++a];return me(p,n?i:this,c)}}(t,e,i,o);else var b=function(t,e,i){var r=1&e,s=Xs(t);return function e(){return(this&&this!==ne&&this instanceof e?s:t).apply(r?i:this,arguments)}}(t,e,i);return On((x?Jr:Ln)(b,v),t,e)}function qs(t,e,i,r){return t===s||Ho(t,Et[i])&&!Dt.call(r,i)?e:t}function Zs(t,e,i,r,n,o){return ea(t)&&ea(e)&&(o.set(e,t),Br(t,e,s,Zs,o),o.delete(e)),t}function Js(t){return na(t)?s:t}function Ks(t,e,i,r,n,o){var a=1&i,h=t.length,l=e.length;if(h!=l&&!(a&&l>h))return!1;var u=o.get(t),c=o.get(e);if(u&&c)return u==e&&c==t;var p=-1,d=!0,g=2&i?new Ui:s;for(o.set(t,e),o.set(e,t);++p<h;){var f=t[p],y=e[p];if(r)var m=a?r(y,f,p,e,t,o):r(f,y,p,t,e,o);if(m!==s){if(m)continue;d=!1;break}if(g){if(!Ce(e,(function(t,e){if(!$e(g,e)&&(f===t||n(f,t,i,r,o)))return g.push(e)}))){d=!1;break}}else if(f!==y&&!n(f,y,i,r,o)){d=!1;break}}return o.delete(t),o.delete(e),d}function Qs(t){return En(Mn(t,s,$n),t+"")}function tn(t){return Ar(t,Ta,un)}function en(t){return Ar(t,Da,cn)}var rn=Li?function(t){return Li.get(t)}:lh;function sn(t){for(var e=t.name+"",i=Ci[e],r=Dt.call(Ci,e)?i.length:0;r--;){var s=i[r],n=s.func;if(null==n||n==t)return s.name}return e}function nn(t){return(Dt.call(Yi,"placeholder")?Yi:t).placeholder}function on(){var t=Yi.iteratee||nh;return t=t===nh?Dr:t,arguments.length?t(arguments[0],arguments[1]):t}function an(t,e){var i,r,s=t.__data__;return("string"==(r=typeof(i=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==i:null===i)?s["string"==typeof e?"string":"hash"]:s.map}function hn(t){for(var e=Ta(t),i=e.length;i--;){var r=e[i],s=t[r];e[i]=[r,s,An(s)]}return e}function ln(t,e){var i=function(t,e){return null==t?s:t[e]}(t,e);return Tr(i)?i:s}var un=ci?function(t){return null==t?[]:(t=Mt(t),Ae(ci(t),(function(e){return te.call(t,e)})))}:yh,cn=ci?function(t){for(var e=[];t;)ke(e,un(t)),t=Ut(t);return e}:yh,pn=Sr;function dn(t,e,i){for(var r=-1,s=(e=ys(e,t)).length,n=!1;++r<s;){var o=jn(e[r]);if(!(n=null!=t&&i(t,o)))break;t=t[o]}return n||++r!=s?n:!!(s=null==t?0:t.length)&&ta(s)&&yn(o,s)&&($o(t)||zo(t))}function gn(t){return"function"!=typeof t.constructor||_n(t)?{}:Bi(Ut(t))}function fn(t){return $o(t)||zo(t)||!!(se&&t&&t[se])}function yn(t,e){var i=typeof t;return!!(e=null==e?c:e)&&("number"==i||"symbol"!=i&&mt.test(t))&&t>-1&&t%1==0&&t<e}function mn(t,e,i){if(!ea(i))return!1;var r=typeof e;return!!("number"==r?Vo(i)&&yn(e,i.length):"string"==r&&e in i)&&Ho(i[e],t)}function xn(t,e){if($o(t))return!1;var i=typeof t;return!("number"!=i&&"symbol"!=i&&"boolean"!=i&&null!=t&&!la(t))||Q.test(t)||!K.test(t)||null!=e&&t in Mt(e)}function vn(t){var e=sn(t),i=Yi[e];if("function"!=typeof i||!(e in Wi.prototype))return!1;if(t===i)return!0;var r=rn(i);return!!r&&t===r[0]}(Ai&&pn(new Ai(new ArrayBuffer(1)))!=T||Si&&pn(new Si)!=A||Mi&&pn(Mi.resolve())!=w||wi&&pn(new wi)!=P||ki&&pn(new ki)!=E)&&(pn=function(t){var e=Sr(t),i=e==M?t.constructor:s,r=i?Yn(i):"";if(r)switch(r){case Ei:return T;case Oi:return A;case Ti:return w;case Di:return P;case Xi:return E}return e});var bn=Ot?Ko:mh;function _n(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Et)}function An(t){return t==t&&!ea(t)}function Sn(t,e){return function(i){return null!=i&&i[t]===e&&(e!==s||t in Mt(i))}}function Mn(t,e,i){return e=yi(e===s?t.length-1:e,0),function(){for(var s=arguments,n=-1,o=yi(s.length-e,0),a=r(o);++n<o;)a[n]=s[e+n];n=-1;for(var h=r(e+1);++n<e;)h[n]=s[n];return h[e]=i(a),me(t,this,h)}}function wn(t,e){return e.length<2?t:_r(t,ts(e,0,-1))}function kn(t,e){for(var i=t.length,r=mi(e.length,i),n=ks(t);r--;){var o=e[r];t[r]=yn(o,i)?n[o]:s}return t}function Pn(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var Ln=Tn(Jr),Cn=Ye||function(t,e){return ne.setTimeout(t,e)},En=Tn(Kr);function On(t,e,i){var r=e+"";return En(t,function(t,e){var i=e.length;if(!i)return t;var r=i-1;return e[r]=(i>1?"& ":"")+e[r],e=e.join(i>2?", ":" "),t.replace(nt,"{\n/* [wrapped with "+e+"] */\n")}(r,function(t,e){return ve(g,(function(i){var r="_."+i[0];e&i[1]&&!Se(t,r)&&t.push(r)})),t.sort()}(function(t){var e=t.match(ot);return e?e[1].split(at):[]}(r),i)))}function Tn(t){var e=0,i=0;return function(){var r=xi(),n=16-(r-i);if(i=r,n>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(s,arguments)}}function Dn(t,e){var i=-1,r=t.length,n=r-1;for(e=e===s?r:e;++i<e;){var o=$r(i,n),a=t[o];t[o]=t[i],t[i]=a}return t.length=e,t}var Xn,In,Nn=(Xn=Io((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(tt,(function(t,i,r,s){e.push(r?s.replace(ut,"$1"):i||t)})),e}),(function(t){return 500===In.size&&In.clear(),t})),In=Xn.cache,Xn);function jn(t){if("string"==typeof t||la(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Yn(t){if(null!=t){try{return Tt.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Bn(t){if(t instanceof Wi)return t.clone();var e=new Hi(t.__wrapped__,t.__chain__);return e.__actions__=ks(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var Fn=Vr((function(t,e){return Go(t)?lr(t,fr(e,1,Go,!0)):[]})),Hn=Vr((function(t,e){var i=Zn(e);return Go(i)&&(i=s),Go(t)?lr(t,fr(e,1,Go,!0),on(i,2)):[]})),Wn=Vr((function(t,e){var i=Zn(e);return Go(i)&&(i=s),Go(t)?lr(t,fr(e,1,Go,!0),s,i):[]}));function Rn(t,e,i){var r=null==t?0:t.length;if(!r)return-1;var s=null==i?0:fa(i);return s<0&&(s=yi(r+s,0)),Te(t,on(e,3),s)}function zn(t,e,i){var r=null==t?0:t.length;if(!r)return-1;var n=r-1;return i!==s&&(n=fa(i),n=i<0?yi(r+n,0):mi(n,r-1)),Te(t,on(e,3),n,!0)}function $n(t){return null!=t&&t.length?fr(t,1):[]}function Un(t){return t&&t.length?t[0]:s}var Vn=Vr((function(t){var e=we(t,gs);return e.length&&e[0]===t[0]?Pr(e):[]})),Gn=Vr((function(t){var e=Zn(t),i=we(t,gs);return e===Zn(i)?e=s:i.pop(),i.length&&i[0]===t[0]?Pr(i,on(e,2)):[]})),qn=Vr((function(t){var e=Zn(t),i=we(t,gs);return(e="function"==typeof e?e:s)&&i.pop(),i.length&&i[0]===t[0]?Pr(i,s,e):[]}));function Zn(t){var e=null==t?0:t.length;return e?t[e-1]:s}var Jn=Vr(Kn);function Kn(t,e){return t&&t.length&&e&&e.length?Rr(t,e):t}var Qn=Qs((function(t,e){var i=null==t?0:t.length,r=sr(t,e);return zr(t,we(e,(function(t){return yn(t,i)?+t:t})).sort(Ss)),r}));function to(t){return null==t?t:_i.call(t)}var eo=Vr((function(t){return as(fr(t,1,Go,!0))})),io=Vr((function(t){var e=Zn(t);return Go(e)&&(e=s),as(fr(t,1,Go,!0),on(e,2))})),ro=Vr((function(t){var e=Zn(t);return e="function"==typeof e?e:s,as(fr(t,1,Go,!0),s,e)}));function so(t){if(!t||!t.length)return[];var e=0;return t=Ae(t,(function(t){if(Go(t))return e=yi(t.length,e),!0})),He(e,(function(e){return we(t,je(e))}))}function no(t,e){if(!t||!t.length)return[];var i=so(t);return null==e?i:we(i,(function(t){return me(e,s,t)}))}var oo=Vr((function(t,e){return Go(t)?lr(t,e):[]})),ao=Vr((function(t){return ps(Ae(t,Go))})),ho=Vr((function(t){var e=Zn(t);return Go(e)&&(e=s),ps(Ae(t,Go),on(e,2))})),lo=Vr((function(t){var e=Zn(t);return e="function"==typeof e?e:s,ps(Ae(t,Go),s,e)})),uo=Vr(so),co=Vr((function(t){var e=t.length,i=e>1?t[e-1]:s;return i="function"==typeof i?(t.pop(),i):s,no(t,i)}));function po(t){var e=Yi(t);return e.__chain__=!0,e}function go(t,e){return e(t)}var fo=Qs((function(t){var e=t.length,i=e?t[0]:0,r=this.__wrapped__,n=function(e){return sr(e,t)};return!(e>1||this.__actions__.length)&&r instanceof Wi&&yn(i)?((r=r.slice(i,+i+(e?1:0))).__actions__.push({func:go,args:[n],thisArg:s}),new Hi(r,this.__chain__).thru((function(t){return e&&!t.length&&t.push(s),t}))):this.thru(n)})),yo=Ls((function(t,e,i){Dt.call(t,i)?++t[i]:rr(t,i,1)})),mo=Is(Rn),xo=Is(zn);function vo(t,e){return($o(t)?ve:ur)(t,on(e,3))}function bo(t,e){return($o(t)?be:cr)(t,on(e,3))}var _o=Ls((function(t,e,i){Dt.call(t,i)?t[i].push(e):rr(t,i,[e])})),Ao=Vr((function(t,e,i){var s=-1,n="function"==typeof e,o=Vo(t)?r(t.length):[];return ur(t,(function(t){o[++s]=n?me(e,t,i):Lr(t,e,i)})),o})),So=Ls((function(t,e,i){rr(t,i,e)}));function Mo(t,e){return($o(t)?we:Nr)(t,on(e,3))}var wo=Ls((function(t,e,i){t[i?0:1].push(e)}),(function(){return[[],[]]})),ko=Vr((function(t,e){if(null==t)return[];var i=e.length;return i>1&&mn(t,e[0],e[1])?e=[]:i>2&&mn(e[0],e[1],e[2])&&(e=[e[0]]),Hr(t,fr(e,1),[])})),Po=Ee||function(){return ne.Date.now()};function Lo(t,e,i){return e=i?s:e,e=t&&null==e?t.length:e,Gs(t,l,s,s,s,s,e)}function Co(t,e){var i;if("function"!=typeof e)throw new Pt(n);return t=fa(t),function(){return--t>0&&(i=e.apply(this,arguments)),t<=1&&(e=s),i}}var Eo=Vr((function(t,e,i){var r=1;if(i.length){var s=ei(i,nn(Eo));r|=h}return Gs(t,r,e,i,s)})),Oo=Vr((function(t,e,i){var r=3;if(i.length){var s=ei(i,nn(Oo));r|=h}return Gs(e,r,t,i,s)}));function To(t,e,i){var r,o,a,h,l,u,c=0,p=!1,d=!1,g=!0;if("function"!=typeof t)throw new Pt(n);function f(e){var i=r,n=o;return r=o=s,c=e,h=t.apply(n,i)}function y(t){return c=t,l=Cn(x,e),p?f(t):h}function m(t){var i=t-u;return u===s||i>=e||i<0||d&&t-c>=a}function x(){var t=Po();if(m(t))return v(t);l=Cn(x,function(t){var i=e-(t-u);return d?mi(i,a-(t-c)):i}(t))}function v(t){return l=s,g&&r?f(t):(r=o=s,h)}function b(){var t=Po(),i=m(t);if(r=arguments,o=this,u=t,i){if(l===s)return y(u);if(d)return vs(l),l=Cn(x,e),f(u)}return l===s&&(l=Cn(x,e)),h}return e=ma(e)||0,ea(i)&&(p=!!i.leading,a=(d="maxWait"in i)?yi(ma(i.maxWait)||0,e):a,g="trailing"in i?!!i.trailing:g),b.cancel=function(){l!==s&&vs(l),c=0,r=u=o=l=s},b.flush=function(){return l===s?h:v(Po())},b}var Do=Vr((function(t,e){return hr(t,1,e)})),Xo=Vr((function(t,e,i){return hr(t,ma(e)||0,i)}));function Io(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new Pt(n);var i=function(){var r=arguments,s=e?e.apply(this,r):r[0],n=i.cache;if(n.has(s))return n.get(s);var o=t.apply(this,r);return i.cache=n.set(s,o)||n,o};return i.cache=new(Io.Cache||$i),i}function No(t){if("function"!=typeof t)throw new Pt(n);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}Io.Cache=$i;var jo=ms((function(t,e){var i=(e=1==e.length&&$o(e[0])?we(e[0],Re(on())):we(fr(e,1),Re(on()))).length;return Vr((function(r){for(var s=-1,n=mi(r.length,i);++s<n;)r[s]=e[s].call(this,r[s]);return me(t,this,r)}))})),Yo=Vr((function(t,e){var i=ei(e,nn(Yo));return Gs(t,h,s,e,i)})),Bo=Vr((function(t,e){var i=ei(e,nn(Bo));return Gs(t,64,s,e,i)})),Fo=Qs((function(t,e){return Gs(t,256,s,s,s,e)}));function Ho(t,e){return t===e||t!=t&&e!=e}var Wo=Rs(Mr),Ro=Rs((function(t,e){return t>=e})),zo=Cr(function(){return arguments}())?Cr:function(t){return ia(t)&&Dt.call(t,"callee")&&!te.call(t,"callee")},$o=r.isArray,Uo=ce?Re(ce):function(t){return ia(t)&&Sr(t)==O};function Vo(t){return null!=t&&ta(t.length)&&!Ko(t)}function Go(t){return ia(t)&&Vo(t)}var qo=pi||mh,Zo=pe?Re(pe):function(t){return ia(t)&&Sr(t)==x};function Jo(t){if(!ia(t))return!1;var e=Sr(t);return e==v||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!na(t)}function Ko(t){if(!ea(t))return!1;var e=Sr(t);return e==b||e==_||"[object AsyncFunction]"==e||"[object Proxy]"==e}function Qo(t){return"number"==typeof t&&t==fa(t)}function ta(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=c}function ea(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function ia(t){return null!=t&&"object"==typeof t}var ra=de?Re(de):function(t){return ia(t)&&pn(t)==A};function sa(t){return"number"==typeof t||ia(t)&&Sr(t)==S}function na(t){if(!ia(t)||Sr(t)!=M)return!1;var e=Ut(t);if(null===e)return!0;var i=Dt.call(e,"constructor")&&e.constructor;return"function"==typeof i&&i instanceof i&&Tt.call(i)==jt}var oa=ge?Re(ge):function(t){return ia(t)&&Sr(t)==k},aa=fe?Re(fe):function(t){return ia(t)&&pn(t)==P};function ha(t){return"string"==typeof t||!$o(t)&&ia(t)&&Sr(t)==L}function la(t){return"symbol"==typeof t||ia(t)&&Sr(t)==C}var ua=ye?Re(ye):function(t){return ia(t)&&ta(t.length)&&!!Kt[Sr(t)]},ca=Rs(Ir),pa=Rs((function(t,e){return t<=e}));function da(t){if(!t)return[];if(Vo(t))return ha(t)?ni(t):ks(t);if(oe&&t[oe])return function(t){for(var e,i=[];!(e=t.next()).done;)i.push(e.value);return i}(t[oe]());var e=pn(t);return(e==A?Qe:e==P?ii:Ha)(t)}function ga(t){return t?(t=ma(t))===u||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function fa(t){var e=ga(t),i=e%1;return e==e?i?e-i:e:0}function ya(t){return t?nr(fa(t),0,d):0}function ma(t){if("number"==typeof t)return t;if(la(t))return p;if(ea(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=ea(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=We(t);var i=gt.test(t);return i||yt.test(t)?ie(t.slice(2),i?2:8):dt.test(t)?p:+t}function xa(t){return Ps(t,Da(t))}function va(t){return null==t?"":os(t)}var ba=Cs((function(t,e){if(_n(e)||Vo(e))Ps(e,Ta(e),t);else for(var i in e)Dt.call(e,i)&&Qi(t,i,e[i])})),_a=Cs((function(t,e){Ps(e,Da(e),t)})),Aa=Cs((function(t,e,i,r){Ps(e,Da(e),t,r)})),Sa=Cs((function(t,e,i,r){Ps(e,Ta(e),t,r)})),Ma=Qs(sr),wa=Vr((function(t,e){t=Mt(t);var i=-1,r=e.length,n=r>2?e[2]:s;for(n&&mn(e[0],e[1],n)&&(r=1);++i<r;)for(var o=e[i],a=Da(o),h=-1,l=a.length;++h<l;){var u=a[h],c=t[u];(c===s||Ho(c,Et[u])&&!Dt.call(t,u))&&(t[u]=o[u])}return t})),ka=Vr((function(t){return t.push(s,Zs),me(Ia,s,t)}));function Pa(t,e,i){var r=null==t?s:_r(t,e);return r===s?i:r}function La(t,e){return null!=t&&dn(t,e,kr)}var Ca=Ys((function(t,e,i){null!=e&&"function"!=typeof e.toString&&(e=Nt.call(e)),t[e]=i}),eh(sh)),Ea=Ys((function(t,e,i){null!=e&&"function"!=typeof e.toString&&(e=Nt.call(e)),Dt.call(t,e)?t[e].push(i):t[e]=[i]}),on),Oa=Vr(Lr);function Ta(t){return Vo(t)?Gi(t):Xr(t)}function Da(t){return Vo(t)?Gi(t,!0):function(t){if(!ea(t))return function(t){var e=[];if(null!=t)for(var i in Mt(t))e.push(i);return e}(t);var e=_n(t),i=[];for(var r in t)("constructor"!=r||!e&&Dt.call(t,r))&&i.push(r);return i}(t)}var Xa=Cs((function(t,e,i){Br(t,e,i)})),Ia=Cs((function(t,e,i,r){Br(t,e,i,r)})),Na=Qs((function(t,e){var i={};if(null==t)return i;var r=!1;e=we(e,(function(e){return e=ys(e,t),r||(r=e.length>1),e})),Ps(t,en(t),i),r&&(i=or(i,7,Js));for(var s=e.length;s--;)hs(i,e[s]);return i})),ja=Qs((function(t,e){return null==t?{}:function(t,e){return Wr(t,e,(function(e,i){return La(t,i)}))}(t,e)}));function Ya(t,e){if(null==t)return{};var i=we(en(t),(function(t){return[t]}));return e=on(e),Wr(t,i,(function(t,i){return e(t,i[0])}))}var Ba=Vs(Ta),Fa=Vs(Da);function Ha(t){return null==t?[]:ze(t,Ta(t))}var Wa=Ds((function(t,e,i){return e=e.toLowerCase(),t+(i?Ra(e):e)}));function Ra(t){return Ja(va(t).toLowerCase())}function za(t){return(t=va(t))&&t.replace(xt,qe).replace($t,"")}var $a=Ds((function(t,e,i){return t+(i?"-":"")+e.toLowerCase()})),Ua=Ds((function(t,e,i){return t+(i?" ":"")+e.toLowerCase()})),Va=Ts("toLowerCase"),Ga=Ds((function(t,e,i){return t+(i?"_":"")+e.toLowerCase()})),qa=Ds((function(t,e,i){return t+(i?" ":"")+Ja(e)})),Za=Ds((function(t,e,i){return t+(i?" ":"")+e.toUpperCase()})),Ja=Ts("toUpperCase");function Ka(t,e,i){return t=va(t),(e=i?s:e)===s?function(t){return qt.test(t)}(t)?function(t){return t.match(Vt)||[]}(t):function(t){return t.match(ht)||[]}(t):t.match(e)||[]}var Qa=Vr((function(t,e){try{return me(t,s,e)}catch(t){return Jo(t)?t:new _t(t)}})),th=Qs((function(t,e){return ve(e,(function(e){e=jn(e),rr(t,e,Eo(t[e],t))})),t}));function eh(t){return function(){return t}}var ih=Ns(),rh=Ns(!0);function sh(t){return t}function nh(t){return Dr("function"==typeof t?t:or(t,1))}var oh=Vr((function(t,e){return function(i){return Lr(i,t,e)}})),ah=Vr((function(t,e){return function(i){return Lr(t,i,e)}}));function hh(t,e,i){var r=Ta(e),s=br(e,r);null!=i||ea(e)&&(s.length||!r.length)||(i=e,e=t,t=this,s=br(e,Ta(e)));var n=!(ea(i)&&"chain"in i&&!i.chain),o=Ko(t);return ve(s,(function(i){var r=e[i];t[i]=r,o&&(t.prototype[i]=function(){var e=this.__chain__;if(n||e){var i=t(this.__wrapped__),s=i.__actions__=ks(this.__actions__);return s.push({func:r,args:arguments,thisArg:t}),i.__chain__=e,i}return r.apply(t,ke([this.value()],arguments))})})),t}function lh(){}var uh=Fs(we),ch=Fs(_e),ph=Fs(Ce);function dh(t){return xn(t)?je(jn(t)):function(t){return function(e){return _r(e,t)}}(t)}var gh=Ws(),fh=Ws(!0);function yh(){return[]}function mh(){return!1}var xh,vh=Bs((function(t,e){return t+e}),0),bh=$s("ceil"),_h=Bs((function(t,e){return t/e}),1),Ah=$s("floor"),Sh=Bs((function(t,e){return t*e}),1),Mh=$s("round"),wh=Bs((function(t,e){return t-e}),0);return Yi.after=function(t,e){if("function"!=typeof e)throw new Pt(n);return t=fa(t),function(){if(--t<1)return e.apply(this,arguments)}},Yi.ary=Lo,Yi.assign=ba,Yi.assignIn=_a,Yi.assignInWith=Aa,Yi.assignWith=Sa,Yi.at=Ma,Yi.before=Co,Yi.bind=Eo,Yi.bindAll=th,Yi.bindKey=Oo,Yi.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return $o(t)?t:[t]},Yi.chain=po,Yi.chunk=function(t,e,i){e=(i?mn(t,e,i):e===s)?1:yi(fa(e),0);var n=null==t?0:t.length;if(!n||e<1)return[];for(var o=0,a=0,h=r(li(n/e));o<n;)h[a++]=ts(t,o,o+=e);return h},Yi.compact=function(t){for(var e=-1,i=null==t?0:t.length,r=0,s=[];++e<i;){var n=t[e];n&&(s[r++]=n)}return s},Yi.concat=function(){var t=arguments.length;if(!t)return[];for(var e=r(t-1),i=arguments[0],s=t;s--;)e[s-1]=arguments[s];return ke($o(i)?ks(i):[i],fr(e,1))},Yi.cond=function(t){var e=null==t?0:t.length,i=on();return t=e?we(t,(function(t){if("function"!=typeof t[1])throw new Pt(n);return[i(t[0]),t[1]]})):[],Vr((function(i){for(var r=-1;++r<e;){var s=t[r];if(me(s[0],this,i))return me(s[1],this,i)}}))},Yi.conforms=function(t){return function(t){var e=Ta(t);return function(i){return ar(i,t,e)}}(or(t,1))},Yi.constant=eh,Yi.countBy=yo,Yi.create=function(t,e){var i=Bi(t);return null==e?i:ir(i,e)},Yi.curry=function t(e,i,r){var n=Gs(e,8,s,s,s,s,s,i=r?s:i);return n.placeholder=t.placeholder,n},Yi.curryRight=function t(e,i,r){var n=Gs(e,16,s,s,s,s,s,i=r?s:i);return n.placeholder=t.placeholder,n},Yi.debounce=To,Yi.defaults=wa,Yi.defaultsDeep=ka,Yi.defer=Do,Yi.delay=Xo,Yi.difference=Fn,Yi.differenceBy=Hn,Yi.differenceWith=Wn,Yi.drop=function(t,e,i){var r=null==t?0:t.length;return r?ts(t,(e=i||e===s?1:fa(e))<0?0:e,r):[]},Yi.dropRight=function(t,e,i){var r=null==t?0:t.length;return r?ts(t,0,(e=r-(e=i||e===s?1:fa(e)))<0?0:e):[]},Yi.dropRightWhile=function(t,e){return t&&t.length?us(t,on(e,3),!0,!0):[]},Yi.dropWhile=function(t,e){return t&&t.length?us(t,on(e,3),!0):[]},Yi.fill=function(t,e,i,r){var n=null==t?0:t.length;return n?(i&&"number"!=typeof i&&mn(t,e,i)&&(i=0,r=n),function(t,e,i,r){var n=t.length;for((i=fa(i))<0&&(i=-i>n?0:n+i),(r=r===s||r>n?n:fa(r))<0&&(r+=n),r=i>r?0:ya(r);i<r;)t[i++]=e;return t}(t,e,i,r)):[]},Yi.filter=function(t,e){return($o(t)?Ae:gr)(t,on(e,3))},Yi.flatMap=function(t,e){return fr(Mo(t,e),1)},Yi.flatMapDeep=function(t,e){return fr(Mo(t,e),u)},Yi.flatMapDepth=function(t,e,i){return i=i===s?1:fa(i),fr(Mo(t,e),i)},Yi.flatten=$n,Yi.flattenDeep=function(t){return null!=t&&t.length?fr(t,u):[]},Yi.flattenDepth=function(t,e){return null!=t&&t.length?fr(t,e=e===s?1:fa(e)):[]},Yi.flip=function(t){return Gs(t,512)},Yi.flow=ih,Yi.flowRight=rh,Yi.fromPairs=function(t){for(var e=-1,i=null==t?0:t.length,r={};++e<i;){var s=t[e];r[s[0]]=s[1]}return r},Yi.functions=function(t){return null==t?[]:br(t,Ta(t))},Yi.functionsIn=function(t){return null==t?[]:br(t,Da(t))},Yi.groupBy=_o,Yi.initial=function(t){return null!=t&&t.length?ts(t,0,-1):[]},Yi.intersection=Vn,Yi.intersectionBy=Gn,Yi.intersectionWith=qn,Yi.invert=Ca,Yi.invertBy=Ea,Yi.invokeMap=Ao,Yi.iteratee=nh,Yi.keyBy=So,Yi.keys=Ta,Yi.keysIn=Da,Yi.map=Mo,Yi.mapKeys=function(t,e){var i={};return e=on(e,3),xr(t,(function(t,r,s){rr(i,e(t,r,s),t)})),i},Yi.mapValues=function(t,e){var i={};return e=on(e,3),xr(t,(function(t,r,s){rr(i,r,e(t,r,s))})),i},Yi.matches=function(t){return jr(or(t,1))},Yi.matchesProperty=function(t,e){return Yr(t,or(e,1))},Yi.memoize=Io,Yi.merge=Xa,Yi.mergeWith=Ia,Yi.method=oh,Yi.methodOf=ah,Yi.mixin=hh,Yi.negate=No,Yi.nthArg=function(t){return t=fa(t),Vr((function(e){return Fr(e,t)}))},Yi.omit=Na,Yi.omitBy=function(t,e){return Ya(t,No(on(e)))},Yi.once=function(t){return Co(2,t)},Yi.orderBy=function(t,e,i,r){return null==t?[]:($o(e)||(e=null==e?[]:[e]),$o(i=r?s:i)||(i=null==i?[]:[i]),Hr(t,e,i))},Yi.over=uh,Yi.overArgs=jo,Yi.overEvery=ch,Yi.overSome=ph,Yi.partial=Yo,Yi.partialRight=Bo,Yi.partition=wo,Yi.pick=ja,Yi.pickBy=Ya,Yi.property=dh,Yi.propertyOf=function(t){return function(e){return null==t?s:_r(t,e)}},Yi.pull=Jn,Yi.pullAll=Kn,Yi.pullAllBy=function(t,e,i){return t&&t.length&&e&&e.length?Rr(t,e,on(i,2)):t},Yi.pullAllWith=function(t,e,i){return t&&t.length&&e&&e.length?Rr(t,e,s,i):t},Yi.pullAt=Qn,Yi.range=gh,Yi.rangeRight=fh,Yi.rearg=Fo,Yi.reject=function(t,e){return($o(t)?Ae:gr)(t,No(on(e,3)))},Yi.remove=function(t,e){var i=[];if(!t||!t.length)return i;var r=-1,s=[],n=t.length;for(e=on(e,3);++r<n;){var o=t[r];e(o,r,t)&&(i.push(o),s.push(r))}return zr(t,s),i},Yi.rest=function(t,e){if("function"!=typeof t)throw new Pt(n);return Vr(t,e=e===s?e:fa(e))},Yi.reverse=to,Yi.sampleSize=function(t,e,i){return e=(i?mn(t,e,i):e===s)?1:fa(e),($o(t)?Zi:qr)(t,e)},Yi.set=function(t,e,i){return null==t?t:Zr(t,e,i)},Yi.setWith=function(t,e,i,r){return r="function"==typeof r?r:s,null==t?t:Zr(t,e,i,r)},Yi.shuffle=function(t){return($o(t)?Ji:Qr)(t)},Yi.slice=function(t,e,i){var r=null==t?0:t.length;return r?(i&&"number"!=typeof i&&mn(t,e,i)?(e=0,i=r):(e=null==e?0:fa(e),i=i===s?r:fa(i)),ts(t,e,i)):[]},Yi.sortBy=ko,Yi.sortedUniq=function(t){return t&&t.length?ss(t):[]},Yi.sortedUniqBy=function(t,e){return t&&t.length?ss(t,on(e,2)):[]},Yi.split=function(t,e,i){return i&&"number"!=typeof i&&mn(t,e,i)&&(e=i=s),(i=i===s?d:i>>>0)?(t=va(t))&&("string"==typeof e||null!=e&&!oa(e))&&!(e=os(e))&&Ke(t)?xs(ni(t),0,i):t.split(e,i):[]},Yi.spread=function(t,e){if("function"!=typeof t)throw new Pt(n);return e=null==e?0:yi(fa(e),0),Vr((function(i){var r=i[e],s=xs(i,0,e);return r&&ke(s,r),me(t,this,s)}))},Yi.tail=function(t){var e=null==t?0:t.length;return e?ts(t,1,e):[]},Yi.take=function(t,e,i){return t&&t.length?ts(t,0,(e=i||e===s?1:fa(e))<0?0:e):[]},Yi.takeRight=function(t,e,i){var r=null==t?0:t.length;return r?ts(t,(e=r-(e=i||e===s?1:fa(e)))<0?0:e,r):[]},Yi.takeRightWhile=function(t,e){return t&&t.length?us(t,on(e,3),!1,!0):[]},Yi.takeWhile=function(t,e){return t&&t.length?us(t,on(e,3)):[]},Yi.tap=function(t,e){return e(t),t},Yi.throttle=function(t,e,i){var r=!0,s=!0;if("function"!=typeof t)throw new Pt(n);return ea(i)&&(r="leading"in i?!!i.leading:r,s="trailing"in i?!!i.trailing:s),To(t,e,{leading:r,maxWait:e,trailing:s})},Yi.thru=go,Yi.toArray=da,Yi.toPairs=Ba,Yi.toPairsIn=Fa,Yi.toPath=function(t){return $o(t)?we(t,jn):la(t)?[t]:ks(Nn(va(t)))},Yi.toPlainObject=xa,Yi.transform=function(t,e,i){var r=$o(t),s=r||qo(t)||ua(t);if(e=on(e,4),null==i){var n=t&&t.constructor;i=s?r?new n:[]:ea(t)&&Ko(n)?Bi(Ut(t)):{}}return(s?ve:xr)(t,(function(t,r,s){return e(i,t,r,s)})),i},Yi.unary=function(t){return Lo(t,1)},Yi.union=eo,Yi.unionBy=io,Yi.unionWith=ro,Yi.uniq=function(t){return t&&t.length?as(t):[]},Yi.uniqBy=function(t,e){return t&&t.length?as(t,on(e,2)):[]},Yi.uniqWith=function(t,e){return e="function"==typeof e?e:s,t&&t.length?as(t,s,e):[]},Yi.unset=function(t,e){return null==t||hs(t,e)},Yi.unzip=so,Yi.unzipWith=no,Yi.update=function(t,e,i){return null==t?t:ls(t,e,fs(i))},Yi.updateWith=function(t,e,i,r){return r="function"==typeof r?r:s,null==t?t:ls(t,e,fs(i),r)},Yi.values=Ha,Yi.valuesIn=function(t){return null==t?[]:ze(t,Da(t))},Yi.without=oo,Yi.words=Ka,Yi.wrap=function(t,e){return Yo(fs(e),t)},Yi.xor=ao,Yi.xorBy=ho,Yi.xorWith=lo,Yi.zip=uo,Yi.zipObject=function(t,e){return ds(t||[],e||[],Qi)},Yi.zipObjectDeep=function(t,e){return ds(t||[],e||[],Zr)},Yi.zipWith=co,Yi.entries=Ba,Yi.entriesIn=Fa,Yi.extend=_a,Yi.extendWith=Aa,hh(Yi,Yi),Yi.add=vh,Yi.attempt=Qa,Yi.camelCase=Wa,Yi.capitalize=Ra,Yi.ceil=bh,Yi.clamp=function(t,e,i){return i===s&&(i=e,e=s),i!==s&&(i=(i=ma(i))==i?i:0),e!==s&&(e=(e=ma(e))==e?e:0),nr(ma(t),e,i)},Yi.clone=function(t){return or(t,4)},Yi.cloneDeep=function(t){return or(t,5)},Yi.cloneDeepWith=function(t,e){return or(t,5,e="function"==typeof e?e:s)},Yi.cloneWith=function(t,e){return or(t,4,e="function"==typeof e?e:s)},Yi.conformsTo=function(t,e){return null==e||ar(t,e,Ta(e))},Yi.deburr=za,Yi.defaultTo=function(t,e){return null==t||t!=t?e:t},Yi.divide=_h,Yi.endsWith=function(t,e,i){t=va(t),e=os(e);var r=t.length,n=i=i===s?r:nr(fa(i),0,r);return(i-=e.length)>=0&&t.slice(i,n)==e},Yi.eq=Ho,Yi.escape=function(t){return(t=va(t))&&G.test(t)?t.replace(U,Ze):t},Yi.escapeRegExp=function(t){return(t=va(t))&&it.test(t)?t.replace(et,"\\$&"):t},Yi.every=function(t,e,i){var r=$o(t)?_e:pr;return i&&mn(t,e,i)&&(e=s),r(t,on(e,3))},Yi.find=mo,Yi.findIndex=Rn,Yi.findKey=function(t,e){return Oe(t,on(e,3),xr)},Yi.findLast=xo,Yi.findLastIndex=zn,Yi.findLastKey=function(t,e){return Oe(t,on(e,3),vr)},Yi.floor=Ah,Yi.forEach=vo,Yi.forEachRight=bo,Yi.forIn=function(t,e){return null==t?t:yr(t,on(e,3),Da)},Yi.forInRight=function(t,e){return null==t?t:mr(t,on(e,3),Da)},Yi.forOwn=function(t,e){return t&&xr(t,on(e,3))},Yi.forOwnRight=function(t,e){return t&&vr(t,on(e,3))},Yi.get=Pa,Yi.gt=Wo,Yi.gte=Ro,Yi.has=function(t,e){return null!=t&&dn(t,e,wr)},Yi.hasIn=La,Yi.head=Un,Yi.identity=sh,Yi.includes=function(t,e,i,r){t=Vo(t)?t:Ha(t),i=i&&!r?fa(i):0;var s=t.length;return i<0&&(i=yi(s+i,0)),ha(t)?i<=s&&t.indexOf(e,i)>-1:!!s&&De(t,e,i)>-1},Yi.indexOf=function(t,e,i){var r=null==t?0:t.length;if(!r)return-1;var s=null==i?0:fa(i);return s<0&&(s=yi(r+s,0)),De(t,e,s)},Yi.inRange=function(t,e,i){return e=ga(e),i===s?(i=e,e=0):i=ga(i),function(t,e,i){return t>=mi(e,i)&&t<yi(e,i)}(t=ma(t),e,i)},Yi.invoke=Oa,Yi.isArguments=zo,Yi.isArray=$o,Yi.isArrayBuffer=Uo,Yi.isArrayLike=Vo,Yi.isArrayLikeObject=Go,Yi.isBoolean=function(t){return!0===t||!1===t||ia(t)&&Sr(t)==m},Yi.isBuffer=qo,Yi.isDate=Zo,Yi.isElement=function(t){return ia(t)&&1===t.nodeType&&!na(t)},Yi.isEmpty=function(t){if(null==t)return!0;if(Vo(t)&&($o(t)||"string"==typeof t||"function"==typeof t.splice||qo(t)||ua(t)||zo(t)))return!t.length;var e=pn(t);if(e==A||e==P)return!t.size;if(_n(t))return!Xr(t).length;for(var i in t)if(Dt.call(t,i))return!1;return!0},Yi.isEqual=function(t,e){return Er(t,e)},Yi.isEqualWith=function(t,e,i){var r=(i="function"==typeof i?i:s)?i(t,e):s;return r===s?Er(t,e,s,i):!!r},Yi.isError=Jo,Yi.isFinite=function(t){return"number"==typeof t&&di(t)},Yi.isFunction=Ko,Yi.isInteger=Qo,Yi.isLength=ta,Yi.isMap=ra,Yi.isMatch=function(t,e){return t===e||Or(t,e,hn(e))},Yi.isMatchWith=function(t,e,i){return i="function"==typeof i?i:s,Or(t,e,hn(e),i)},Yi.isNaN=function(t){return sa(t)&&t!=+t},Yi.isNative=function(t){if(bn(t))throw new _t("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Tr(t)},Yi.isNil=function(t){return null==t},Yi.isNull=function(t){return null===t},Yi.isNumber=sa,Yi.isObject=ea,Yi.isObjectLike=ia,Yi.isPlainObject=na,Yi.isRegExp=oa,Yi.isSafeInteger=function(t){return Qo(t)&&t>=-9007199254740991&&t<=c},Yi.isSet=aa,Yi.isString=ha,Yi.isSymbol=la,Yi.isTypedArray=ua,Yi.isUndefined=function(t){return t===s},Yi.isWeakMap=function(t){return ia(t)&&pn(t)==E},Yi.isWeakSet=function(t){return ia(t)&&"[object WeakSet]"==Sr(t)},Yi.join=function(t,e){return null==t?"":gi.call(t,e)},Yi.kebabCase=$a,Yi.last=Zn,Yi.lastIndexOf=function(t,e,i){var r=null==t?0:t.length;if(!r)return-1;var n=r;return i!==s&&(n=(n=fa(i))<0?yi(r+n,0):mi(n,r-1)),e==e?function(t,e,i){for(var r=i+1;r--;)if(t[r]===e)return r;return r}(t,e,n):Te(t,Ie,n,!0)},Yi.lowerCase=Ua,Yi.lowerFirst=Va,Yi.lt=ca,Yi.lte=pa,Yi.max=function(t){return t&&t.length?dr(t,sh,Mr):s},Yi.maxBy=function(t,e){return t&&t.length?dr(t,on(e,2),Mr):s},Yi.mean=function(t){return Ne(t,sh)},Yi.meanBy=function(t,e){return Ne(t,on(e,2))},Yi.min=function(t){return t&&t.length?dr(t,sh,Ir):s},Yi.minBy=function(t,e){return t&&t.length?dr(t,on(e,2),Ir):s},Yi.stubArray=yh,Yi.stubFalse=mh,Yi.stubObject=function(){return{}},Yi.stubString=function(){return""},Yi.stubTrue=function(){return!0},Yi.multiply=Sh,Yi.nth=function(t,e){return t&&t.length?Fr(t,fa(e)):s},Yi.noConflict=function(){return ne._===this&&(ne._=Yt),this},Yi.noop=lh,Yi.now=Po,Yi.pad=function(t,e,i){t=va(t);var r=(e=fa(e))?si(t):0;if(!e||r>=e)return t;var s=(e-r)/2;return Hs(ui(s),i)+t+Hs(li(s),i)},Yi.padEnd=function(t,e,i){t=va(t);var r=(e=fa(e))?si(t):0;return e&&r<e?t+Hs(e-r,i):t},Yi.padStart=function(t,e,i){t=va(t);var r=(e=fa(e))?si(t):0;return e&&r<e?Hs(e-r,i)+t:t},Yi.parseInt=function(t,e,i){return i||null==e?e=0:e&&(e=+e),vi(va(t).replace(rt,""),e||0)},Yi.random=function(t,e,i){if(i&&"boolean"!=typeof i&&mn(t,e,i)&&(e=i=s),i===s&&("boolean"==typeof e?(i=e,e=s):"boolean"==typeof t&&(i=t,t=s)),t===s&&e===s?(t=0,e=1):(t=ga(t),e===s?(e=t,t=0):e=ga(e)),t>e){var r=t;t=e,e=r}if(i||t%1||e%1){var n=bi();return mi(t+n*(e-t+ee("1e-"+((n+"").length-1))),e)}return $r(t,e)},Yi.reduce=function(t,e,i){var r=$o(t)?Pe:Be,s=arguments.length<3;return r(t,on(e,4),i,s,ur)},Yi.reduceRight=function(t,e,i){var r=$o(t)?Le:Be,s=arguments.length<3;return r(t,on(e,4),i,s,cr)},Yi.repeat=function(t,e,i){return e=(i?mn(t,e,i):e===s)?1:fa(e),Ur(va(t),e)},Yi.replace=function(){var t=arguments,e=va(t[0]);return t.length<3?e:e.replace(t[1],t[2])},Yi.result=function(t,e,i){var r=-1,n=(e=ys(e,t)).length;for(n||(n=1,t=s);++r<n;){var o=null==t?s:t[jn(e[r])];o===s&&(r=n,o=i),t=Ko(o)?o.call(t):o}return t},Yi.round=Mh,Yi.runInContext=t,Yi.sample=function(t){return($o(t)?qi:Gr)(t)},Yi.size=function(t){if(null==t)return 0;if(Vo(t))return ha(t)?si(t):t.length;var e=pn(t);return e==A||e==P?t.size:Xr(t).length},Yi.snakeCase=Ga,Yi.some=function(t,e,i){var r=$o(t)?Ce:es;return i&&mn(t,e,i)&&(e=s),r(t,on(e,3))},Yi.sortedIndex=function(t,e){return is(t,e)},Yi.sortedIndexBy=function(t,e,i){return rs(t,e,on(i,2))},Yi.sortedIndexOf=function(t,e){var i=null==t?0:t.length;if(i){var r=is(t,e);if(r<i&&Ho(t[r],e))return r}return-1},Yi.sortedLastIndex=function(t,e){return is(t,e,!0)},Yi.sortedLastIndexBy=function(t,e,i){return rs(t,e,on(i,2),!0)},Yi.sortedLastIndexOf=function(t,e){if(null!=t&&t.length){var i=is(t,e,!0)-1;if(Ho(t[i],e))return i}return-1},Yi.startCase=qa,Yi.startsWith=function(t,e,i){return t=va(t),i=null==i?0:nr(fa(i),0,t.length),e=os(e),t.slice(i,i+e.length)==e},Yi.subtract=wh,Yi.sum=function(t){return t&&t.length?Fe(t,sh):0},Yi.sumBy=function(t,e){return t&&t.length?Fe(t,on(e,2)):0},Yi.template=function(t,e,i){var r=Yi.templateSettings;i&&mn(t,e,i)&&(e=s),t=va(t),e=Aa({},e,r,qs);var n,o,a=Aa({},e.imports,r.imports,qs),h=Ta(a),l=ze(a,h),u=0,c=e.interpolate||vt,p="__p += '",d=wt((e.escape||vt).source+"|"+c.source+"|"+(c===J?ct:vt).source+"|"+(e.evaluate||vt).source+"|$","g"),g="//# sourceURL="+(Dt.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Jt+"]")+"\n";t.replace(d,(function(e,i,r,s,a,h){return r||(r=s),p+=t.slice(u,h).replace(bt,Je),i&&(n=!0,p+="' +\n__e("+i+") +\n'"),a&&(o=!0,p+="';\n"+a+";\n__p += '"),r&&(p+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),u=h+e.length,e})),p+="';\n";var f=Dt.call(e,"variable")&&e.variable;if(f){if(lt.test(f))throw new _t("Invalid `variable` option passed into `_.template`")}else p="with (obj) {\n"+p+"\n}\n";p=(o?p.replace(W,""):p).replace(R,"$1").replace(z,"$1;"),p="function("+(f||"obj")+") {\n"+(f?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(n?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var y=Qa((function(){return At(h,g+"return "+p).apply(s,l)}));if(y.source=p,Jo(y))throw y;return y},Yi.times=function(t,e){if((t=fa(t))<1||t>c)return[];var i=d,r=mi(t,d);e=on(e),t-=d;for(var s=He(r,e);++i<t;)e(i);return s},Yi.toFinite=ga,Yi.toInteger=fa,Yi.toLength=ya,Yi.toLower=function(t){return va(t).toLowerCase()},Yi.toNumber=ma,Yi.toSafeInteger=function(t){return t?nr(fa(t),-9007199254740991,c):0===t?t:0},Yi.toString=va,Yi.toUpper=function(t){return va(t).toUpperCase()},Yi.trim=function(t,e,i){if((t=va(t))&&(i||e===s))return We(t);if(!t||!(e=os(e)))return t;var r=ni(t),n=ni(e);return xs(r,Ue(r,n),Ve(r,n)+1).join("")},Yi.trimEnd=function(t,e,i){if((t=va(t))&&(i||e===s))return t.slice(0,oi(t)+1);if(!t||!(e=os(e)))return t;var r=ni(t);return xs(r,0,Ve(r,ni(e))+1).join("")},Yi.trimStart=function(t,e,i){if((t=va(t))&&(i||e===s))return t.replace(rt,"");if(!t||!(e=os(e)))return t;var r=ni(t);return xs(r,Ue(r,ni(e))).join("")},Yi.truncate=function(t,e){var i=30,r="...";if(ea(e)){var n="separator"in e?e.separator:n;i="length"in e?fa(e.length):i,r="omission"in e?os(e.omission):r}var o=(t=va(t)).length;if(Ke(t)){var a=ni(t);o=a.length}if(i>=o)return t;var h=i-si(r);if(h<1)return r;var l=a?xs(a,0,h).join(""):t.slice(0,h);if(n===s)return l+r;if(a&&(h+=l.length-h),oa(n)){if(t.slice(h).search(n)){var u,c=l;for(n.global||(n=wt(n.source,va(pt.exec(n))+"g")),n.lastIndex=0;u=n.exec(c);)var p=u.index;l=l.slice(0,p===s?h:p)}}else if(t.indexOf(os(n),h)!=h){var d=l.lastIndexOf(n);d>-1&&(l=l.slice(0,d))}return l+r},Yi.unescape=function(t){return(t=va(t))&&V.test(t)?t.replace($,ai):t},Yi.uniqueId=function(t){var e=++Xt;return va(t)+e},Yi.upperCase=Za,Yi.upperFirst=Ja,Yi.each=vo,Yi.eachRight=bo,Yi.first=Un,hh(Yi,(xh={},xr(Yi,(function(t,e){Dt.call(Yi.prototype,e)||(xh[e]=t)})),xh),{chain:!1}),Yi.VERSION="4.17.21",ve(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){Yi[t].placeholder=Yi})),ve(["drop","take"],(function(t,e){Wi.prototype[t]=function(i){i=i===s?1:yi(fa(i),0);var r=this.__filtered__&&!e?new Wi(this):this.clone();return r.__filtered__?r.__takeCount__=mi(i,r.__takeCount__):r.__views__.push({size:mi(i,d),type:t+(r.__dir__<0?"Right":"")}),r},Wi.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),ve(["filter","map","takeWhile"],(function(t,e){var i=e+1,r=1==i||3==i;Wi.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:on(t,3),type:i}),e.__filtered__=e.__filtered__||r,e}})),ve(["head","last"],(function(t,e){var i="take"+(e?"Right":"");Wi.prototype[t]=function(){return this[i](1).value()[0]}})),ve(["initial","tail"],(function(t,e){var i="drop"+(e?"":"Right");Wi.prototype[t]=function(){return this.__filtered__?new Wi(this):this[i](1)}})),Wi.prototype.compact=function(){return this.filter(sh)},Wi.prototype.find=function(t){return this.filter(t).head()},Wi.prototype.findLast=function(t){return this.reverse().find(t)},Wi.prototype.invokeMap=Vr((function(t,e){return"function"==typeof t?new Wi(this):this.map((function(i){return Lr(i,t,e)}))})),Wi.prototype.reject=function(t){return this.filter(No(on(t)))},Wi.prototype.slice=function(t,e){t=fa(t);var i=this;return i.__filtered__&&(t>0||e<0)?new Wi(i):(t<0?i=i.takeRight(-t):t&&(i=i.drop(t)),e!==s&&(i=(e=fa(e))<0?i.dropRight(-e):i.take(e-t)),i)},Wi.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Wi.prototype.toArray=function(){return this.take(d)},xr(Wi.prototype,(function(t,e){var i=/^(?:filter|find|map|reject)|While$/.test(e),r=/^(?:head|last)$/.test(e),n=Yi[r?"take"+("last"==e?"Right":""):e],o=r||/^find/.test(e);n&&(Yi.prototype[e]=function(){var e=this.__wrapped__,a=r?[1]:arguments,h=e instanceof Wi,l=a[0],u=h||$o(e),c=function(t){var e=n.apply(Yi,ke([t],a));return r&&p?e[0]:e};u&&i&&"function"==typeof l&&1!=l.length&&(h=u=!1);var p=this.__chain__,d=!!this.__actions__.length,g=o&&!p,f=h&&!d;if(!o&&u){e=f?e:new Wi(this);var y=t.apply(e,a);return y.__actions__.push({func:go,args:[c],thisArg:s}),new Hi(y,p)}return g&&f?t.apply(this,a):(y=this.thru(c),g?r?y.value()[0]:y.value():y)})})),ve(["pop","push","shift","sort","splice","unshift"],(function(t){var e=Lt[t],i=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);Yi.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var s=this.value();return e.apply($o(s)?s:[],t)}return this[i]((function(i){return e.apply($o(i)?i:[],t)}))}})),xr(Wi.prototype,(function(t,e){var i=Yi[e];if(i){var r=i.name+"";Dt.call(Ci,r)||(Ci[r]=[]),Ci[r].push({name:e,func:i})}})),Ci[js(s,2).name]=[{name:"wrapper",func:s}],Wi.prototype.clone=function(){var t=new Wi(this.__wrapped__);return t.__actions__=ks(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=ks(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=ks(this.__views__),t},Wi.prototype.reverse=function(){if(this.__filtered__){var t=new Wi(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},Wi.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,i=$o(t),r=e<0,s=i?t.length:0,n=function(t,e,i){for(var r=-1,s=i.length;++r<s;){var n=i[r],o=n.size;switch(n.type){case"drop":t+=o;break;case"dropRight":e-=o;break;case"take":e=mi(e,t+o);break;case"takeRight":t=yi(t,e-o)}}return{start:t,end:e}}(0,s,this.__views__),o=n.start,a=n.end,h=a-o,l=r?a:o-1,u=this.__iteratees__,c=u.length,p=0,d=mi(h,this.__takeCount__);if(!i||!r&&s==h&&d==h)return cs(t,this.__actions__);var g=[];t:for(;h--&&p<d;){for(var f=-1,y=t[l+=e];++f<c;){var m=u[f],x=m.iteratee,v=m.type,b=x(y);if(2==v)y=b;else if(!b){if(1==v)continue t;break t}}g[p++]=y}return g},Yi.prototype.at=fo,Yi.prototype.chain=function(){return po(this)},Yi.prototype.commit=function(){return new Hi(this.value(),this.__chain__)},Yi.prototype.next=function(){this.__values__===s&&(this.__values__=da(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?s:this.__values__[this.__index__++]}},Yi.prototype.plant=function(t){for(var e,i=this;i instanceof Fi;){var r=Bn(i);r.__index__=0,r.__values__=s,e?n.__wrapped__=r:e=r;var n=r;i=i.__wrapped__}return n.__wrapped__=t,e},Yi.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof Wi){var e=t;return this.__actions__.length&&(e=new Wi(this)),(e=e.reverse()).__actions__.push({func:go,args:[to],thisArg:s}),new Hi(e,this.__chain__)}return this.thru(to)},Yi.prototype.toJSON=Yi.prototype.valueOf=Yi.prototype.value=function(){return cs(this.__wrapped__,this.__actions__)},Yi.prototype.first=Yi.prototype.head,oe&&(Yi.prototype[oe]=function(){return this}),Yi}();ne._=hi,(r=function(){return hi}.call(e,i,e,t))===s||(t.exports=r)}.call(this)},4244:t=>{"use strict";var e=function(t){return t!=t};t.exports=function(t,i){return 0===t&&0===i?1/t==1/i:t===i||!(!e(t)||!e(i))}},609:(t,e,i)=>{"use strict";var r=i(4289),s=i(5559),n=i(4244),o=i(5624),a=i(2281),h=s(o(),Object);r(h,{getPolyfill:o,implementation:n,shim:a}),t.exports=h},5624:(t,e,i)=>{"use strict";var r=i(4244);t.exports=function(){return"function"==typeof Object.is?Object.is:r}},2281:(t,e,i)=>{"use strict";var r=i(5624),s=i(4289);t.exports=function(){var t=r();return s(Object,{is:t},{is:function(){return Object.is!==t}}),t}},8987:(t,e,i)=>{"use strict";var r;if(!Object.keys){var s=Object.prototype.hasOwnProperty,n=Object.prototype.toString,o=i(1414),a=Object.prototype.propertyIsEnumerable,h=!a.call({toString:null},"toString"),l=a.call((function(){}),"prototype"),u=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],c=function(t){var e=t.constructor;return e&&e.prototype===t},p={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},d=function(){if("undefined"==typeof window)return!1;for(var t in window)try{if(!p["$"+t]&&s.call(window,t)&&null!==window[t]&&"object"==typeof window[t])try{c(window[t])}catch(t){return!0}}catch(t){return!0}return!1}();r=function(t){var e=null!==t&&"object"==typeof t,i="[object Function]"===n.call(t),r=o(t),a=e&&"[object String]"===n.call(t),p=[];if(!e&&!i&&!r)throw new TypeError("Object.keys called on a non-object");var g=l&&i;if(a&&t.length>0&&!s.call(t,0))for(var f=0;f<t.length;++f)p.push(String(f));if(r&&t.length>0)for(var y=0;y<t.length;++y)p.push(String(y));else for(var m in t)g&&"prototype"===m||!s.call(t,m)||p.push(String(m));if(h)for(var x=function(t){if("undefined"==typeof window||!d)return c(t);try{return c(t)}catch(t){return!1}}(t),v=0;v<u.length;++v)x&&"constructor"===u[v]||!s.call(t,u[v])||p.push(u[v]);return p}}t.exports=r},2215:(t,e,i)=>{"use strict";var r=Array.prototype.slice,s=i(1414),n=Object.keys,o=n?function(t){return n(t)}:i(8987),a=Object.keys;o.shim=function(){if(Object.keys){var t=function(){var t=Object.keys(arguments);return t&&t.length===arguments.length}(1,2);t||(Object.keys=function(t){return s(t)?a(r.call(t)):a(t)})}else Object.keys=o;return Object.keys||o},t.exports=o},1414:t=>{"use strict";var e=Object.prototype.toString;t.exports=function(t){var i=e.call(t),r="[object Arguments]"===i;return r||(r="[object Array]"!==i&&null!==t&&"object"==typeof t&&"number"==typeof t.length&&t.length>=0&&"[object Function]"===e.call(t.callee)),r}},384:t=>{t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},5955:(t,e,i)=>{"use strict";var r=i(2584),s=i(8662),n=i(6430),o=i(5692);function a(t){return t.call.bind(t)}var h="undefined"!=typeof BigInt,l="undefined"!=typeof Symbol,u=a(Object.prototype.toString),c=a(Number.prototype.valueOf),p=a(String.prototype.valueOf),d=a(Boolean.prototype.valueOf);if(h)var g=a(BigInt.prototype.valueOf);if(l)var f=a(Symbol.prototype.valueOf);function y(t,e){if("object"!=typeof t)return!1;try{return e(t),!0}catch(t){return!1}}function m(t){return"[object Map]"===u(t)}function x(t){return"[object Set]"===u(t)}function v(t){return"[object WeakMap]"===u(t)}function b(t){return"[object WeakSet]"===u(t)}function _(t){return"[object ArrayBuffer]"===u(t)}function A(t){return"undefined"!=typeof ArrayBuffer&&(_.working?_(t):t instanceof ArrayBuffer)}function S(t){return"[object DataView]"===u(t)}function M(t){return"undefined"!=typeof DataView&&(S.working?S(t):t instanceof DataView)}e.isArgumentsObject=r,e.isGeneratorFunction=s,e.isTypedArray=o,e.isPromise=function(t){return"undefined"!=typeof Promise&&t instanceof Promise||null!==t&&"object"==typeof t&&"function"==typeof t.then&&"function"==typeof t.catch},e.isArrayBufferView=function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):o(t)||M(t)},e.isUint8Array=function(t){return"Uint8Array"===n(t)},e.isUint8ClampedArray=function(t){return"Uint8ClampedArray"===n(t)},e.isUint16Array=function(t){return"Uint16Array"===n(t)},e.isUint32Array=function(t){return"Uint32Array"===n(t)},e.isInt8Array=function(t){return"Int8Array"===n(t)},e.isInt16Array=function(t){return"Int16Array"===n(t)},e.isInt32Array=function(t){return"Int32Array"===n(t)},e.isFloat32Array=function(t){return"Float32Array"===n(t)},e.isFloat64Array=function(t){return"Float64Array"===n(t)},e.isBigInt64Array=function(t){return"BigInt64Array"===n(t)},e.isBigUint64Array=function(t){return"BigUint64Array"===n(t)},m.working="undefined"!=typeof Map&&m(new Map),e.isMap=function(t){return"undefined"!=typeof Map&&(m.working?m(t):t instanceof Map)},x.working="undefined"!=typeof Set&&x(new Set),e.isSet=function(t){return"undefined"!=typeof Set&&(x.working?x(t):t instanceof Set)},v.working="undefined"!=typeof WeakMap&&v(new WeakMap),e.isWeakMap=function(t){return"undefined"!=typeof WeakMap&&(v.working?v(t):t instanceof WeakMap)},b.working="undefined"!=typeof WeakSet&&b(new WeakSet),e.isWeakSet=function(t){return b(t)},_.working="undefined"!=typeof ArrayBuffer&&_(new ArrayBuffer),e.isArrayBuffer=A,S.working="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView&&S(new DataView(new ArrayBuffer(1),0,1)),e.isDataView=M;var w="undefined"!=typeof SharedArrayBuffer?SharedArrayBuffer:void 0;function k(t){return"[object SharedArrayBuffer]"===u(t)}function P(t){return void 0!==w&&(void 0===k.working&&(k.working=k(new w)),k.working?k(t):t instanceof w)}function L(t){return y(t,c)}function C(t){return y(t,p)}function E(t){return y(t,d)}function O(t){return h&&y(t,g)}function T(t){return l&&y(t,f)}e.isSharedArrayBuffer=P,e.isAsyncFunction=function(t){return"[object AsyncFunction]"===u(t)},e.isMapIterator=function(t){return"[object Map Iterator]"===u(t)},e.isSetIterator=function(t){return"[object Set Iterator]"===u(t)},e.isGeneratorObject=function(t){return"[object Generator]"===u(t)},e.isWebAssemblyCompiledModule=function(t){return"[object WebAssembly.Module]"===u(t)},e.isNumberObject=L,e.isStringObject=C,e.isBooleanObject=E,e.isBigIntObject=O,e.isSymbolObject=T,e.isBoxedPrimitive=function(t){return L(t)||C(t)||E(t)||O(t)||T(t)},e.isAnyArrayBuffer=function(t){return"undefined"!=typeof Uint8Array&&(A(t)||P(t))},["isProxy","isExternal","isModuleNamespaceObject"].forEach((function(t){Object.defineProperty(e,t,{enumerable:!1,value:function(){throw new Error(t+" is not supported in userland")}})}))},9539:(t,e,i)=>{var r=Object.getOwnPropertyDescriptors||function(t){for(var e=Object.keys(t),i={},r=0;r<e.length;r++)i[e[r]]=Object.getOwnPropertyDescriptor(t,e[r]);return i},s=/%[sdj%]/g;e.format=function(t){if(!x(t)){for(var e=[],i=0;i<arguments.length;i++)e.push(h(arguments[i]));return e.join(" ")}i=1;for(var r=arguments,n=r.length,o=String(t).replace(s,(function(t){if("%%"===t)return"%";if(i>=n)return t;switch(t){case"%s":return String(r[i++]);case"%d":return Number(r[i++]);case"%j":try{return JSON.stringify(r[i++])}catch(t){return"[Circular]"}default:return t}})),a=r[i];i<n;a=r[++i])y(a)||!_(a)?o+=" "+a:o+=" "+h(a);return o},e.deprecate=function(t,i){if("undefined"!=typeof process&&!0===process.noDeprecation)return t;if("undefined"==typeof process)return function(){return e.deprecate(t,i).apply(this,arguments)};var r=!1;return function(){if(!r){if(process.throwDeprecation)throw new Error(i);process.traceDeprecation?console.trace(i):console.error(i),r=!0}return t.apply(this,arguments)}};var n={},o=/^$/;if(process.env.NODE_DEBUG){var a=process.env.NODE_DEBUG;a=a.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),o=new RegExp("^"+a+"$","i")}function h(t,i){var r={seen:[],stylize:u};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),f(i)?r.showHidden=i:i&&e._extend(r,i),v(r.showHidden)&&(r.showHidden=!1),v(r.depth)&&(r.depth=2),v(r.colors)&&(r.colors=!1),v(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=l),c(r,t,r.depth)}function l(t,e){var i=h.styles[e];return i?"["+h.colors[i][0]+"m"+t+"["+h.colors[i][1]+"m":t}function u(t,e){return t}function c(t,i,r){if(t.customInspect&&i&&M(i.inspect)&&i.inspect!==e.inspect&&(!i.constructor||i.constructor.prototype!==i)){var s=i.inspect(r,t);return x(s)||(s=c(t,s,r)),s}var n=function(t,e){if(v(e))return t.stylize("undefined","undefined");if(x(e)){var i="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(i,"string")}return m(e)?t.stylize(""+e,"number"):f(e)?t.stylize(""+e,"boolean"):y(e)?t.stylize("null","null"):void 0}(t,i);if(n)return n;var o=Object.keys(i),a=function(t){var e={};return t.forEach((function(t,i){e[t]=!0})),e}(o);if(t.showHidden&&(o=Object.getOwnPropertyNames(i)),S(i)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return p(i);if(0===o.length){if(M(i)){var h=i.name?": "+i.name:"";return t.stylize("[Function"+h+"]","special")}if(b(i))return t.stylize(RegExp.prototype.toString.call(i),"regexp");if(A(i))return t.stylize(Date.prototype.toString.call(i),"date");if(S(i))return p(i)}var l,u="",_=!1,w=["{","}"];return g(i)&&(_=!0,w=["[","]"]),M(i)&&(u=" [Function"+(i.name?": "+i.name:"")+"]"),b(i)&&(u=" "+RegExp.prototype.toString.call(i)),A(i)&&(u=" "+Date.prototype.toUTCString.call(i)),S(i)&&(u=" "+p(i)),0!==o.length||_&&0!=i.length?r<0?b(i)?t.stylize(RegExp.prototype.toString.call(i),"regexp"):t.stylize("[Object]","special"):(t.seen.push(i),l=_?function(t,e,i,r,s){for(var n=[],o=0,a=e.length;o<a;++o)C(e,String(o))?n.push(d(t,e,i,r,String(o),!0)):n.push("");return s.forEach((function(s){s.match(/^\d+$/)||n.push(d(t,e,i,r,s,!0))})),n}(t,i,r,a,o):o.map((function(e){return d(t,i,r,a,e,_)})),t.seen.pop(),function(t,e,i){return t.reduce((function(t,e){return e.indexOf("\n"),t+e.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?i[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+i[1]:i[0]+e+" "+t.join(", ")+" "+i[1]}(l,u,w)):w[0]+u+w[1]}function p(t){return"["+Error.prototype.toString.call(t)+"]"}function d(t,e,i,r,s,n){var o,a,h;if((h=Object.getOwnPropertyDescriptor(e,s)||{value:e[s]}).get?a=h.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):h.set&&(a=t.stylize("[Setter]","special")),C(r,s)||(o="["+s+"]"),a||(t.seen.indexOf(h.value)<0?(a=y(i)?c(t,h.value,null):c(t,h.value,i-1)).indexOf("\n")>-1&&(a=n?a.split("\n").map((function(t){return"  "+t})).join("\n").substr(2):"\n"+a.split("\n").map((function(t){return"   "+t})).join("\n")):a=t.stylize("[Circular]","special")),v(o)){if(n&&s.match(/^\d+$/))return a;(o=JSON.stringify(""+s)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=t.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=t.stylize(o,"string"))}return o+": "+a}function g(t){return Array.isArray(t)}function f(t){return"boolean"==typeof t}function y(t){return null===t}function m(t){return"number"==typeof t}function x(t){return"string"==typeof t}function v(t){return void 0===t}function b(t){return _(t)&&"[object RegExp]"===w(t)}function _(t){return"object"==typeof t&&null!==t}function A(t){return _(t)&&"[object Date]"===w(t)}function S(t){return _(t)&&("[object Error]"===w(t)||t instanceof Error)}function M(t){return"function"==typeof t}function w(t){return Object.prototype.toString.call(t)}function k(t){return t<10?"0"+t.toString(10):t.toString(10)}e.debuglog=function(t){if(t=t.toUpperCase(),!n[t])if(o.test(t)){var i=process.pid;n[t]=function(){var r=e.format.apply(e,arguments);console.error("%s %d: %s",t,i,r)}}else n[t]=function(){};return n[t]},e.inspect=h,h.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},h.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.types=i(5955),e.isArray=g,e.isBoolean=f,e.isNull=y,e.isNullOrUndefined=function(t){return null==t},e.isNumber=m,e.isString=x,e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=v,e.isRegExp=b,e.types.isRegExp=b,e.isObject=_,e.isDate=A,e.types.isDate=A,e.isError=S,e.types.isNativeError=S,e.isFunction=M,e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=i(384);var P=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function L(){var t=new Date,e=[k(t.getHours()),k(t.getMinutes()),k(t.getSeconds())].join(":");return[t.getDate(),P[t.getMonth()],e].join(" ")}function C(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.log=function(){console.log("%s - %s",L(),e.format.apply(e,arguments))},e.inherits=i(5717),e._extend=function(t,e){if(!e||!_(e))return t;for(var i=Object.keys(e),r=i.length;r--;)t[i[r]]=e[i[r]];return t};var E="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function O(t,e){if(!t){var i=new Error("Promise was rejected with a falsy value");i.reason=t,t=i}return e(t)}e.promisify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');if(E&&t[E]){var e;if("function"!=typeof(e=t[E]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(e,E,{value:e,enumerable:!1,writable:!1,configurable:!0}),e}function e(){for(var e,i,r=new Promise((function(t,r){e=t,i=r})),s=[],n=0;n<arguments.length;n++)s.push(arguments[n]);s.push((function(t,r){t?i(t):e(r)}));try{t.apply(this,s)}catch(t){i(t)}return r}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),E&&Object.defineProperty(e,E,{value:e,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(e,r(t))},e.promisify.custom=E,e.callbackify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');function e(){for(var e=[],i=0;i<arguments.length;i++)e.push(arguments[i]);var r=e.pop();if("function"!=typeof r)throw new TypeError("The last argument must be of type Function");var s=this,n=function(){return r.apply(s,arguments)};t.apply(this,e).then((function(t){process.nextTick(n.bind(null,null,t))}),(function(t){process.nextTick(O.bind(null,t,n))}))}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),Object.defineProperties(e,r(t)),e}},6430:(t,e,i)=>{"use strict";var r=i(9804),s=i(3083),n=i(1924),o=n("Object.prototype.toString"),a=i(6410)(),h="undefined"==typeof globalThis?i.g:globalThis,l=s(),u=n("String.prototype.slice"),c={},p=i(882),d=Object.getPrototypeOf;a&&p&&d&&r(l,(function(t){if("function"==typeof h[t]){var e=new h[t];if(Symbol.toStringTag in e){var i=d(e),r=p(i,Symbol.toStringTag);if(!r){var s=d(i);r=p(s,Symbol.toStringTag)}c[t]=r.get}}}));var g=i(5692);t.exports=function(t){return!!g(t)&&(a&&Symbol.toStringTag in t?function(t){var e=!1;return r(c,(function(i,r){if(!e)try{var s=i.call(t);s===r&&(e=s)}catch(t){}})),e}(t):u(o(t),8,-1))}},3083:(t,e,i)=>{"use strict";var r=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],s="undefined"==typeof globalThis?i.g:globalThis;t.exports=function(){for(var t=[],e=0;e<r.length;e++)"function"==typeof s[r[e]]&&(t[t.length]=r[e]);return t}},882:(t,e,i)=>{"use strict";var r=i(210)("%Object.getOwnPropertyDescriptor%",!0);if(r)try{r([],"length")}catch(t){r=null}t.exports=r}},e={};function i(r){var s=e[r];if(void 0!==s)return s.exports;var n=e[r]={id:r,loaded:!1,exports:{}};return t[r].call(n.exports,n,n.exports,i),n.loaded=!0,n.exports}i.d=(t,e)=>{for(var r in e)i.o(e,r)&&!i.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),i.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.nmd=t=>(t.paths=[],t.children||(t.children=[]),t);var r=i(5936),s=exports;for(var n in r)s[n]=r[n];r.__esModule&&Object.defineProperty(s,"__esModule",{value:!0})})();